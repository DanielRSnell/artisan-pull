(()=>{var Qj=Object.defineProperty,Xj=Object.defineProperties;var qj=Object.getOwnPropertyDescriptors;var Gc=Object.getOwnPropertySymbols;var FP=Object.prototype.hasOwnProperty,jP=Object.prototype.propertyIsEnumerable;var UP=(Go,Vo,St)=>Vo in Go?Qj(Go,Vo,{enumerable:!0,configurable:!0,writable:!0,value:St}):Go[Vo]=St,or=(Go,Vo)=>{for(var St in Vo||(Vo={}))FP.call(Vo,St)&&UP(Go,St,Vo[St]);if(Gc)for(var St of Gc(Vo))jP.call(Vo,St)&&UP(Go,St,Vo[St]);return Go},Fo=(Go,Vo)=>Xj(Go,qj(Vo));var Zi=(Go,Vo)=>{var St={};for(var na in Go)FP.call(Go,na)&&Vo.indexOf(na)<0&&(St[na]=Go[na]);if(Go!=null&&Gc)for(var na of Gc(Go))Vo.indexOf(na)<0&&jP.call(Go,na)&&(St[na]=Go[na]);return St};var eW=(Go,Vo)=>()=>(Vo||Go((Vo={exports:{}}).exports,Vo),Vo.exports);var rl=(Go,Vo,St)=>new Promise((na,z)=>{var s=m=>{try{o(St.next(m))}catch(d){z(d)}},e=m=>{try{o(St.throw(m))}catch(d){z(d)}},o=m=>m.done?na(m.value):Promise.resolve(m.value).then(s,e);o((St=St.apply(Go,Vo)).next())});var tW=eW(yp=>{(()=>{var Go={28599:z=>{"use strict";const{AbortController:s,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;z.exports=s,z.exports.AbortSignal=e,z.exports.default=s},21924:(z,s,e)=>{"use strict";var o=e(40210),m=e(55559),d=m(o("String.prototype.indexOf"));z.exports=function(g,y){var w=o(g,!!y);return typeof w=="function"&&d(g,".prototype.")>-1?m(w):w}},55559:(z,s,e)=>{"use strict";var o=e(58612),m=e(40210),d=m("%Function.prototype.apply%"),u=m("%Function.prototype.call%"),g=m("%Reflect.apply%",!0)||o.call(u,d),y=m("%Object.getOwnPropertyDescriptor%",!0),w=m("%Object.defineProperty%",!0),v=m("%Math.max%");if(w)try{w({},"a",{value:1})}catch(D){w=null}z.exports=function(E){var O=g(o,u,arguments);if(y&&w){var C=y(O,"length");C.configurable&&w(O,"length",{value:1+v(0,E.length-(arguments.length-1))})}return O};var b=function(){return g(o,d,arguments)};w?w(z.exports,"apply",{value:b}):z.exports.apply=b},94184:(z,s)=>{var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var m={}.hasOwnProperty;function d(){for(var u=[],g=0;g<arguments.length;g++){var y=arguments[g];if(y){var w=typeof y;if(w==="string"||w==="number")u.push(y);else if(Array.isArray(y)){if(y.length){var v=d.apply(null,y);v&&u.push(v)}}else if(w==="object")if(y.toString===Object.prototype.toString)for(var b in y)m.call(y,b)&&y[b]&&u.push(b);else u.push(y.toString())}}return u.join(" ")}z.exports?(d.default=d,z.exports=d):(e=[],o=function(){return d}.apply(s,e),o!==void 0&&(z.exports=o))})()},98767:z=>{z.exports=s;function s(o){if(o)return e(o)}function e(o){for(var m in s.prototype)o[m]=s.prototype[m];return o}s.prototype.on=s.prototype.addEventListener=function(o,m){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(m),this},s.prototype.once=function(o,m){function d(){this.off(o,d),m.apply(this,arguments)}return d.fn=m,this.on(o,d),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(o,m){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var d=this._callbacks["$"+o];if(!d)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var u,g=0;g<d.length;g++)if(u=d[g],u===m||u.fn===m){d.splice(g,1);break}return d.length===0&&delete this._callbacks["$"+o],this},s.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var m=new Array(arguments.length-1),d=this._callbacks["$"+o],u=1;u<arguments.length;u++)m[u-1]=arguments[u];if(d){d=d.slice(0);for(var u=0,g=d.length;u<g;++u)d[u].apply(this,m)}return this},s.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},s.prototype.hasListeners=function(o){return!!this.listeners(o).length}},27484:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s="millisecond",e="second",o="minute",m="hour",d="day",u="week",g="month",y="quarter",w="year",v="date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(T,A,F){var U=String(T);return!U||U.length>=A?T:""+Array(A+1-U.length).join(F)+T},C={s:O,z:function(T){var A=-T.utcOffset(),F=Math.abs(A),U=Math.floor(F/60),G=F%60;return(A<=0?"+":"-")+O(U,2,"0")+":"+O(G,2,"0")},m:function T(A,F){if(A.date()<F.date())return-T(F,A);var U=12*(F.year()-A.year())+(F.month()-A.month()),G=A.clone().add(U,g),J=F-G<0,Q=A.clone().add(U+(J?-1:1),g);return+(-(U+(F-G)/(J?G-Q:Q-G))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:g,y:w,w:u,d,D:v,h:m,m:o,s:e,ms:s,Q:y}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},_="en",a={};a[_]=E;var l=function(T){return T instanceof R},P=function(T,A,F){var U;if(!T)return _;if(typeof T=="string")a[T]&&(U=T),A&&(a[T]=A,U=T);else{var G=T.name;a[G]=T,U=G}return!F&&U&&(_=U),U||!F&&_},S=function(T,A){if(l(T))return T.clone();var F=typeof A=="object"?A:{};return F.date=T,F.args=arguments,new R(F)},M=C;M.l=P,M.i=l,M.w=function(T,A){return S(T,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var R=function(){function T(F){this.$L=P(F.locale,null,!0),this.parse(F)}var A=T.prototype;return A.parse=function(F){this.$d=function(U){var G=U.date,J=U.utc;if(G===null)return new Date(NaN);if(M.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var Q=G.match(b);if(Q){var te=Q[2]-1||0,ee=(Q[7]||"0").substring(0,3);return J?new Date(Date.UTC(Q[1],te,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ee)):new Date(Q[1],te,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ee)}}return new Date(G)}(F),this.$x=F.x||{},this.init()},A.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},A.$utils=function(){return M},A.isValid=function(){return this.$d.toString()!=="Invalid Date"},A.isSame=function(F,U){var G=S(F);return this.startOf(U)<=G&&G<=this.endOf(U)},A.isAfter=function(F,U){return S(F)<this.startOf(U)},A.isBefore=function(F,U){return this.endOf(U)<S(F)},A.$g=function(F,U,G){return M.u(F)?this[U]:this.set(G,F)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(F,U){var G=this,J=!!M.u(U)||U,Q=M.p(F),te=function(re,$){var oe=M.w(G.$u?Date.UTC(G.$y,$,re):new Date(G.$y,$,re),G);return J?oe:oe.endOf(d)},ee=function(re,$){return M.w(G.toDate()[re].apply(G.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice($)),G)},L=this.$W,V=this.$M,ne=this.$D,ae="set"+(this.$u?"UTC":"");switch(Q){case w:return J?te(1,0):te(31,11);case g:return J?te(1,V):te(0,V+1);case u:var fe=this.$locale().weekStart||0,le=(L<fe?L+7:L)-fe;return te(J?ne-le:ne+(6-le),V);case d:case v:return ee(ae+"Hours",0);case m:return ee(ae+"Minutes",1);case o:return ee(ae+"Seconds",2);case e:return ee(ae+"Milliseconds",3);default:return this.clone()}},A.endOf=function(F){return this.startOf(F,!1)},A.$set=function(F,U){var G,J=M.p(F),Q="set"+(this.$u?"UTC":""),te=(G={},G[d]=Q+"Date",G[v]=Q+"Date",G[g]=Q+"Month",G[w]=Q+"FullYear",G[m]=Q+"Hours",G[o]=Q+"Minutes",G[e]=Q+"Seconds",G[s]=Q+"Milliseconds",G)[J],ee=J===d?this.$D+(U-this.$W):U;if(J===g||J===w){var L=this.clone().set(v,1);L.$d[te](ee),L.init(),this.$d=L.set(v,Math.min(this.$D,L.daysInMonth())).$d}else te&&this.$d[te](ee);return this.init(),this},A.set=function(F,U){return this.clone().$set(F,U)},A.get=function(F){return this[M.p(F)]()},A.add=function(F,U){var G,J=this;F=Number(F);var Q=M.p(U),te=function(V){var ne=S(J);return M.w(ne.date(ne.date()+Math.round(V*F)),J)};if(Q===g)return this.set(g,this.$M+F);if(Q===w)return this.set(w,this.$y+F);if(Q===d)return te(1);if(Q===u)return te(7);var ee=(G={},G[o]=6e4,G[m]=36e5,G[e]=1e3,G)[Q]||1,L=this.$d.getTime()+F*ee;return M.w(L,this)},A.subtract=function(F,U){return this.add(-1*F,U)},A.format=function(F){var U=this;if(!this.isValid())return"Invalid Date";var G=F||"YYYY-MM-DDTHH:mm:ssZ",J=M.z(this),Q=this.$locale(),te=this.$H,ee=this.$m,L=this.$M,V=Q.weekdays,ne=Q.months,ae=function($,oe,se,ce){return $&&($[oe]||$(U,G))||se[oe].substr(0,ce)},fe=function($){return M.s(te%12||12,$,"0")},le=Q.meridiem||function($,oe,se){var ce=$<12?"AM":"PM";return se?ce.toLowerCase():ce},re={YY:String(this.$y).slice(-2),YYYY:this.$y,M:L+1,MM:M.s(L+1,2,"0"),MMM:ae(Q.monthsShort,L,ne,3),MMMM:ae(ne,L),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:ae(Q.weekdaysMin,this.$W,V,2),ddd:ae(Q.weekdaysShort,this.$W,V,3),dddd:V[this.$W],H:String(te),HH:M.s(te,2,"0"),h:fe(1),hh:fe(2),a:le(te,ee,!0),A:le(te,ee,!1),m:String(ee),mm:M.s(ee,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:J};return G.replace(D,function($,oe){return oe||re[$]||J.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(F,U,G){var J,Q=M.p(U),te=S(F),ee=6e4*(te.utcOffset()-this.utcOffset()),L=this-te,V=M.m(this,te);return V=(J={},J[w]=V/12,J[g]=V,J[y]=V/3,J[u]=(L-ee)/6048e5,J[d]=(L-ee)/864e5,J[m]=L/36e5,J[o]=L/6e4,J[e]=L/1e3,J)[Q]||L,G?V:M.a(V)},A.daysInMonth=function(){return this.endOf(g).$D},A.$locale=function(){return a[this.$L]},A.locale=function(F,U){if(!F)return this.$L;var G=this.clone(),J=P(F,U,!0);return J&&(G.$L=J),G},A.clone=function(){return M.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},T}(),N=R.prototype;return S.prototype=N,[["$ms",s],["$s",e],["$m",o],["$H",m],["$W",d],["$M",g],["$y",w],["$D",v]].forEach(function(T){N[T[1]]=function(A){return this.$g(A,T[0],T[1])}}),S.extend=function(T,A){return T.$i||(T(A,R,S),T.$i=!0),S},S.locale=P,S.isDayjs=l,S.unix=function(T){return S(1e3*T)},S.en=a[_],S.Ls=a,S.p={},S})},28734:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype,d=m.format;o.en.ordinal=function(u){var g=["th","st","nd","rd"],y=u%100;return"["+u+(g[(y-20)%10]||g[y]||g[0])+"]"},m.format=function(u){var g=this,y=this.$locale(),w=this.$utils(),v=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return y.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return y.ordinal(g.week(),"W");case"w":case"ww":return w.s(g.week(),b==="w"?1:2,"0");case"W":case"WW":return w.s(g.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return w.s(String(g.$H===0?24:g.$H),b==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return b}});return d.bind(this)(v)}}})},90850:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype,d=m.parse;m.parse=function(u){u.date=function(g){var y=g.date,w=g.utc;return Array.isArray(y)?w?y.length?new Date(Date.UTC.apply(null,y)):new Date:y.length===1?o(String(y[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(y))):y}.bind(this)(u),d.bind(this)(u)}}})},94712:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){var m="h:mm A",d={lastDay:"[Yesterday at] "+m,sameDay:"[Today at] "+m,nextDay:"[Tomorrow at] "+m,nextWeek:"dddd [at] "+m,lastWeek:"[Last] dddd [at] "+m,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(u,g){var y=g||this.$locale().calendar||d,w=o(u||void 0).startOf("d"),v=this.diff(w,"d",!0),b=v<-6?"sameElse":v<-1?"lastWeek":v<0?"lastDay":v<1?"sameDay":v<2?"nextDay":v<7?"nextWeek":"sameElse",D=y[b]||d[b];return typeof D=="function"?D.call(this,o()):this.format(D)}}})},10285:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(O,C){return O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,a,l){var P=l&&l.toUpperCase();return a||C[l]||s[l]||C[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,M,R){return M||R.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,m=/\d\d/,d=/\d\d?/,u=/\d*[^\s\d-_:/()]+/,g={},y=function(O){return function(C){this[O]=+C}},w=[/[+-]\d\d:?(\d\d)?/,function(O){(this.zone||(this.zone={})).offset=function(C){if(!C)return 0;var _=C.match(/([+-]|\d\d)/g),a=60*_[1]+(+_[2]||0);return a===0?0:_[0]==="+"?-a:a}(O)}],v=function(O){var C=g[O];return C&&(C.indexOf?C:C.s.concat(C.f))},b=function(O,C){var _,a=g.meridiem;if(a){for(var l=1;l<=24;l+=1)if(O.indexOf(a(l,0,C))>-1){_=l>12;break}}else _=O===(C?"pm":"PM");return _},D={A:[u,function(O){this.afternoon=b(O,!1)}],a:[u,function(O){this.afternoon=b(O,!0)}],S:[/\d/,function(O){this.milliseconds=100*+O}],SS:[m,function(O){this.milliseconds=10*+O}],SSS:[/\d{3}/,function(O){this.milliseconds=+O}],s:[d,y("seconds")],ss:[d,y("seconds")],m:[d,y("minutes")],mm:[d,y("minutes")],H:[d,y("hours")],h:[d,y("hours")],HH:[d,y("hours")],hh:[d,y("hours")],D:[d,y("day")],DD:[m,y("day")],Do:[u,function(O){var C=g.ordinal,_=O.match(/\d+/);if(this.day=_[0],C)for(var a=1;a<=31;a+=1)C(a).replace(/\[|\]/g,"")===O&&(this.day=a)}],M:[d,y("month")],MM:[m,y("month")],MMM:[u,function(O){var C=v("months"),_=(v("monthsShort")||C.map(function(a){return a.substr(0,3)})).indexOf(O)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[u,function(O){var C=v("months").indexOf(O)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,y("year")],YY:[m,function(O){O=+O,this.year=O+(O>68?1900:2e3)}],YYYY:[/\d{4}/,y("year")],Z:w,ZZ:w},E=function(O,C,_){try{var a=function(V){for(var ne=(V=e(V,g&&g.formats)).match(o),ae=ne.length,fe=0;fe<ae;fe+=1){var le=ne[fe],re=D[le],$=re&&re[0],oe=re&&re[1];ne[fe]=oe?{regex:$,parser:oe}:le.replace(/^\[|\]$/g,"")}return function(se){for(var ce={},de=0,be=0;de<ae;de+=1){var pe=ne[de];if(typeof pe=="string")be+=pe.length;else{var we=pe.regex,xe=pe.parser,Ue=se.substr(be),De=we.exec(Ue)[0];xe.call(ce,De),se=se.replace(De,"")}}return function(_e){var ie=_e.afternoon;if(ie!==void 0){var ve=_e.hours;ie?ve<12&&(_e.hours+=12):ve===12&&(_e.hours=0),delete _e.afternoon}}(ce),ce}}(C)(O),l=a.year,P=a.month,S=a.day,M=a.hours,R=a.minutes,N=a.seconds,T=a.milliseconds,A=a.zone,F=new Date,U=S||(l||P?1:F.getDate()),G=l||F.getFullYear(),J=0;l&&!P||(J=P>0?P-1:F.getMonth());var Q=M||0,te=R||0,ee=N||0,L=T||0;return A?new Date(Date.UTC(G,J,U,Q,te,ee,L+60*A.offset*1e3)):_?new Date(Date.UTC(G,J,U,Q,te,ee,L)):new Date(G,J,U,Q,te,ee,L)}catch(V){return new Date("")}};return function(O,C,_){_.p.customParseFormat=!0;var a=C.prototype,l=a.parse;a.parse=function(P){var S=P.date,M=P.utc,R=P.args;this.$u=M;var N=R[1];if(typeof N=="string"){var T=R[2]===!0,A=R[3]===!0,F=T||A,U=R[2];A&&(U=R[2]),g=this.$locale(),!T&&U&&(g=_.Ls[U]),this.$d=E(S,N,M),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),F&&S!==this.format(N)&&(this.$d=new Date("")),g={}}else if(N instanceof Array)for(var G=N.length,J=1;J<=G;J+=1){R[1]=N[J-1];var Q=_.apply(this,R);if(Q.isValid()){this.$d=Q.$d,this.$L=Q.$L,this.init();break}J===G&&(this.$d=new Date(""))}else l.call(this,P)}}})},92997:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.dayOfYear=function(o){var m=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?m:this.add(o-m,"day")}}})},1646:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s,e,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},u=function(E){return E instanceof D},g=function(E,O,C){return new D(E,C,O.$l)},y=function(E){return e.p(E)+"s"},w=function(E){return E<0},v=function(E){return w(E)?Math.ceil(E):Math.floor(E)},b=function(E,O){return E?w(E)?{negative:!0,format:""+function(C){return Math.abs(C)}(E)+O}:{negative:!1,format:""+E+O}:{negative:!1,format:""}},D=function(){function E(C,_,a){var l=this;if(this.$d={},this.$l=a,_)return g(C*d[y(_)],this);if(typeof C=="number")return this.$ms=C,this.parseFromMilliseconds(),this;if(typeof C=="object")return Object.keys(C).forEach(function(S){l.$d[y(S)]=C[S]}),this.calMilliseconds(),this;if(typeof C=="string"){var P=C.match(m);if(P)return this.$d.years=P[2],this.$d.months=P[3],this.$d.weeks=P[4],this.$d.days=P[5],this.$d.hours=P[6],this.$d.minutes=P[7],this.$d.seconds=P[8],this.calMilliseconds(),this}return this}var O=E.prototype;return O.calMilliseconds=function(){var C=this;this.$ms=Object.keys(this.$d).reduce(function(_,a){return _+(C.$d[a]||0)*d[a]},0)},O.parseFromMilliseconds=function(){var C=this.$ms;this.$d.years=v(C/31536e6),C%=31536e6,this.$d.months=v(C/2592e6),C%=2592e6,this.$d.days=v(C/864e5),C%=864e5,this.$d.hours=v(C/36e5),C%=36e5,this.$d.minutes=v(C/6e4),C%=6e4,this.$d.seconds=v(C/1e3),C%=1e3,this.$d.milliseconds=C},O.toISOString=function(){var C=b(this.$d.years,"Y"),_=b(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var l=b(a,"D"),P=b(this.$d.hours,"H"),S=b(this.$d.minutes,"M"),M=this.$d.seconds||0;this.$d.milliseconds&&(M+=this.$d.milliseconds/1e3);var R=b(M,"S"),N=C.negative||_.negative||l.negative||P.negative||S.negative||R.negative,T=P.format||S.format||R.format?"T":"",A=(N?"-":"")+"P"+C.format+_.format+l.format+T+P.format+S.format+R.format;return A==="P"||A==="-P"?"P0D":A},O.toJSON=function(){return this.toISOString()},O.format=function(C){var _=C||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return _.replace(o,function(l,P){return P||String(a[l])})},O.as=function(C){return this.$ms/d[y(C)]},O.get=function(C){var _=this.$ms,a=y(C);return a==="milliseconds"?_%=1e3:_=a==="weeks"?v(_/d[a]):this.$d[a],_===0?0:_},O.add=function(C,_,a){var l;return l=_?C*d[y(_)]:u(C)?C.$ms:g(C,this).$ms,g(this.$ms+l*(a?-1:1),this)},O.subtract=function(C,_){return this.add(C,_,!0)},O.locale=function(C){var _=this.clone();return _.$l=C,_},O.clone=function(){return g(this.$ms,this)},O.humanize=function(C){return s().add(this.$ms,"ms").locale(this.$l).fromNow(!C)},O.milliseconds=function(){return this.get("milliseconds")},O.asMilliseconds=function(){return this.as("milliseconds")},O.seconds=function(){return this.get("seconds")},O.asSeconds=function(){return this.as("seconds")},O.minutes=function(){return this.get("minutes")},O.asMinutes=function(){return this.as("minutes")},O.hours=function(){return this.get("hours")},O.asHours=function(){return this.as("hours")},O.days=function(){return this.get("days")},O.asDays=function(){return this.as("days")},O.weeks=function(){return this.get("weeks")},O.asWeeks=function(){return this.as("weeks")},O.months=function(){return this.get("months")},O.asMonths=function(){return this.as("months")},O.years=function(){return this.get("years")},O.asYears=function(){return this.as("years")},E}();return function(E,O,C){s=C,e=C().$utils(),C.duration=function(l,P){var S=C.locale();return g(l,{$l:S},P)},C.isDuration=u;var _=O.prototype.add,a=O.prototype.subtract;O.prototype.add=function(l,P){return u(l)&&(l=l.asMilliseconds()),_.bind(this)(l,P)},O.prototype.subtract=function(l,P){return u(l)&&(l=l.asMilliseconds()),a.bind(this)(l,P)}}})},66607:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){e.prototype.isBetween=function(m,d,u,g){var y=o(m),w=o(d),v=(g=g||"()")[0]==="(",b=g[1]===")";return(v?this.isAfter(y,u):!this.isBefore(y,u))&&(b?this.isBefore(w,u):!this.isAfter(w,u))||(v?this.isBefore(y,u):!this.isAfter(y,u))&&(b?this.isAfter(w,u):!this.isBefore(w,u))}}})},10423:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isSameOrAfter=function(o,m){return this.isSame(o,m)||this.isAfter(o,m)}}})},37412:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.isSameOrBefore=function(o,m){return this.isSame(o,m)||this.isBefore(o,m)}}})},96671:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s="month",e="quarter";return function(o,m){var d=m.prototype;d.quarter=function(y){return this.$utils().u(y)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(y-1))};var u=d.add;d.add=function(y,w){return y=Number(y),this.$utils().p(w)===e?this.add(3*y,s):u.bind(this)(y,w)};var g=d.startOf;d.startOf=function(y,w){var v=this.$utils(),b=!!v.u(w)||w;if(v.p(y)===e){var D=this.quarter()-1;return b?this.month(3*D).startOf(s).startOf("day"):this.month(3*D+2).endOf(s).endOf("day")}return g.bind(this)(y,w)}}})},84110:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){s=s||{};var m=e.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(y,w,v,b){return m.fromToBase(y,w,v,b)}o.en.relativeTime=d,m.fromToBase=function(y,w,v,b,D){for(var E,O,C,_=v.$locale().relativeTime||d,a=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],l=a.length,P=0;P<l;P+=1){var S=a[P];S.d&&(E=b?o(y).diff(v,S.d,!0):v.diff(y,S.d,!0));var M=(s.rounding||Math.round)(Math.abs(E));if(C=E>0,M<=S.r||!S.r){M<=1&&P>0&&(S=a[P-1]);var R=_[S.l];D&&(M=D(""+M)),O=typeof R=="string"?R.replace("%d",M):R(M,w,S.l,C);break}}if(w)return O;var N=C?_.future:_.past;return typeof N=="function"?N(O):N.replace("%s",O)},m.to=function(y,w){return u(y,w,this,!0)},m.from=function(y,w){return u(y,w,this)};var g=function(y){return y.$u?o.utc():o()};m.toNow=function(y){return this.to(g(this),y)},m.fromNow=function(y){return this.from(g(this),y)}}})},29387:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(o,m,d){var u,g=d().utcOffset(),y=function(D,E,O){O===void 0&&(O={});var C=new Date(D);return function(_,a){a===void 0&&(a={});var l=a.timeZoneName||"short",P=_+"|"+l,S=e[P];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:l}),e[P]=S),S}(E,O).formatToParts(C)},w=function(D,E){for(var O=y(D,E),C=[],_=0;_<O.length;_+=1){var a=O[_],l=a.type,P=a.value,S=s[l];S>=0&&(C[S]=parseInt(P,10))}var M=C[3],R=M===24?0:M,N=C[0]+"-"+C[1]+"-"+C[2]+" "+R+":"+C[4]+":"+C[5]+":000",T=+D;return(d.utc(N).valueOf()-(T-=T%1e3))/6e4},v=m.prototype;v.tz=function(D,E){D===void 0&&(D=u);var O=this.utcOffset(),C=this.toDate().toLocaleString("en-US",{timeZone:D}),_=Math.round((this.toDate()-new Date(C))/1e3/60),a=d(C).$set("millisecond",this.$ms).utcOffset(g-_,!0);if(E){var l=a.utcOffset();a=a.add(O-l,"minute")}return a.$x.$timezone=D,a},v.offsetName=function(D){var E=this.$x.$timezone||d.tz.guess(),O=y(this.valueOf(),E,{timeZoneName:D}).find(function(C){return C.type.toLowerCase()==="timezonename"});return O&&O.value};var b=v.startOf;v.startOf=function(D,E){if(!this.$x||!this.$x.$timezone)return b.call(this,D,E);var O=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return b.call(O,D,E).tz(this.$x.$timezone,!0)},d.tz=function(D,E,O){var C=O&&E,_=O||E||u,a=w(+d(),_);if(typeof D!="string")return d(D).tz(_);var l=function(R,N,T){var A=R-60*N*1e3,F=w(A,T);if(N===F)return[A,N];var U=w(A-=60*(F-N)*1e3,T);return F===U?[A,F]:[R-60*Math.min(F,U)*1e3,Math.max(F,U)]}(d.utc(D,C).valueOf(),a,_),P=l[0],S=l[1],M=d(P).utcOffset(S);return M.$x.$timezone=_,M},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(D){u=D}}})},70178:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e,o){var m=e.prototype;o.utc=function(b){return new e({date:b,utc:!0,args:arguments})},m.utc=function(b){var D=o(this.toDate(),{locale:this.$L,utc:!0});return b?D.add(this.utcOffset(),"minute"):D},m.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=m.parse;m.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),d.call(this,b)};var u=m.init;m.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else u.call(this)};var g=m.utcOffset;m.utcOffset=function(b,D){var E=this.$utils().u;if(E(b))return this.$u?0:E(this.$offset)?g.call(this):this.$offset;var O=Math.abs(b)<=16?60*b:b,C=this;if(D)return C.$offset=O,C.$u=b===0,C;if(b!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(O+_,"minute")).$offset=O,C.$x.$localOffset=_}else C=this.utc();return C};var y=m.format;m.format=function(b){var D=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,D)},m.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*b},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var w=m.toDate;m.toDate=function(b){return b==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var v=m.diff;m.diff=function(b,D,E){if(b&&this.$u===b.$u)return v.call(this,b,D,E);var O=this.local(),C=o(b).local();return v.call(O,C,D,E)}}})},55183:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";var s="week",e="year";return function(o,m,d){var u=m.prototype;u.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var w=d(this).startOf(e).add(1,e).date(y),v=d(this).endOf(s);if(w.isBefore(v))return 1}var b=d(this).startOf(e).date(y).startOf(s).subtract(1,"millisecond"),D=this.diff(b,s,!0);return D<0?d(this).startOf("week").week():Math.ceil(D)},u.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})},6833:function(z){(function(s,e){z.exports=e()})(this,function(){"use strict";return function(s,e){e.prototype.weekday=function(o){var m=this.$locale().weekStart||0,d=this.$W,u=(d<m?d+7:d)-m;return this.$utils().u(o)?u:this.subtract(u,"day").add(o,"day")}}})},10251:(z,s,e)=>{var o=Array.prototype.slice,m=e(41705),d=e(45539),u=z.exports=function(v,b,D){return D||(D={}),v===b?!0:v instanceof Date&&b instanceof Date?v.getTime()===b.getTime():!v||!b||typeof v!="object"&&typeof b!="object"?D.strict?v===b:v==b:w(v,b,D)};function g(v){return v==null}function y(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function w(v,b,D){var E,O;if(g(v)||g(b)||v.prototype!==b.prototype)return!1;if(d(v))return d(b)?(v=o.call(v),b=o.call(b),u(v,b,D)):!1;if(y(v)){if(!y(b)||v.length!==b.length)return!1;for(E=0;E<v.length;E++)if(v[E]!==b[E])return!1;return!0}try{var C=m(v),_=m(b)}catch(a){return!1}if(C.length!=_.length)return!1;for(C.sort(),_.sort(),E=C.length-1;E>=0;E--)if(C[E]!=_[E])return!1;for(E=C.length-1;E>=0;E--)if(O=C[E],!u(v[O],b[O],D))return!1;return typeof v==typeof b}},45539:(z,s)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";s=z.exports=e?o:m,s.supported=o;function o(d){return Object.prototype.toString.call(d)=="[object Arguments]"}s.unsupported=m;function m(d){return d&&typeof d=="object"&&typeof d.length=="number"&&Object.prototype.hasOwnProperty.call(d,"callee")&&!Object.prototype.propertyIsEnumerable.call(d,"callee")||!1}},41705:(z,s)=>{s=z.exports=typeof Object.keys=="function"?Object.keys:e,s.shim=e;function e(o){var m=[];for(var d in o)m.push(d);return m}},9996:z=>{"use strict";var s=function(P){return e(P)&&!o(P)};function e(l){return!!l&&typeof l=="object"}function o(l){var P=Object.prototype.toString.call(l);return P==="[object RegExp]"||P==="[object Date]"||u(l)}var m=typeof Symbol=="function"&&Symbol.for,d=m?Symbol.for("react.element"):60103;function u(l){return l.$$typeof===d}function g(l){return Array.isArray(l)?[]:{}}function y(l,P){return P.clone!==!1&&P.isMergeableObject(l)?_(g(l),l,P):l}function w(l,P,S){return l.concat(P).map(function(M){return y(M,S)})}function v(l,P){if(!P.customMerge)return _;var S=P.customMerge(l);return typeof S=="function"?S:_}function b(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(P){return l.propertyIsEnumerable(P)}):[]}function D(l){return Object.keys(l).concat(b(l))}function E(l,P){try{return P in l}catch(S){return!1}}function O(l,P){return E(l,P)&&!(Object.hasOwnProperty.call(l,P)&&Object.propertyIsEnumerable.call(l,P))}function C(l,P,S){var M={};return S.isMergeableObject(l)&&D(l).forEach(function(R){M[R]=y(l[R],S)}),D(P).forEach(function(R){O(l,R)||(E(l,R)&&S.isMergeableObject(P[R])?M[R]=v(R,S)(l[R],P[R],S):M[R]=y(P[R],S))}),M}function _(l,P,S){S=S||{},S.arrayMerge=S.arrayMerge||w,S.isMergeableObject=S.isMergeableObject||s,S.cloneUnlessOtherwiseSpecified=y;var M=Array.isArray(P),R=Array.isArray(l),N=M===R;return N?M?S.arrayMerge(l,P,S):C(l,P,S):y(P,S)}_.all=function(P,S){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(M,R){return _(M,R,S)},{})};var a=_;z.exports=a},65987:z=>{"use strict";var s={single_source_shortest_paths:function(e,o,m){var d={},u={};u[o]=0;var g=s.PriorityQueue.make();g.push(o,0);for(var y,w,v,b,D,E,O,C,_;!g.empty();){y=g.pop(),w=y.value,b=y.cost,D=e[w]||{};for(v in D)D.hasOwnProperty(v)&&(E=D[v],O=b+E,C=u[v],_=typeof u[v]=="undefined",(_||C>O)&&(u[v]=O,g.push(v,O),d[v]=w))}if(typeof m!="undefined"&&typeof u[m]=="undefined"){var a=["Could not find a path from ",o," to ",m,"."].join("");throw new Error(a)}return d},extract_shortest_path_from_predecessor_list:function(e,o){for(var m=[],d=o,u;d;)m.push(d),u=e[d],d=e[d];return m.reverse(),m},find_path:function(e,o,m){var d=s.single_source_shortest_paths(e,o,m);return s.extract_shortest_path_from_predecessor_list(d,m)},PriorityQueue:{make:function(e){var o=s.PriorityQueue,m={},d;e=e||{};for(d in o)o.hasOwnProperty(d)&&(m[d]=o[d]);return m.queue=[],m.sorter=e.sorter||o.default_sorter,m},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var m={value:e,cost:o};this.queue.push(m),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};z.exports=s},17837:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.attributeNames=s.elementNames=void 0,s.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),s.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(z,s,e){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(R){for(var N,T=1,A=arguments.length;T<A;T++){N=arguments[T];for(var F in N)Object.prototype.hasOwnProperty.call(N,F)&&(R[F]=N[F])}return R},o.apply(this,arguments)},m=this&&this.__createBinding||(Object.create?function(R,N,T,A){A===void 0&&(A=T),Object.defineProperty(R,A,{enumerable:!0,get:function(){return N[T]}})}:function(R,N,T,A){A===void 0&&(A=T),R[A]=N[T]}),d=this&&this.__setModuleDefault||(Object.create?function(R,N){Object.defineProperty(R,"default",{enumerable:!0,value:N})}:function(R,N){R.default=N}),u=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var N={};if(R!=null)for(var T in R)T!=="default"&&Object.prototype.hasOwnProperty.call(R,T)&&m(N,R,T);return d(N,R),N};Object.defineProperty(s,"__esModule",{value:!0});var g=u(e(99960)),y=e(45863),w=e(17837),v=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function b(R,N){if(R)return Object.keys(R).map(function(T){var A,F,U=(A=R[T])!==null&&A!==void 0?A:"";return N.xmlMode==="foreign"&&(T=(F=w.attributeNames.get(T))!==null&&F!==void 0?F:T),!N.emptyAttrs&&!N.xmlMode&&U===""?T:T+'="'+(N.decodeEntities!==!1?y.encodeXML(U):U.replace(/"/g,"&quot;"))+'"'}).join(" ")}var D=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function E(R,N){N===void 0&&(N={});for(var T=("length"in R)?R:[R],A="",F=0;F<T.length;F++)A+=O(T[F],N);return A}s.default=E;function O(R,N){switch(R.type){case g.Root:return E(R.children,N);case g.Directive:case g.Doctype:return l(R);case g.Comment:return M(R);case g.CDATA:return S(R);case g.Script:case g.Style:case g.Tag:return a(R,N);case g.Text:return P(R,N)}}var C=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function a(R,N){var T;N.xmlMode==="foreign"&&(R.name=(T=w.elementNames.get(R.name))!==null&&T!==void 0?T:R.name,R.parent&&C.has(R.parent.name)&&(N=o(o({},N),{xmlMode:!1}))),!N.xmlMode&&_.has(R.name)&&(N=o(o({},N),{xmlMode:"foreign"}));var A="<"+R.name,F=b(R.attribs,N);return F&&(A+=" "+F),R.children.length===0&&(N.xmlMode?N.selfClosingTags!==!1:N.selfClosingTags&&D.has(R.name))?(N.xmlMode||(A+=" "),A+="/>"):(A+=">",R.children.length>0&&(A+=E(R.children,N)),(N.xmlMode||!D.has(R.name))&&(A+="</"+R.name+">")),A}function l(R){return"<"+R.data+">"}function P(R,N){var T=R.data||"";return N.decodeEntities!==!1&&!(!N.xmlMode&&R.parent&&v.has(R.parent.name))&&(T=y.encodeXML(T)),T}function S(R){return"<![CDATA["+R.children[0].data+"]]>"}function M(R){return"<!--"+R.data+"-->"}},99960:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Doctype=s.CDATA=s.Tag=s.Style=s.Script=s.Comment=s.Directive=s.Text=s.Root=s.isTag=s.ElementType=void 0;var e;(function(m){m.Root="root",m.Text="text",m.Directive="directive",m.Comment="comment",m.Script="script",m.Style="style",m.Tag="tag",m.CDATA="cdata",m.Doctype="doctype"})(e=s.ElementType||(s.ElementType={}));function o(m){return m.type===e.Tag||m.type===e.Script||m.type===e.Style}s.isTag=o,s.Root=e.Root,s.Text=e.Text,s.Directive=e.Directive,s.Comment=e.Comment,s.Script=e.Script,s.Style=e.Style,s.Tag=e.Tag,s.CDATA=e.CDATA,s.Doctype=e.Doctype},47915:function(z,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(w,v,b,D){D===void 0&&(D=b),Object.defineProperty(w,D,{enumerable:!0,get:function(){return v[b]}})}:function(w,v,b,D){D===void 0&&(D=b),w[D]=v[b]}),m=this&&this.__exportStar||function(w,v){for(var b in w)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&o(v,w,b)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var d=e(97790);m(e(97790),s);var u=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},y=function(){function w(v,b,D){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof b=="function"&&(D=b,b=g),typeof v=="object"&&(b=v,v=void 0),this._callback=v!=null?v:null,this._options=b!=null?b:g,this._elementCB=D!=null?D:null}return w.prototype.onparserinit=function(v){this._parser=v},w.prototype.onreset=function(){var v;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(v=this._parser)!==null&&v!==void 0?v:null},w.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},w.prototype.onerror=function(v){this.handleCallback(v)},w.prototype.onclosetag=function(){this._lastNode=null;var v=this._tagStack.pop();!v||!this._parser||(this._options.withEndIndices&&(v.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(v))},w.prototype.onopentag=function(v,b){var D=new d.Element(v,b);this.addNode(D),this._tagStack.push(D)},w.prototype.ontext=function(v){var b=this._options.normalizeWhitespace,D=this._lastNode;if(D&&D.type==="text")b?D.data=(D.data+v).replace(u," "):D.data+=v;else{b&&(v=v.replace(u," "));var E=new d.Text(v);this.addNode(E),this._lastNode=E}},w.prototype.oncomment=function(v){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=v;return}var b=new d.Comment(v);this.addNode(b),this._lastNode=b},w.prototype.oncommentend=function(){this._lastNode=null},w.prototype.oncdatastart=function(){var v=new d.Text(""),b=new d.NodeWithChildren("cdata",[v]);this.addNode(b),v.parent=b,this._lastNode=v},w.prototype.oncdataend=function(){this._lastNode=null},w.prototype.onprocessinginstruction=function(v,b){var D=new d.ProcessingInstruction(v,b);this.addNode(D)},w.prototype.handleCallback=function(v){if(typeof this._callback=="function")this._callback(v,this.dom);else if(v)throw v},w.prototype.addNode=function(v){var b=this._tagStack[this._tagStack.length-1],D=b?b.children:this.dom,E=D[D.length-1];this._parser&&(this._options.withStartIndices&&(v.startIndex=this._parser.startIndex),this._options.withEndIndices&&(v.endIndex=this._parser.endIndex)),D.push(v),E&&(v.prev=E,E.next=v),b&&(v.parent=b),this._lastNode=null},w.prototype.addDataNode=function(v){this.addNode(v),this._lastNode=v},w}();s.DomHandler=y,s.default=y},97790:function(z,s){"use strict";var e=this&&this.__extends||function(){var O=function(C,_){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var P in l)Object.prototype.hasOwnProperty.call(l,P)&&(a[P]=l[P])},O(C,_)};return function(C,_){O(C,_);function a(){this.constructor=C}C.prototype=_===null?Object.create(_):(a.prototype=_.prototype,new a)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(O){for(var C,_=1,a=arguments.length;_<a;_++){C=arguments[_];for(var l in C)Object.prototype.hasOwnProperty.call(C,l)&&(O[l]=C[l])}return O},o.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.Element=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var m=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),d=function(){function O(C){this.type=C,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(O.prototype,"nodeType",{get:function(){var C;return(C=m.get(this.type))!==null&&C!==void 0?C:1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"parentNode",{get:function(){return this.parent},set:function(C){this.parent=C},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"previousSibling",{get:function(){return this.prev},set:function(C){this.prev=C},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"nextSibling",{get:function(){return this.next},set:function(C){this.next=C},enumerable:!1,configurable:!0}),O.prototype.cloneNode=function(C){return C===void 0&&(C=!1),D(this,C)},O}();s.Node=d;var u=function(O){e(C,O);function C(_,a){var l=O.call(this,_)||this;return l.data=a,l}return Object.defineProperty(C.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),C}(d);s.DataNode=u;var g=function(O){e(C,O);function C(_){return O.call(this,"text",_)||this}return C}(u);s.Text=g;var y=function(O){e(C,O);function C(_){return O.call(this,"comment",_)||this}return C}(u);s.Comment=y;var w=function(O){e(C,O);function C(_,a){var l=O.call(this,"directive",a)||this;return l.name=_,l}return C}(u);s.ProcessingInstruction=w;var v=function(O){e(C,O);function C(_,a){var l=O.call(this,_)||this;return l.children=a,l}return Object.defineProperty(C.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),C}(d);s.NodeWithChildren=v;var b=function(O){e(C,O);function C(_,a,l){l===void 0&&(l=[]);var P=O.call(this,_==="script"?"script":_==="style"?"style":"tag",l)||this;return P.name=_,P.attribs=a,P.attribs=a,P}return Object.defineProperty(C.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(a){return{name:a,value:_.attribs[a]}})},enumerable:!1,configurable:!0}),C}(v);s.Element=b;function D(O,C){switch(C===void 0&&(C=!1),O.type){case"text":return new g(O.data);case"directive":{var _=O;return new w(_.name,_.data)}case"comment":return new y(O.data);case"tag":case"script":case"style":{var a=O,l=C?E(a.children):[],P=new b(a.name,o({},a.attribs),l);return l.forEach(function(R){return R.parent=P}),P}case"cdata":{var S=O,l=C?E(S.children):[],M=new v("cdata",l);return l.forEach(function(N){return N.parent=M}),M}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}s.cloneNode=D;function E(O){for(var C=O.map(function(a){return D(a,!0)}),_=1;_<C.length;_++)C[_].prev=C[_-1],C[_-1].next=C[_];return C}},16996:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getFeed=void 0;var o=e(43346),m=e(23905);function d(C){var _=b(O,C);return _?_.name==="feed"?u(_):g(_):null}s.getFeed=d;function u(C){var _,a=C.children,l={type:"atom",items:(0,m.getElementsByTagName)("entry",a).map(function(M){var R,N=M.children,T={media:v(N)};E(T,"id","id",N),E(T,"title","title",N);var A=(R=b("link",N))===null||R===void 0?void 0:R.attribs.href;A&&(T.link=A);var F=D("summary",N)||D("content",N);F&&(T.description=F);var U=D("updated",N);return U&&(T.pubDate=new Date(U)),T})};E(l,"id","id",a),E(l,"title","title",a);var P=(_=b("link",a))===null||_===void 0?void 0:_.attribs.href;P&&(l.link=P),E(l,"description","subtitle",a);var S=D("updated",a);return S&&(l.updated=new Date(S)),E(l,"author","email",a,!0),l}function g(C){var _,a,l=(a=(_=b("channel",C.children))===null||_===void 0?void 0:_.children)!==null&&a!==void 0?a:[],P={type:C.name.substr(0,3),id:"",items:(0,m.getElementsByTagName)("item",C.children).map(function(M){var R=M.children,N={media:v(R)};E(N,"id","guid",R),E(N,"title","title",R),E(N,"link","link",R),E(N,"description","description",R);var T=D("pubDate",R);return T&&(N.pubDate=new Date(T)),N})};E(P,"title","title",l),E(P,"link","link",l),E(P,"description","description",l);var S=D("lastBuildDate",l);return S&&(P.updated=new Date(S)),E(P,"author","managingEditor",l,!0),P}var y=["url","type","lang"],w=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function v(C){return(0,m.getElementsByTagName)("media:content",C).map(function(_){for(var a=_.attribs,l={medium:a.medium,isDefault:!!a.isDefault},P=0,S=y;P<S.length;P++){var M=S[P];a[M]&&(l[M]=a[M])}for(var R=0,N=w;R<N.length;R++){var M=N[R];a[M]&&(l[M]=parseInt(a[M],10))}return a.expression&&(l.expression=a.expression),l})}function b(C,_){return(0,m.getElementsByTagName)(C,_,!0,1)[0]}function D(C,_,a){return a===void 0&&(a=!1),(0,o.textContent)((0,m.getElementsByTagName)(C,_,a,1)).trim()}function E(C,_,a,l,P){P===void 0&&(P=!1);var S=D(a,l,P);S&&(C[_]=S)}function O(C){return C==="rss"||C==="feed"||C==="rdf:RDF"}},74975:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.uniqueSort=s.compareDocumentPosition=s.removeSubsets=void 0;var o=e(63317);function m(g){for(var y=g.length;--y>=0;){var w=g[y];if(y>0&&g.lastIndexOf(w,y-1)>=0){g.splice(y,1);continue}for(var v=w.parent;v;v=v.parent)if(g.includes(v)){g.splice(y,1);break}}return g}s.removeSubsets=m;function d(g,y){var w=[],v=[];if(g===y)return 0;for(var b=(0,o.hasChildren)(g)?g:g.parent;b;)w.unshift(b),b=b.parent;for(b=(0,o.hasChildren)(y)?y:y.parent;b;)v.unshift(b),b=b.parent;for(var D=Math.min(w.length,v.length),E=0;E<D&&w[E]===v[E];)E++;if(E===0)return 1;var O=w[E-1],C=O.children,_=w[E],a=v[E];return C.indexOf(_)>C.indexOf(a)?O===y?20:4:O===g?10:2}s.compareDocumentPosition=d;function u(g){return g=g.filter(function(y,w,v){return!v.includes(y,w+1)}),g.sort(function(y,w){var v=d(y,w);return v&2?-1:v&4?1:0}),g}s.uniqueSort=u},89432:function(z,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(u,g,y,w){w===void 0&&(w=y),Object.defineProperty(u,w,{enumerable:!0,get:function(){return g[y]}})}:function(u,g,y,w){w===void 0&&(w=y),u[w]=g[y]}),m=this&&this.__exportStar||function(u,g){for(var y in u)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&o(g,u,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.hasChildren=s.isDocument=s.isComment=s.isText=s.isCDATA=s.isTag=void 0,m(e(43346),s),m(e(85010),s),m(e(26765),s),m(e(98043),s),m(e(23905),s),m(e(74975),s),m(e(16996),s);var d=e(63317);Object.defineProperty(s,"isTag",{enumerable:!0,get:function(){return d.isTag}}),Object.defineProperty(s,"isCDATA",{enumerable:!0,get:function(){return d.isCDATA}}),Object.defineProperty(s,"isText",{enumerable:!0,get:function(){return d.isText}}),Object.defineProperty(s,"isComment",{enumerable:!0,get:function(){return d.isComment}}),Object.defineProperty(s,"isDocument",{enumerable:!0,get:function(){return d.isDocument}}),Object.defineProperty(s,"hasChildren",{enumerable:!0,get:function(){return d.hasChildren}})},23905:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getElementsByTagType=s.getElementsByTagName=s.getElementById=s.getElements=s.testElement=void 0;var o=e(63317),m=e(98043),d={tag_name:function(O){return typeof O=="function"?function(C){return(0,o.isTag)(C)&&O(C.name)}:O==="*"?o.isTag:function(C){return(0,o.isTag)(C)&&C.name===O}},tag_type:function(O){return typeof O=="function"?function(C){return O(C.type)}:function(C){return C.type===O}},tag_contains:function(O){return typeof O=="function"?function(C){return(0,o.isText)(C)&&O(C.data)}:function(C){return(0,o.isText)(C)&&C.data===O}}};function u(O,C){return typeof C=="function"?function(_){return(0,o.isTag)(_)&&C(_.attribs[O])}:function(_){return(0,o.isTag)(_)&&_.attribs[O]===C}}function g(O,C){return function(_){return O(_)||C(_)}}function y(O){var C=Object.keys(O).map(function(_){var a=O[_];return Object.prototype.hasOwnProperty.call(d,_)?d[_](a):u(_,a)});return C.length===0?null:C.reduce(g)}function w(O,C){var _=y(O);return _?_(C):!0}s.testElement=w;function v(O,C,_,a){a===void 0&&(a=1/0);var l=y(O);return l?(0,m.filter)(l,C,_,a):[]}s.getElements=v;function b(O,C,_){return _===void 0&&(_=!0),Array.isArray(C)||(C=[C]),(0,m.findOne)(u("id",O),C,_)}s.getElementById=b;function D(O,C,_,a){return _===void 0&&(_=!0),a===void 0&&(a=1/0),(0,m.filter)(d.tag_name(O),C,_,a)}s.getElementsByTagName=D;function E(O,C,_,a){return _===void 0&&(_=!0),a===void 0&&(a=1/0),(0,m.filter)(d.tag_type(O),C,_,a)}s.getElementsByTagType=E},26765:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.prepend=s.prependChild=s.append=s.appendChild=s.replaceElement=s.removeElement=void 0;function e(y){if(y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),y.parent){var w=y.parent.children;w.splice(w.lastIndexOf(y),1)}}s.removeElement=e;function o(y,w){var v=w.prev=y.prev;v&&(v.next=w);var b=w.next=y.next;b&&(b.prev=w);var D=w.parent=y.parent;if(D){var E=D.children;E[E.lastIndexOf(y)]=w}}s.replaceElement=o;function m(y,w){if(e(w),w.next=null,w.parent=y,y.children.push(w)>1){var v=y.children[y.children.length-2];v.next=w,w.prev=v}else w.prev=null}s.appendChild=m;function d(y,w){e(w);var v=y.parent,b=y.next;if(w.next=b,w.prev=y,y.next=w,w.parent=v,b){if(b.prev=w,v){var D=v.children;D.splice(D.lastIndexOf(b),0,w)}}else v&&v.children.push(w)}s.append=d;function u(y,w){if(e(w),w.parent=y,w.prev=null,y.children.unshift(w)!==1){var v=y.children[1];v.prev=w,w.next=v}else w.next=null}s.prependChild=u;function g(y,w){e(w);var v=y.parent;if(v){var b=v.children;b.splice(b.indexOf(y),0,w)}y.prev&&(y.prev.next=w),w.parent=v,w.prev=y.prev,w.next=y,y.prev=w}s.prepend=g},98043:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.findAll=s.existsOne=s.findOne=s.findOneChild=s.find=s.filter=void 0;var o=e(63317);function m(v,b,D,E){return D===void 0&&(D=!0),E===void 0&&(E=1/0),Array.isArray(b)||(b=[b]),d(v,b,D,E)}s.filter=m;function d(v,b,D,E){for(var O=[],C=0,_=b;C<_.length;C++){var a=_[C];if(v(a)&&(O.push(a),--E<=0))break;if(D&&(0,o.hasChildren)(a)&&a.children.length>0){var l=d(v,a.children,D,E);if(O.push.apply(O,l),E-=l.length,E<=0)break}}return O}s.find=d;function u(v,b){return b.find(v)}s.findOneChild=u;function g(v,b,D){D===void 0&&(D=!0);for(var E=null,O=0;O<b.length&&!E;O++){var C=b[O];if((0,o.isTag)(C))v(C)?E=C:D&&C.children.length>0&&(E=g(v,C.children));else continue}return E}s.findOne=g;function y(v,b){return b.some(function(D){return(0,o.isTag)(D)&&(v(D)||D.children.length>0&&y(v,D.children))})}s.existsOne=y;function w(v,b){for(var D,E=[],O=b.filter(o.isTag),C;C=O.shift();){var _=(D=C.children)===null||D===void 0?void 0:D.filter(o.isTag);_&&_.length>0&&O.unshift.apply(O,_),v(C)&&E.push(C)}return E}s.findAll=w},43346:function(z,s,e){"use strict";var o=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(s,"__esModule",{value:!0}),s.innerText=s.textContent=s.getText=s.getInnerHTML=s.getOuterHTML=void 0;var m=e(63317),d=o(e(97220)),u=e(99960);function g(D,E){return(0,d.default)(D,E)}s.getOuterHTML=g;function y(D,E){return(0,m.hasChildren)(D)?D.children.map(function(O){return g(O,E)}).join(""):""}s.getInnerHTML=y;function w(D){return Array.isArray(D)?D.map(w).join(""):(0,m.isTag)(D)?D.name==="br"?`
`:w(D.children):(0,m.isCDATA)(D)?w(D.children):(0,m.isText)(D)?D.data:""}s.getText=w;function v(D){return Array.isArray(D)?D.map(v).join(""):(0,m.hasChildren)(D)&&!(0,m.isComment)(D)?v(D.children):(0,m.isText)(D)?D.data:""}s.textContent=v;function b(D){return Array.isArray(D)?D.map(b).join(""):(0,m.hasChildren)(D)&&(D.type===u.ElementType.Tag||(0,m.isCDATA)(D))?b(D.children):(0,m.isText)(D)?D.data:""}s.innerText=b},85010:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.prevElementSibling=s.nextElementSibling=s.getName=s.hasAttrib=s.getAttributeValue=s.getSiblings=s.getParent=s.getChildren=void 0;var o=e(63317),m=[];function d(E){var O;return(O=E.children)!==null&&O!==void 0?O:m}s.getChildren=d;function u(E){return E.parent||null}s.getParent=u;function g(E){var O,C,_=u(E);if(_!=null)return d(_);for(var a=[E],l=E.prev,P=E.next;l!=null;)a.unshift(l),O=l,l=O.prev;for(;P!=null;)a.push(P),C=P,P=C.next;return a}s.getSiblings=g;function y(E,O){var C;return(C=E.attribs)===null||C===void 0?void 0:C[O]}s.getAttributeValue=y;function w(E,O){return E.attribs!=null&&Object.prototype.hasOwnProperty.call(E.attribs,O)&&E.attribs[O]!=null}s.hasAttrib=w;function v(E){return E.name}s.getName=v;function b(E){for(var O,C=E.next;C!==null&&!(0,o.isTag)(C);)O=C,C=O.next;return C}s.nextElementSibling=b;function D(E){for(var O,C=E.prev;C!==null&&!(0,o.isTag)(C);)O=C,C=O.prev;return C}s.prevElementSibling=D},63317:function(z,s,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(v,b,D,E){E===void 0&&(E=D);var O=Object.getOwnPropertyDescriptor(b,D);(!O||("get"in O?!b.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return b[D]}}),Object.defineProperty(v,E,O)}:function(v,b,D,E){E===void 0&&(E=D),v[E]=b[D]}),m=this&&this.__exportStar||function(v,b){for(var D in v)D!=="default"&&!Object.prototype.hasOwnProperty.call(b,D)&&o(b,v,D)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var d=e(99960),u=e(50943);m(e(50943),s);var g=/\s+/g,y={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},w=function(){function v(b,D,E){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof D=="function"&&(E=D,D=y),typeof b=="object"&&(D=b,b=void 0),this.callback=b!=null?b:null,this.options=D!=null?D:y,this.elementCB=E!=null?E:null}return v.prototype.onparserinit=function(b){this.parser=b},v.prototype.onreset=function(){this.dom=[],this.root=new u.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},v.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},v.prototype.onerror=function(b){this.handleCallback(b)},v.prototype.onclosetag=function(){this.lastNode=null;var b=this.tagStack.pop();this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(b)},v.prototype.onopentag=function(b,D){var E=this.options.xmlMode?d.ElementType.Tag:void 0,O=new u.Element(b,D,void 0,E);this.addNode(O),this.tagStack.push(O)},v.prototype.ontext=function(b){var D=this.options.normalizeWhitespace,E=this.lastNode;if(E&&E.type===d.ElementType.Text)D?E.data=(E.data+b).replace(g," "):E.data+=b,this.options.withEndIndices&&(E.endIndex=this.parser.endIndex);else{D&&(b=b.replace(g," "));var O=new u.Text(b);this.addNode(O),this.lastNode=O}},v.prototype.oncomment=function(b){if(this.lastNode&&this.lastNode.type===d.ElementType.Comment){this.lastNode.data+=b;return}var D=new u.Comment(b);this.addNode(D),this.lastNode=D},v.prototype.oncommentend=function(){this.lastNode=null},v.prototype.oncdatastart=function(){var b=new u.Text(""),D=new u.NodeWithChildren(d.ElementType.CDATA,[b]);this.addNode(D),b.parent=D,this.lastNode=b},v.prototype.oncdataend=function(){this.lastNode=null},v.prototype.onprocessinginstruction=function(b,D){var E=new u.ProcessingInstruction(b,D);this.addNode(E)},v.prototype.handleCallback=function(b){if(typeof this.callback=="function")this.callback(b,this.dom);else if(b)throw b},v.prototype.addNode=function(b){var D=this.tagStack[this.tagStack.length-1],E=D.children[D.children.length-1];this.options.withStartIndices&&(b.startIndex=this.parser.startIndex),this.options.withEndIndices&&(b.endIndex=this.parser.endIndex),D.children.push(b),E&&(b.prev=E,E.next=b),b.parent=D,this.lastNode=null},v}();s.DomHandler=w,s.default=w},50943:function(z,s,e){"use strict";var o=this&&this.__extends||function(){var T=function(A,F){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,G){U.__proto__=G}||function(U,G){for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(U[J]=G[J])},T(A,F)};return function(A,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");T(A,F);function U(){this.constructor=A}A.prototype=F===null?Object.create(F):(U.prototype=F.prototype,new U)}}(),m=this&&this.__assign||function(){return m=Object.assign||function(T){for(var A,F=1,U=arguments.length;F<U;F++){A=arguments[F];for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&(T[G]=A[G])}return T},m.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.hasChildren=s.isDocument=s.isDirective=s.isComment=s.isText=s.isCDATA=s.isTag=s.Element=s.Document=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var d=e(99960),u=new Map([[d.ElementType.Tag,1],[d.ElementType.Script,1],[d.ElementType.Style,1],[d.ElementType.Directive,1],[d.ElementType.Text,3],[d.ElementType.CDATA,4],[d.ElementType.Comment,8],[d.ElementType.Root,9]]),g=function(){function T(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"nodeType",{get:function(){var A;return(A=u.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(A){return A===void 0&&(A=!1),R(this,A)},T}();s.Node=g;var y=function(T){o(A,T);function A(F,U){var G=T.call(this,F)||this;return G.data=U,G}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(F){this.data=F},enumerable:!1,configurable:!0}),A}(g);s.DataNode=y;var w=function(T){o(A,T);function A(F){return T.call(this,d.ElementType.Text,F)||this}return A}(y);s.Text=w;var v=function(T){o(A,T);function A(F){return T.call(this,d.ElementType.Comment,F)||this}return A}(y);s.Comment=v;var b=function(T){o(A,T);function A(F,U){var G=T.call(this,d.ElementType.Directive,U)||this;return G.name=F,G}return A}(y);s.ProcessingInstruction=b;var D=function(T){o(A,T);function A(F,U){var G=T.call(this,F)||this;return G.children=U,G}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var F;return(F=this.children[0])!==null&&F!==void 0?F:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(F){this.children=F},enumerable:!1,configurable:!0}),A}(g);s.NodeWithChildren=D;var E=function(T){o(A,T);function A(F){return T.call(this,d.ElementType.Root,F)||this}return A}(D);s.Document=E;var O=function(T){o(A,T);function A(F,U,G,J){G===void 0&&(G=[]),J===void 0&&(J=F==="script"?d.ElementType.Script:F==="style"?d.ElementType.Style:d.ElementType.Tag);var Q=T.call(this,J,G)||this;return Q.name=F,Q.attribs=U,Q}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(F){this.name=F},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var F=this;return Object.keys(this.attribs).map(function(U){var G,J;return{name:U,value:F.attribs[U],namespace:(G=F["x-attribsNamespace"])===null||G===void 0?void 0:G[U],prefix:(J=F["x-attribsPrefix"])===null||J===void 0?void 0:J[U]}})},enumerable:!1,configurable:!0}),A}(D);s.Element=O;function C(T){return(0,d.isTag)(T)}s.isTag=C;function _(T){return T.type===d.ElementType.CDATA}s.isCDATA=_;function a(T){return T.type===d.ElementType.Text}s.isText=a;function l(T){return T.type===d.ElementType.Comment}s.isComment=l;function P(T){return T.type===d.ElementType.Directive}s.isDirective=P;function S(T){return T.type===d.ElementType.Root}s.isDocument=S;function M(T){return Object.prototype.hasOwnProperty.call(T,"children")}s.hasChildren=M;function R(T,A){A===void 0&&(A=!1);var F;if(a(T))F=new w(T.data);else if(l(T))F=new v(T.data);else if(C(T)){var U=A?N(T.children):[],G=new O(T.name,m({},T.attribs),U);U.forEach(function(ee){return ee.parent=G}),T.namespace!=null&&(G.namespace=T.namespace),T["x-attribsNamespace"]&&(G["x-attribsNamespace"]=m({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(G["x-attribsPrefix"]=m({},T["x-attribsPrefix"])),F=G}else if(_(T)){var U=A?N(T.children):[],J=new D(d.ElementType.CDATA,U);U.forEach(function(L){return L.parent=J}),F=J}else if(S(T)){var U=A?N(T.children):[],Q=new E(U);U.forEach(function(L){return L.parent=Q}),T["x-mode"]&&(Q["x-mode"]=T["x-mode"]),F=Q}else if(P(T)){var te=new b(T.name,T.data);T["x-name"]!=null&&(te["x-name"]=T["x-name"],te["x-publicId"]=T["x-publicId"],te["x-systemId"]=T["x-systemId"]),F=te}else throw new Error("Not implemented yet: ".concat(T.type));return F.startIndex=T.startIndex,F.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(F.sourceCodeLocation=T.sourceCodeLocation),F}s.cloneNode=R;function N(T){for(var A=T.map(function(U){return R(U,!0)}),F=1;F<A.length;F++)A[F].prev=A[F-1],A[F-1].next=A[F];return A}},62378:z=>{"use strict";z.exports=function(e){for(var o=[],m=e.length,d=0;d<m;d++){var u=e.charCodeAt(d);if(u>=55296&&u<=56319&&m>d+1){var g=e.charCodeAt(d+1);g>=56320&&g<=57343&&(u=(u-55296)*1024+g-56320+65536,d+=1)}if(u<128){o.push(u);continue}if(u<2048){o.push(u>>6|192),o.push(u&63|128);continue}if(u<55296||u>=57344&&u<65536){o.push(u>>12|224),o.push(u>>6&63|128),o.push(u&63|128);continue}if(u>=65536&&u<=1114111){o.push(u>>18|240),o.push(u>>12&63|128),o.push(u>>6&63|128),o.push(u&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},44076:function(z,s,e){"use strict";var o=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(s,"__esModule",{value:!0}),s.decodeHTML=s.decodeHTMLStrict=s.decodeXML=void 0;var m=o(e(59323)),d=o(e(29591)),u=o(e(2586)),g=o(e(26)),y=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;s.decodeXML=w(u.default),s.decodeHTMLStrict=w(m.default);function w(D){var E=b(D);return function(O){return String(O).replace(y,E)}}var v=function(D,E){return D<E?1:-1};s.decodeHTML=function(){for(var D=Object.keys(d.default).sort(v),E=Object.keys(m.default).sort(v),O=0,C=0;O<E.length;O++)D[C]===E[O]?(E[O]+=";?",C++):E[O]+=";";var _=new RegExp("&(?:"+E.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=b(m.default);function l(P){return P.substr(-1)!==";"&&(P+=";"),a(P)}return function(P){return String(P).replace(_,l)}}();function b(D){return function(O){if(O.charAt(1)==="#"){var C=O.charAt(2);return C==="X"||C==="x"?g.default(parseInt(O.substr(3),16)):g.default(parseInt(O.substr(2),10))}return D[O.slice(1,-1)]||O}}},26:function(z,s,e){"use strict";var o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0});var m=o(e(33600)),d=String.fromCodePoint||function(g){var y="";return g>65535&&(g-=65536,y+=String.fromCharCode(g>>>10&1023|55296),g=56320|g&1023),y+=String.fromCharCode(g),y};function u(g){return g>=55296&&g<=57343||g>1114111?"\uFFFD":(g in m.default&&(g=m.default[g]),d(g))}s.default=u},87322:function(z,s,e){"use strict";var o=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(s,"__esModule",{value:!0}),s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=void 0;var m=o(e(2586)),d=v(m.default),u=b(d);s.encodeXML=P(d);var g=o(e(59323)),y=v(g.default),w=b(y);s.encodeHTML=C(y,w),s.encodeNonAsciiHTML=P(y);function v(S){return Object.keys(S).sort().reduce(function(M,R){return M[S[R]]="&"+R+";",M},{})}function b(S){for(var M=[],R=[],N=0,T=Object.keys(S);N<T.length;N++){var A=T[N];A.length===1?M.push("\\"+A):R.push(A)}M.sort();for(var F=0;F<M.length-1;F++){for(var U=F;U<M.length-1&&M[U].charCodeAt(1)+1===M[U+1].charCodeAt(1);)U+=1;var G=1+U-F;G<3||M.splice(F,G,M[F]+"-"+M[U])}return R.unshift("["+M.join("")+"]"),new RegExp(R.join("|"),"g")}var D=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,E=String.prototype.codePointAt!=null?function(S){return S.codePointAt(0)}:function(S){return(S.charCodeAt(0)-55296)*1024+S.charCodeAt(1)-56320+65536};function O(S){return"&#x"+(S.length>1?E(S):S.charCodeAt(0)).toString(16).toUpperCase()+";"}function C(S,M){return function(R){return R.replace(M,function(N){return S[N]}).replace(D,O)}}var _=new RegExp(u.source+"|"+D.source,"g");function a(S){return S.replace(_,O)}s.escape=a;function l(S){return S.replace(u,O)}s.escapeUTF8=l;function P(S){return function(M){return M.replace(_,function(R){return S[R]||O(R)})}}},45863:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.decodeXMLStrict=s.decodeHTML5Strict=s.decodeHTML4Strict=s.decodeHTML5=s.decodeHTML4=s.decodeHTMLStrict=s.decodeHTML=s.decodeXML=s.encodeHTML5=s.encodeHTML4=s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=s.encode=s.decodeStrict=s.decode=void 0;var o=e(44076),m=e(87322);function d(v,b){return(!b||b<=0?o.decodeXML:o.decodeHTML)(v)}s.decode=d;function u(v,b){return(!b||b<=0?o.decodeXML:o.decodeHTMLStrict)(v)}s.decodeStrict=u;function g(v,b){return(!b||b<=0?m.encodeXML:m.encodeHTML)(v)}s.encode=g;var y=e(87322);Object.defineProperty(s,"encodeXML",{enumerable:!0,get:function(){return y.encodeXML}}),Object.defineProperty(s,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(s,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return y.escape}}),Object.defineProperty(s,"escapeUTF8",{enumerable:!0,get:function(){return y.escapeUTF8}}),Object.defineProperty(s,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(s,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var w=e(44076);Object.defineProperty(s,"decodeXML",{enumerable:!0,get:function(){return w.decodeXML}}),Object.defineProperty(s,"decodeHTML",{enumerable:!0,get:function(){return w.decodeHTML}}),Object.defineProperty(s,"decodeHTMLStrict",{enumerable:!0,get:function(){return w.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML4",{enumerable:!0,get:function(){return w.decodeHTML}}),Object.defineProperty(s,"decodeHTML5",{enumerable:!0,get:function(){return w.decodeHTML}}),Object.defineProperty(s,"decodeHTML4Strict",{enumerable:!0,get:function(){return w.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML5Strict",{enumerable:!0,get:function(){return w.decodeHTMLStrict}}),Object.defineProperty(s,"decodeXMLStrict",{enumerable:!0,get:function(){return w.decodeXML}})},16129:z=>{"use strict";const s={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3"};z.exports=s},14531:(z,s,e)=>{"use strict";e.d(s,{A:()=>o});const o={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(z,s,e)=>{"use strict";e.d(s,{Substitutions:()=>o});const o={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(z,s,e)=>{"use strict";e.d(s,{B8:()=>M,BZ:()=>P,O1:()=>R,Po:()=>S,Ui:()=>a,Vn:()=>_,WZ:()=>l,Wn:()=>D,b6:()=>C,lc:()=>E,sn:()=>O});var o=e(4605),m=e(3258),d=e(58884),u=e(39419),g=e.n(u),y=e(15045),w=e(70444),v=e(83322);function b(N,T,A){const{shareUrl:F,post:U,pub:G,utm_campaign:J}=A;(0,m.j)(m.FP.SHARE_LINK_CLICKED,{name:N,post_id:U?U.id:null,source:J});const Q=T(F);Q&&typeof Q=="string"&&(Q.startsWith("http")?window.open(Q,"_blank"):document.location.href=Q),(0,d.ex)(`${G==null?void 0:G.subdomain} shared`,!0)}function D(N){const{pub:T,post:A,sharingSelfPub:F,shareName:U}=N,G=(T==null?void 0:T.twitter_screen_name)||T&&v.twitterScreenNames[T.subdomain];let J=U;T&&F?J="I just started a Substack! You can subscribe to it here":(T&&!A&&(J=`Subscribe to ${J}`),G&&(!A||T&&(!A.publishedBylines.length||A.publishedBylines.some(Q=>Q.id===T.author_id)))&&(J+=`, by @${G}`)),b("twitter",Q=>(0,y.pathWithQuery)("https://twitter.com/share",{url:Q,text:J}),N)}function E(N){b("linkedin",T=>(0,y.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:T}),N)}function O(N){b("reddit",T=>(0,y.pathWithQuery)("https://www.reddit.com/submit/",{url:T,title:N.shareName}),N)}function C(N){b("hackernews",T=>(0,y.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:T,title:N.shareName}),N)}function _(N){b("pinterest",T=>(0,y.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:T,description:N.shareName}),N)}function a(N){b("copy",T=>((0,u.copyToClipboard)(T),!1),N),(0,o.ZP)("Link copied to clipboard")}function l(N){b("email",T=>(0,y.pathWithQuery)("mailto:",{subject:N.shareName,body:T}),N)}function P(N){b("notes",T=>(0,y.pathWithQuery)((0,w.TK)({message:T})),N)}function S(N){b("facebook",T=>(0,y.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:T}),N)}function M(N={}){const{post:T,pub:A,profile:F}=N;return T?T.title:A?A.name:F?`${F.name} on Substack`:document.title}function R(N,T={}){const{pub:A,post:F,profile:U,user:G,utm_campaign:J,medium:Q}=T,te={r:G!=null&&G.id?G.id.toString(36):null,utm_campaign:J||(F?"post":U?"profile":A?"pub":"unknown"),utm_medium:Q||"web",utm_source:N};return A!=null&&A.subdomain&&(F!=null&&F.slug)?(0,y.getPostAppLinkUrl)(A.subdomain,F.slug,{params:te}):(0,y.pathWithQuery)(`${F?(0,y.getPostUrl)(A,F):A?`${A.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,te)}},36487:(z,s,e)=>{"use strict";e.d(s,{u:()=>m});var o=e(83322);function m(d){let u;try{u=new URL(d)}catch(w){return console.error("Failed to parse URL",d,w),d}u.hostname=u.hostname.replace(/^www\./,""),u.pathname=u.pathname.replace(/\/+$/,""),u.hash="";const g=[];u.hostname.includes("youtube")&&g.push("v"),u.searchParams.forEach((w,v)=>{g.includes(v)||u.searchParams.delete(v)});const y=u.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return y?(0,o.truncateText)(y,40):d}},55687:(z,s,e)=>{"use strict";e.d(s,{u:()=>m});const o=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function m(d){return o.format(d)}},80076:(z,s,e)=>{"use strict";e.d(s,{d:()=>o});function o(m){return Array.from(m.items).filter(d=>d.kind==="file"&&d.type.startsWith("image/")).length>0}},62952:(z,s,e)=>{"use strict";e.d(s,{h:()=>d});var o=e(30396),m=e(80076);function d({onAddFiles:u}){const g=(0,o.sO)(),y=(0,o.sO)(),[w,v]=(0,o.eJ)(!1),b=C=>{C instanceof DragEvent&&!C.defaultPrevented&&C.dataTransfer&&(0,m.d)(C.dataTransfer)&&(C.preventDefault(),u(Array.from(C.dataTransfer.files)),v(!1))},D=C=>{const{current:_}=g,{target:a}=C;!w&&_&&a&&a instanceof HTMLDivElement&&(_===a||_.contains(a))&&C.dataTransfer&&(0,m.d)(C.dataTransfer)&&(C.preventDefault(),y.current=a,v(!0))},E=C=>{y.current&&C.preventDefault()},O=C=>{const{current:_}=y;_&&C.relatedTarget!==_&&!_.contains(C.relatedTarget)&&(y.current=void 0,v(!1))};return{isDragging:w,props:{onDragEnter:D,onDragOver:E,onDragLeave:O,onDragEnd:O,onDrop:b,ref:g}}}},4070:(z,s,e)=>{"use strict";e.d(s,{Z:()=>G});var o=e(30396);function m(te){var ee,L;let V=0;if(te)if(te.content&&te.content.length>0)for(const ne of te.content)V+=m(ne);else V+=(L=(ee=te.text)==null?void 0:ee.length)!=null?L:0;return V}var d=e(83322),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(te,ee,L)=>ee in te?u(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,E=(te,ee)=>{for(var L in ee||(ee={}))v.call(ee,L)&&D(te,L,ee[L]);if(w)for(var L of w(ee))b.call(ee,L)&&D(te,L,ee[L]);return te},O=(te,ee)=>g(te,y(ee));function C(te,{limit:ee=420}={}){var L,V,ne,ae;let fe=null,le=0,re=!1;if(te)if(ee<=0)re=!0;else if(te.content&&te.content.length>0){fe=O(E({},te),{content:[]});for(const $ of te.content){const oe=C($,{limit:ee-le});if(oe.doc){if((L=fe.content)==null||L.push(oe.doc),le+=oe.length,oe.isTruncated){re=!0;break}}else{re=!0;break}}}else fe=O(E({},te),{text:(V=(0,d.truncateText)(te.text,ee))!=null?V:void 0}),le+=(ae=(ne=fe.text)==null?void 0:ne.length)!=null?ae:0,te.text!==fe.text&&(re=!0);return{doc:fe,length:le,isTruncated:re}}var _=e(36487),a=Object.defineProperty,l=Object.defineProperties,P=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,N=(te,ee,L)=>ee in te?a(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,T=(te,ee)=>{for(var L in ee||(ee={}))M.call(ee,L)&&N(te,L,ee[L]);if(S)for(var L of S(ee))R.call(ee,L)&&N(te,L,ee[L]);return te},A=(te,ee)=>l(te,P(ee));const F=420,U=380;function G(te,{limit:ee=F,triggerLimit:L=U}={}){return(0,o.Ye)(()=>{var V;const ne=(V=te==null?void 0:te.body_json)!=null?V:te!=null&&te.body?J(te.body):null,ae=Q(ne);if(m(ae)<=L)return{bodyJson:ae,truncatedBodyJson:ae,isTruncated:!1};const fe=C(ae,{limit:ee});return{bodyJson:ae,truncatedBodyJson:fe.doc,isTruncated:fe.isTruncated}},[te==null?void 0:te.body,te==null?void 0:te.body_json])}function J(te){return{type:"dov",attrs:{schemaVersion:"v1"},content:te.split(`

`).map(ee=>({type:"paragraph",content:[{type:"text",text:ee}]}))}}function Q(te){var ee,L;let V=null;if(te)if(V=A(T({},te),{content:void 0,text:void 0}),te!=null&&te.content){V.content=[];for(const ne of te.content){const ae=Q(ne);ae&&V.content.push(ae)}}else{const ne=(ee=te.marks)==null?void 0:ee.find(ae=>ae.type==="link");(L=ne==null?void 0:ne.attrs)!=null&&L.href?V.text=(0,_.u)(ne.attrs.href):V.text=te.text}return V}},95582:(z,s,e)=>{"use strict";e.d(s,{L:()=>d});var o=e(30396),m=(u,g,y)=>new Promise((w,v)=>{var b=O=>{try{E(y.next(O))}catch(C){v(C)}},D=O=>{try{E(y.throw(O))}catch(C){v(C)}},E=O=>O.done?w(O.value):Promise.resolve(O.value).then(b,D);E((y=y.apply(u,g)).next())});function d(u,g){const[y,w]=(0,o._Y)(u,g),v=(0,o.sO)(y);v.current=y;const b=(0,o.Ye)(()=>D=>m(this,null,function*(){if(typeof D=="function")return yield D(b,()=>v.current);w(D)}),[]);return[y,b]}},92298:(z,s,e)=>{"use strict";e.d(s,{j:()=>v,l:()=>b});var o=Object.defineProperty,m=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,g=(D,E,O)=>E in D?o(D,E,{enumerable:!0,configurable:!0,writable:!0,value:O}):D[E]=O,y=(D,E)=>{for(var O in E||(E={}))d.call(E,O)&&g(D,O,E[O]);if(m)for(var O of m(E))u.call(E,O)&&g(D,O,E[O]);return D};let w={};function v(D){w=y({},D)}function b(){return y({},w)}},8461:(z,s,e)=>{"use strict";e.d(s,{IU:()=>w});var o=e(15045),m=e(83322),d=e(86405),u=e(28876),g=e(32081);function y(E,O,{quantity:C=1,plan:_,isSubscription:a,coupon:l}){var P;const S=(E/100).toFixed(2),M=(E/C/100).toFixed(2);O=O.toUpperCase(),w();const R=getConfig(),N=getPublicationFbPixelId();N&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Purchase&cd[value]=${S}&cd[currency]=${O}`),N&&a&&(new Image().src=`https://www.facebook.com/tr?id=${N}&ev=Subscribe&cd[value]=${S}&cd[currency]=${O}`),recordTwitterEvent("purchase",{price:Number(M),quantity:C});const T=randomString(),A=((P=_.amount)!=null?P:0)*C;let F;l&&l.percent_off?F=Math.round(A*((l.percent_off_precise||l.percent_off)/100)):l&&l.amount_off&&(F=Math.max(0,l.amount_off));const U=_.name;sendPublisherGa4Event("purchase",{transaction_id:T,value:S,currency:O,coupon:(l==null?void 0:l.name)||(l==null?void 0:l.id),items:[{item_id:_&&_.id,item_name:_&&(U||_.nickname||_.id)||"subscription",coupon:(l==null?void 0:l.name)||(l==null?void 0:l.id),discount:F,index:0,price:M,quantity:C}]}),sendPublisherGaEvent("transaction",{ti:T,tr:S,cu:O}),sendPublisherGaEvent("item",{ti:T,in:_&&(U||_.nickname||_.id)||"subscription",ip:M,iq:C,ic:_&&_.id,cu:O});const G="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",R!=null&&R.adwordsAccountId&&(R!=null&&R.adwordsEventSendTo)?{send_to:`${R.adwordsAccountId}/${G}`}:{});const J=b();if(J){const{id:Q,label:te}=J;new Image().src=`//www.googleadservices.com/pagead/conversion/${Q}/?value=${S}&currency_code=${O}&label=${te}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${_&&(U||_.nickname||_.id)||""} Subscription`),D()==="bankless"){const Q=_?`paid_${_.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:Q})),page()}}function w(){const E=(0,u.iE)();if(E.properties.is_free_subscribed)return;E.properties.is_free_subscribed=!0,(0,u.Hx)("sign_up"),(0,u.XY)("event",{ec:"Signup",ea:"Signup Success"});const O="Yo9oCMOM1MYDEKuN5pYB";(0,u.NA)("conversion",E!=null&&E.adwordsAccountId&&(E!=null&&E.adwordsEventSendTo)?{send_to:`${E.adwordsAccountId}/${O}`}:{});const C=(0,u.xL)();C&&(new Image().src=`https://www.facebook.com/tr?id=${C}&ev=CompleteRegistration`),(0,d.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),D()==="bankless"&&(window.history.replaceState({},document.title,(0,o.updateQuery)({plan:"free"})),(0,g.Md)())}function v(E={}){sendLocalGaEvent("Publication Created",E)}function b(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function D(){var E,O;const C=typeof window!="undefined"&&((E=window._preloads)==null?void 0:E.pub);return((O=C==null?void 0:C.parent_publication)==null?void 0:O.subdomain)||(C==null?void 0:C.subdomain)}},3258:(z,s,e)=>{"use strict";e.d(s,{A:()=>d.A,FP:()=>d.FP,IU:()=>o.IU,K8:()=>d.K8,XY:()=>m.XY,j:()=>d.j,jA:()=>d.jA,jJ:()=>d.jJ,uF:()=>u.S,x6:()=>d.x6,xG:()=>d.xG});var o=e(8461),m=e(28876),d=e(32081),u=e(31256)},31256:(z,s,e)=>{"use strict";e.d(s,{S:()=>y});var o=e(39419),m=e.n(o),d=e(28876),u=e(32081);let g=null;function y(){var w;typeof window!="undefined"&&((w=window==null?void 0:window.navigator)!=null&&w.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,d.LH)(),(0,d.dl)(),(0,d.jP)(),(0,u.Md)(),(0,o.windowReady)(()=>{const v=g;g=null,v&&v.length>0&&(0,u.At)(v)})}},31032:(z,s,e)=>{"use strict";e.d(s,{W:()=>m});var o=e(83322);const m=(0,o.randomString)()},28876:(z,s,e)=>{"use strict";e.d(s,{Hx:()=>D,LH:()=>C,NA:()=>E,XY:()=>O,dl:()=>v,iE:()=>b,jP:()=>_,xL:()=>l});var o=e(15045),m=e(39776),d=e(39419),u=e.n(d),g=e(31032);function y(P,{toHead:S=!1}={}){(0,d.windowReady)(()=>{const M=document.createElement("script");if(M.async=!0,M.src=P,S)document.head.appendChild(M);else{const R=document.getElementsByTagName("script")[0];R.parentNode&&R.parentNode.insertBefore(M,R)}})}function w(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function v(){var P,S,M;if(typeof window=="undefined")return;const R=(S=(P=window==null?void 0:window._preloads)==null?void 0:P.pub)==null?void 0:S.google_tag_manager_token;if(!R)return;const N=w();if(R===N)return;window.dataLayer=window.dataLayer||[],(0,m.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const T=b();(M=T.user)!=null&&M.id&&window.dataLayer.push({userId:T.user.id.toString()}),y(`https://www.googletagmanager.com/gtm.js?id=${R}`,{toHead:!0})}function b(){let P;return typeof window!="undefined"&&(P=window._analyticsConfig),P||(P={}),P.properties||(P.properties={}),P.properties.browserSessionId=g.W,P}function D(P,S={}){var M;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const R=b();(M=R.user)!=null&&M.id&&(S.user_id=R.user.id.toString()),R.anonymousId&&(S.client_id=R.anonymousId),window.publisherGA4gtag("event",P,S)}function E(P,S){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",P,S)}function O(P,S={}){var M;const R=b(),N=a();if(!N)return;const T=(0,o.parseQuery)(window.location.href);S=Object.assign({v:1,t:P,tid:N,cid:R.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:T.utm_campaign,cs:T.utm_source,cm:T.utm_medium,ck:T.utm_term,cc:T.utm_content,ci:T.utm_id},S),(M=R.user)!=null&&M.id&&(S.uid=R.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,o.serializeQuery)(S)}`}function C(){var P;if(typeof window=="undefined")return;const S=w();if(!S)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var R;(R=window.GA4DataLayer)==null||R.push(arguments)},window.publisherGA4gtag("js",new Date),window.publisherGA4gtag("config",S);const M=b();(P=M.user)!=null&&P.id&&window.publisherGA4gtag("config",S,{user_id:M.user.id.toString()}),M.anonymousId&&window.publisherGA4gtag("set","client_id",M.anonymousId),y(`https://www.googletagmanager.com/gtm.js?id=${S}&l=GA4DataLayer`,{toHead:!0})}function _(){var P;if(typeof window=="undefined")return;const S=b();!S.localGaPixelId&&!S.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var M;(M=window==null?void 0:window.localGaDataLayer)==null||M.push(arguments)},window.gtag("js",new Date),S.localGaPixelId&&window.gtag("config",S.localGaPixelId),S.adwordsAccountId&&window.gtag("config",S.adwordsAccountId),(P=S.user)!=null&&P.id&&window.gtag("userId",S.user.id.toString()),y(`https://www.googletagmanager.com/gtag/js?id=${S.localGaPixelId}&l=localGaDataLayer`))}function a(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function l(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(z,s,e)=>{"use strict";e.d(s,{A:()=>T,At:()=>L,FP:()=>S,K8:()=>J,Md:()=>te,j:()=>A,jA:()=>Q,jJ:()=>U,x6:()=>F,xG:()=>G});var o=e(85928),m=e.n(o),d=e(44043),u=e(15045),g=e(63830),y=e(86405),w=e(39419),v=e.n(w),b=e(92298),D=e(31032),E=e(28876),O=Object.defineProperty,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(ne,ae,fe)=>ae in ne?O(ne,ae,{enumerable:!0,configurable:!0,writable:!0,value:fe}):ne[ae]=fe,P=(ne,ae)=>{for(var fe in ae||(ae={}))_.call(ae,fe)&&l(ne,fe,ae[fe]);if(C)for(var fe of C(ae))a.call(ae,fe)&&l(ne,fe,ae[fe]);return ne};const S=d.F,M=10,R=typeof window!="undefined"&&window!=window.top&&(0,g.l)(w.uuidV4),N=null;function T(){return R}function A(ne,ae={}){var fe;if(["development","test"].includes((fe="production")!=null?fe:"")&&!ne)throw new Error("`undefined` event passed to FRONTEND track call");ee(ne,Object.assign({},ae))}function F(ne,ae,fe={}){A(S.PUBLICATION_VISITED,P({visited_publication_id:ne.id,visited_publication_subdomain:ne.subdomain,source:ae},fe))}function U({post:ne,hasPaywall:ae,surface:fe}){A(S.POST_SEEN,{post_id:ne.id,post_audience:ne.audience,post_type:ne.type,has_paywall:ae,post_age_minutes:ne.post_date&&m()().diff(ne.post_date,"minute"),surface:fe})}function G({post:ne,hasPaywall:ae,surface:fe}){A(S.POST_BOTTOM_SEEN,{post_id:ne.id,post_audience:ne.audience,post_type:ne.type,has_paywall:ae,surface:fe})}function J({post:ne}){ne!=null&&ne.id&&(A(S.POST_PAGE_PINGBACK,{seconds:0,post_id:ne.id}),setTimeout(()=>{A(S.POST_PAGE_PINGBACK,{seconds:10,post_id:ne.id})},1e4))}function Q({previous:ne,url:ae}){ne&&(ae.includes("_no_an=true")||te())}function te(ne={}){var ae,fe;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((fe=(ae=window==null?void 0:window._preloads)==null?void 0:ae.pub)!=null&&fe.embed_tracking_disabled))return;ee(S.PAGES,Object.assign(V(),ne));const le=(0,E.xL)();le&&(new Image().src=`https://www.facebook.com/tr?id=${le}&ev=PageView`),(0,y.g)("pageview"),(0,E.XY)("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function ee(ne,ae={}){var fe,le;if(typeof window=="undefined")return;const re={event:ne,properties:Object.assign({browserSessionId:D.W,iframeVisitId:R},ae),context:{client_type:"web",page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,b.l)()}},$=(0,w.base64encode)(JSON.stringify(re));N&&N.length<M?N.push($):new Image().src=(0,u.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:$}),(le=(fe=window==null?void 0:window._preloads)==null?void 0:fe.user)!=null&&le.is_global_admin&&console.log(`EVENT: ${ne}`,ae)}function L(ne){typeof window!="undefined"&&(new Image().src=(0,u.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:ne.join(",")}))}function V(){const ne={};if(typeof window!="undefined"){const ae=window._preloads&&window._preloads.post,fe=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);fe&&ae&&fe[1]===ae.slug&&(ne.post_id=ae.id,ne.post_audience=ae.audience,ne.post_type=ae.type)}return ne}},66141:(z,s,e)=>{"use strict";e.d(s,{Z:()=>D});var o=e(15103),m=e(48583),d=e(95495),u=e(3258),g=e(85928),y=e.n(g),w=e(58884);const v=()=>{},b=(0,d.xu)(O=>(0,o.cn)({key:O,value:!1}));function D(O,C=null,_=v){const[a,l]=(0,m.KO)(b(O));if(!O)return[!0,v];const P=()=>{_(),(0,u.j)(u.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:O});const M=new Date;(0,w.ex)(O,M.toString()),l({key:O,value:!0})};return[a.value||E(O,C),P]}function E(O,C){let _;const a=typeof window=="undefined"?new Date().toString():(0,w.mM)(O);return a&&C?_=y()(a).add(C,"second").isAfterNow():_=!!a,_}},63030:(z,s,e)=>{"use strict";e.r(s),e.d(s,{getNewPubPodcastSettings:()=>l,getNewSectionPodcastSettings:()=>_,getPodcastEpisodeImageUrl:()=>P,getPubPodcastSettings:()=>a,getSectionPodcastSettings:()=>C});var o=e(15045),m=e(83322),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(S,M,R)=>M in S?d(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,D=(S,M)=>{for(var R in M||(M={}))w.call(M,R)&&b(S,R,M[R]);if(y)for(var R of y(M))v.call(M,R)&&b(S,R,M[R]);return S},E=(S,M)=>u(S,g(M));const O=S=>{if(!S)return[];const M=[];for(const R of S){if(M.length===2)break;const N=R.toLowerCase();for(const[T,A]of Object.entries(m.PODCAST_CATEGORIES)){if(M.length===2)break;if(T.toLowerCase()===N||T.toLowerCase().split(" & ").includes(N)){M.push({category:T});break}for(const F of A){if(M.length===2)break;if(F.toLowerCase()===N||F.toLowerCase().split(" & ").includes(N)){M.push({category:T,subcategory:F});break}}}}return M},C=({pub:S,section:M})=>{var R,N,T,A,F,U,G,J;const Q=M==null?void 0:M.podcastSettings,te=(N=(R=Q==null?void 0:Q.podcast_title)!=null?R:M==null?void 0:M.name)!=null?N:null,ee=(A=(T=Q==null?void 0:Q.podcast_description)!=null?T:M==null?void 0:M.description)!=null?A:null,L=(F=Q==null?void 0:Q.itunes_podcast_primary_category)!=null?F:null,V=(U=Q==null?void 0:Q.itunes_podcast_primary_subcategory)!=null?U:null,ne=(G=Q==null?void 0:Q.itunes_podcast_secondary_category)!=null?G:null,ae=(J=Q==null?void 0:Q.itunes_podcast_secondary_subcategory)!=null?J:null,fe=(Q==null?void 0:Q.itunes_explicit)||!1,le=(Q==null?void 0:Q.podcast_art_url)||(0,o.getDefaultPodcastArtUrlCDN)(),re=(Q==null?void 0:Q.paid_podcast_episode_art_url)||null,$=(Q==null?void 0:Q.podcast_byline)||S.podcast_byline||S.author_name||"",oe=(Q==null?void 0:Q.language)||S.podcast_language||"",se=!!Q&&!!Q.podcast_feed_url,ce=se?Q.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:E(D({},S),{section:M})});return{title:te,description:ee,primaryCategory:L,primarySubcategory:V,secondaryCategory:ne,secondarySubcategory:ae,isExplicit:fe,artUrl:le,byline:$,language:oe,isRedirected:se,podcastRssUrl:ce,paidEpisodeArtUrl:re}},_=({pub:S,section:M})=>{var R,N;const T=(R=M==null?void 0:M.name)!=null?R:null,A=(N=M==null?void 0:M.description)!=null?N:null,F=null,U=null,G=null,J=null,Q=!1,te=(0,o.getDefaultPodcastArtUrlCDN)(),ee=S.podcast_byline||S.author_name||"",L=S.podcast_language||"";return{title:T,description:A,primaryCategory:F,primarySubcategory:U,secondaryCategory:G,secondarySubcategory:J,isExplicit:Q,artUrl:te,byline:ee,language:L,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},a=({pub:S})=>{var M,R;const N=S.podcast_title||S.name,T=S.podcast_description||S.hero_text,A=S.itunes_podcast_primary_category,F=S.itunes_podcast_primary_subcategory,U=S.itunes_podcast_secondary_category,G=S.itunes_podcast_secondary_subcategory,J=(M=S.itunes_explicit)!=null?M:!1,Q=S.podcast_art_url||(0,o.getDefaultPodcastArtUrlCDN)(),te=S.podcast_byline||S.author_name,ee=S.podcast_language||"",L=!!S.show_pub_podcast_tab,V=!!S.podcast_feed_url,ne=D({},S);delete ne.section;const ae=V?S.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:ne});return{title:N,description:T,primaryCategory:A,primarySubcategory:F,secondaryCategory:U,secondarySubcategory:G,isExplicit:J,artUrl:Q,byline:te,language:ee,isRedirected:V,podcastRssUrl:ae,showPodcastTab:L,paidEpisodeArtUrl:(R=S.paid_podcast_episode_art_url)!=null?R:null}},l=({pub:S,publication:M})=>{var R,N,T;const[A,F]=O(M.tags.map(({canonical_name:le})=>le)),U=`${S.name} Podcast`,G=S.hero_text,J=A==null?void 0:A.category,Q=(R=A==null?void 0:A.subcategory)!=null?R:null,te=F==null?void 0:F.category,ee=(N=F==null?void 0:F.subcategory)!=null?N:null,L=S.explicit||!1,V=(0,o.getDefaultPodcastArtUrlCDN)(),ne=S.author_name;return{title:U,description:G,primaryCategory:J,primarySubcategory:Q,secondaryCategory:te,secondarySubcategory:ee,isExplicit:L,artUrl:V,byline:ne,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(T=S.paid_podcast_episode_art_url)!=null?T:null}};function P(S,M){return(M==null?void 0:M.cover_image)||(M==null?void 0:M.podcast_art_url)||(S==null?void 0:S.podcast_art_url)}},69229:(z,s,e)=>{"use strict";e.d(s,{b:()=>u});var o=e(85928),m=e.n(o);function d(g){var y;return`${[g.is_primary,((y=g.publication)==null?void 0:y.author_id)===g.user_id,g.role==="admin",g.role==="contributor"].map(v=>v?"0":"1").join("")}-${m()(g.created_at).valueOf()}`}function u(g){return g.slice(0).sort((y,w)=>d(y)>d(w)?1:-1)}},16527:(z,s,e)=>{"use strict";e.d(s,{Q:()=>m});var o=e(20042);function m(d,u,{native:g=!1,newTab:y=!1}={}){d.defaultPrevented||(d.preventDefault(),g?y||d.metaKey||d.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:u}).click():window.location.assign(u):(0,o.route)(u))}},86405:(z,s,e)=>{"use strict";e.d(s,{g:()=>w});var o=e(20501);const m=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,d=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,u=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,g=(v,b=null)=>{const D=m();if(!D)return;const E={p_id:"Twitter",p_user_id:0,txn_id:D,events:JSON.stringify([[v,b]]),tw_sale_amount:(b==null?void 0:b.value)||0,tw_order_quantity:(b==null?void 0:b.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};y(E)},y=v=>{new Image().src=`https://t.co/i/adsct?${(0,o.serializeQuery)(v)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,o.serializeQuery)(v)}`},w=(v,{quantity:b,price:D}={})=>{if(v==="purchase"){const E=u();E&&typeof window.twq=="function"&&window.twq("event",E),g("purchase",{num_items:b,value:D})}else if(v==="signup"){const E=d();E&&typeof window.twq=="function"&&window.twq("event",E),g("signup")}else g("pageview")}},8479:(z,s,e)=>{"use strict";e.d(s,{NL:()=>Q,Wf:()=>T,do:()=>N,ib:()=>J,kp:()=>ee,rd:()=>te,x8:()=>A});var o=e(30396),m=e(28599),d=e.n(m),u=e(73955),g=e.n(u),y=e(80569),w=e.n(y),v=e(39419),b=e.n(v),D=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(ne,ae,fe)=>ae in ne?D(ne,ae,{enumerable:!0,configurable:!0,writable:!0,value:fe}):ne[ae]=fe,P=(ne,ae)=>{for(var fe in ae||(ae={}))_.call(ae,fe)&&l(ne,fe,ae[fe]);if(C)for(var fe of C(ae))a.call(ae,fe)&&l(ne,fe,ae[fe]);return ne},S=(ne,ae)=>E(ne,O(ae)),M=(ne,ae)=>{var fe={};for(var le in ne)_.call(ne,le)&&ae.indexOf(le)<0&&(fe[le]=ne[le]);if(ne!=null&&C)for(var le of C(ne))ae.indexOf(le)<0&&a.call(ne,le)&&(fe[le]=ne[le]);return fe},R=(ne,ae,fe)=>new Promise((le,re)=>{var $=ce=>{try{se(fe.next(ce))}catch(de){re(de)}},oe=ce=>{try{se(fe.throw(ce))}catch(de){re(de)}},se=ce=>ce.done?le(ce.value):Promise.resolve(ce.value).then($,oe);se((fe=fe.apply(ne,ae)).next())});const N={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function T(ne,ae,{auto:fe,initialResult:le}={}){const[re,$]=(0,o.eJ)({result:le||null,isLoading:!!fe,hasLoadedOnce:!1,error:null,promise:null}),oe=()=>{$(S(P({},re),{error:null}))},se=(de={})=>{var be=de,{abortController:pe=new(d())}=be,we=M(be,["abortController"]);const xe=ne(S(P({},we),{signal:pe.signal})).then(Ue=>{if(!pe.signal.aborted)return $({isLoading:!1,hasLoadedOnce:!0,error:null,result:Ue,promise:null}),Ue},Ue=>{if(!pe.signal.aborted)return console.error("There was an error fetching resource",Ue),$(De=>S(P({},De),{isLoading:!1,error:Ue,result:null,promise:null})),Ue});return $(Ue=>S(P({},Ue),{isLoading:!0,error:null,promise:xe})),xe},ce=de=>{$(be=>S(P({},be),{error:null,result:de,isLoading:!1,promise:null}))};return(0,o.d4)(()=>{if(fe){const de=new(d());return se({abortController:de}),()=>{de.abort()}}},ae||[]),S(P({},re),{refetch:se,setResult:ce,clearError:oe})}function A(ne,ae){switch(ae.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const fe=ne.slice(),{page:le,id:re}=ae.payload;return fe[le]={result:null,id:re,isLoading:!0,error:null},fe}case"page_load":{const{id:fe,result:le}=ae.payload;return ne.map(re=>re.id===fe?S(P({},re),{isLoading:!1,result:le,error:null}):re)}case"page_error":{const{id:fe,error:le}=ae.payload;return ne.map(re=>re.id===fe?S(P({},re),{isLoading:!1,result:null,error:le}):re)}}return ne}function F(ne,ae,{auto:fe,initialResult:le,pages:re,dispatch:$}={}){var oe;const[se,ce]=(0,o._Y)(A,[{result:le||null,isLoading:!!fe,error:null}]),de=re!=null?re:se,be=$!=null?$:ce,pe=(_e={})=>{var ie=_e,{abortController:ve=new(d()),page:he=de.length}=ie,Le=M(ie,["abortController","page"]);const He=de[he-1],ht=g()();return be({type:"page_start",payload:{page:he,id:ht}}),ne({options:Le,signal:ve.signal,page:he,lastPage:He}).then(bt=>{if(!ve.signal.aborted)return be({type:"page_load",payload:{page:he,id:ht,result:bt}}),bt},bt=>{if(!ve.signal.aborted)return be({type:"page_error",payload:{page:he,id:ht,error:bt}}),bt})},we=_e=>(be({type:"page_reset"}),pe(S(P({},_e),{page:0})));(0,o.d4)(()=>{if(fe){const _e=new(d());return we({abortController:_e}),()=>{_e.abort()}}},ae||[]);let xe=!1;const Ue=()=>R(this,null,function*(){if(!xe){const _e=de[de.length-1];if(!_e.isLoading&&!_e.error)return xe=!0,yield pe()}}),De=de[de.length-1];return{pages:de,page:de.length,lastPage:De,fetchMore:Ue,canFetchMore:De&&!De.isLoading&&!De.error,fetchFirstPage:we,hasLoadedOnce:!!((oe=de[0])!=null&&oe.result)}}function U(ne){var ae=ne,{auto:fe,initialResult:le,deps:re}=ae,$=M(ae,["auto","initialResult","deps"]);return T(oe=>R(this,null,function*(){var se=oe,{signal:ce}=se,de=M(se,["signal"]);const{pathname:be="",query:pe,body:we,method:xe="get"}=P(P({},$),de),Ue=request(xe.toUpperCase(),be);pe&&Ue.query(pe),we&&Ue.send(we),ce.addEventListener("abort",()=>{Ue.abort()});const De=yield Ue;if(ce.aborted)return;const _e=De.error;if(_e)throw _e;return De.body}),re||[],{auto:fe,initialResult:le})}const G=new Map;function J(ne){var ae=ne,{pathname:fe,auto:le,initialResult:re,deps:$,cacheTtl:oe}=ae,se=M(ae,["pathname","auto","initialResult","deps","cacheTtl"]);const ce=T(be=>{var pe=be,{pathname:we}=pe,xe=M(pe,["pathname"]);if(!fe)throw new Error("useFetch requires a pathname");if(oe){const De=G.get(fe);if(De){const{ts:_e,ttl:ie,promise:ve}=De;if(_e+ie>Date.now())return ve}}const Ue=te(we!=null?we:fe,P(P({},se),xe));return oe&&G.set(fe,{ts:Date.now(),ttl:oe,promise:Ue}),Ue},$||[],{auto:le,initialResult:re}),de=be=>{fe&&oe&&G.set(fe,{ts:Date.now(),ttl:oe,promise:Promise.resolve(be)}),ce.setResult(be)};return S(P({},ce),{setResult:de})}function Q(ne){var ae=ne,{pathname:fe,auto:le,initialResult:re,deps:$,getPageInit:oe,pages:se,dispatch:ce}=ae,de=M(ae,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return F(({page:be,lastPage:pe,options:we})=>{if(!fe)throw new Error("useFetch requires a pathname");const xe=oe({init:P(P({},de),we),page:be,lastPage:pe});return te(fe,xe)},$||[],{auto:le,initialResult:re,pages:se,dispatch:ce})}function te(ne){return R(this,arguments,function*(ae,fe={}){var le;const $=P({cache:"no-cache"},fe),{query:oe,json:se}=$,ce=M($,["query","json"]);let de=ae;if(oe){let pe;oe instanceof URLSearchParams?pe=oe:pe=new URLSearchParams(Object.entries(oe).reduce((xe,[Ue,De])=>(De!==void 0&&(Array.isArray(De)?De.forEach(_e=>{_e!==void 0&&xe.push([Ue,_e])}):xe.push([Ue,De])),xe),[]));const we=pe.toString();we&&(ae.indexOf("?")!==-1?de+=`&${we}`:de+=`?${we}`)}se&&(ce.body=JSON.stringify(se),ce.headers instanceof Headers||(ce.headers=new Headers(ce.headers)),ce.headers.set("Content-Type","application/json"));const be=yield fetch(de,ce);if(!be.ok){let pe;try{pe=yield be.json()}catch(we){pe={}}throw new ee(be,pe)}return["DELETE","HEAD"].includes((le=ce==null?void 0:ce.method)!=null?le:"")?{}:be.json()})}class ee extends Error{constructor(ae,fe){super(),this.response=ae,this.body=fe}getMessage(ae){return(0,v.getNetworkErrorMessageFromResponse)(this.body,ae)}}function L(ne,ae="Something went wrong."){return ne instanceof ee?ne.getMessage():ae}function V(ne,ae,fe){const[le,re]=useState(null);return useCallback((...$)=>{clearTimeout(le),re(null),re(setTimeout(()=>ne(...$),ae))},[le,...fe])}},11533:(z,s,e)=>{"use strict";e.d(s,{j:()=>d});var o=e(30396),m=e(20042);function d(g,y){(0,o.d4)(()=>{const w=v=>{g(v)};return m.subscribers.push(w),()=>{m.subscribers.splice(m.subscribers.indexOf(w)>>>0,1)}},y)}function u({path:g}={}){const[y,w]=useState({}),v=useRef(null);d(E=>{v.current=E,w({})},[]);const b=v.current||getCurrentUrl(),D=b.replace(/\?.+$/,"");return v.current=null,[{url:b,path:D,matches:g&&exec(D,g,{})||null},route]}},26686:(z,s,e)=>{"use strict";e.d(s,{_:()=>w});var o=e(83757),m=e(8479),d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(v,b)=>{var D={};for(var E in v)u.call(v,E)&&b.indexOf(E)<0&&(D[E]=v[E]);if(v!=null&&d)for(var E of d(v))b.indexOf(E)<0&&g.call(v,E)&&(D[E]=v[E]);return D};function w(v,b={},D){var E=b,{deps:O,auto:C=!0}=E,_=y(E,["deps","auto"]);return(0,o.ZP)(C?O?[...O,v]:v:null,()=>(0,m.rd)(v,_),D)}},6742:(z,s,e)=>{"use strict";e.d(s,{UM:()=>g,th:()=>y});var o=e(30396),m=e(39419),d=e.n(m);function u(w,v,{root:b,threshold:D=0,rootMargin:E,disabled:O=!1}={}){(0,o.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!w.current||O)return;const C=new IntersectionObserver(a=>{v(a.some(l=>l.isIntersecting))},{root:b,threshold:D,rootMargin:E});C.observe(w.current);function _(){C.disconnect()}return _},[w,v,b,D,E,O])}function g(w,v,{root:b,threshold:D=0,rootMargin:E,disabled:O=!1}={}){const C=(0,o.sO)(!1),_=(0,o.I4)(a=>{a&&!C.current&&(C.current=!0,v())},[v,C]);u(w,_,{root:b,threshold:D,rootMargin:E,disabled:O||C.current})}function y(w){const[v,b]=(0,o.eJ)(!1);return(0,o.d4)(()=>{const D=()=>{const E=(0,m.isWindowVisible)();b(E),w==null||w(E)};return(0,m.onWindowVisibilityChange)(D),()=>{(0,m.offWindowVisibilityChange)(D)}},[w]),v}},36868:(z,s,e)=>{"use strict";e.d(s,{P:()=>o});const o=(m,d)=>d.payments_state==="enabled"?m.is_subscribed:m.is_free_subscribed},62246:(z,s,e)=>{"use strict";e.d(s,{fe:()=>m.f,mz:()=>d.m,r6:()=>o.r,u_:()=>m.u,xB:()=>o.x});var o=e(28079),m=e(53940),d=e(29354)},21958:(z,s,e)=>{"use strict";e.d(s,{L:()=>_});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,O=(a,l)=>{for(var P in l||(l={}))b.call(l,P)&&E(a,P,l[P]);if(v)for(var P of v(l))D.call(l,P)&&E(a,P,l[P]);return a},C=(a,l)=>y(a,w(l));function _(a,l="div",P){return(0,m.forwardRef)((S,M)=>(0,o.createElement)(l,C(O(O({},P),S),{ref:M,className:u()(a,S==null?void 0:S.className)})))}},66399:(z,s,e)=>{"use strict";e.d(s,{HZ:()=>m.H,xu:()=>g.x,zx:()=>d.zx,hE:()=>u.h,XZ:()=>M.X,ji:()=>R.j,iz:()=>w.i,hs:()=>v.hs,tu:()=>v.tu,gq:()=>v.gq,hU:()=>d.hU,Tz:()=>y.Tz,u_:()=>E.u_,xB:()=>E.xB,xv:()=>a.xv,oi:()=>Q.o,gx:()=>J.g,FN:()=>P.FN,u:()=>l.u,pm:()=>P.pm,dd:()=>P.dd});var o=e(11059),m=e(83787),d=e(17685),u=e(91041),g=e(84606),y=e(15187),w=e(48960),v=e(51126),b=e(94016),D=e(56288),E=e(62246),O=e(76235),C=e(92106),_=e(65414),a=e(65919),l=e(92630),P=e(75425),S=e(69045),M=e(53570),R=e(71346),N=e(6400);const T={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},A=({children:V,label:ne})=>h(FlexColumn,null,ne&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},ne),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},V));var F=e(2019),U=e(96427);const G=({details:V,helpText:ne,label:ae,name:fe,options:le,paddingBottom:re,paddingTop:$,value:oe,onChange:se})=>h(Field,{label:ae,details:V,helpText:ne,paddingTop:$,paddingBottom:re,wrapWithLabel:!0},h(Select,{name:fe,value:oe,onChange:se},le.map(ce=>h("option",{value:ce.value},ce.label))));var J=e(27885),Q=e(34394),te=e(30396);const ee=({details:V,disabled:ne,helpText:ae,label:fe,paddingBottom:le,paddingTop:re,value:$,onChange:oe})=>{const se=useCallback(ce=>{oe(ce.target.value)},[oe]);return h(Field,{label:fe,details:V,helpText:ae,paddingTop:re,paddingBottom:le,wrapWithLabel:!0},h(TextInput,{disabled:ne,value:$,onChange:se}))},L=({details:V,disabled:ne,helpText:ae,label:fe,paddingBottom:le,paddingTop:re,value:$,onChange:oe})=>{const se=useCallback(ce=>{oe(ce.target.value)},[oe]);return h(Field,{details:V,helpText:ae,label:fe,paddingBottom:le,paddingTop:re,wrapWithLabel:!0},h(Textarea,{disabled:ne,value:$,onChange:se}))}},50292:(z,s,e)=>{"use strict";e.d(s,{SJ:()=>g});var o=e(6400),m=e(30396);const d=(0,o.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function u(y,{shouldShowGetAppPill:w=!0,style:v,alwaysPinTitle:b,backAction:D,onRefresh:E}={}){const O=g();return useLayoutEffect(()=>{O.setChildOptions({title:y,style:v,alwaysPinTitle:b,backAction:D,shouldShowGetAppPill:w,onRefresh:E})},[O,y,v,D,w,E]),useLayoutEffect(()=>{O.setPinTitle(!1)},[]),O}function g(){return(0,m.qp)(d)}},19696:(z,s,e)=>{"use strict";e.d(s,{L:()=>o.L});var o=e(21958)},41474:(z,s,e)=>{"use strict";e.d(s,{CD:()=>l,Kr:()=>N,MJ:()=>a,rw:()=>O,zi:()=>E});var o=e(3258),m=Object.defineProperty,d=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(T,A,F)=>A in T?m(T,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[A]=F,b=(T,A)=>{for(var F in A||(A={}))y.call(A,F)&&v(T,F,A[F]);if(g)for(var F of g(A))w.call(A,F)&&v(T,F,A[F]);return T},D=(T,A)=>d(T,u(A));function E(T,A,{extraEventProps:F={},tabId:U}={}){_("seen",T,A,{extraEventProps:F,tabId:U})}function O(T,A,F,{extraEventProps:U={},tabId:G}={}){_("clicked",T,A,{extraEventProps:D(b({clicked_element:F},U),{tabId:G})})}function C(T,A){var F,U,G,J;return{item_entity_key:"entity_key"in T?T.entity_key:"",item_type:T.type,item_context_type:"context"in T?T.context.type:"",item_context_timestamp:new Date("context"in T?T.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in T?(F=T.context.users[0])==null?void 0:F.id:void 0,item_publication_id:"publication"in T?(U=T.publication)==null?void 0:U.id:void 0,item_post_id:(G=T.post)==null?void 0:G.id,item_comment_id:(J=T.comment)==null?void 0:J.id,item_can_reply:"canReply"in T?T.canReply:!0,tab_id:A!=null?A:void 0}}function _(T,A,F,{extraEventProps:U={},tabId:G}={}){const J=C(A,G!=null?G:null);(0,o.j)(T==="seen"?o.FP.FEED_ITEM_SEEN:o.FP.FEED_ITEM_CLICKED,b(b({surface:F,tabId:G},J),U))}function a(T,A,{extraEventProps:F={}}={}){P("seen",T,A,{extraEventProps:F})}function l(T,A,F,{extraEventProps:U={}}={}){P("clicked",T,A,{extraEventProps:b({clicked_element:F},U)})}function P(T,A,F,{extraEventProps:U={}}={}){var G,J,Q,te;(0,o.j)(T==="seen"?o.FP.FEED_USER_SUGGESTION_SEEN:o.FP.FEED_USER_SUGGESTION_CLICKED,b({suggested_user_id:A.user.id,suggested_publication_id:(J=(G=A.publication)==null?void 0:G.id)!=null?J:null,suggestion_source:(Q=A.source)!=null?Q:null,suggestion_id:(te=A.id)!=null?te:null,surface:F},U))}function S(T,{utm_source:A}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:A,tab_id:T})}function M(T,{utm_source:A}={}){const F=C(T,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,b({utm_source:A},F))}function R(T){const A=C(T,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,b({},A))}function N(T,A,{tabId:F}={}){(0,o.j)(o.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:T,reason:A,tabId:F})}},91870:(z,s,e)=>{"use strict";e.d(s,{I0:()=>M,RR:()=>S,d6:()=>T,ev:()=>N,kc:()=>A});var o=e(6400),m=e(30396),d=e(70444),u=e(20501),g=e(95582),y=e(8479),w=e(39419),v=e.n(w),b=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(L,V,ne)=>V in L?b(L,V,{enumerable:!0,configurable:!0,writable:!0,value:ne}):L[V]=ne,l=(L,V)=>{for(var ne in V||(V={}))C.call(V,ne)&&a(L,ne,V[ne]);if(O)for(var ne of O(V))_.call(V,ne)&&a(L,ne,V[ne]);return L},P=(L,V)=>D(L,E(V));const S=(0,o.createContext)({dispatch:()=>{}});function M(){return(0,m.qp)(S).dispatch}const R={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,unhiddenReplyCommentIds:new Set},N=(0,o.createContext)(R);function T({initialItem:L}={}){return(0,g.L)(F,()=>L?G(R,L):R)}function A(){return(0,m.qp)(N)}function F(L,V){var ne,ae,fe,le;switch(V.type){case"sign_in":return P(l({},L),{lastDispatchType:V.type,isSigningIn:V.payload.isSigningIn,signInNoExit:(ne=V.payload.signInNoExit)!=null?ne:!1});case"page_load":{const{result:re}=V.payload;return P(l({},U(L,re.items)),{lastDispatchType:V.type,pages:(0,y.x8)(L.pages,V)})}case"post_load":{const{post:re,publication:$}=V.payload,oe=new Map(L.posts);oe.set(re.id,l(l({},oe.get(re.id)),re));const se=new Map(L.publications);return se.set($.id,l(l({},se.get($.id)),$)),P(l({},L),{posts:oe})}case"post_like":{const{postId:re,isLiked:$}=V.payload,oe=L.posts.get(re);return J(L,V.type,re,Q(oe,$))}case"post_restack":{const{postId:re,isRestacked:$}=V.payload,oe=L.posts.get(re);return oe?J(L,V.type,re,te(oe,$)):L}case"post_delete":{const{publication:re,post:$}=V.payload,oe=new Map(L.posts);oe.delete($.id);const se=new Map([...L.comments].filter(([ce,de])=>de.post_id!==$.id));return[(0,u.getFeedPostUrl)($.id,{noBase:!0}),(0,u.getFeedShortPostUrl)(re,$,{noBase:!0})].includes(window.location.pathname)&&(0,w.redirect)(d.Ds,{replace:!0}),P(l({},L),{lastDispatchType:V.type,posts:oe,comments:se,pages:L.pages.map(ce=>P(l({},ce),{result:ce.result?P(l({},ce.result),{items:ce.result.items.filter(de=>{var be;return((be=de.post)==null?void 0:be.id)!==$.id})}):ce.result}))})}case"post_save":{const{postId:re,isSaved:$}=V.payload;return L.posts.get(re)?J(L,V.type,re,{is_saved:$}):L}case"comment_like":{const{commentId:re,isLiked:$}=V.payload,oe=L.comments.get(re);return P(l({},L),{lastDispatchType:V.type,comments:ee(L.comments,re,P(l({},oe),{reaction:$?"\u2764":void 0,reactions:P(l({},oe.reactions),{"\u2764":(((ae=oe.reactions)==null?void 0:ae["\u2764"])||0)+($?1:-1)}),reaction_count:(oe.reaction_count||0)+($?1:-1)}))})}case"comment_restack":{const{commentId:re,isRestacked:$}=V.payload,oe=L.comments.get(re);return P(l({},L),{lastDispatchType:V.type,comments:oe?ee(L.comments,re,P(l({},oe),{restacked:$,restacks:(oe.restacks||0)+($?1:-1)})):L.comments})}case"comment_delete":{const{comment:re}=V.payload,$=new Map(L.posts),oe=new Map([...L.comments].filter(([de,be])=>be.id!==re.id&&!new RegExp(`(^|.)${re.id}(.|$)`).test(be.ancestor_path))),se=$.get(re.post_id),ce=re.ancestor_path&&oe.get(Number(re.ancestor_path.split(".").pop()));return ce?oe.set(ce.id,P(l({},ce),{children_count:(ce.children_count||1)-1,children:(ce.children||[]).filter(de=>de.id!==re.id)})):se&&$.set(se.id,P(l({},se),{child_comment_count:(se.child_comment_count||1)-1})),[(0,u.getFeedCommentUrl)(re,{noBase:!0})].includes(window.location.pathname)&&(0,w.redirect)(d.Ds,{replace:!0}),P(l({},L),{lastDispatchType:V.type,posts:$,comments:oe,pages:L.pages.map(de=>P(l({},de),{result:de.result?P(l({},de.result),{items:de.result.items.filter(be=>{var pe;return((pe=be.comment)==null?void 0:pe.id)!==re.id&&!(be.parentComments||[]).filter(Boolean).map(we=>we.id).includes(re.id)})}):de.result}))})}case"new_post":return P(l({},L),{lastDispatchType:V.type,publications:new Map([...L.publications].concat([[V.payload.publication.id,V.payload.publication]])),posts:new Map([...L.posts].concat([[V.payload.post.id,V.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,d.vy)(V.payload.post.id),publication:V.payload.publication,post:V.payload.post,context:V.payload.context||{}}]}},...L.pages]});case"new_comment":{const{comment:re}=V.payload,$=new Map(L.posts),oe=$.get(re.post_id);oe&&$.set(oe.id,P(l({},oe),{child_comment_count:(oe.child_comment_count||0)+1}));const se=new Map(L.comments);se.set(re.id,re);const ce=(((fe=re.ancestor_path)==null?void 0:fe.split("."))||[]).map(Number).filter(Boolean).map(we=>se.get(we)||null),de=(le=ce[ce.length-1])!=null?le:null;de&&se.set(de.id,P(l({},de),{children_count:(de.children_count||0)+1,children:[re].concat(de.children||[])}));const pe=[{error:null,isLoading:!1,result:{items:[{type:"comment",entity_key:(0,d.It)(re.id),comment:re,parentComments:ce,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}}]}},...L.pages];return P(l({},L),{lastDispatchType:V.type,posts:$,comments:se,pages:pe})}case"edit_comment":{const{comment:re}=V.payload,$=new Map(L.comments);return $.set(re.id,re),P(l({},L),{lastDispatchType:V.type,comments:$})}case"comments_load":{const{comments:re}=V.payload,$=[],oe=re.slice();for(;oe.length>0;){const se=oe.pop();$.push(se),oe.push(...se.children||[])}return P(l({},L),{lastDispatchType:V.type,comments:new Map([...L.comments].concat($.map(se=>[se.id,se])))})}case"item_load":{const{item:re}=V.payload;return P(l({},G(L,re)),{lastDispatchType:V.type})}case"items_load":{const{items:re}=V.payload;return P(l({},U(L,re)),{lastDispatchType:V.type})}case"new_feed_items":{const re=[...L.pages];if(V.payload.insertLocation){const $={error:null,isLoading:!1,result:{items:V.payload.feedItems}};V.payload.insertLocation==="prepend"?re.unshift($):V.payload.insertLocation==="append"&&re.push($)}return P(l({},U(L,V.payload.feedItems)),{lastDispatchType:V.type,pages:re})}case"reply_unhidden":{const{comment_id:re}=V.payload,$=L.comments.get(re),oe=new Map(L.comments);return oe.set(re,P(l({},$),{hide_reply:!1})),P(l({},L),{lastDispatchType:V.type,comments:oe,unhiddenReplyCommentIds:new Set([...L.unhiddenReplyCommentIds,re])})}}return P(l({},L),{lastDispatchType:V.type,pages:(0,y.x8)(L.pages,V)})}function U(L,V){const ne=new Map(L.publications),ae=new Map(L.posts),fe=new Map(L.comments);for(const le of V){if("publication"in le&&le.publication&&ne.set(le.publication.id,le.publication),"post"in le){const{post:re}=le;re&&ae.set(re.id,re)}if("comment"in le){const{comment:re}=le;if(re&&(fe.set(re.id,re),re.attachments))for(const $ of re.attachments)$.type==="post"&&(ae.set($.post.id,$.post),ne.set($.publication.id,$.publication))}if("parentComments"in le)for(const re of le.parentComments)re&&fe.set(re.id,re)}return P(l({},L),{publications:ne,posts:ae,comments:fe})}function G(L,V){var ne;return P(l({},L),{posts:V.post?ee(L.posts,V.post.id,V.post):L.posts,publications:V.publication?ee(L.publications,V.publication.id,V.publication):L.publications,comments:new Map([...L.comments].concat([V.comment,...(ne=V.parentComments)!=null?ne:[]].filter(Boolean).map(ae=>[ae.id,ae])))})}function J(L,V,ne,ae){const fe=new Map(L.posts),le=fe.get(ne);return le&&fe.set(le.id,l(l({},le),ae)),P(l({},L),{lastDispatchType:V,posts:fe})}function Q(L,V){var ne;const ae=V!=null?V:!L.reaction,fe="\u2764";return{reaction:ae,reactions:{[fe]:(((ne=L.reactions)==null?void 0:ne[fe])||0)+(V?1:-1)}}}function te(L,V){return{restacked:V,restacks:(L.restacks||0)+(V?1:-1)}}function ee(L,V,ne){const ae=new Map(L);return ae.set(V,ne),ae}},73413:(z,s,e)=>{"use strict";e.d(s,{L:()=>m});var o=e(30123);const m=document.location.origin===o.tE},4948:(z,s,e)=>{"use strict";e.d(s,{M:()=>m});var o=e(30396);function m(d,u,{shouldCheck:g,threshold:y=200,bodyRef:w}){const v=(0,o.sO)(),b=w!=null?w:v,D=()=>{const E=b.current;if(E){const{bottom:O}=E.getBoundingClientRect();O<window.innerHeight+y&&d()}};return(0,o.d4)(()=>{if(g)return window.addEventListener("scroll",D,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",D,{capture:!0})}},u),{bodyRef:b,check:D}}},44396:(z,s,e)=>{"use strict";e.d(s,{XA:()=>y});var o=e(30396),m=e(1852),d=e.n(m),u=e(39419),g=e.n(u);function y(){return(0,m.useMediaQuery)({maxWidth:650})}function w(){return useMediaQuery({maxWidth:1400})}function v(){const[b,D]=useState(!1);return useLayoutEffect(()=>{D(isIOs())},[]),b}},72307:(z,s,e)=>{"use strict";e.d(s,{Th:()=>a,Y0:()=>P,_V:()=>M,e:()=>_,lV:()=>C});var o=e(6400),m=e(30396),d=e(8479),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(R,N,T)=>N in R?u(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,E=(R,N)=>{for(var T in N||(N={}))v.call(N,T)&&D(R,T,N[T]);if(w)for(var T of w(N))b.call(N,T)&&D(R,T,N[T]);return R},O=(R,N)=>g(R,y(N));function C(R){const N=(0,d.ib)({pathname:"/api/v1/subscriptions",auto:R,deps:[]});return(0,m.Ye)(()=>O(E({},N),{result:N.result?O(E({},N.result),{publicationMap:new Map(N.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(N.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(N.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[N])}const _=(0,o.createContext)(d.do);function a(){return(0,m.qp)(_)}function l(R){var N;const{subscriptionMap:T,publicationUserMap:A,publicationsWithPledges:F}=(N=a().result)!=null?N:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},U=T.get(R),G=A.get(R);return{subscription:U,publicationUser:G,is_pledged:!!(F!=null&&F.includes(R))}}function P(R){const{subscription:N,publicationUser:T,is_pledged:A}=l(R),F=(N==null?void 0:N.membership_state)==="free_signup",U=(N==null?void 0:N.membership_state)==="subscribed",G=!!(N!=null&&N.is_founding),J=!!(T&&["contributor","admin"].includes(T.role));return{subscription:N,publicationUser:T,isFreeSubscribed:F,isPaid:U,isAuthor:J,isFounding:G,isPledged:A}}function S(){var R,N,T;const{publicationUsers:A,publicationMap:F}=(R=a().result)!=null?R:{publicationMap:new Map,publicationUsers:[]},U=(T=(N=A.find(G=>G.is_primary))!=null?N:A.find(G=>G.role==="admin"))!=null?T:A.find(G=>G.role==="contributor");return U&&F.get(U.publication_id)}function M(R){var N,T;const{publicationUsers:A}=(N=a().result)!=null?N:{publicationUsers:[]};return(T=A.find(F=>F.publication_id===R))!=null?T:null}},82622:(z,s,e)=>{"use strict";e.d(s,{COMMENT_STATUS:()=>D,Hz:()=>w,Ng:()=>O,Sh:()=>v,Zu:()=>u,_N:()=>C,hO:()=>b,us:()=>y});var o=e(85200),m=e(46131);const d=1e4,u=9999;var g=(a=>(a.everyone="everyone",a.free_subscriber="free_subscriber",a.paid_subscriber="paid_subscriber",a))(g||{}),y=(a=>(a.comments_disabled="comments_disabled",a.free_subscription_required="free_subscription_required",a.paid_subscription_required="paid_subscription_required",a))(y||{});const w=({likesEnabled:a=!0}={})=>{const l=[];return l.push({key:"most_recent_first",text:"New First",description:"Newest first (good for live events)"}),a&&l.push({key:"best_first",text:"Top First",description:"Top ranked first"}),l.push({key:"oldest_first",text:"Chronological",description:"Chronological order (oldest first)"}),l},v=a=>w().find(l=>l.key===a).text,b=function(a,l){if(Symbol.iterator in Object(a)){for(const P of a)if(l(P)===!1||b(P.children||[],l)===!1)return!1}},D={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},E=new Set([D.review_required,D.edit_review_required,D.published,D.moderator_approved,D.new_commenter_approval_required]),O=a=>a.deleted?!1:E.has(a.status);function C(a,l){const{attachments:P}=a;if(P&&P.length>0){for(const S of P)if(S.type==="post"){for(const M of S.post.publishedBylines)if(M.id===l)return!0;if((0,o.wN)(S.publication,l))return!0}else if(S.type==="comment"){if(S.comment.user_id===l)return!0}else if(S.type==="publication"&&(0,o.wN)(S.publication,l))return!0}return!!_(a).has(l)}function _(a){var l;const P=[];if(a.body_json)for(const S of(0,m.Z)(a.body_json))S.type==="substack_mention"&&P.push((l=S.attrs)==null?void 0:l.id);return new Set(P)}},44043:(z,s,e)=>{"use strict";e.d(s,{F:()=>o});const o={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},m={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},61782:(z,s,e)=>{"use strict";e.d(s,{L:()=>o});const o=1653592864},48971:(z,s,e)=>{"use strict";e.r(s),e.d(s,{DEFAULT_MINIMUM_RATES:()=>d,MAX_MONTHLY_RATE:()=>u,MAX_YEARLY_RATE:()=>g,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>m,currencyFormattedPledgePriceString:()=>w,validatePledgePrices:()=>y});var o=e(83322);const m={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},d={month:5,year:50,founding:50},u=100,g=1e3,y=v=>{const{value:b,interval:D,is_founding:E,currency:O}=v,C=(m[O.toLowerCase()]||d)[E?"founding":D],_=D==="month"?u:g;return b<C?`${(0,o.toTitleCase)(D)}ly plan price must be at least ${w(C,O)}`:b>_?`${(0,o.toTitleCase)(D)}ly${v.is_founding?" founding":""} plan price must be less than ${w(_,O)}`:null},w=(v,b)=>(0,o.centsToPriceString)(v*((0,o.isZeroDecimalCurrency)(b)?1:100),b)},6385:(z,s,e)=>{"use strict";e.r(s),e.d(s,{getAllAudiences:()=>O,getAudiencesForPublicListing:()=>C,getCommentAuthor:()=>te,getCoverImageUrl:()=>ee,getFoundingAudiences:()=>a,getPaidAudiences:()=>_,getPostAuthor:()=>Q,isFoundingAudience:()=>P,isPaidAudience:()=>l,previewSubHasFullAccessToPost:()=>J,pubRoleHasFullAccessToPost:()=>U,pubRolesHaveFullAccessToPost:()=>G,subHasFullAccessToPost:()=>T,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>R});var o=Object.defineProperty,m=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,g=(L,V,ne)=>V in L?o(L,V,{enumerable:!0,configurable:!0,writable:!0,value:ne}):L[V]=ne,y=(L,V)=>{for(var ne in V||(V={}))d.call(V,ne)&&g(L,ne,V[ne]);if(m)for(var ne of m(V))u.call(V,ne)&&g(L,ne,V[ne]);return L},w=(L,V)=>{var ne={};for(var ae in L)d.call(L,ae)&&V.indexOf(ae)<0&&(ne[ae]=L[ae]);if(L!=null&&m)for(var ae of m(L))V.indexOf(ae)<0&&u.call(L,ae)&&(ne[ae]=L[ae]);return ne};const v=["founding","only_paid","everyone","only_free"],b=["founding","only_paid","everyone"],D=["founding","only_paid"],E=["founding"];function O(){return[...v]}function C(){return[...b]}function _(){return[...D]}function a(){return[...E]}function l(L){return _().includes(L)}function P(L){return a().includes(L)}function S(L,V,ne){if(!V&&!ne||(L==null?void 0:L.subscription_publication_id)===V||(L==null?void 0:L.subscription_publication_id)===ne){if(L!=null&&L.is_founding||L!=null&&L.is_contributor)return"founding";if(L!=null&&L.is_subscribed)return"paid"}return"free"}function M(L){switch(L){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${L}`)}}function R(L,V,ne){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const ae=S(L,V.publication_id,ne==null?void 0:ne.parent_publication_id);return M(V.audience).includes(ae)}function N(L,V){if(!V||(L==null?void 0:L.publication_id)===V){if((L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding))return"founding";if((L==null?void 0:L.membership_state)==="subscribed")return"paid"}return"free"}function T(L,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const ne=N(L,V.publication_id);return M(V.audience).includes(ne)}function A(L,V){const ne=N(L);return M(V).includes(ne)}function F(L){return(L==null?void 0:L.role)==="admin"||(L==null?void 0:L.role)==="contributor"||(L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding)?"founding":(L==null?void 0:L.membership_state)==="subscribed"?"paid":"free"}function U(L,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const ne=F(L);return M(V.audience).includes(ne)}function G(L,V){return!!(V&&(U(L==null?void 0:L[V.publication_id],V)||V.parent_publication_id&&U(L==null?void 0:L[V.parent_publication_id],V)))}function J(L,V){if(!V)return!1;if(!V.audience)throw new Error("Post has no audience");const ne=L;return M(V.audience).includes(ne)}function Q(L,V){var ne;const ae=(ne=V==null?void 0:V.publishedBylines)==null?void 0:ne[0];if(ae)return ae;const fe=L.contributors.find(re=>re.owner);if(fe){const re=fe,{user_id:$}=re,oe=w(re,["user_id"]);return y({id:$},oe)}const le=L.contributors.find(re=>["admin","contributor"].includes(re.role));if(le){const re=le,{user_id:$}=re,oe=w(re,["user_id"]);return y({id:$},oe)}return{id:L.author_id,name:L.author_name,photo_url:L.author_photo_url,bio:L.author_bio}}function te(L){var V,ne,ae,fe,le,re,$,oe,se,ce,de,be,pe,we,xe;return{id:(ae=(ne=(V=L.user)==null?void 0:V.id)!=null?ne:L.user_id)!=null?ae:-1,name:(re=(le=(fe=L.user)==null?void 0:fe.name)!=null?le:L.name)!=null?re:"",handle:(oe=($=L.user)==null?void 0:$.handle)!=null?oe:L.handle,photo_url:(ce=(se=L.user)==null?void 0:se.photo_url)!=null?ce:L.photo_url,bestseller_tier:(pe=(be=(de=L.user)==null?void 0:de.bestseller_tier)!=null?be:L.user_bestseller_tier)!=null?pe:null,primary_publication:(xe=(we=L.user)==null?void 0:we.primary_publication)!=null?xe:L.user_primary_publication}}function ee(L){return!L.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(L.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(L.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(L.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(L.cover_image)?null:L.cover_image}},85200:(z,s,e)=>{"use strict";e.d(s,{Im:()=>d,ab:()=>u,wN:()=>g});var o=e(83322);const m=function(y){const w=y.trim();return(0,o.endsWithPunctuation)(w)?w:`${w}.`},d=function(y,w=3){if(!(y!=null&&y.length)||!y[0].owner)return null;const v=y[0].name;if(y.length===1)return{owner:v,others:null};let b=y.slice(1);if(b.length>w&&(b=b.filter(D=>D.role==="admin")),b.length&&b.length<=w){const D=b.map(E=>E.name);return{owner:v,others:(0,o.oxfordComma)(D).toString()}}return{owner:v,others:null}},u=function(y,w,v,b,D){const E=y?m(y):"";let O;w&&!w.others?b.toLowerCase().includes(w.owner.toLowerCase())?O="":O=` by ${w.owner},`:O="";let C;return v?C=` a Substack publication with ${v}.`:D?C=` a Substack publication. ${D}.`:C=" a Substack publication.",m(`${E} Click to read ${b},${O}${C}`)};function g(y,w){if(y){if(y.author_id===w)return!0;for(const v of y.contributors)if(v.user_id===w)return!0}return!1}},91613:(z,s,e)=>{"use strict";e.d(s,{x:()=>m});var o=e(6385);const m=(d,u,g,y,w)=>!(!w&&!(d!=null&&d.has_publication)||y.invite_only||(0,o.isPaidAudience)(g.audience)||!u.enable_restacking)},82771:(z,s,e)=>{"use strict";e.d(s,{Rg:()=>l,hd:()=>a});var o=e(85928),m=e.n(o),d=e(6385),u=e(15045),g=e(83322),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(S,M,R)=>M in S?y(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,C=(S,M)=>{for(var R in M||(M={}))D.call(M,R)&&O(S,R,M[R]);if(b)for(var R of b(M))E.call(M,R)&&O(S,R,M[R]);return S},_=(S,M)=>w(S,v(M));function a(S,{name:M,url:R,description:N,potentialAction:T}={}){return T===void 0&&(T={"@type":"SearchAction",name:`Search ${S.name}`,target:`${S.base_url}${(0,u.getBaseArchiveUrl)(S)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:M||S.name,publisher:C(C({"@type":"Organization",name:S.name,url:S.base_url},S.logo_url?{logo:{"@type":"ImageObject",url:S.logo_url}}:{}),S.twitter_screen_name?{sameAs:[`https://twitter.com/${S.twitter_screen_name}`]}:{}),url:R||S.base_url,mainEntityOfPage:{"@type":"WebPage",url:R||S.base_url},description:N||S.hero_text,potentialAction:T}}function l(S,M){var R,N,T,A;const F=(0,g.getBylineUsers)(M),U=C(C(_(C({"@type":"Organization",name:(S.parent_publication||S).name,url:(0,u.getBaseUrl)(S.parent_publication||S),description:(S.parent_publication||S).hero_text},S.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:S.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(S.parent_publication||S).id}`}),(S.parent_publication||S).logo_url&&{logo:{"@type":"ImageObject",url:(S.parent_publication||S).logo_url,contentUrl:(0,u.imginary)((R=(S.parent_publication||S).logo_url)!=null?R:""),thumbnailUrl:(0,u.imginary)((N=(S.parent_publication||S).logo_url)!=null?N:"",128,{height:128})},image:{"@type":"ImageObject",url:(S.parent_publication||S).logo_url,contentUrl:(0,u.imginary)((T=(S.parent_publication||S).logo_url)!=null?T:""),thumbnailUrl:(0,u.imginary)((A=(S.parent_publication||S).logo_url)!=null?A:"",128,{height:128})}}),(S.parent_publication||S).twitter_screen_name&&{sameAs:[`https://twitter.com/${(S.parent_publication||S).twitter_screen_name}`]});return _(C({"@context":"https://schema.org","@type":"NewsArticle",url:(0,u.getPostUrl)(S,M),mainEntityOfPage:(0,u.getPostUrl)(S,M),headline:M.search_engine_title||M.social_title||M.title,description:M.search_engine_description||M.description,image:M.cover_image?[{"@type":"ImageObject",url:M.cover_image}]:[],datePublished:m()(M.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:m()(M.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,d.isPaidAudience)(M.audience)},M.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:F.length>0?F.map(G=>C(C({"@type":"Person",name:G.name,url:(0,u.getReaderProfileUrl)(G),description:G.bio,identifier:`user:${G.id}`},G.twitter_screen_name&&{sameAs:[`https://twitter.com/${G.twitter_screen_name}`]}),G.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,u.imginary)(G.photo_url),thumbnailUrl:(0,u.imginary)(G.photo_url,128,{height:128})}})):U,publisher:U})}function P(S){return C({"@context":"https://schema.org","@type":"Person",image:(S==null?void 0:S.photo_url)&&imginary(S.photo_url),name:`${S==null?void 0:S.name}`,url:S&&getReaderProfileUrl(S),jobTitle:S==null?void 0:S.bio,description:S==null?void 0:S.bio},S!=null&&S.twitter_screen_name?{sameAs:[`https://twitter.com/${S.twitter_screen_name}`]}:{})}},86418:(z,s,e)=>{"use strict";e.d(s,{P:()=>d});const o=new Set(["subscribed","free_signup"]);function m(u){return o.has(u)}function d(u,g){if(!u)return!1;if(!g)return!0;const y=["unsubscribed","free_signup","subscribed"];return y.indexOf(u)>=y.indexOf(g)}},21125:(z,s,e)=>{"use strict";e.d(s,{gg:()=>d});var o=e(25235);function m(g){return g&&u(g)[0]||null}function d(g){return g&&u(g).pop()||null}function u(g){return(0,o.find)(g).filter(y=>y.type==="url"&&y.href.startsWith("http"))}},46131:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});function*o(m){if(yield m,m.content)for(const d of m.content)yield*o(d)}},81470:(z,s,e)=>{"use strict";e.d(s,{Uo:()=>o});var o=(u=>(u.Feed="feed",u.FeedSidebar="feed-sidebar",u.Suggestions="suggestions",u.Permalink="permalink",u.Profile="profile",u.Post="post",u.PostEmbed="post-embed",u.Publication="publication",u.RestacksList="restacks-list",u))(o||{}),m=(u=>(u.ForYou="for-you",u.Subscribed="subscribed",u.Subscribers="subscribers",u.Writers="writers-v2",u.Everyone="everyone",u.FirstNote="first-note",u.Substack="substack",u.ForYouBeta="for-you-beta",u))(m||{});const d={["for-you"]:"Home",subscribed:"Subscribed",subscribers:"My subscribers",["writers-v2"]:"[Bestsellers]",everyone:"[Everyone]",["first-note"]:"[First notes]",substack:"Substack",["for-you-beta"]:"[Home/beta]"}},20501:(z,s,e)=>{"use strict";e.r(s),e.d(s,{CDN_URL:()=>m.L4,CHAT_EXAMPLES_URL:()=>he,CHAT_FAQ_URL:()=>ve,FEED_PATH:()=>d.Ds,FEED_PATH_NAME:()=>d.qB,OLD_FEED_PATH:()=>d.Z3,_getUrl:()=>m.JD,extractDimensionsFromImageUrl:()=>De,feedPathRegex:()=>d.Qe,fixOldFeedPath:()=>d.sm,getAddPodcastToSectionUrl:()=>Tt,getBaseAppLinkUrl:()=>le,getBaseUrl:()=>m.SV,getBillingDetailsUrl:()=>N,getBillingHistoryUrl:()=>T,getCancelOrUncancelUrl:()=>Ie,getChangeEmailUrl:()=>U,getChatAppLinkUrl:()=>oe,getCommentDeepLinkUrl:()=>d.z5,getCommentEntityKey:()=>d.It,getCommentFallbackUrl:()=>d.NZ,getCommunityPostAppLinkUrl:()=>de,getCommunityPostEntityKey:()=>d.AO,getConnectFacebookUrl:()=>Ke,getConnectTwitterUrl:()=>Se,getCreateNotesUrl:()=>d.TK,getCustomPublicationThemeDisablePreviewUrl:()=>ie,getCustomPublicationThemePreviewUrl:()=>_e,getDashboardHomeUrl:()=>L,getDonateSubscriptionUrl:()=>M,getEditPostUrlById:()=>u.getEditPostUrlById,getEditProfileUrl:()=>g.qv,getEditPubPodcastUrl:()=>nt,getEditSectionPodcastUrl:()=>ft,getEmailTestUrl:()=>A,getFeedCommentAppLinkUrl:()=>be,getFeedCommentUrl:()=>d.Sg,getFeedPeopleYouMayKnowUrl:()=>d.kM,getFeedPostRestacksUrl:()=>d.Oi,getFeedPostUrl:()=>d.rc,getFeedShortPostUrl:()=>d.mx,getFeedUrl:()=>d.E2,getGiftsUrl:()=>F,getGroupManagementUrl:()=>te,getHcProfileViolationFormUrl:()=>me,getHostname:()=>m.Fo,getImginariedFavicons:()=>sn,getImportPodcastToSectionUrl:()=>Fe,getInboxAppLinkUrl:()=>re,getLeaderboardUrl:()=>_t,getLikelyLoggedInParam:()=>u.getLikelyLoggedInParam,getLinkToVideo:()=>u.getLinkToVideo,getLinkableElementIdForVideo:()=>u.getLinkableElementIdForVideo,getManageSubscriptionUrl:()=>G,getMeetingAdminUrl:()=>fe,getMeetingOrderUrl:()=>ne,getMeetingsUrl:()=>ae,getMentionsUrl:()=>He,getNavigationBarItemUrl:()=>st,getNoteCommentPreviewUrl:()=>d.IY,getNoteEntityKey:()=>d.D2,getNoteRestacksUrl:()=>d.Ed,getNoteUrl:()=>d.gt,getOfferSubscribeUrl:()=>R,getPodcastArchiveUrl:()=>we,getPodcastRssUrlFromIds:()=>pt,getPostDashboardUrl:()=>ee,getPostDeepLinkUrl:()=>d.sH,getPostDetailsPageUrl:()=>Xe,getPostEntityKey:()=>d.vy,getPostTagUrl:()=>bt,getPostUrl:()=>u.getPostUrl,getPostUrlBySlug:()=>u.getPostUrlBySlug,getPresubscribeUrl:()=>P,getProfileConnectionsUrl:()=>g.Fh,getProfileHandleUrl:()=>g.NJ,getProfileSubdomain:()=>g.t$,getProfileUrlById:()=>g.GR,getPubAccountSettingsUrl:()=>u.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>Be,getPublicationAppLinkUrl:()=>se,getPublicationChatAppLinkUrl:()=>ce,getPublishBaseUrl:()=>J,getPublishSettingsUrl:()=>Q,getReaderPostUrl:()=>ut,getReaderProfileUrl:()=>g.NN,getSectionUrl:()=>ke,getSharePublicationUrl:()=>a,getStreakGraphicUrl:()=>je,getStripeInvoiceUrl:()=>$t,getStripePlanUrl:()=>rt,getSubdomainOrCustomDomain:()=>K,getSubscribeUrl:()=>l,getSubscriberDashboardUrl:()=>V,getSubstackUrl:()=>m.ZJ,getSubstackUrlWithDomain:()=>m.y,getThreadsLandingPageUrl:()=>pe,getUserAppLinkUrl:()=>$,getWebChatUrl:()=>S,imginary:()=>xe,isFeedPath:()=>d.Z2,isHostedBySubstack:()=>Ne,isHostedByUnsplash:()=>gt,isOldFeedPath:()=>d.p8,isOpenSubstackPostUrl:()=>We,matchCommentPath:()=>d.Th,matchFeedSubpath:()=>d.Iw,matchNoteId:()=>d.WF,matchNotePath:()=>d.Po,matchOldCommentPath:()=>d.Qd,matchPostPath:()=>d.nY,parsePostUrl:()=>ht,parseUrl:()=>Le,pathWithQuery:()=>m.n1,serializeQuery:()=>m.Y$,shareSamePub:()=>Y,stripeBaseUrl:()=>Ye,substackBaseUrl:()=>m.tE,substackDomain:()=>m.T9,substackUrl:()=>m.pv,unimginary:()=>Ue});var o=e(87251),m=e(30123),d=e(70444),u=e(36250),g=e(2731),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(Ge,at,It)=>at in Ge?y(Ge,at,{enumerable:!0,configurable:!0,writable:!0,value:It}):Ge[at]=It,C=(Ge,at)=>{for(var It in at||(at={}))D.call(at,It)&&O(Ge,It,at[It]);if(b)for(var It of b(at))E.call(at,It)&&O(Ge,It,at[It]);return Ge},_=(Ge,at)=>w(Ge,v(at));const a=(Ge,at={})=>{const It=C({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},at),zt=(0,m.SV)(Ge);return(0,m.n1)(zt,C(C({},It),at))};function l(Ge,{root:at,user:It,addBase:zt,params:Xt={}}={}){return at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=zt?`${(0,m.SV)(Ge)}/subscribe?`:"/subscribe?",It!=null&&It.email&&(Xt.autoSubmit=!0,Xt.email=It==null?void 0:It.email),at+(0,m.Y$)(Xt)}function P(Ge){return`/api/v1/presubscribe/${Ge.id}`}function S({pubId:Ge,postId:at,commentId:It,params:zt}){return(0,m.n1)(`${(0,m.ZJ)()}/chat${Ge?`/${Ge}`:""}${at?`/post/${at}`:""}${It?`/reply/${It}`:""}`,zt)}function M(Ge,{root:at,addBase:It,params:zt={}}={}){return at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=It?`${(0,m.SV)(Ge)}/donate?`:"/donate?",at+(0,m.Y$)(zt)}function R(Ge,{root:at,user:It,addBase:zt,offerCode:Xt,params:Dt={}}){return at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=zt?`${(0,m.SV)(Ge)}/subscribe/offer/${Xt}?`:`/subscribe/offer/${Xt}?`,It!=null&&It.email&&(Dt.autoSubmit=!0,Dt.email=It==null?void 0:It.email),at+(0,m.Y$)(Dt)}function N(Ge,{utm_source:at}={}){return(0,m.n1)(`${(0,m.SV)(Ge)}/account/billing?details`,{utm_source:at})}function T(Ge,{utm_source:at}={}){return(0,m.n1)(`${(0,m.SV)(Ge)}/account/receipts`,{utm_source:at})}function A(Ge,{utm_source:at}={}){return(0,m.n1)(`${(0,m.SV)(Ge)}/account/email-test`,{utm_source:at})}function F({pub:Ge}){return`${(0,m.SV)(Ge)}/account/gifts`}function U({utm_source:Ge}={}){return(0,m.n1)(`${(0,m.ZJ)()}/account/email`,{utm_source:Ge})}function G(Ge){return`${(0,m.SV)(Ge)}/account`}function J(Ge,{addBase:at,baseUrlOptions:It}={}){return`${at?(0,m.SV)(Ge,It):""}/publish`}function Q(Ge,{addBase:at=!1,baseUrlOptions:It={},section:zt="",params:Xt}={}){let Dt=(0,m.n1)(`${J(Ge,{addBase:at,baseUrlOptions:It})}/settings`,Xt);return zt&&(Dt+=`#${zt}`),Dt}function te(Ge,{addBase:at=!1,baseUrlOptions:It={},params:zt}={}){return(0,m.n1)(`${J(Ge,{addBase:at,baseUrlOptions:It})}/groups`,zt)}function ee(Ge,{addBase:at,params:It}={}){const Xt=`${at?(0,m.SV)(Ge):""}/publish`;return It?(0,m.n1)(Xt,It):Xt}function L(Ge,{addBase:at,params:It}={}){const Xt=`${at?(0,m.SV)(Ge):""}/publish/home`;return It?(0,m.n1)(Xt,It):Xt}function V(Ge,{addBase:at,params:It}={}){const Xt=`${at?(0,m.SV)(Ge):""}/publish/subscribers`;return It?(0,m.n1)(Xt,It):Xt}function ne(Ge,at,{addBase:It,params:zt,referrer:Xt}={}){const ln=`${It?(0,m.SV)(Ge):""}/meetings/book/${at}`,qt=_(C({},zt),{referrer:Xt});return zt||Xt?(0,m.n1)(ln,qt):ln}function ae(Ge,{addBase:at,params:It,referrer:zt}={}){const Dt=`${at?(0,m.SV)(Ge):""}/meetings`,ln=_(C({},It),{referrer:zt});return It||zt?(0,m.n1)(Dt,ln):Dt}function fe(Ge,{addBase:at,params:It,filter:zt}={}){const Dt=`${at?(0,m.SV)(Ge):""}/publish/meetings/${zt!=null?zt:"upcoming"}`;return It?(0,m.n1)(Dt,It):Dt}function le(){return(0,m.JD)(`open.${m.T9}`)}function re({utm_source:Ge,utm_campaign:at,redirect:It}){return(0,m.n1)(`${le()}/inbox`,{utm_source:Ge,utm_campaign:at,redirect:It})}function $({user_id:Ge,user_name:at,utm_source:It,utm_campaign:zt,redirect:Xt}){let Dt=`${le()}/users/${Ge}`;const ln=(0,o.cleanSlug)(at,{hashIfEmpty:!0});return ln&&(Dt+=`-${ln}`),(0,m.n1)(Dt,{utm_source:It,utm_campaign:zt,redirect:Xt})}function oe({utm_source:Ge,utm_campaign:at}){return(0,m.n1)(`${le()}/chat`,{utm_source:Ge,utm_campaign:at})}function se({subdomain:Ge,utm_source:at,utm_campaign:It,redirect:zt}){return(0,m.n1)(`${le()}/pub/${Ge}`,{utm_source:at,utm_campaign:It,redirect:zt})}function ce({pubKey:Ge,utm_source:at,utm_campaign:It,redirect:zt,modal:Xt}){return(0,m.n1)(`${le()}/pub/${Ge}/chat`,{utm_source:at,utm_campaign:It,redirect:zt,modal:Xt})}function de({postId:Ge,utm_source:at,utm_campaign:It,redirect:zt,modal:Xt}){return(0,m.n1)(`${le()}/chat/posts/${Ge}`,{utm_source:at,utm_campaign:It,redirect:zt,modal:Xt})}function be(Ge,{urlParams:at}={}){return(0,d.Sg)(Ge,{baseUrl:le(),urlParams:at})}function pe({pub:Ge,postId:at,modal:It,query:zt}){return(0,m.n1)(`${(0,m.SV)(Ge)}/chat${at?`/posts/${at}`:""}`,C({modal:It},zt))}function we({pub:Ge,params:at,section:It}){return It?(0,m.n1)(`${(0,m.SV)(Ge)}/listen/${It.slug}/archive`,at):(0,m.n1)(`${(0,m.SV)(Ge)}/podcast/archive`,at)}function xe(Ge,at,{quality:It="auto:good",format:zt="auto",crop:Xt="limit",lossy:Dt=!1,gravity:ln=null,height:qt=null,aspect:fn=null,version:Sn=null,smartCrop:wn=!1,portraitCrop:Pn=!1,skipDomainValidation:jn=!1,leadingSegments:sr=[],trailingSegments:_r=[]}={}){var hr;if(!Ge)return Ge;Ge.startsWith("/")&&!Ge.startsWith("//")&&(Ge=(0,m.ZJ)()+Ge),Ge=Ue(Ge);try{if(new URL(Ge).hostname.endsWith(".localhost"))return Ge}catch(Zr){}if(typeof window!="undefined"&&((hr=window==null?void 0:window.location)!=null&&hr.hostname)&&["subwit.com","herokuapp.com"].reduce((Zr,Vr)=>Zr||window.location.hostname.endsWith(Vr),!1)&&(Ge=Ge.replace("//substack.com",`//${window.location.hostname}`)),Ge.startsWith("https://substackcdn.com")||Ge.startsWith(m.L4))return Ge;if(Ge.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return Ge.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,m.L4);if(Ge.startsWith("https://res.cloudinary.com"))return Ge.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,m.L4);if(!jn&&!Ge.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return Ge;if(wn&&at&&qt){const Zr=De(Ge);if(Zr){const Vr=at/qt,Ur=Zr.width/Zr.height;(Vr<1&&Ur>=1||Vr>=1&&Ur<1||Vr===1&&Ur>=1||Vr===1&&Ur<=1)&&Math.abs(Vr-Ur)>=.5&&(Xt="fill",ln=ln!=null?ln:"auto")}}if(wn&&(Xt="fill",ln=ln!=null?ln:"auto"),fn&&at&&qt==null){const[Zr,Vr]=fn.split(":").map(Number);qt=Math.round(at*Vr/Zr)}const Bn=[at&&`w_${at}`,qt&&`h_${qt}`,Xt&&(at||qt)&&`c_${Xt}`,zt&&`f_${zt}`,It&&`q_${It}`,`fl_${Dt?"lossy":"progressive:steep"}`,ln&&`g_${ln}`].filter(Boolean).join(","),yr=[at&&`w_${at}`,zt&&`f_${zt}`,It&&`q_${It}`,`fl_${Dt?"lossy":"progressive:steep"}`].filter(Boolean).join(","),oo=[Xt&&(at||qt)&&`c_${Xt}`,ln&&`g_${ln}`,fn?`ar_${fn}`:"ar_1"].filter(Boolean).join(","),Wr=Pn?[yr,"/if_ar_lt_1.0/",oo,"/if_end"].join(""):[Bn].filter(Boolean).join(",");return`${m.L4}/image/fetch/${sr.concat([Wr]).concat(_r).join("/")}/${encodeURIComponent(Ge+(Sn?`${Ge.indexOf("?")!==-1?"&":"?"}version=${Sn}`:""))}`}function Ue(Ge){if(!Ge)return Ge;const at=[/^https:\/\/substackcdn\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/[^/]+\/(.+)$/i];for(const It of at){const zt=It.exec(Ge);if(zt)return decodeURIComponent(zt[1])}return Ge}function De(Ge){const at=Ge.match(/(\d+)x(\d+)\.\w+$/);return at?{width:+at[1],height:+at[2]}:null}function _e(Ge,at){return`${(0,m.SV)(Ge)}/api/v1/custom-publication-theme/${at.id}/preview`}function ie(Ge){return`${(0,m.SV)(Ge)}/api/v1/custom-publication-theme/disable-preview`}const ve="https://substack.link/chat-faq",he="https://substack.link/chat-examples";function Le(Ge){const at=Ge.trim();if(/\s/.test(at))return null;try{const It=new URL(at);return["http:","https:"].includes(It.protocol)?It:null}catch(It){return null}}const He=(Ge,at,It,zt)=>{switch(Ge){case"user":default:return $({user_id:at,user_name:It,utm_source:"mentions"});case"pub":return zt?(0,m.n1)(zt,{utm_source:"mentions"}):""}};function ht(Ge){var at;const It=Le(Ge);if(!It)return null;const zt=(at=It.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:at[1];if(!zt)return null;let Xt,Dt;return It.hostname.endsWith(`.${m.pv.hostname}`)?Xt=It.hostname.split(".")[0]:Dt=It.hostname,{slug:zt,subdomain:Xt,customDomain:Dt}}function bt(Ge,at,{addBase:It=!1,query:zt={}}={}){return(0,m.n1)(`${It?(0,m.SV)(Ge):""}/t/${at.slug}`,zt)}const Tt=({section:Ge})=>`/publish/settings/new_podcast/${Ge.id}`,Fe=({section:Ge})=>Ge?`/publish/import/podcast/${Ge.id}`:"",nt=({pub:Ge,addBase:at})=>`${at?(0,m.SV)(Ge):""}/publish/settings/podcast/edit`,ft=({pub:Ge,section:at,addBase:It,referrer:zt})=>at?`${It?(0,m.SV)(Ge):""}/publish/settings/podcast/${at.id}${zt?`?referrer=${zt}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Ye="https://dashboard.stripe.com",rt=(Ge,at)=>`${Ye}/${Ge.stripe_user_id}/prices/${at}`,$t=(Ge,at)=>`${Ye}/${Ge.stripe_user_id}/invoices/${at}`;function sn(Ge){const at=Ge.html.map(It=>{var zt;const Xt=(zt=It.match(/href="([^"]+)"/))==null?void 0:zt[1];return Xt?It.replace(Xt,xe(Xt)):It});return _(C({},Ge),{html:at})}function gt(Ge){return Ge?Ge.startsWith("https://images.unsplash.com/"):!1}function Ne(Ge){if(Ge){if(Ge.startsWith(m.L4)||Ge.startsWith("https://res.cloudinary.com")||Ge.startsWith("https://bucketeer"))return!0;const{SUBSTACK_POST_MEDIA_BUCKET_NAME:at}=e(83322);if(Ge.startsWith(`https://${at}.s3.amazonaws.com`))return!0}return!1}function We(Ge){if(!Ge)return!1;const{hostname:at,pathname:It}=new URL(Ge);return at.startsWith("open.substack.com")?It.startsWith("/pub/")&&It.includes("/p/"):!1}function st(Ge,at,{addBase:It}={}){var zt,Xt;return at.section?ke(Ge,{addBase:It,section:at.section}):at.post?(0,u.getPostUrl)(Ge,at.post,{noBase:!It}):at.postTag?bt(Ge,at.postTag,{addBase:It}):It&&/^\/[^/]/.test((zt=at.link_url)!=null?zt:"")?`${(0,m.SV)(Ge)}${at.link_url}`:(Xt=at.link_url)!=null?Xt:""}function ke(Ge,{addBase:at,section:It}={}){if(It=It||(Ge==null?void 0:Ge.section),!It)throw new Error("Section not found");return`${at?(0,m.SV)(Ge):""}/s/${It.slug||It.id}`}const Be=(Ge,{addBase:at,params:It}={})=>{const zt=at&&Ge?yp.getBaseUrl(Ge):"";return Se(C({base:zt},It))},Se=Ge=>{var at;const It=`${(at=Ge==null?void 0:Ge.base)!=null?at:""}/api/v1/twitter/authorize`;return Ge?(0,m.n1)(It,Ge):It},Ke=Ge=>{var at;const It=`${(at=Ge==null?void 0:Ge.base)!=null?at:""}/api/v1/fb/auth`;return Ge?(0,m.n1)(It,Ge):It};function ut(Ge,at){return(0,m.n1)(`${(0,m.SV)()}/inbox/post/${Ge}`,at)}function Oe(Ge){const at=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,It=/^https?:\/\/([^\.]+)\.substack\.com/;let zt=Ge.match(at);return!zt&&(zt=Ge.match(It),!zt)?null:zt[1]}function K(Ge){Ge=(Ge||"").toLowerCase();const at=Ge.match(/^\s*(\w+)\s*$/);if(at)return at[1];const It=Ge.match(/\w+(\.\w+)+/);if(It){let zt=It[0];return zt.includes("substack")&&(zt=zt.split(".")[0]),zt}}function Y({url:Ge,currentSubdomain:at,currentCustomDomain:It}){return We(Ge)?at===Oe(Ge):It?It===K(Ge):at===Oe(Ge)}function me(Ge){return`${(0,m.ZJ)()}/profile/${Ge}/hc-violation-form`}const Ie=(Ge,{addBase:at,params:It}={})=>{const zt=at?(0,m.SV)(Ge):"";return(0,m.n1)(`${zt}/account/cancel`,It)},je=(Ge,at,It)=>`${(0,m.SV)(Ge)}/api/v1/streak.jpg?n=${at}&pct=${It}`,Xe=(Ge,at,{addBase:It,referrer:zt,params:Xt}={})=>{const ln=`${It?(0,m.SV)(Ge):""}/publish/posts/detail/${at}`,qt=_(C({},Xt),{referrer:zt});return Xt||zt?(0,m.n1)(ln,qt):ln},_t=(Ge,{addBase:at,params:It}={})=>{const zt=at?(0,m.SV)(Ge):"";return(0,m.n1)(`${zt}/leaderboard`,It)};function pt({pubId:Ge,sectionId:at,token:It}){if(at){let Xt=`${(0,m.SV)({subdomain:"api"})}/feed/podcast/${Ge}/s/`;return It?Xt+=`${at}/private/${It}.rss`:Xt+=`${at}.rss`,Xt}let zt=`${(0,m.SV)({subdomain:"api"})}/feed/podcast/${Ge}`;return It?zt+=`/private/${It}.rss`:zt+=".rss",zt}},30123:(z,s,e)=>{"use strict";e.d(s,{Fo:()=>v,JD:()=>g,L4:()=>u,Q2:()=>_,SV:()=>E,T9:()=>m,Y$:()=>b,ZJ:()=>O,n1:()=>D,pv:()=>w,tE:()=>y,y:()=>C});var o=e(8221);const m=o.S?`${o.S}.substack.info`:"substack.com",d=null,u="https://substackcdn.com";function g(a){let l="https://",P="";return l+a+P}const y=g(m),w=new URL(y);function v(a,{forceSubdomain:l=!1}={}){if(a&&a.custom_domain&&!a.custom_domain_optional&&!l)return a.custom_domain;let P=m;return a&&a.subdomain!=="www"&&(P=`${a.subdomain}.${P}`),P}function b(a){return Object.keys(a).filter(l=>typeof a[l]!="undefined"&&a[l]!==null).map(l=>`${encodeURIComponent(l)}=${encodeURIComponent(a[l])}`).join("&")}function D(a,l){if(!a)return"";if(!l)return a;const P=b(l),S=P?a.indexOf("?")===-1?"?":"&":"";return`${a}${S}${P}`}function E(a,{forceSubdomain:l=!1}={}){if(a!=null&&a.rss_website_url)try{return new URL(a.rss_website_url).origin}catch(S){return a.rss_website_url}else if(a!=null&&a.base_url)return a.base_url;const P=v(a,{forceSubdomain:l});return g(P)}function O(){return E()}function C(a){return g(a)}function _(a,{noBase:l,urlParams:P}={}){const S=l?"":E();return D(`${S}${a}`,P)}},70444:(z,s,e)=>{"use strict";e.d(s,{AO:()=>pe,D2:()=>ce,Ds:()=>E,E2:()=>V,Ed:()=>se,IY:()=>De,It:()=>de,Iw:()=>T,NZ:()=>re,Oi:()=>oe,Po:()=>ee,Qd:()=>te,Qe:()=>N,Sg:()=>fe,TK:()=>Ue,Th:()=>J,WF:()=>L,Z2:()=>_,Z3:()=>O,gt:()=>le,kM:()=>ne,mx:()=>ae,nY:()=>G,p8:()=>F,qB:()=>D,rc:()=>$,sH:()=>xe,sm:()=>U,vy:()=>be,z5:()=>we});var o=e(6385),m=e(30123),d=e(2731),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(_e,ie,ve)=>ie in _e?u(_e,ie,{enumerable:!0,configurable:!0,writable:!0,value:ve}):_e[ie]=ve,b=(_e,ie)=>{for(var ve in ie||(ie={}))y.call(ie,ve)&&v(_e,ve,ie[ve]);if(g)for(var ve of g(ie))w.call(ie,ve)&&v(_e,ve,ie[ve]);return _e};const D="notes",E=`/${D}`,O="/feed",C=`${E}/`;function _(_e){return _e===E||_e.startsWith(C)}const a=/^([cp])-(\d+)$/,l=/^\/note\/([cp])-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,S=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,M=/^\/@[^\/]+\/note\/c-(\d+)$/,R=/^\/@[^\/]+\/note\/p-(\d+)$/,N=new RegExp(`${E}/(short|post)/p-(\\d+)`);function T(_e){const ie=J(_e);if(ie)return ie;const ve=G(_e);if(ve)return ve;const he=ee(_e);return he||null}const A=new RegExp(`^${O}(/?)`);function F(_e){return!!_e.match(A)}function U(_e){return _e.replace(A,`${E}$1`)}function G(_e){const ie=_e.match(S);if(ie)return{type:"post",id:Number(ie[3]),author:{id:Number(ie[1]),name:ie[2]}};const ve=_e.match(R);if(ve)return{type:"post",id:Number(ve[1])};const he=_e.match(N);return he?{type:he[1]==="short"?"post":"postViewer",id:Number(he[2])}:null}function J(_e){const ie=_e.match(P);if(ie)return{type:"comment",id:Number(ie[3]),author:{id:Number(ie[1]),name:ie[2]}};const ve=_e.match(M);return ve?{type:"comment",id:Number(ve[1])}:null}const Q=new RegExp(`^${O}/comment/(d+)$`);function te(_e){return _e.match(Q)}function ee(_e){const ie=_e.match(l);return ie?{type:ie[1]==="c"?"comment":"post",id:Number(ie[2])}:null}function L(_e){const ie=_e.match(a);return ie?{type:ie[1]==="c"?"comment":"post",id:Number(ie[2])}:null}function V({baseUrl:_e,urlParams:ie}={}){let ve=E;const he=_e!=null?_e:(0,m.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(he))&&(ve=he+ve),(0,m.n1)(ve,ie)}function ne({baseUrl:_e,urlParams:ie}={}){const ve=V({baseUrl:_e});return(0,m.n1)(`${ve}/suggestions`,ie)}function ae(_e,ie,{noBase:ve,urlParams:he}={}){var Le,He;const ht=(Le=ie.publishedBylines)!=null&&Le[0]?(He=ie.publishedBylines)==null?void 0:He[0]:_e?(0,o.getPostAuthor)(_e,ie):{id:0,name:"someone"};return(0,m.n1)(`${(0,d.NN)(ht,{noBase:ve,extraParams:he})}/note/${be(ie.id)}`,he)}function fe(_e,{noBase:ie,baseUrl:ve,urlParams:he,noHandle:Le}={}){return _e.user_id?(0,m.n1)(`${(0,d.NN)((0,o.getCommentAuthor)(_e),{baseUrl:ve,noBase:ie,noHandle:Le})}/note/${de(_e.id)}`,he):V({baseUrl:ve})}function le(_e,{noBase:ie,baseUrl:ve,urlParams:he}={}){const Le=ie?"":ve!=null?ve:(0,m.ZJ)();return(0,m.n1)(`${Le}/note/${_e}`,he)}function re(_e,{noBase:ie,urlParams:ve}={}){const he=ie?"":(0,m.SV)();return(0,m.n1)(`${he}/note/${de(_e)}`,ve)}function $(_e,{noBase:ie,urlParams:ve}={}){const he=ie?"":(0,m.SV)();return(0,m.n1)(`${he}${E}/post/${be(_e)}`,ve)}function oe(_e,ie){return(0,m.Q2)(`/note/${be(_e)}/restacks`,ie)}function se(_e,ie,ve){return(0,m.Q2)(`/note/${_e}/restacks${ie==="notes"?"/notes":""}`,ve)}function ce(_e,ie){return`${ie==="comment"?"c":"p"}-${_e}`}function de(_e){return`c-${_e}`}function be(_e){return`p-${_e}`}function pe(_e){return`cp-${_e}`}function we(_e){return`substack://notes/${de(_e)}`}function xe(_e){return`substack://notes/${be(_e)}`}function Ue(_e){return(0,m.n1)(V(),b({action:"compose"},_e))}function De(_e,{noBase:ie}={}){return`${ie?"":(0,m.SV)()}/note/${de(_e)}/preview.jpg`}},36250:(z,s,e)=>{"use strict";e.r(s),e.d(s,{getCommentUrl:()=>P,getEditPostUrlById:()=>_,getLikelyLoggedInParam:()=>a,getLinkToVideo:()=>C,getLinkableElementIdForVideo:()=>O,getPostCommentsUrl:()=>E,getPostUrl:()=>b,getPostUrlBySlug:()=>D,getPubAccountSettingsUrl:()=>l});var o=e(30123),m=e(70444),d=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(S,M,R)=>M in S?d(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,v=(S,M)=>{for(var R in M||(M={}))g.call(M,R)&&w(S,R,M[R]);if(u)for(var R of u(M))y.call(M,R)&&w(S,R,M[R]);return S};function b(S,M,{noBase:R,edit:N,email:T,comments:A,commentId:F,commentInput:U,highlightComment:G,replyToComment:J,commentContextId:Q,uuid:te,urlParams:ee,signedIn:L=!1,feedViewer:V=!1}={}){if(S&&(S=[S].concat(S.child_publications||[]).find(fe=>fe.id===(M==null?void 0:M.publication_id))||S),(S==null?void 0:S.type)==="rss"&&M)return M.canonical_url||S.rss_website_url;const ne=M?te?M.uuid:M.slug:null;if((N||!ne)&&S&&(M!=null&&M.id))return`${R?"":(0,o.SV)(S)}${_(S,M.id,ee)}`;if((M==null?void 0:M.type)==="restack"&&(M!=null&&M.id))return`${R?"":(0,o.SV)(S)}/cp/${M.id}`;if(V||!S||!M||!ne){const fe=R?"":(0,o.SV)();return F?(0,m.NZ)(F,{noBase:R,urlParams:ee}):M?(0,m.rc)(M.id,{noBase:R,urlParams:ee}):(0,o.n1)(`${fe}${m.Ds}`,ee)}const ae=a(L,S);return D(S,ne,{noBase:R,email:T,comments:A,commentId:F,commentInput:U,highlightComment:G,replyToComment:J,commentContextId:Q,urlParams:v({lli:ae},ee)})}function D(S,M,{noBase:R,email:N,comments:T,commentId:A,commentInput:F,highlightComment:U,replyToComment:G,commentContextId:J,urlParams:Q}={}){let te="";return R||(te+=(0,o.SV)(S)),te+=`/p/${M}`,T&&(!A||U)&&(te+="/comments"),A&&!U&&!J&&(te+=`/comment/${A}`),N&&(te+="/email"),Q&&(te=(0,o.n1)(te,Q)),A&&(U||G)?te+=`#comment-${A}${G?"-reply":""}`:F&&(te+="#input"),A&&J&&(te+=`/comment/${J}#comment-${A}`),te}function E(S,M,R,N){return b(S,M,v({comments:!0,commentId:R==null?void 0:R.id},N))}function O({mediaUploadId:S}){return`media-${S}`}function C({pub:S,post:M,mediaUploadId:R}){return`${b(S,M)}#${O({mediaUploadId:R})}`}function _(S,M,R){return(0,o.n1)(`/publish/post/${M}`,R)}function a(S,M){return M.custom_domain&&S?"1":void 0}function l(S,{addBase:M,params:R,signedIn:N}={}){const T=a(N,S),A=M?(0,o.SV)(S):"";return(0,o.n1)(`${A}/account`,v({lli:T},R))}function P(S,M,R,N){return M.post_id?E(R!=null?R:void 0,S!=null?S:void 0,M,N):(0,m.Sg)(M,N)}},2731:(z,s,e)=>{"use strict";e.d(s,{Fh:()=>_,GR:()=>b,NJ:()=>D,NN:()=>C,qv:()=>O,t$:()=>E});var o=e(87251),m=e(30123),d=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,v=(a,l)=>{for(var P in l||(l={}))g.call(l,P)&&w(a,P,l[P]);if(u)for(var P of u(l))y.call(l,P)&&w(a,P,l[P]);return a};function b(a,l,{searchParams:P,noBase:S,baseUrl:M}={}){let N=`${S?"":M!=null?M:(0,m.ZJ)()}/profile/${a}`;const T=(0,o.cleanSlug)(l,{hashIfEmpty:!0});return T&&(N+=`-${T}`),(0,m.n1)(N,P)}const D=(a,{searchParams:l,noBase:P,baseUrl:S}={})=>{const R=`${P?"":S!=null?S:(0,m.ZJ)()}/@${a}`;return(0,m.n1)(R,l)};function E(a,{searchParams:l,noBase:P,baseUrl:S}={}){const R=`${P?"":S!=null?S:(0,m.ZJ)()}/@${a}`;return(0,m.n1)(R,l)}function O(){return`${(0,m.ZJ)()}/profile/edit`}function C(a,{utm_source:l,utm_content:P,noBase:S,baseUrl:M,noHandle:R,extraParams:N}={}){const T=l||P?{utm_source:l,utm_content:P}:void 0,A=v(v({},N),T),F=R?void 0:(a==null?void 0:a.handle)||(a==null?void 0:a.author_handle);return F?D(F,{noBase:S,baseUrl:M,searchParams:A}):b(a.author_id||a.user_id||a.id,a.user_profile_name||a.author_name||a.name,{noBase:S,baseUrl:M,searchParams:A})}function _(a,l,P){return(0,m.Q2)(`${C(a,{noBase:!0})}/${l!=null?l:"subscribers"}`,P)}},76193:(z,s,e)=>{"use strict";e.r(s),e.d(s,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>m,MOBILE_USER_AGENT_PATTERN:()=>o,getIosVersion:()=>g,isAndroid:()=>b,isAndroidUserAgent:()=>v,isIos:()=>y,isMobile:()=>d,isMobileUserAgent:()=>u});const o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function d(D={}){let E=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!E&&typeof window!="undefined"&&(E=window.opera),E?u(E,D):!1}function u(D,{checkFirst4:E}={}){return o.lastIndex=0,m.lastIndex=0,!!(o.test(D)||E&&m.test(D.substr(0,4)))}function g(){if(typeof navigator=="undefined")return null;const D=navigator.userAgent;if(!D.match(/iPad/i)&&!D.match(/iPhone/i))return null;const E=D.indexOf("OS ");return E===-1?null:parseInt(D.substr(E+3,3).replace("_","."))||null}function y(){return!!g()}const w=/Android/i;function v(D){return w.lastIndex=0,!!D&&w.test(D)}function b(){return typeof navigator=="undefined"?!1:v(navigator.userAgent)}},63830:(z,s,e)=>{"use strict";e.d(s,{l:()=>o});const o=(m,{utm_source:d}={})=>{const u={id:m(),timestamp:new Date};return d&&(u.utm_source=d),u}},83322:(z,s,e)=>{"use strict";e.r(s),e.d(s,{AUDIENCE_ADJECTIVES:()=>ht,AppError:()=>ke,CENTS_PER_EMAIL:()=>st,COMMUNITY_PICKS_CATEGORY_NAME:()=>ft,CONTENT_MODERATION_REASONS:()=>ve,ChatError:()=>Be,DEFAULT_PREVIEW_LIMIT:()=>pe,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>we,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>be,DEFAULT_THEME_COLORS:()=>gt,GIFT_LENGTH_MONTHS:()=>Fe,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>de,GRACE_PERIOD_DAYS:()=>oe,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Tt,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>se,MAX_BYLINES:()=>Gt,MAX_FILE_SIZE:()=>U,MAX_MEDIA_FILE_SIZE:()=>A,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>F,MAX_PODCAST_FILE_SIZE:()=>T,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>xe,MISSING_IMAGE_HEIGHT:()=>_e,MISSING_IMAGE_URL:()=>De,MISSING_IMAGE_WIDTH:()=>ie,MONTH_NAMES:()=>$t,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Ne,NO_REPLY_EMAIL:()=>_t,OLD_PODCAST_CATEGORIES:()=>rt,PODCAST_CATEGORIES:()=>nt,PUBLICATION_TIER_DESCRIPTIONS:()=>lt,SECURITY_QUESTIONS:()=>He,SPECIAL_SUBDOMAINS:()=>Le,STRIPE_DAYS_UNTIL_DUE:()=>ce,STRIPE_TAX_ID_TYPES:()=>sn,SUBSCRIPTION_WORDS:()=>Er,SUBSTACK_POST_MEDIA_BUCKET_NAME:()=>he,SUBSTACK_PUBLICATION_IDS:()=>fe,SUBSTACK_PUBLICATION_ID_BETA:()=>L,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>ee,SUBSTACK_PUBLICATION_ID_COMPANY:()=>J,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>Q,SUBSTACK_PUBLICATION_ID_ON:()=>G,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>ae,SUBSTACK_PUBLICATION_ID_READ:()=>V,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>te,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>ne,SUBSTACK_USER_ID:()=>le,SUBSTACK_USER_IDS:()=>$,SUBSTACK_WRITERS_USER_ID:()=>re,SUPPORTED_CURRENCIES:()=>_r,TASTEMAKER_CATEGORY_NAME:()=>Ye,TERSE_AUDIENCE_ADJECTIVES:()=>bt,TRANSPARENT_IMAGE_URL:()=>Ue,TWEET_PLACEHOLDER_DATA_URI:()=>l,WEEK_IN_SECONDS:()=>We,anonymousName:()=>Gn,areCommentsLocked:()=>Li,assertIsDefined:()=>P,assertIsError:()=>S,balanceTextWithCharacterWidths:()=>sr,baschezScoreToEmojis:()=>At,baschezToCategory:()=>Rn,canDeleteComment:()=>Xo,canDeletePost:()=>bo,canEditComment:()=>ra,canPostComments:()=>Bi,canReplyToPost:()=>Xe,canReportComment:()=>ii,canSeeCommenterEmails:()=>Mi,canSeeComments:()=>pi,centsToDollarString:()=>Ur,centsToPriceString:()=>Vr,colorLightness:()=>jr,colorLuma:()=>Dr,commentsEnabledForPost:()=>io,couldPostCommentsIfSubscribed:()=>ki,coverPageFreeSubscriberCount:()=>Tr,currencySymbol:()=>Wr,decimalToPercent:()=>Rr,deep_equals:()=>vo,defaultAudienceForPub:()=>ai,defaultCommentLevelForPub:()=>Qe,defaultSendEmailForPub:()=>mt,dollarFormatter:()=>co,dollarStringToCents:()=>no,endsWithPunctuation:()=>ln,escapeNewlines:()=>po,flat:()=>So,formatArray:()=>Qt,formatBytes:()=>fr,formatEllipsis:()=>Dt,formatPercentForDisplay:()=>br,formatPodcastDuration:()=>An,formattedBytesToNumber:()=>rr,foundingMemberDescription:()=>ei,getByLine:()=>Se,getBylineUsers:()=>Ft,getCurrencyForCountry:()=>hr,getGiftValueText:()=>yo,getInitalPayment:()=>uo,getNext5HoursAfterMidnight:()=>bn,getOpennodePaymentUrl:()=>Bo,getPlanTitle:()=>wr,getPostCtaPresentParticiple:()=>vt,getPostCtaText:()=>Ve,getPostEmbedMeta:()=>Oe,getPrintedByline:()=>Wt,getPrintedPostType:()=>Pt,getReadableAttribution:()=>Oi,getReaderRecommendationEmailSubject:()=>Ir,getRestackEmailSubject:()=>Ot,getScheduledAt:()=>so,getSubscribeText:()=>ut,getSubscriptionWord:()=>_o,getSuperscriptNumberString:()=>To,getTrialEndOverride:()=>yt,getWithIndefiniteArticle:()=>Jn,get_month_name:()=>Te,group_by:()=>Ci,guessFirstName:()=>Ut,guessLastName:()=>Lt,handleDocumentLinkClick:()=>Dn,hashString:()=>kr,hexToHSV:()=>Ro,hexToRgb:()=>Ko,hidePaidPostsFor:()=>K,isNotMainEntry:()=>Wn,isNotesAttribution:()=>Ai,isPaidPub:()=>di,isPinnable:()=>Ct,isProbablyEmail:()=>_i,isSearchEngineCrawlerQuick:()=>Cn,isUUID:()=>un,isValidCommentLevel:()=>$e,isZeroDecimalCurrency:()=>yr,joinLines:()=>Zt,kFormatter:()=>Lr,longestSetOfWordsBelowCost:()=>jn,mode:()=>Pe,normalizeHex:()=>No,numberToHumanFileSize:()=>$o,numberToOrderOfMagnitude:()=>nr,numberToOrderOfMagnitudeShortString:()=>Nn,numberToOrderOfMagnitudeString:()=>er,numberToOrdinal:()=>Mn,numberToRoughRankingString:()=>Sr,numberToString:()=>Xn,objectMap:()=>jo,onlyOwnsRootComment:()=>ci,oxfordComma:()=>ge,paymentPeriodToPlan:()=>ct,planBasePricing:()=>ho,pluralize:()=>Cr,possessive:()=>Co,postSocialDescription:()=>ar,pubCurrency:()=>Bn,pubUsesZeroDecimalCurrency:()=>oo,pubsWithCustomSubscriptionWords:()=>ao,randomString:()=>jt,resolveTwitterShareText:()=>Ke,restacksEnabledForPost:()=>li,rgbToHex:()=>Yr,roundPriceUp:()=>Hr,sanitizeInlineText:()=>ko,satoshiToBitcoin:()=>Zr,secondsToHHMMSS:()=>Qo,secondsToLargestUnit:()=>xo,setDateToMidnightPST:()=>_n,shouldHidePostFromArchive:()=>Mt,shouldUseInlineComments:()=>Y,showCommentsOnPost:()=>fi,simpleBalanceText:()=>fn,sortSubscriptions:()=>Ie,spellOutNumber:()=>eo,splitArray:()=>Lo,stringCost:()=>Pn,stripInvalidBytes:()=>pt,subscriptionTypeText:()=>je,textLengthAlphaNumericMinimumValidator:()=>vr,toMap:()=>Oo,toMillis:()=>tn,toSentenceCase:()=>gn,toTitleCase:()=>nn,transformDocumentLink:()=>dn,truncAndFormatArray:()=>Vt,truncateBytes:()=>Ge,truncateNumber:()=>en,truncateText:()=>It,truncateToValidBytes:()=>at,truncateWords:()=>zt,twitterScreenNames:()=>a,validCommentLevels:()=>it,validateColor:()=>Jr,validateHex:()=>Zo,videoPlayerDimensions:()=>rn});var o=e(57824),m=e.n(o),d=e(82626),u=e(82622);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(Ee,ot,Nt)=>ot in Ee?y(Ee,ot,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):Ee[ot]=Nt,C=(Ee,ot)=>{for(var Nt in ot||(ot={}))D.call(ot,Nt)&&O(Ee,Nt,ot[Nt]);if(b)for(var Nt of b(ot))E.call(ot,Nt)&&O(Ee,Nt,ot[Nt]);return Ee},_=(Ee,ot)=>w(Ee,v(ot));const a=g,l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function P(Ee){if(Ee==null)throw new ke(`Expected value to be defined, but received ${Ee}`)}function S(Ee){if(!(Ee instanceof Error))throw new ke(`Expected value to be an Error, but received ${Ee}`)}const M="\u2026",R=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],N=["CA","AU","HK","NZ"],T=350*1024*1024,A=20*1024*1024*1024,F=50*1024*1024,U=700*1024*1024,G=1,J=46438,Q=86696,te=81318,ee=87805,L=508885,V=737237,ne=1014268,ae=1056696,fe=[G,J,Q,te,ee,L,V,ne,ae],le=81309935,re=41856304,$=[le,re],oe=16,se=45,ce=30,de=0,be=1e3,pe=356,we=256,xe=6,Ue="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",De="/img/missing-image.png",_e=455,ie=728,ve=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort(),he={development:"substack-post-media-staging",staging:"substack-post-media-staging","zuma-staging":"substack-post-media-staging",prod:"substack-post-media","zuma-prod":"substack-post-media"}["production"],Le=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],He=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],ht={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},bt={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Tt=new Date("2020-01-16"),Fe=1,nt={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},ft="writer favorites",Ye="featured recommenders",rt={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},$t=["January","February","March","April","May","June","July","August","September","October","November","December"],sn=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],gt=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],Ne=["IN"],We=60*60*24*7,st=.0064;class ke extends Error{constructor(ot,{status:Nt=500,userVisible:Ht=!1,messageHtml:j=null,responseBody:H=null}={}){super(ot),this.name=this.constructor.name,this.status=Nt,this.userVisible=!!H||Ht||!1,this.messageHtml=j,this.response={body:H||(this.userVisible?j?{errors:[{msg:ot,msgHTML:j}]}:{error:ot}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Be extends Error{constructor({status:ot=500,errType:Nt="SERVER_ERROR",errMessage:Ht="",pub:j=null}){super(Ht),this.name=this.constructor.name,this.status=ot,this.response={body:{status:Nt,error:Ht}},j&&(this.response.body.publication=j),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function Se(Ee,{skipMultiContributorCheck:ot=!1}={}){var Nt,Ht,j,H;if(Ee.subdomain==="popularinformation")return"Judd Legum";if(Ee.subdomain==="whyisthisinteresting")return"Noah & Colin";if(Ee.subdomain==="informant")return"Nick Martin";if(Ee.subdomain==="colinmeloy")return"Colin Meloy";if(Ee.subdomain==="petition"||Ee.subdomain==="russiandissent")return null;if(Ee.subdomain==="mattlabash")return"Matt Labash";if(!ot&&((Nt=Ee.contributors)==null?void 0:Nt.length)>1)return null;const Z=Ee.name||Ee.subdomain,ue=[(j=(Ht=Ee.contributors)==null?void 0:Ht[0])==null?void 0:j.name,Ee.author_name,Ee.email_from_name,(H=Ee==null?void 0:Ee.author)==null?void 0:H.name];for(let Ce of ue)if(Ce&&(Ce=Ce.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Ce&&!Ce.startsWith(Z)&&!Z.startsWith(Ce)&&!Ce.endsWith(Z)&&!Z.endsWith(Ce)))return Ce;return null}function Ke({pub:Ee,post:ot}){var Nt;const Ht=(Ee==null?void 0:Ee.twitter_screen_name)||Ee&&a[Ee==null?void 0:Ee.subdomain];let j=(Nt=ot==null?void 0:ot.title)!=null?Nt:Ee==null?void 0:Ee.name;return Ee&&!ot&&(j=`Subscribe to ${j}`),Ht&&(!ot||Ee&&(!ot.publishedBylines.length||ot.publishedBylines.some(H=>H.id===Ee.author_id)))&&(j+=`, by @${Ht}`),j}function ut(Ee,{now:ot=!1,isFreeSubscribed:Nt=!1,isMobile:Ht=!1,skipTranslation:j=!1,isPledged:H=!1,pledgesEnabled:Z=!1}={}){const ue=Nt&&Ee.plans?gn(_o(Ee,Ht?"upgrade":"upgradeToPaid")):Nt&&Z&&!H?"Pledge your support":gn(_o(Ee,"subscribe"));return j?ue+(ot?" now":""):I(ue)+(ot?I(" now"):"")}function Oe({date:Ee,bylines:ot,like_count:Nt,comment_count:Ht}){const j=e(85928),H=[];return H.push(j(Ee).fromNow()),Nt&&H.push(Cr(Nt,"like")),Ht&&H.push(Cr(Ht,"comment")),ot&&ot.length&&H.push(Qt(ot.map(Z=>Z.name))),H.join(" \xB7 ")}const K=["astralcodexten"];function Y(Ee,ot){return Ee.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(Ee==null?void 0:Ee.subdomain)||(ot==null?void 0:ot.type)==="video")}const me=(Ee="")=>Ee.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function Ie(Ee){return Ee.sort((ot,Nt)=>{var Ht,j;if(!ot)return 1;if(!Nt||ot.membership_state==="subscribed"&&Nt.membership_state!=="subscribed")return-1;if(Nt.membership_state==="subscribed"&&ot.membership_state!=="subscribed")return 1;const H=me((Ht=ot.publication)==null?void 0:Ht.name),Z=me((j=Nt.publication)==null?void 0:j.name);return H<Z?-1:H>Z?1:0})}function je(Ee){if(Ee.expiry&&new Date(Ee.expiry)>new Date)switch(Ee.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!Ee.email_disabled||Ee.email_settings&&Object.values(Ee.email_settings||{}).some(ot=>ot==="individual")?"Free Subscriber":Ee.digest_enabled||Ee.email_settings&&Object.values(Ee.email_settings||{}).some(ot=>ot==="digest")?"Follows in Digests":"Emails Disabled"}function Xe({post:Ee,user:ot}){return!!(Ee&&ot&&ot.has_publication&&!ot.is_admin&&!ot.is_contributor&&Ee.slug!=="coming-soon")}const _t="no-reply@substack.com";function pt(Ee){if(!Ee||typeof Ee!="string")return Ee;try{return encodeURIComponent(Ee),Ee}catch(ot){}return Ee.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,ot=>ot.length>1?ot:"")}function Ge(Ee,ot){const Nt=new TextEncoder().encode(Ee);return Nt.length>ot?new TextDecoder().decode(Nt.slice(0,ot)):Ee}function at(Ee){for(;;)try{return encodeURIComponent(Ee),Ee}catch(ot){Ee=Ee.substring(0,Ee.length-1)}}function It(Ee,ot,{words:Nt=null,ellipsis:Ht=M,extension:j=null}={}){if(!Ee)return Ee;let H=!1;if(Nt){const Z=new RegExp(`^(\\w+\\W+){${Nt-1}}\\w+`).exec(Ee);Z&&(H=!0,Ee=Z[0])}return ot&&Ee.length>ot&&(H=!0,Ee=Ee.substring(0,ot-Ht.length)),H&&(Ee=at(Ee),Ee+=Ht,j&&(Ee+=j)),Ee}function zt(Ee,ot,{ellipsis:Nt=M,quotationMarks:Ht=!1}={}){if(!Ee)return Ee;Ht&&(ot-=2);let j=Ee;if(Ee&&Ee.length>ot){const H=Ee.split(/\s+/),Z=[];let ue=0;for(;ue<=ot;){const Ce=H.shift();if(!Ce||ue+Ce.length>ot)break;Z.push(Ce),ue+=Ce.length+1}j=Dt(Z.join(" "),Nt)}return Ht&&(j.endsWith(" ")||j.startsWith(" "))&&(j=j.trim()),Ht?`"${j}"`:j}const Xt=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function Dt(Ee,ot=M){return`${Ee.replace(Xt,"")}${ot}`}function ln(Ee){return/[!.?](?:\s+)?$/.test(Ee)}const qt=new Set([" ","-"]);function fn(Ee,{maxCharsPerLine:ot=55,maxLines:Nt=2,preferWide:Ht=!1}={}){if(Ee.length<=ot)return[Ee];const j=ot*Nt;if(Ee.length>j){let Ae=j;for(;Ae>=0&&Ee.charAt(Ae)!==" ";)Ae--;Ee=Dt(Ee.slice(0,Ae))}const H=Ht?ot:Math.floor(Ee.length/Nt);let Z=-1,ue=0;const Ce=[];for(;ue+H<Ee.length-1;){for(ue=ue+H;ue<=Ee.length-1&&!qt.has(Ee.charAt(ue));)ue++;const Ae=Ee.charAt(ue)==="-";Ce.push(Ee.slice(Z+1,Ae?ue+1:ue)),Z=ue}return ue<Ee.length-1&&Ce.push(Ee.slice(Z+1)),Ce}const Sn=Ee=>/[A-Z]/.test(Ee),wn=Ee=>/[\s-]/.test(Ee);function Pn(Ee,ot){let Nt=0;for(let Ht=0;Ht<Ee.length;Ht+=1){const j=Ee[Ht];Sn(j)?Nt+=ot:Nt+=1}return Nt}function jn(Ee,ot,Nt){const Ht=[];let j=0,H=!1;for(let Ce=0;Ce<Ee.length;Ce+=1){const Ae=Ee[Ce];if(wn(Ae)){H=!0;continue}else H&&(Ht.push(Ee.slice(j,Ce)),j=Ce,H=!1)}if(j<Ee.length&&Ht.push(Ee.slice(j)),!Ht.length)return"";const Z=[Ht[0]];let ue=Pn(Ht[0],ot);for(const Ce of Ht.slice(1)){const Ae=Pn(Ce,ot);if(ue+=Ae,ue<=Nt)Z.push(Ce);else break}return Z.join("")}function sr(Ee,{maxCostPerLine:ot=55,maxLines:Nt=2,capitalCost:Ht=1.2}={}){const j=Ee;if(Pn(Ee,Ht)<=ot)return[Ee];const Z=[];for(let ue=0;ue<Nt;ue+=1){const Ce=jn(Ee,Ht,ot);if(Ce)Z.push(Ce),Ee=Ee.slice(Ce.length);else break}return Z.reduce((ue,Ce)=>ue+Ce.length,0)<j.length&&(Z[Z.length-1]=Dt(Z[Z.length-1].slice(0,Z[Z.length-1].length-1))),Z}const _r=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr"];function hr(Ee){switch(Ee){case"AU":return"aud";case"CA":return"cad";case"AT":case"BE":case"CY":case"EE":case"FI":case"FR":case"DE":case"GR":case"HR":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PT":case"SK":case"SI":case"ES":return"eur";case"GB":return"gbp";case"US":return"usd";default:return null}}const Bn=Ee=>{var ot,Nt;return((Nt=(ot=Ee.draft_plans)==null?void 0:ot[0])==null?void 0:Nt.currency)||"usd"};function yr(Ee){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(Ee.toUpperCase())}function oo(Ee){const ot=Bn(Ee);return yr(ot)}function Wr(Ee){return new Intl.NumberFormat("en-US",{style:"currency",currency:Ee,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const Zr=Ee=>Ee/1e8;function Vr(Ee,ot,{forceDecimals:Nt=!1}={}){let j=new Intl.NumberFormat("en-US",{style:"currency",currency:ot,minimumFractionDigits:Nt||Ee%100?2:0,maximumFractionDigits:ot==="btc"?8:2}).format(ot==="btc"?Zr(Ee):yr(ot)?Ee:Ee/100);return ot==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&N.includes(window._preloads.country)&&(j=`US${j}`),j}function Ur(Ee){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(Ee/100)}const co=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function no(Ee){if(!Ee)return null;if(typeof Ee!="string")throw new Error("Bad type for dollar string");const ot=Ee.replace(/[^0-9.]/g,"");return ot?Math.round(Number(ot)*100):null}function Hr(Ee){let ot=Ee/100;return ot=ot<50?Math.ceil(ot):Math.ceil(ot/5)*5,ot*100}function uo(Ee,{quantity:ot=1,coupon:Nt=null,noTrial:Ht=!1,trial_end_override:j=null}={}){if(!Ht&&(Ee.trial_period_days||Nt&&Nt.trial_period_days||j&&j>Date.now()/1e3+120))return 0;let H=Ee.amount*ot;return Nt&&Nt.percent_off?H=Math.round(H*(1-(Nt.percent_off_precise||Nt.percent_off)/100)):Nt&&Nt.amount_off&&(H=Math.max(0,H-Nt.amount_off)),H}function yo(Ee,{interval:ot="month",interval_count:Nt=Fe,multiplier:Ht=1,min:j=0}={}){let H,Z,ue;for(const Ze of Ee){if(!ue)ue=Ze.currency;else if(ue!=Ze.currency)continue;Ze.interval=="month"?(!H||Ze.amount<H)&&(H=Ze.amount):Ze.interval=="year"&&(!Z||Ze.amount<Z)&&(Z=Ze.amount)}let Ce=H;if(!Ce&&Z&&(Ce=Z/12),!Ce)return null;let Ae;switch(ot){case"month":Ae=Ce;break;case"day":Ae=Ce/30;break;case"year":Ae=Z||Ce*12;break;default:throw new Error(`bad interval: ${ot}`)}let qe=Ae*Nt*Ht;return qe<j?null:(qe=Math.floor(qe/100)*100,Vr(qe,ue))}function ho(Ee,{amount:ot,interval:Nt=""}={}){let Ht=Vr(ot!=null?ot:Ee.amount,Ee.currency);return Ee.interval!=="forever"&&(Ee.interval_count===1?Ht+=`/${Nt||Ee.interval}`:Ht+=`/${Ee.interval_count==3?"three ":""}${Cr(Ee.interval_count,Ee.interval,{just_word:Ee.interval_count==3})}`),Ht}function xo(Ee,{secondsCutoff:ot,minutesCutoff:Nt,hoursCutoff:Ht,daysCutoff:j,weeksCutoff:H,long:Z,noNumber:ue,noWord:Ce,lessThanMinute:Ae}={}){let qe,Ze,tt;return Ee=Math.round(Ee),Ee<(ot||60)?(qe=Ee,Ze=Z?"second":"sec"):Ee<(Nt||3600)?(qe=Ee/60,Ze=Z?"minute":"min",Ae&&(tt=!0)):Ee<(Ht||86400)?(qe=Ee/60/60,Ze=Z?"hour":"hr"):Ee<(j||604800)?(qe=Ee/60/60/24,Ze="day"):Ee<(H||31557600)?(qe=Ee/60/60/24/7,Ze=Z?"week":"wk"):(qe=Ee/60/60/24/365.25,Ze=Z?"year":"yr"),qe=Math.round(qe),[tt&&"less than",!ue&&(Ce?qe:qe.toFixed(0)),!Ce&&(Z?Cr(qe,Ze,{just_word:!0}):Ze)].filter(Boolean).join(" ")}function Qo(Ee){const ot=Math.floor(Ee/60/60),Nt=Math.floor(Ee/60)%60,Ht=Math.floor(Ee%60);return`${(ot?`${ot}:`:"")+(ot?`0${Nt}`.slice(-2):Nt)}:${`0${Ht}`.slice(-2)}`}function Zo(Ee){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(Ee)}function No(Ee){return Ee[0]!=="#"&&(Ee=`#${Ee}`),Ee=Ee.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(ot,Nt,Ht,j)=>Nt+Nt+Ht+Ht+j+j),Ee}function Ro(Ee){Ee=No(Ee);function ot(tt,Rt){typeof tt=="string"&&tt.indexOf(".")!=-1&&parseFloat(tt)===1&&(tt="100%");const Kt=typeof tt=="string"&&tt.indexOf("%")!=-1;return tt=Math.min(Rt,Math.max(0,parseFloat(tt))),Kt&&(tt=parseInt(tt*Rt,10)/100),Math.abs(tt-Rt)<1e-6?1:tt%Rt/parseFloat(Rt)}const Nt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Ee);let Ht=parseInt(Nt[1],16),j=parseInt(Nt[2],16),H=parseInt(Nt[3],16);Ht=ot(Ht,255),j=ot(j,255),H=ot(H,255);const Z=Math.max(Ht,j,H),ue=Math.min(Ht,j,H);let Ce;const Ae=Z,qe=Z-ue,Ze=Z===0?0:qe/Z;if(Z==ue)Ce=0;else{switch(Z){case Ht:Ce=(j-H)/qe+(j<H?6:0);break;case j:Ce=(H-Ht)/qe+2;break;case H:Ce=(Ht-j)/qe+4;break}Ce/=6}return{h:Ce,s:Ze,v:Ae}}function Ko(Ee){const ot=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(No(Ee));return ot?{r:parseInt(ot[1],16),g:parseInt(ot[2],16),b:parseInt(ot[3],16)}:null}function Yr({r:Ee,g:ot,b:Nt}){return`#${Ee.toString(16).padStart(2,"0")}${ot.toString(16).padStart(2,"0")}${Nt.toString(16).padStart(2,"0")}`}function Jr(Ee){const ot=Ro(Ee);if(ot.h>.11&&ot.h<.56)if(ot.s>.25&&ot.v>.5){if(ot.s<.6&&ot.v>.8)return!0;if(ot.s>.6)return!0}else return!1;else if(ot.s>.25&&ot.v>.5)return!0;return!1}function jr(Ee,ot){const Nt=Ko(Ee);return Nt?(Nt.r=Math.max(0,Math.min(255,Math.round(Nt.r*ot))),Nt.g=Math.max(0,Math.min(255,Math.round(Nt.g*ot))),Nt.b=Math.max(0,Math.min(255,Math.round(Nt.b*ot))),Yr(Nt)):Ee}function Dr(Ee){let{r:ot,g:Nt,b:Ht}=Ko(Ee);return ot=ot/255,Nt=Nt/255,Ht=Ht/255,ot=ot<=.03928?ot/12.92:Math.pow((ot+.055)/1.055,2.4),Nt=Nt<=.03928?Nt/12.92:Math.pow((Nt+.055)/1.055,2.4),Ht=Ht<=.03928?Ht/12.92:Math.pow((Ht+.055)/1.055,2.4),.2126*ot+.7152*Nt+.0722*Ht}function Vt(Ee,ot,{name:Nt=ue=>ue,restWord:Ht="other",noNames:j="people",pluralizeRest:H=!0,showRestCount:Z=!0}={}){const ue=Ee.map(Nt).filter(Boolean).slice(0,ot);if(ue.length===0)ue.push(Cr(Ee.length,j));else if(ue.length<Ee.length){const Ce=Ee.length-ue.length;ue.push(`${Z?Ce:""} ${Ht}${Ce>1&&H?"s":""}`)}return Qt(ue)}function Qt(Ee){let ot="";return Ee.length===1?ot=Ee[0]:Ee.length===2?ot=Ee.join(" and "):Ee.length>2&&(ot=`${Ee.slice(0,-1).join(", ")}, and ${Ee.slice(-1)}`),ot}function en(Ee,{minSignificantDigits:ot=1}={}){if(Ee<1e3)return Ee.toString();let Nt;Math.round(Ee/1e3)<1e3?(Ee/=1e3,Nt="k"):Math.round(Ee/1e6)<1e3?(Ee/=1e6,Nt="m"):Math.round(Ee/1e9)<1e3?(Ee/=1e9,Nt="b"):(Ee/=1e12,Nt="t");const Ht=Math.max(ot-1-Math.floor(Math.log10(Ee)),0);return Ee=Math.round(Ee*Math.pow(10,Ht))/Math.pow(10,Ht),`${Ee}${Nt}`}const Rn=Ee=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(Ee,1))/Math.LN10+1e-9))-1),At=Ee=>"\u{1F525}".repeat(Rn(Ee));function Zt(Ee,ot,Nt){const Ht=(Ee||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(H=>H.trim()).filter(H=>H),j=[];for(;Ht.length>0;){const H=Ht.shift(),Z=j[j.length-1];Z&&Z.length<Nt?j[j.length-1]+=ot+H:j.push(H)}return j.join(`
`)}function jt(){return Math.random().toString(36).replace(/^0\./,"")}function nn(Ee){return Ee.trim().split(/\s+/).filter(Boolean).map(ot=>ot[0].toUpperCase()+ot.substr(1).toLowerCase()).join(" ")}function gn(Ee,ot){const Nt=ot?Ee.substr(1).toLowerCase():Ee.substr(1);return Ee[0].toUpperCase()+Nt}function Mn(Ee){const ot=["th","st","nd","rd"],Nt=Ee%100;return Ee+(ot[(Nt-20)%10]||ot[Nt]||ot[0])}function Xn(Ee,ot=0){return typeof Ee=="string"&&(Ee=Number(Ee.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:ot}).format(Ee)}function nr(Ee){return Math.pow(10,Math.floor(Math.log10(Ee)))||0}function er(Ee){return Ee<100?"tens":Ee<1e3?"hundreds":Ee<1e4?"thousands":Ee<1e5?"tens of thousands":Ee<1e6?"hundreds of thousands":Ee<1e7?"millions":Ee<1e8?"tens of millions":Ee<1e9?"hundreds of millions":Ee<1e10?"billions":Ee<1e11?"tens of billions":Ee<1e12?"hundreds of billions":Ee<1e13?"trillions":Ee<1e14?"tens of trillions":Ee<1e15?"hundreds of trillions":"gagillions"}function Nn(Ee){return Ee<100?"10+":Ee<1e3?"100+":Ee<1e4?"1K+":Ee<1e5?"10K+":Ee<1e6?"100K+":Ee<1e7?"1M+":Ee<1e8?"10M+":Ee<1e9?"100M+":Ee<1e10?"1B+":Ee<1e11?"10B+":Ee<1e12?"100B+":Ee<1e13?"1T+":Ee<1e14?"10T+":Ee<1e15?"100T+":"gagillions"}function Sr(Ee){return Ee<=10?`#${Ee}`:Ee<=25?"Top 25":Ee<=50?"Top 50":Ee<=100?"Top 100":""}function Tr(Ee){if(Ee<1e3)return null;let Ht=Math.floor(Ee/1e3)*1e3;return Ht>=1e6&&(Ht=Math.floor(Ee/1e5)*1e5),`Over ${Xn(Ht)} subscribers`}const br=Ee=>Ee<1?"< 1%":`${Ee}%`;function Rr(Ee,{rounded:ot=!1,display:Nt=!1,decimalPlaces:Ht=-1}={}){let j=parseFloat(Ee)*100;return Ht>=0&&(j=j.toFixed(Ht)),ot&&(j=Math.floor(j)),Nt?br(Number(j)):j}function so(Ee){var ot;if((ot=Ee==null?void 0:Ee.postSchedules)!=null&&ot.length&&Ee.postSchedules[0].trigger_at)return new Date(Ee.postSchedules[0].trigger_at);if("scheduled_at"in Ee&&!(!Ee||!Ee.scheduled_at)&&!(Ee.email_sent_at&&Ee.should_send_email))return new Date(Math.max(new Date(Ee.scheduled_at).getTime(),Date.now()))}function eo(Ee){return Ee===0?"zero":Ee===1?"one":Ee===2?"two":Ee===3?"three":Ee===4?"four":Ee===5?"five":Ee===6?"six":Ee===7?"seven":Ee===8?"eight":Ee===9?"nine":Ee===10?"ten":Ee===11?"eleven":Ee===12?"twelve":Xn(Ee)}function Cr(Ee,ot,{zero_fallback:Nt="",just_word:Ht}={}){let j,H;const Z=ot.lastIndexOf(" ")+1,ue=ot.substr(Z),Ce=ot.substr(0,Z);return["person","people"].includes(ue)?(j=`${Ce}person`,H=`${Ce}people`):["reply","replies"].includes(ue)?(j=`${Ce}reply`,H=`${Ce}replies`):["entry","entries"].includes(ue)?(j=`${Ce}entry`,H=`${Ce}entries`):["match","matches"].includes(ue)?(j=`${Ce}match`,H=`${Ce}matches`):(j=ot,H=`${ot}s`),Ht||(j=`${Xn(Ee)} ${j}`,H=`${Xn(Ee)} ${H}`),!Ee&&Nt?Nt:Ee==1?j:H}function Co(Ee){return`${Ee}\u2019${Ee[Ee.length-1]==="s"?"":"s"}`}function po(Ee){return Ee.replace(/\n/g,"\\n")}const jo=(Ee,ot,Nt)=>{const Ht={};for(const j in Ee)Ht[j]=ot.call(Nt,Ee[j],j,Ee);return Ht};function vo(Ee,ot){if(isNaN(Ee))return isNaN(ot);if(Ee===null)return ot===null;switch(typeof Ee){case"undefined":case"boolean":case"number":case"string":return Ee===ot}const Nt=Object.keys(Ee).sort(),Ht=Object.keys(ot).sort();if(Nt.length!==Ht.length)return!1;for(let j=0;j<Nt.length;j+=1){const H=Nt[j];if(H!==Ht[j]||!vo(Ee[H],ot[H]))return!1}return!0}const Oo=(Ee,ot="id")=>{const Nt={};for(const Ht of Ee)typeof ot=="function"?Nt[ot(Ht)]=Ht:Nt[Ht[ot]]=Ht;return Nt};function Lo(Ee,ot){const Nt=[],Ht=[];for(const j of Ee)ot(j)?Nt.push(j):Ht.push(j);return[Nt,Ht]}const So=(Ee,ot=1)=>{const Nt=[];function Ht(j,H){for(const Z of j)Array.isArray(Z)&&H>0?Ht(Z,H-1):Nt.push(Z)}return Ht(Ee,ot),Nt},Ci=(Ee,ot,Nt)=>{if(typeof ot=="string"){const Ht=ot.split(".");ot=j=>Ht.reduce((H,Z)=>H[Z],j)}return[].reduce.call(Ee,(Ht,j,H)=>{const Z=ot.call(Nt,j,H,Ee),ue=Ht.get(Z);return ue?ue.push(j):Ht.set(Z,[j]),Ht},new Map)};function io({publication:Ee,post:ot}){return["adhoc_email","page"].includes(ot==null?void 0:ot.type)?!1:Ee.community_enabled&&ot&&ot.write_comment_permissions!=="none"}function li({publication:Ee,post:ot}){return!!(Ee.community_enabled&&ot)}function fi({publication:Ee,post:ot}){return(ot==null?void 0:ot.type)==="adhoc_email"||(ot==null?void 0:ot.slug)==="coming-soon"?!1:ot&&ot.comment_count>0||io({publication:Ee,post:ot})}const Mi=Ee=>!!(Ee&&Ee.is_contributor);function pi(Ee,ot,{bypassContentAccessCheck:Nt=!1}={}){const{userHasFullAccessToPost:Ht}=e(6385);return Ee&&ot.publishedBylines&&ot.publishedBylines.find(j=>j.id===Ee.id)?!0:new Date(ot.post_date)<new Date("2018-11-08T19:00:00.000Z")?!!(Ee&&(Ee.is_subscribed||Ee.is_contributor)):Nt||Ht(Ee,ot)}const Li=Ee=>Ee.type==="thread"&&Ee.write_comment_permissions==="none";function Bi(Ee,ot,Nt){const Ht=Ee&&"id"in Ee?Ee.id:null;if(Ht&&ot.publishedBylines&&ot.publishedBylines.find(j=>j.id===Ht))return{canReply:!0};if(Ee&&Ee.is_contributor)return{canReply:!0};switch(ot.write_comment_permissions||Nt.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:u.us.comments_disabled};case"only_paid":{const j=!!(Ee&&Ee.is_subscribed);return{canReply:j,repliesDisabledReason:j?void 0:u.us.paid_subscription_required}}}return{canReply:!1}}function ki(Ee,ot,Nt){return Bi(_(C({},Ee),{is_subscribed:!0}),ot,Nt).canReply}const ra=(Ee,ot)=>!!(ot&&Ee&&Ee.id===ot.user_id);function Xo(Ee,ot,{pub:Nt,post:Ht,parentComments:j}){if(!Ee||!ot)return!1;if(Ee.is_contributor||Ee.id===ot.user_id)return!0;if(ot.publication_id&&ot.post_id){if(bo(Ee,Nt,Ht))return!0}else if(ci({user:Ee,comment:ot,parentComments:j}))return!0;return!1}function ci({user:Ee,comment:ot,parentComments:Nt}){var Ht;if(!Ee||!ot||ot.publication_id&&ot.post_id||Ee.id===ot.user_id||Ee.is_contributor)return!1;const j=Number((Ht=ot.ancestor_path)==null?void 0:Ht.split(".").filter(Boolean)[0]);if(!j)return!1;const H=Nt==null?void 0:Nt.find(Z=>(Z==null?void 0:Z.id)===j);return Ee.id===(H==null?void 0:H.user_id)}function bo(Ee,ot,Nt){return Ee?!!(Ee.is_contributor||Ee.id===(ot==null?void 0:ot.author_id)||ot!=null&&ot.contributors.find(Ht=>Ht.user_id===Ee.id&&["admin","contributor"].includes(Ht.role))):!1}function ii(Ee,ot){return!(!Ee||!ot||Ee.id===ot.user_id)}function di(Ee){return!!(Ee.plans||Ee.has_subscribers)}function ai(Ee,{type:ot,coupon:Nt}={}){return!Ee.plans||ot==="page"?"everyone":Nt?"only_free":"only_paid"}function it(Ee,ot,Nt){if(ot==="thread")switch(Ee){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(Ee){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return Nt?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function $e(Ee,ot,Nt,Ht){return Ee!=null&&it(ot,Nt,Ht).includes(Ee)}function Qe(Ee,ot,Nt,Ht){return $e(Nt.default_write_comment_permissions,Ee,ot,Ht)?Nt.default_write_comment_permissions:it(Ee,ot,Ht)[0]}function mt(Ee,ot,Nt){return ot==="page"?!1:Nt==="only_free"?!0:!!Ee.default_post_publish_send_email}function yt(Ee,ot,Nt){return ot&&ot.interval==="forever"?0:Math.max(0,...[Ee.trial_end_override>Date.now()/1e3?Ee.trial_end_override:0,ot&&ot.trial_period_days&&Math.round((Date.now()+ot.trial_period_days*24*60*60*1e3)/1e3),Nt&&Nt.trial_period_days&&Math.round((Date.now()+Nt.trial_period_days*24*60*60*1e3)/1e3)].filter(Ht=>Ht))}function Ut(Ee,{prependSpace:ot=!1}={}){return Ee?(ot?" ":"")+Ee.trim().split(/\s+/g)[0]:""}function Lt(Ee){return Ee?Ee.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const Te=Ee=>$t[new Date(Ee).getMonth()];function ge(Ee,{noBreakSpace:ot}={}){const Nt=ot?"\xA0":" ";let Ht=[];if(Ee.length==1)Ht=[Ee[0]];else if(Ee.length==2)Ht=[Ee[0],`${Nt}and${Nt}`,Ee[1]];else if(Ee.length>=3)for(let j=0;j<Ee.length;j++)Ht.push(Ee[j]),j<Ee.length-2?Ht.push(`,${Nt}`):j===Ee.length-2&&Ht.push(`,${Nt}and${Nt}`);return Ht.toString=()=>Ht.join(""),Ht}function Pe(Ee){const ot=new Map;for(const Nt of Ee){let Ht=ot.get(Nt);Ht=(Ht||0)+1,ot.set(Nt,Ht)}return Array.from(ot).sort((Nt,Ht)=>Ht[1]-Nt[1])[0][0]}function Ve(Ee){return Ee.type==="thread"?"View thread":Ee.type==="podcast"?"Listen":"Read"}function vt(Ee,{isFinalWord:ot}={}){return Ee==="podcast"?`listening${ot?"":" to"}`:Ee==="video"?"watching":"reading"}function Pt(Ee){return Ee==="newsletter"?"post":Ee==="podcast"?"episode":Ee==="adhoc_email"?"email":Ee}function Ot(Ee){return`${It(Ee.title||"Untitled post",115)}`}function Mt(Ee){return Ee.publication_id===10475&&Ee.section_id===18994}function Ft(Ee,{isDraft:ot=!1}={}){return Ee?((ot?Ee.draftBylines:Ee.publishedBylines)||[]).filter(Ht=>Ht.name):[]}function Wt(Ee,ot,{isDraft:Nt=!1}={}){const Ht=Ft(ot,{isDraft:Nt});return Ht.length>0?Qt(Ht.map(j=>j.name)):null}const un=Ee=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Ee);function tn(Ee){return typeof Ee=="string"?m()(Ee)||0:typeof Ee=="number"?Ee:0}function dn(Ee){const ot=Nt=>new RegExp(`^.*${Nt}`);if(Ee){if(Ee.includes(d.Substitutions.CHECKOUT_URL))return Ee.replace(ot(d.Substitutions.CHECKOUT_URL),"/subscribe?");if(Ee.includes(d.Substitutions.FOUNDING_CHECKOUT_URL))return Ee.replace(ot(d.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(Ee.includes(d.Substitutions.REFERRAL_URL))return Ee.replace(ot(d.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(Ee.includes(d.Substitutions.UNSUBSCRIBE_URL))return Ee.replace(ot(d.Substitutions.UNSUBSCRIBE_URL),"/account?");if(Ee.includes(d.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return Ee.replace(ot(d.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(Ee))return null}else return Ee;return Ee}function Dn(Ee){const ot=dn(Ee);if(ot){const Nt=window.open(ot,"_blank");Nt!=null&&Nt.focus&&Nt.focus()}}function Wn(Ee){if(!Ee)return!0;const ot=document.location&&document.location.pathname||"";return["publish","account"].includes(ot.split("/")[1])}function fr(Ee,ot=2){if(Ee===0)return"0 Bytes";const Nt=1024,Ht=ot<0?0:ot,j=Math.floor(Math.log(Ee)/Math.log(Nt));return`${parseFloat((Ee/Math.pow(Nt,j)).toFixed(Ht))} ${R[j]}`}function rr(Ee=""){if(!Ee)return 0;const[ot,Nt]=Ee.split(" "),Ht=R.indexOf(Nt);return Ht<0?0:Number(ot)*Math.pow(1024,Ht)}function Cn(Ee){return/Googlebot/i.test(Ee||"")?"Google":/bingbot/i.test(Ee||"")||/BingPreview/i.test(Ee||"")?"Bing":/Slurp/i.test(Ee||"")?"Yahoo":/DuckDuckBot/i.test(Ee||"")?"DDG":/Baiduspider/i.test(Ee||"")?"Baidu":!1}function Gn(Ee,ot,Nt,Ht){return Ee.name?Ee.name:(Nt&&Nt.author_id===Ht.id||ot&&ot.publishedBylines&&ot.publishedBylines.find(j=>j.id===Ht.id))&&Ee.email||"Someone"}function ar(Ee,ot){return Ee&&Ee.description||ot.hero_text||`Get ${ot.name} in your inbox`}const Er=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],Pr={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},ao=Er.flatMap(Ee=>Ee.pubs);function _o(Ee,ot){const Nt=Er.find(j=>{var H;return j.pubs.includes(((H=Ee==null?void 0:Ee.parent_publication)==null?void 0:H.subdomain)||(Ee==null?void 0:Ee.subdomain))});let Ht=Nt&&Nt[ot];if(!Ht&&(Ht=Pr[ot],!Ht))throw new Error(`${ot} is not a valid subscription word`);return Ht}function To(Ee){const ot={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${Ee}`).map(Nt=>ot[Nt]))}const ei=Ee=>{var ot,Nt,Ht;return(Ht=(Nt=(ot=Ee==null?void 0:Ee.plans)==null?void 0:ot.find(j=>{var H;return(H=j.metadata)==null?void 0:H.founding}))==null?void 0:Nt.metadata)==null?void 0:Ht.short_description},Bo=Ee=>`https://checkout.opennode.com/${Ee}`;function $o(Ee=0){const ot=Ee===0?0:Math.floor(Math.log(Ee)/Math.log(1024));return`${+(Ee/Math.pow(1024,ot)).toPrecision(3)}${["B","KB","MB","GB","TB"][ot]}`}function Oi(Ee){if(!Ee)return null;const ot="Substack Network";if(Ai(Ee))return ot;const Nt={"blog.substack.com":ot,"library.substack.com":ot,"on.substack.com":ot,"post-end-cta":"Post Footer CTA","stories.substack.com":ot,"substack-app":ot,"substack-boost":ot,"substack-categories-discovery":ot,"substack-categories-discovery-search":ot,"substack-comment-links":ot,"substack-cross-posts":ot,"substack-facepiles":ot,"substack-mentions":ot,"substack-onboarding-discovery":ot,"substack-post-embeds":ot,"substack-post-reply-comment":ot,"substack-presubscribe":ot,"substack-publication-embeds":ot,"substack-reader-discovery":ot,"substack-reader-profile-discovery":ot,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":`${ot} \u2014 Your Weekly Stack`,"substack-recommendation-email":ot,"substack-referral":ot,"substack-signup-flow":ot,"substack-subscriber-referral":ot,"substack-twitter-link":ot,"substack-twitter-suggest":ot,"substack-xp-post-template":ot,"substack-xp-read-next":ot,"substack.com":ot,"t.co":"Twitter","www.substack.com":ot,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[Ee];return Nt||(/(\b|\.)facebook\./.test(Ee)?"Facebook":/(\b|\.)instagram\./.test(Ee)?"Instagram":/(\b|\.)linkedin\./.test(Ee)?"LinkedIn":/(\b|\.)youtube\./.test(Ee)?"YouTube":/(\b|\.)duckduckgo\./.test(Ee)?"DuckDuckGo":/(\b|\.)medium\./.test(Ee)?"Medium":/(\b|\.)reddit\./.test(Ee)?"Reddit":/(\b|\.)bing\./.test(Ee)?"Bing":/(\b|\.)google\./.test(Ee)?"Google":Ee!=null&&Ee.includes(".")?Ee:nn(Ee.replace(/-/g," ")))}function Ai(Ee){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(Ee)}const _i=Ee=>/^\S+@\S+\.\S+$/.test(Ee),ko=Ee=>(Ee||"").replace(/\s+/g," "),lt={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function ct(Ee){return Ee?Ee<3456e3?"monthly":Ee<8121600?"quarterly":Ee<16070400?"semiannual":Ee<3456e4?"annual":Ee>3888e3?"lifetime":"other":"free"}function Ct(Ee){return Ee&&(Ee.homepage_type==="newspaper"||Ee.homepage_type==="magaziney")}const Gt=35;function rn(Ee,{isStatic:ot}={}){let Nt,Ht;return Ee.width>=Ee.height*1.7777777777777777?(Nt=ot?550:960,Ht=Math.round(Nt*(Ee.height/Ee.width))):Ee.width>=Ee.height?(Nt=ot?550:728,Ht=Math.round(Nt*(Ee.height/Ee.width))):Nt=Ht=ot?550:728,{height:Ht,width:Nt}}function _n(Ee){const ot=e(85928),Nt=ot(Ee);return ot.utc([Nt.year(),Nt.month(),Nt.date(),8,0,0]).toDate()}function bn({now:Ee}={}){const ot=e(85928),Nt=Ee?ot(Ee):ot();let Ht=Nt.utc().startOf("day").add(5,"hour");return Ht.isBefore(Nt)&&(Ht=Ht.utc().add(1,"day")),Ht}function An(Ee){const ot=Math.round(Ee/60),Nt=Math.floor(ot/60),Ht=ot%60;return`${Nt?`${Nt}HR `:""}${Ht}M`}function Un(Ee){const ot=Ee.toLowerCase()[0];return["a","e","i","o","u"].includes(ot)}function pr(Ee){return Ee.toLowerCase().startsWith("uni watch")?"a":Un(Ee)?"an":"a"}function Jn(Ee){return`${pr(Ee)} ${Ee}`}function kr(Ee){return Ee.split("").reduce((ot,Nt)=>(ot<<5)-ot+Nt.charCodeAt(0)|0,0)}function Lr(Ee){return Math.abs(Ee)>9999?`${Math.sign(Ee)*(Math.abs(Ee)/1e3).toFixed(1)}K`:(Math.sign(Ee)*Math.abs(Ee)).toString()}function Ir({recommendedPubs:Ee}){let ot=null;for(const Nt of Ee){for(const Ht of Nt.recommendations)if(Ht.hasOwnProperty("blurb")&&Ht.blurb){ot=`${Ht.name} recommended ${Nt.name}`;break}if(ot)break}return ot!=null?ot:"Recommendations from your Substacks"}function wr(Ee){return Ee.metadata.short_description?Ee.metadata.short_description:Ee.interval==="year"?"Annual":Ee.interval==="forever"?"Founding Membership":Ee.interval==="month"&&Ee.interval_count===3?"Quarterly":Ee.interval==="month"&&Ee.interval_count===6?"Semiannually":`${nn(Ee.interval)}ly`}const vr=({minLength:Ee,maxLength:ot,minAlphaNumeric:Nt}={})=>Ht=>{if(!Ht)return"Missing input";if(Ee&&Ht.length<Ee)return`Must be at least ${Ee} characters long`;if(ot&&Ht.length>ot)return`Must be at most ${ot} characters long`;const j=new RegExp("\\P{P}|`","gu"),H=Ht.match(j);if(!H||(H==null?void 0:H.length)<(Nt!=null?Nt:Ee))return`Must contain at least ${Nt!=null?Nt:Ee} non-punctuation characters`;const Z=["`"];let ue=0;return H.forEach(Ce=>{Z.includes(Ce)&&(ue+=1)}),H.length-ue<(Nt!=null?Nt:Ee)?`Must contain at least ${Nt!=null?Nt:Ee} non-punctuation characters`:null}},25597:(z,s,e)=>{"use strict";e.d(s,{Z:()=>y});var o=e(6400),m=e(13639),d=e(36377),u=e(11851);const y=({audience:w,className:v,size:b=16,isStatic:D,thin:E})=>w==="only_paid"?E?(0,o.h)(u.Z,{className:v,height:b,isStatic:D}):(0,o.h)(m.Z,{className:v,size:b}):w==="founding"?(0,o.h)(d.Z,{className:v,height:b,isStatic:D}):null},45809:(z,s,e)=>{"use strict";e.d(s,{M:()=>d});var o=e(6400),m=e(83322);function d({array:u,limit:g,formatter:y=D=>D,restWord:w="other",showRestCount:v=!0,pluralizeRest:b=!0}){const D=u.map(y).filter(Boolean).slice(0,g);if(D.length===0)return(0,m.pluralize)(u.length,"people");const E=u.length-D.length;return E>0&&D.push(`${v?E:""} ${w}${E>1&&b?"s":""}`),D.length===1?D[0]:D.length===2?(0,o.h)(o.Fragment,null,D[0]," and ",D[1]):(0,o.h)(o.Fragment,null,D.slice(0,-1).map(O=>(0,o.h)(o.Fragment,null,O,", "))," ","and ",D[D.length-1])}},85344:(z,s,e)=>{"use strict";e.d(s,{q:()=>D});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(51126),y=e(65919),w=e(11688),v=e(31471);const b={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"};function D({className:O,assets:C,readOnly:_,isRestack:a,isPreview:l,onClick:P,aspect:S}){let M=C;C.length>6&&(M=M.slice(0,5));const[R,N]=(0,m.eJ)(null),T=(A,F)=>{A.preventDefault(),N({index:F})};return(0,o.h)(g.hs,{className:u()(b.imageGroup,b[`size-${Math.min(C.length,6)}`],a&&b.restack,l&&b.preview,O),alignSelf:"stretch",gap:4},M.map((A,F)=>(0,o.h)(E,{key:A,asset:A,index:F,total:C.length,readOnly:_,aspect:S,onClick:_?void 0:U=>{U.preventDefault(),P&&P(),T(U,F)}})),C.length>6&&(0,o.h)(E,{asset:C[6],index:5,total:6,count:C.length-M.length,readOnly:_,onClick:P,aspect:S}),!_&&(0,o.h)(w.cr,{module:"./ImageViewerModal",resolve:A=>A.ImageViewerModal,onRequest:()=>e.e(934).then(e.bind(e,55661)),showModal:!!R,modalContent:C.map(A=>({attrs:{src:A}})),onClose:()=>{N(null)},step:R?R.index:void 0,includeDownloadButton:!1}))}function E({asset:O,onClick:C,index:_,total:a,count:l,readOnly:P,aspect:S}){return(0,o.h)(g.hs,{className:u()(b.image,!P&&b.clickable,_===0&&b.topLeft,(_===0&&a===1||_===1&&a===2||_===1&&a===4||_===2&&a!==4)&&b.topRight,(_===0&&a<=3||_===2&&a===4||_===3&&a>4)&&b.bottomLeft,(_+1===a||_==2&&a===5)&&b.bottomRight),flex:"grow",radius:4,onClick:C},(0,o.h)(v.e,{src:O,maxWidth:1e3,imageProps:{aspect:S||"1:1",smartCrop:!0,portraitCrop:a===1}}),l!=null&&(0,o.h)(g.hs,{className:b.imageCount,justifyContent:"center",alignItems:"center"},(0,o.h)(y.xv.H2,{color:"bg-light"},"+",l)))}},55661:(z,s,e)=>{"use strict";e.r(s),e.d(s,{ImageViewerContents:()=>P,ImageViewerModal:()=>l});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(2564),y=e(56743),w=e(71375),v=e(71212),b=e(15045),D=e(39419),E=e(92271),O=e(51126),C=e(62246),_=e(15822);const a={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function l({showModal:R,modalContent:N,onClose:T,step:A,includeDownloadButton:F=!0}){(0,m.d4)(()=>{R?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[R]);const U=G=>{G.stopPropagation(),T()};return(0,o.h)(C.u_,{isOpen:R,onClose:T,position:"full",opacity:"dark",onEscape:U},(0,o.h)(P,{modalContent:N,onClose:T,stepDefault:A,includeDownloadButton:F}))}function P({modalContent:R=[],onClose:N,stepDefault:T,includeDownloadButton:A}){const[F,U]=(0,m.eJ)(T),[G,J]=(0,m.eJ)(!0),Q=(0,D.isMobileBrowser)(),te=se=>{se.currentTarget===se.target&&N()},[ee,L]=(0,m.eJ)(!1);(0,m.d4)(()=>{if(!Q){let se;const ce=be=>{const{key:pe}=be;["ArrowRight","ArrowDown"].includes(pe)?(ne(),be.stopPropagation()):["ArrowLeft","ArrowUp"].includes(pe)&&(V(),be.stopPropagation())},de=be=>{(be==null?void 0:be.type)==="keydown"&&ce(be),clearTimeout(se),L(!1),se=setTimeout(()=>{L(!0)},2e3)};return window.addEventListener("pointermove",de,{capture:!0,passive:!0}),window.addEventListener("pointerdown",de,{capture:!0,passive:!0}),window.addEventListener("keydown",de,{capture:!0,passive:!0}),de(),()=>{clearTimeout(se),window.removeEventListener("pointermove",de,{capture:!0}),window.removeEventListener("pointerdown",de,{capture:!0}),window.removeEventListener("keydown",de,{capture:!0})}}},[Q,F]);const V=()=>{F!==0&&(U(F-1),J(!0))},ne=()=>{F!==R.length-1&&(U(F+1),J(!0))},ae=R[F],{attrs:{src:fe,alt:le,title:re}}=ae,$=Q?8:16,oe="#FFFFFF";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:u()(a.chrome,ee&&a.inactive)},F<R.length-1&&(0,o.h)(S,{buttonFunction:ne,style:{right:0,padding:$},isSidebar:!0,icon:(0,o.h)(g.Z,{size:20,strokeWidth:2,stroke:oe})}),F>0&&(0,o.h)(S,{buttonFunction:V,style:{left:0,padding:$},isSidebar:!0,icon:(0,o.h)(y.Z,{size:20,strokeWidth:2,stroke:oe})}),(0,o.h)(S,{buttonFunction:N,style:{position:"absolute",right:$,top:$},isSidebar:!1,icon:(0,o.h)(w.Z,{size:20,strokeWidth:2,stroke:oe})}),A&&(0,o.h)(S,{buttonFunction:se=>{se.stopPropagation(),M(re,fe)},style:{position:"absolute",left:$,top:$},isSidebar:!1,icon:(0,o.h)(v.Z,{size:20,strokeWidth:2,stroke:oe})})),(0,o.h)("div",{className:a.imgContainer,onClick:te},(0,o.h)("img",{className:u()(a.img,G&&a.isLoading),onLoad:()=>{J(!1)},alt:le,title:re,src:(0,b.imginary)(fe,void 0,{quality:"auto:good"}),key:fe,onClick:te})),G&&(0,o.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,o.h)(_.S,{className:a.imgDrunkSpin})))}function S({buttonFunction:R,style:N,isSidebar:T,icon:A,tetherRef:F}){return(0,o.h)(O.hs,{className:u()(a.modalImageButtonContainer,T?a.modalImageSidebar:null),style:N,alignItems:"center",justifyContent:"center",onClick:R,ref:F},(0,o.h)(E.z,{className:a.modalImageButton,look:"circle"},A))}function M(R,N){const T=document.createElement("a");return document.body.appendChild(T),T.href=N,T.target="_blank",T.click(),document.body.removeChild(T),null}},35442:(z,s,e)=>{"use strict";e.r(s),e.d(s,{Metadata:()=>O});var o=e(6400),m=e(53836),d=e.n(m),u=e(15045),g=e(63030),y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&D(_,l,a[l]);if(w)for(var l of w(a))b.call(a,l)&&D(_,l,a[l]);return _};function O({badge:_,title:a,socialTitle:l,searchDescription:P,description:S,themeColor:M,image:R,seoProps:N,isLargeImage:T=!1,imageWidth:A,imageHeight:F,isPodcast:U=!1,isVideo:G=!1,slug:J,pub:Q,post:te,siteName:ee,publishedTime:L,meta:V=[],siteConfigs:ne={}}){const ae={meta:[...V,{property:"og:type",content:"article"}]};_&&(ae.titleTemplate=`(${_}) %s`),a&&(ae.title=a,ae.meta.push({property:"og:title",content:l||a},{name:"twitter:title",content:l||a})),(S||P)&&ae.meta.push({name:"description",content:P||S},{property:"og:description",content:S},{name:"twitter:description",content:S}),M&&ae.meta.push({name:"theme-color",content:M});const fe=!!Q&&Q.invite_only,le=!!te&&te.audience==="everyone",re=!fe&&le,$=re&&ne.twitter_player_card_enabled,oe=(Q==null?void 0:Q.subdomain)&&C.includes(Q.subdomain)&&re;if(U&&Q&&te){const se=(0,g.getPodcastEpisodeImageUrl)(Q,te);se&&(R=(0,u.imginary)(se,1200,{height:600,smartCrop:!0,format:"jpg"}),T=!0)}if(R){let se="summary";T&&(se="summary_large_image"),(U&&$||G&&oe)&&(se="player"),ae.meta.push({property:"og:image",content:R},{name:"twitter:image",content:R},{name:"twitter:card",content:se}),A&&ae.meta.push({property:"og:image:width",content:A}),F&&ae.meta.push({property:"og:image:height",content:F})}if(N){const se=Object.entries(N).filter(([ce,de])=>de).map(([ce])=>ce).join(", ");se&&ae.meta.push({name:"robots",content:se})}return Q!=null&&Q.explicit&&ae.meta.push({name:"rating",content:"adult"}),U&&$&&ae.meta.push({name:"twitter:player",content:`${(0,u.getBaseUrl)(Q)}/embed/podcast/${J}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),G&&oe&&ae.meta.push({name:"twitter:player",content:`${(0,u.getBaseUrl)(Q)}/embed/video/${J}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),ee&&ae.meta.push({property:"og:site_name",content:ee}),L&&ae.meta.push({property:"og:published_time",content:L}),(0,o.h)(d(),E({},ae))}const C=["pinespodcast","test1"]},74285:(z,s,e)=>{"use strict";e.d(s,{X:()=>g,h:()=>y});var o=e(6400),m=e(98661),d=e(30396);const u=(0,o.createContext)(null);function g({root:w,children:v}){const b=(0,d.sO)(w);return(0,o.h)(u.Provider,{value:b},v,!w&&(0,o.h)("div",{ref:b}))}function y({children:w}){const v=(0,d.qp)(u).current;return v?(0,m.createPortal)(w,v):null}},91001:(z,s,e)=>{"use strict";e.d(s,{o:()=>N});var o=e(6400),m=e(30396),d=e(20501),u=e(92643),g=e(3258),y=e(8479),w=e(17685),v=e(51126),b=e(65919),D=e(75425),E=Object.defineProperty,O=Object.defineProperties,C=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(T,A,F)=>A in T?E(T,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[A]=F,S=(T,A)=>{for(var F in A||(A={}))a.call(A,F)&&P(T,F,A[F]);if(_)for(var F of _(A))l.call(A,F)&&P(T,F,A[F]);return T},M=(T,A)=>O(T,C(A)),R=(T,A,F)=>new Promise((U,G)=>{var J=ee=>{try{te(F.next(ee))}catch(L){G(L)}},Q=ee=>{try{te(F.throw(ee))}catch(L){G(L)}},te=ee=>ee.done?U(ee.value):Promise.resolve(ee.value).then(J,Q);te((F=F.apply(T,A)).next())});const N=({profile:T,requireLogin:A,source:F})=>{const U=(0,D.pm)(),{refetch:G,isLoading:J,error:Q}=(0,y.ib)({pathname:T?(0,d.getPresubscribeUrl)(T):"",auto:!1,deps:[T]}),{refetch:te}=(0,u.Un)({subjectId:T.id,subjectName:T.name}),ee=(0,m.I4)(()=>R(void 0,null,function*(){var ne;if((0,g.j)(g.FP.ACCOUNT_CARD_PRESUBSCRIBE_CLICKED,F),A){A();return}yield G({method:"POST",json:{source:(ne=F.utmSource)!=null?ne:F.type}}),U.popToast(ae=>(0,o.h)(D.FN,M(S({},ae),{text:`You're subscribed to ${T.name||"<no name>"}! You'll get an email when they create a publication`}))),te(T.id)}),[G,te,T,U,A,F]),L=(0,m.I4)(()=>R(void 0,null,function*(){(0,g.j)(g.FP.ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED,F),yield G({method:"DELETE"}),U.popToast(ne=>(0,o.h)(D.FN,M(S({},ne),{text:`You're unsubscribed from ${T.name||"<no name>"}! `}))),te(T.id)}),[G,te,U,T,F]);if(!T)return null;const V=!!T.isPresubscribed;return(0,o.h)(o.Fragment,null,!!Q&&(0,o.h)(v.gq,{justifyContent:"center"},(0,o.h)(b.xv.B4,{weight:"bold",color:"error",paddingBottom:20},"Something went wrong. Please refresh the page.")),V?(0,o.h)(w.zx,{priority:"secondary",fill:"outline",rounded:!0,disabled:J,onClick:ne=>{L(),ne.stopPropagation()},title:T.name},"Subscribed"):(0,o.h)(w.zx,{priority:"primary",disabled:J,rounded:!0,onClick:ne=>{ee(),ne.stopPropagation()},title:T.name},"Subscribe"))}},80332:(z,s,e)=>{"use strict";e.d(s,{Ct:()=>we,L0:()=>pe,PP:()=>ht});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(71375),y=e(25380),w=e(80569),v=e.n(w),b=e(15045),D=e(20501),E=e(76193),O=e(83322),C=e(92643),_=e(63270),a=e(67963),l=e(3258),P=e(69229),S=e(66399),M=e(17685),R=e(48960),N=e(51126),T=e(94016),A=e(65919),F=e(10186),U=e(55886),G=e(68262),J=e(44695),Q=e(45809),te=e(91001),ee=e(27797),L=Object.defineProperty,V=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,re=(Fe,nt,ft)=>nt in Fe?L(Fe,nt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Fe[nt]=ft,$=(Fe,nt)=>{for(var ft in nt||(nt={}))fe.call(nt,ft)&&re(Fe,ft,nt[ft]);if(ae)for(var ft of ae(nt))le.call(nt,ft)&&re(Fe,ft,nt[ft]);return Fe},oe=(Fe,nt)=>V(Fe,ne(nt)),se=(Fe,nt)=>{var ft={};for(var Ye in Fe)fe.call(Fe,Ye)&&nt.indexOf(Ye)<0&&(ft[Ye]=Fe[Ye]);if(Fe!=null&&ae)for(var Ye of ae(Fe))nt.indexOf(Ye)<0&&le.call(Fe,Ye)&&(ft[Ye]=Fe[Ye]);return ft},ce=(Fe,nt,ft)=>new Promise((Ye,rt)=>{var $t=Ne=>{try{gt(ft.next(Ne))}catch(We){rt(We)}},sn=Ne=>{try{gt(ft.throw(Ne))}catch(We){rt(We)}},gt=Ne=>Ne.done?Ye(Ne.value):Promise.resolve(Ne.value).then($t,sn);gt((ft=ft.apply(Fe,nt)).next())});const de=3,be=1;function pe(Fe){return"id"in Fe&&"name"in Fe}function we(Fe){var nt=Fe,{dontStopPropagation:ft,inline:Ye,children:rt}=nt,$t=se(nt,["dontStopPropagation","inline","children"]);const sn=xe($t);return(0,E.isMobile)()?(0,o.h)(o.Fragment,null,rt):(0,o.h)("div",oe($($({className:u()("profile-hover-card-target",ee.Z.profileHoverCardTarget,Ye&&ee.Z.inline,$t.className&&$t.className)},sn.triggerProps),sn.hoverProps),{onClick:gt=>{ft||gt.stopPropagation()}}),rt,sn.layer)}function xe(Fe){var nt=Fe,{subject:ft,utmSource:Ye,placement:rt}=nt,$t=se(nt,["subject","utmSource","placement"]);const{loading:sn,refetch:gt,viewerProfile:Ne,subjectProfile:We}=(0,C.Un)({subjectId:(ft==null?void 0:ft.author_id)||(ft==null?void 0:ft.user_id)||(ft==null?void 0:ft.id),subjectName:ft==null?void 0:ft.name,delayLoading:!0}),st=ft&&Ne&&(ft==null?void 0:ft.id)===Ne.id,ke=ft==null?void 0:ft.id,Be=(0,m.I4)(()=>{var Ke;ke&&!We&&gt(ke);const ut=(((Ke=We==null?void 0:We.publicationUsers)==null?void 0:Ke.length)||0)>0;We&&(0,l.j)(l.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:We.id,is_self:!!st,has_publication:!!ut})},[gt,ke,We,st]),Se=(0,T.o)($({className:ee.Z.profileHoverCard,onOpen:Be,loading:sn&&!We,hideOnScroll:!0,layerOptions:{placement:rt!=null?rt:"right-center"},content:We?(0,o.h)(ht,{profile:We,subject:ft,utmSource:Ye,forceRefresh:()=>gt(ke)}):null},$t));return(0,E.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:Se}const Ue="account-card";function De(Fe){let nt=[];Fe&&Fe.subscriptions&&(nt=(0,O.sortSubscriptions)(Fe.subscriptions.filter(Ye=>!!Ye)));let ft=null;return nt.length>de&&(ft=`See all (${(0,O.numberToString)(nt.length)})`),nt=nt.slice(0,de),{subscriptions:nt,moreSubsLabel:ft}}function _e(Fe){let nt=[];Fe&&Fe.publicationUsers&&(nt=Fe.publicationUsers.filter(Ye=>!!Ye),nt=nt&&(0,P.b)(nt));let ft=null;return nt.length>be&&(ft=`See all (${(0,O.numberToString)(nt.length)})`),nt=nt.slice(0,be),{publications:nt,morePubsLabel:ft}}function ie({pub:Fe,isWrites:nt,isFounding:ft,isPaid:Ye,utmSource:rt}){const $t=(0,b.getPubUrl)(Fe,{params:{utm_source:rt||Ue,utm_content:nt?"writes":"reads"},signedIn:!!(0,a.aF)()});return Fe?(0,o.h)("a",{href:$t,target:"_blank",onClick:()=>{(0,l.j)(nt?l.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:l.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,l.x6)(Fe,"hover_profile")},className:ee.Z.hoverCardAvatar,rel:"noreferrer"},(0,o.h)(G.F,{pub:Fe,size:32,badgeType:ft?"founder":Ye?"subscribed":null}),(0,o.h)(A.xv.B4,{weight:"medium",title:Fe.name},Fe.name)):null}function ve({pub:Fe,utmSource:nt}){const ft=(0,b.getPubUrl)(Fe,{params:{utm_source:nt||Ue,utm_content:"writes"},signedIn:!!(0,a.aF)()}),Ye=(0,O.getByLine)(Fe);return(0,o.h)(N.tu,{as:"a",href:ft,target:"_blank",onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,l.x6)(Fe,"hover_profile")},rel:"noreferrer",padding:12,gap:12,className:ee.Z.writesCard,radius:8},(0,o.h)(N.gq,{gap:12},(0,o.h)(G.F,{pub:Fe,size:40}),(0,o.h)(N.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,o.h)(A.xv.B4,{weight:"semibold"},Fe.name),Ye&&(0,o.h)(A.xv.B4,{color:"secondary"},"By ",Ye))),Fe.hero_text&&(0,o.h)(A.xv.B4,{color:"secondary",clamp:3},Fe.hero_text))}function he({subject:Fe,subscriptions:nt,moreSubsLabel:ft,utmSource:Ye}){return(0,o.h)(N.tu,null,(0,o.h)(J.GF,{sectionTitle:"Reads",seeAllLabel:ft,link:bt(Fe,{utmSource:Ye})}),(0,o.h)(N.tu,null,nt.map(rt=>(0,o.h)(ie,{pub:rt.publication,isPaid:rt.membership_state==="subscribed",isFounding:rt.is_founding,utmSource:Ye}))))}function Le({publication:Fe,utmSource:nt}){return Fe?(0,o.h)(ve,{pub:Fe,utmSource:nt}):null}function He({pub:Fe,isSubscribed:nt,user:ft,utmSource:Ye,forceRefreshCard:rt}){const[$t,sn]=(0,m.eJ)(!1),{popToast:gt}=(0,S.pm)(),Ne=()=>ce(this,null,function*(){ft||gt(st=>(0,o.h)(S.FN,oe($({},st),{text:"Something went wrong. Please try again.",Icon:g.Z}))),sn(!0);try{yield v().post("/api/v1/reader/signup/pub").send({publication_id:Fe.id,email:ft==null?void 0:ft.email,visibility:"private",source:"subscribes-feed"}),(0,l.j)(l.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:"subscribes-feed",publication_id:Fe.id}),gt(st=>(0,o.h)(S.FN,oe($({},st),{text:`Subscribed to ${(Fe==null?void 0:Fe.name)||(ft==null?void 0:ft.name)||"user"}`,Icon:y.Z}))),rt()}catch(st){gt(ke=>(0,o.h)(S.FN,oe($({},ke),{text:"There was an issue subscribing to this profile.",Icon:g.Z})))}sn(!1)}),We=Fe?(0,D.getSubscribeUrl)(Fe,{user:ft,addBase:!0,params:{utm_source:Ye||Ue,utm_content:"subscribes",next:document.location.href}}):"";return Fe&&(nt?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",href:We,rounded:!0,onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,l.x6)(Fe,"hover_profile")},title:Fe.name},"Subscribed"):Ye==="feed"&&ft?(0,o.h)(M.zx,{priority:"primary",rounded:!0,onClick:()=>{Ne()},title:Fe.name,disabled:$t},"Subscribe"):(0,o.h)(M.zx,{priority:"primary",href:We,localNavigation:!1,rounded:!0,onClick:()=>{(0,l.j)(l.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,l.x6)(Fe,"hover_profile")},title:Fe.name},"Subscribe"))}function ht({profile:Fe,subject:nt,themed:ft,className:Ye,utmSource:rt,hideSubscribeButtons:$t,forceRefresh:sn}){var gt,Ne;const{getConfigFor:We}=(0,_.xR)(),st=(0,a.aF)();if(!Fe)return null;const{subscriptions:ke,moreSubsLabel:Be}=De(Fe),{publications:Se,morePubsLabel:Ke}=_e(Fe),ut=bt(nt,{utmSource:rt}),Oe=(nt==null?void 0:nt.name)||"",K=Fe.primaryPublication&&((gt=Fe.publicationUsers.find(pt=>{var Ge;return pt.publication_id===((Ge=Fe==null?void 0:Fe.primaryPublication)==null?void 0:Ge.id)}))==null?void 0:gt.publication),Y=nt&&nt.id===(st==null?void 0:st.id),me=Y&&Fe&&!Fe.profile_set_up_at,Ie=Se.length>0&&!me,je=ke.length>0&&!me&&!Ie,Xe=st?null:()=>{window.location.href=(0,b.getSigninUrl)({redirect:`${window.location.href}`})},_t=(Ne=Fe==null?void 0:Fe.handle)!=null?Ne:null;return(0,o.h)("div",{className:u()(ee.Z.card,Ye)},(0,o.h)(N.tu,{gap:16,padding:8},(0,o.h)(N.gq,{justifyContent:"space-between"},(0,o.h)("a",{href:ut},(0,o.h)(F.qE,{user:nt,size:64})),me?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,b.getProfileSetupUrl)({utm_source:rt||Ue})},"Set up profile"):Y?(0,o.h)(M.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,b.getEditProfileUrl)()},"Edit profile"):$t?null:K?(0,o.h)(He,{pub:K,isSubscribed:Fe.isSubscribed,user:st,utmSource:rt,forceRefreshCard:sn}):We("enable_presubscriptions")?(0,o.h)(te.o,{profile:Fe,requireLogin:Xe,source:{type:"card",utmSource:rt}}):null),(0,o.h)(N.tu,{gap:6},(0,o.h)(J.Sz,{themed:ft,title:Oe,handle:_t,blurb:Fe.bio,url:ut,userId:nt.id,bestsellerTier:Fe.bestseller_tier})),Ie&&(0,o.h)(Le,{publication:K,utmSource:rt}),je&&(0,o.h)(o.Fragment,null,(0,o.h)(R.i,null),(0,o.h)(he,{subject:nt,subscriptions:ke,moreSubsLabel:Be,utmSource:rt})),Fe.mutuals&&(0,o.h)(Tt,{mutuals:Fe.mutuals,utmSource:rt})))}function bt(Fe,{utmSource:nt}={}){const ft=typeof window!="undefined"&&window.location.href.startsWith((0,D.getSubstackUrl)());return(0,b.getReaderProfileUrl)(Fe,{noBase:ft,utm_source:nt||Ue})}function Tt({mutuals:Fe,utmSource:nt}){const{paidSubscribers:rt,freeSubscribers:$t,recommenders:sn}=Fe;let gt,Ne;rt.length>0?(gt="paid",Ne=rt):sn.length>0?(gt="recommended",Ne=sn):(gt="free",Ne=$t);const We=Ne.sort(st=>st.photo_url?1:-1);return We.length===0?null:(0,o.h)(N.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,o.h)(N.hs,{style:{paddingLeft:6}},We.slice(0,3).map(st=>(0,o.h)(N.hs,{as:"a",key:st.id,href:(0,b.getReaderProfileUrl)(st,{utm_source:"profile-card"})},(0,o.h)(U.t,{className:ee.Z.facepileFace,src:st.photo_url||(0,b.getDefaultUserPhotoById)(st.id),size:24})))),(0,o.h)(A.xv,{font:"text",color:"secondary",size:12},gt==="recommended"&&"Recommended by ",(0,o.h)(Q.M,{array:We,limit:3,formatter:st=>(0,o.h)(A.hh,{href:bt(st,{utmSource:nt})},st.name)}),gt==="paid"?Ne.length>1?" are paid subscribers":" is a paid subscriber":gt==="free"&&(Ne.length>1?" subscribe":" subscribes"),"."))}},96098:(z,s,e)=>{"use strict";e.d(s,{h:()=>d});var o=e(6400),m=e(61864);function d({children:u}){return(0,o.h)("div",{className:m.Z.pubTheme},u)}},35291:(z,s,e)=>{"use strict";e.d(s,{p:()=>g});var o=e(6400),m=e(94184),d=e.n(m),u=e(1602);const g=({name:y,label:w,info:v,checked:b,disabled:D,onChange:E,isRow:O=!0,className:C})=>{const _=(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:d()("big-checkbox",{checked:b,disabled:D}),onClick:()=>!D&&(E==null?void 0:E(!b)),onKeyDown:a=>{a.key===" "&&(E==null||E(!b))},role:"checkbox","aria-checked":b,"aria-label":w||y,tabIndex:0},(0,o.h)(u.Z,{fill:"#ffffff"})));return(0,o.h)("label",{className:d()("big-checkbox-input",C,{"big-checkbox-input-row":O})},!O&&_,(0,o.h)("div",{onClick:()=>{(w||v)&&!D&&(E==null||E(!b))}},w,v&&(0,o.h)("div",{className:"info"},v)),O&&_,(0,o.h)("input",{type:"hidden",name:y,"data-testid":y,value:String(b)}))}},7922:(z,s,e)=>{"use strict";e.d(s,{Z:()=>S,k:()=>M});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(39419),y=e.n(g),w=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,C=(R,N,T)=>N in R?w(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,_=(R,N)=>{for(var T in N||(N={}))E.call(N,T)&&C(R,T,N[T]);if(D)for(var T of D(N))O.call(N,T)&&C(R,T,N[T]);return R},a=(R,N)=>v(R,b(N)),l=(R,N)=>{var T={};for(var A in R)E.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&D)for(var A of D(R))N.indexOf(A)<0&&O.call(R,A)&&(T[A]=R[A]);return T};const S=R=>{var N=R,{children:T,className:A=void 0,disabled:F=void 0,loading:U=void 0,type:G="button",href:J=void 0,localNavigation:Q=!1,onClick:te=void 0,forwardedRef:ee=void 0,newTab:L=void 0}=N,V=l(N,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const ne=ae=>{if(F||U){ae&&ae.preventDefault();return}te?te(ae):J?(0,g.redirect)(J,{event:ae,local_navigation:Q,newTab:L}):G!=="submit"&&console.log("No onClick set!")};return(0,o.h)("button",a(_({tabIndex:0},V),{type:G,className:u()("button",A,{disabled:F}),disabled:F||U,onClick:ne,ref:ee}),U?"Please wait...":T)},M=(0,m.forwardRef)((R,N)=>{var T=R,{onClick:A,href:F,localNavigation:U,newTab:G}=T,J=l(T,["onClick","href","localNavigation","newTab"]);const Q=F?te=>{A&&(A.call(te.target,te),te.defaultPrevented)||(0,g.redirect)(F,{event:te,local_navigation:U,newTab:G})}:A;return(0,o.h)("button",a(_({tabIndex:0},J),{ref:N,onClick:Q}))})},22939:(z,s,e)=>{"use strict";e.d(s,{E:()=>m});var o=e(30396);function m(){const d=(0,o.sO)(null);return[d,()=>{var g;return(g=d.current)==null?void 0:g.toggle()}]}},43615:(z,s,e)=>{"use strict";e.d(s,{FF:()=>ve,Pn:()=>De,ZP:()=>xe});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(25380),y=e(71375),w=e(49770),v=e(80569),b=e.n(v),D=e(15045),E=e(83322),O=e(67963),C=e(96283),_=e(3258),a=e(8479),l=e(39419),P=e(17685),S=e(51126),M=e(62246),R=e(65919),N=e(75425),T=e(10186),A=e(33510),F=e(44695);const U=40,G=.5*U,J=.2,Q=2;function te(Le){return{width:(Le-1)*U*(1-J)+U+2*Q,height:U+2*Q}}function ee({faces:Le}){const ht=Le.slice(0).reverse().map(({id:Fe,photo_url:nt},ft)=>({id:Fe,photo_url:nt||getDefaultUserPhotoById(Fe),x:(Le.length-ft-1)*(1-J)*U+Q})),{width:bt,height:Tt}=te(Le.length);return h("svg",{version:"1.1",width:bt,height:Tt,viewBox:`0 0 ${bt} ${Tt}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,ht.map(({id:Fe,photo_url:nt,x:ft})=>h("pattern",{id:`image-${Fe}`,x:ft,y:Q,patternUnits:"userSpaceOnUse",height:U,width:U},h("image",{height:U,width:U,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:nt})))),ht.map(({id:Fe,x:nt})=>h("circle",{cx:nt+G,cy:G+Q,r:G,fill:`url(#image-${Fe})`,stroke:"#fff","stroke-width":Q})))}var L=e(80332),V=e(31471),ne=e(30105);const ae={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var fe=Object.defineProperty,le=Object.defineProperties,re=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ce=(Le,He,ht)=>He in Le?fe(Le,He,{enumerable:!0,configurable:!0,writable:!0,value:ht}):Le[He]=ht,de=(Le,He)=>{for(var ht in He||(He={}))oe.call(He,ht)&&ce(Le,ht,He[ht]);if($)for(var ht of $(He))se.call(He,ht)&&ce(Le,ht,He[ht]);return Le},be=(Le,He)=>le(Le,re(He)),pe=(Le,He)=>{var ht={};for(var bt in Le)oe.call(Le,bt)&&He.indexOf(bt)<0&&(ht[bt]=Le[bt]);if(Le!=null&&$)for(var bt of $(Le))He.indexOf(bt)<0&&se.call(Le,bt)&&(ht[bt]=Le[bt]);return ht},we=(Le,He,ht)=>new Promise((bt,Tt)=>{var Fe=Ye=>{try{ft(ht.next(Ye))}catch(rt){Tt(rt)}},nt=Ye=>{try{ft(ht.throw(Ye))}catch(rt){Tt(rt)}},ft=Ye=>Ye.done?bt(Ye.value):Promise.resolve(Ye.value).then(Fe,nt);ft((ht=ht.apply(Le,He)).next())});function xe(Le){var He=Le,{faces:ht,secondaryFaces:bt,maximum:Tt=5,pileLabel:Fe,modalLabel:nt,secondaryLabel:ft,secondaryHref:Ye,enableModal:rt,className:$t,totalCount:sn,detailUtmSource:gt,onDialogOpen:Ne,showFaces:We=!0,reverse:st,showBlanks:ke=!1}=He,Be=pe(He,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","reverse","showBlanks"]);const[Se,Ke]=(0,m.eJ)(!1),[ut,Oe]=(0,m.eJ)(!1);let Y=ht.concat((bt==null?void 0:bt.filter(me=>!ht.find(Ie=>Ie.id===me.id)))||[]).filter(({photo_url:me})=>ke?!0:!!me).slice(0,Tt);return st||(Y=Y.slice(0).reverse()),(0,o.h)(S.hs,{alignItems:"center",gap:8,flex:"grow",className:u()("facepile",$t)},We&&(0,o.h)(Ue,be(de({},Be),{className:$t,faces:Y,maximum:Tt})),Fe&&(0,o.h)(ie,{label:Fe,clickable:!!(rt&&ht.length),onClick:()=>{!rt||!(ht!=null&&ht.length)||(Ke(!0),Ne&&Ne())}}),ft&&(0,o.h)(R.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),ft&&(0,o.h)(ie,{label:ft,clickable:!!(rt&&(bt!=null&&bt.length)),href:Ye,onClick:Ye?void 0:()=>{!rt||!(bt!=null&&bt.length)||(Oe(!0),Ne&&Ne())}}),Se&&(0,o.h)(ve,{isOpen:Se,modalLabel:nt,faces:ht,totalCount:sn,onClose:()=>Ke(!1),utmSource:gt}),ut&&bt&&(0,o.h)(ve,{isOpen:ut,modalLabel:ft,faces:bt,totalCount:bt.length,onClose:()=>Oe(!1),utmSource:gt}))}function Ue({faces:Le,loading:He,className:ht,clickable:bt=!0,hoverProfiles:Tt,faceUtmSource:Fe,elevated:nt,showBlanks:ft=!1,maximum:Ye=5,size:rt=40}){const $t=(0,l.isMobileBrowser)(),sn=Le.filter(({photo_url:gt})=>ft?!0:!!gt).slice(0,Ye);return(0,o.h)(S.hs,{alignItems:"center"},!He&&sn.length>0&&(0,o.h)(S.hs,{alignItems:"center",className:u()(ae.faces,ae[`size-${rt}`],ht)},sn.map(({id:gt,name:Ne,photo_url:We,className:st,tooltipTitle:ke,tooltipContent:Be,noLink:Se},Ke)=>{const ut=(0,D.getReaderProfileUrl)({id:gt,name:Ne},{utm_source:Fe});return Se||!bt?(0,o.h)(V.e,{className:u()("facepile-face",ae.face,ae[`size-${rt}`],st,Ke===0&&ae.first,Ke===sn.length-1&&ae.last,nt&&ae.elevated),maxWidth:rt*2,src:(0,D.imginary)(We||(0,D.getDefaultUserPhotoById)(gt),64)}):(0,o.h)(L.Ct,{disabled:!Tt||$t,key:gt,subject:{id:gt,name:Ne,photo_url:We},utmSource:Fe},(0,o.h)(ne.L,{disabled:!ke&&!Be,title:ke,content:Be,className:"inverse bottom"},(0,o.h)(S.hs,{as:"a",flex:"auto",href:ut,target:"_blank",rel:"noreferrer"},(0,o.h)(V.e,{className:u()("facepile-face",ae.face,ae[`size-${rt}`],st,Ke===0&&ae.first,Ke===sn.length-1&&ae.last,nt&&ae.elevated),maxWidth:rt*2,src:(0,D.imginary)(We||(0,D.getDefaultUserPhotoById)(gt),64)}))))})),He&&(0,o.h)(_e,{maximum:Ye,size:rt}))}function De({pub:Le,post:He}){var ht;const bt=(0,D.imginary)(`${(0,D.getBaseUrl)(Le)}/p/${He.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:Tt,width:Fe}=te((ht=He==null?void 0:He.publishedBylines)==null?void 0:ht.length);return(0,o.h)("img",{src:bt,width:Fe,height:Tt})}function _e({maximum:Le,size:He}){return(0,o.h)(S.hs,{gap:12},new Array(Le).fill(null).map(()=>(0,o.h)(A.Vm,{type:"circle",height:He,width:He})))}function ie({label:Le,clickable:He,href:ht,onClick:bt}){return(0,o.h)(R.xv.B4,null,(0,o.h)(C.hh,{className:He?ae.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:He?"hover-underline":"none",onClick:bt,href:ht},Le))}function ve(Le){var He=Le,{isOpen:ht,onClose:bt}=He,Tt=pe(He,["isOpen","onClose"]);return(0,o.h)(M.u_,{isOpen:!!ht,onClose:bt,width:500},(0,o.h)(he,de({onClose:bt},Tt)))}function he({faces:Le,modalLabel:He,onClose:ht,openLinksInNewTab:bt,totalCount:Tt,utmSource:Fe}){const nt=Fe||"facepile",ft=(Be,Se,Ke)=>we(this,null,function*(){try{Ke?(yield b().post("/api/v1/reader/signup/pub").send({email:We==null?void 0:We.email,publication_id:Ke.id,visibility:"private",source:nt}),Fe!=null&&Fe.match(/^(notes)|(feed)[-_]/)&&(0,_.j)(_.FP.FEED_ONE_CLICK_SUBSCRIBE,{publication_id:Ke.id,source:nt})):yield b().post(`/api/v1/presubscribe/${Be}`).send({source:nt}),$t([...rt!=null?rt:[],Be]),Ne(ut=>(0,o.h)(N.FN,be(de({},ut),{text:`Subscribed to ${(Ke==null?void 0:Ke.name)||Se||"user"}`,Icon:g.Z})))}catch(ut){Ne(Oe=>(0,o.h)(N.FN,be(de({},Oe),{text:(0,l.getNetworkErrorMessage)(ut),Icon:y.Z})))}}),Ye=(Be,Se,Ke)=>we(this,null,function*(){var ut;try{if(Ke){if((yield b().get("/api/v1/subscription/publications?only_full=true")).body.some(K=>K.id===Ke.id))return(0,l.redirect)((0,D.getPubAccountSettingsUrl)(Ke,{addBase:!0}),{local_navigation:!1,newTab:bt});yield b().delete("/api/v1/free").send({publication_id:Ke.id,source:nt})}else yield b().delete(`/api/v1/presubscribe/${Be}`);$t((ut=rt==null?void 0:rt.filter(Oe=>Oe!==Be))!=null?ut:null),Ne(Oe=>{var K;return(0,o.h)(N.FN,be(de({},Oe),{text:`Unsubscribed from ${(K=Ke==null?void 0:Ke.name)!=null?K:Se}.`,Icon:g.Z}))})}catch(Oe){const K=(Oe==null?void 0:Oe.status)===404?`Already unsubscribed to ${(Ke==null?void 0:Ke.name)||Se||"this user"}`:"Something went wrong. Please try again";Ne(Y=>(0,o.h)(N.FN,be(de({},Y),{text:K,Icon:y.Z})))}}),{result:rt,setResult:$t,isLoading:sn,error:gt}=(0,a.ib)({pathname:"/api/v1/subscription/users",query:{ids:JSON.stringify(Le.map(Be=>Be.id))},auto:!0,initialResult:Le.filter(Be=>Be.is_subscribed).map(Be=>Be.id)}),{popToast:Ne}=(0,N.pm)(),We=(0,O.aF)();(0,m.d4)(()=>{We&&gt&&alert((0,l.getNetworkErrorMessage)(gt))},[gt,We]);const st=(Tt||0)-Le.length,ke=(0,l.isMobileBrowser)();return(0,o.h)(o.Fragment,null,(0,o.h)(S.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,o.h)(R.xv.H2,null," ",He),ht&&(0,o.h)(P.hU,{onClick:ht},(0,o.h)(y.Z,{height:20}))),(0,o.h)(S.tu,{overflowY:"auto",className:ae.column},(0,o.h)(S.tu,{gap:4,padding:8,flex:"grow"},Le.map(Be=>{const{id:Se,name:Ke,photo_url:ut,primary_publication:Oe,writes:K,className:Y,noLink:me}=Be,Ie=(0,D.getReaderProfileUrl)({id:Se,name:Ke},{utm_source:Fe}),je=rt==null?void 0:rt.includes(Se);return(0,o.h)(S.hs,{key:Se,flex:"grow"},me?(0,o.h)(S.hs,{gap:16,padding:8,radius:8,className:ae.row,alignItems:"center",flex:"grow"},(0,o.h)(T.BG,{user:Be,pub:Oe,size:40,className:Y}),(0,o.h)(S.tu,{minWidth:0,flex:"grow"},(0,o.h)(R.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(ae.link,u()({"no-name":!(Ke||"").trim().length}))},Ke))):(0,o.h)(S.hs,de({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:8,className:ae.row,href:Ie},bt?{target:"_blank"}:{}),(0,o.h)(T.BG,{user:Be,pub:Oe,size:40,className:Y}),(0,o.h)(S.tu,{minWidth:0,flex:"grow"},(0,o.h)(L.Ct,{disabled:me||ke,subject:{id:Se,name:Ke,photo_url:ut},utmSource:Fe,className:ae.link},(0,o.h)(R.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(ae.link,u()({"no-name":!(Ke||"").trim().length}))},Ke)),K&&Oe&&(0,o.h)(F.Sm,{disabled:ke,publication_id:Oe==null?void 0:Oe.id,className:ae.link},(0,o.h)(R.xv.B4,{color:"secondary",decoration:"hover-underline",className:u()(ae.link,{"no-name":!(Ke||"").trim().length})},K))),We&&We.id!==Se&&(0,o.h)(P.zx,{fill:"empty",disabled:sn,priority:je?"secondary":"primary",className:ae.button,onClick:Xe=>{Xe.preventDefault(),je?Ye(Se,Ke,Oe):ft(Se,Ke,Oe)}},je?"Subscribed":"Subscribe")))}),st>0&&(0,o.h)(S.hs,{gap:16,alignItems:"center",padding:8},(0,o.h)(S.hs,{className:ae.avatarOther,alignItems:"center",justifyContent:"center"},(0,o.h)(w.Z,{className:ae.avatarOtherIcon,size:20})),(0,o.h)(R.xv.B4,{color:"secondary"},"+",(0,E.pluralize)(st,"other reader"))))))}},45634:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{name:P,children:S}=l,M=O(l,["name","children"]);return(0,o.h)(m.l,E(D({},M),{name:P,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),S)}},47819:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(45634),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.Z,E(D({},_),{name:"ActivationUsersIcon"}),(0,o.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,o.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,o.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,o.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,o.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:"#1C110B"}}),(0,o.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")},1602:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{fill:P}=l,S=O(l,["fill"]);return(0,o.h)(m.l,E(D({},S),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:P||"white"}}),(0,o.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:P||"white"}))}},26059:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,o.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,o.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,o.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,o.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,o.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},78041:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M11.9977 23.9949C18.6238 23.9949 23.9953 18.6234 23.9953 11.9975C23.9953 5.37147 18.6238 0 11.9977 0C5.37156 0 0 5.37147 0 11.9975C0 18.6234 5.37156 23.9949 11.9977 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},36377:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,o.h)("circle",{cx:"4.17266",cy:"5.83001",r:"3.48929","stroke-width":"1"}),(0,o.h)("path",{d:"M8.98932 9.48406C8.98932 11.4111 7.42711 12.9733 5.50003 12.9733C3.57295 12.9733 2.01075 11.4111 2.01075 9.48406C2.01075 7.55698 3.57295 5.99478 5.50003 5.99478C7.42711 5.99478 8.98932 7.55698 8.98932 9.48406Z","stroke-width":"1"}),(0,o.h)("path",{d:"M12.3286 9.48406C12.3286 11.4111 10.7664 12.9733 8.83935 12.9733C6.91227 12.9733 5.35006 11.4111 5.35006 9.48406C5.35006 7.55698 6.91227 5.99478 8.83935 5.99478C10.7664 5.99478 12.3286 7.55698 12.3286 9.48406Z","stroke-width":"1"}),(0,o.h)("circle",{cx:"7.15874",cy:"3.83929",r:"3.48929","stroke-width":"1"}),(0,o.h)("circle",{cx:"10.1449",cy:"5.83001",r:"3.48929","stroke-width":"1"}))},51889:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,o.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,o.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,o.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,o.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(z,s,e)=>{"use strict";var o=e(6400);function m({className:u}){return h("svg",{className:u,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",null,h("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),h("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var d=null},48963:(z,s,e)=>{"use strict";var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const O=_=>h(SvgIcon,E(D({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var C=null},64484:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,o.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,o.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,o.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(z,s,e)=>{"use strict";var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const O=_=>h(SvgIcon,E(D({},_),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var C=null},11851:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{color:P="#262626"}=l,S=O(l,["color"]);return(0,o.h)(m.l,E(D({},S),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,o.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:P}),(0,o.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:P,stroke:P}))}},15440:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(13808),d=e(34755),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));function C(a){return(0,o.h)(d.l,O(E({},a),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))}const _=C},63295:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(7617),d=e(34755),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(d.l,O(E({},a),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},12650:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(8618),d=e(34755),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(d.l,O(E({},a),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},19698:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"LucideMute",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(4675),d=e(34755),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l));const _=a=>(0,o.h)(d.l,O(E({},a),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(m.Z,{height:24,stroke:a.stroke,fill:a.fill,strokeWidth:a.strokeWidth}))},11628:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":_.strokeWidth,fill:_.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},73416:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:_.fill,stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:_.fill,stroke:"none"}))},31517:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:_.stroke,strokeWidth:_.strokeWidth}}),(0,o.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(z,s,e)=>{"use strict";e.d(s,{Z:()=>v});var o=e(6400),m=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(b,D,E)=>D in b?m(b,D,{enumerable:!0,configurable:!0,writable:!0,value:E}):b[D]=E,w=(b,D)=>{for(var E in D||(D={}))u.call(D,E)&&y(b,E,D[E]);if(d)for(var E of d(D))g.call(D,E)&&y(b,E,D[E]);return b};function v(b){return(0,o.h)("svg",w({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},b),(0,o.h)("g",{transform:"translate(0, -2)"},(0,o.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},11762:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,o.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,o.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,o.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,o.h)("g",null,(0,o.h)("g",null,(0,o.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},40353:(z,s,e)=>{"use strict";e.d(s,{Z:()=>a});var o=e(6400),m=e(83322),d=e(34755),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(l,P,S)=>P in l?u(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&D(l,S,P[S]);if(w)for(var S of w(P))b.call(P,S)&&D(l,S,P[S]);return l},O=(l,P)=>g(l,y(P)),C=(l,P)=>{var S={};for(var M in l)v.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&w)for(var M of w(l))P.indexOf(M)<0&&b.call(l,M)&&(S[M]=l[M]);return S};function _(l){var P=l,{fill:S="#FF6719"}=P,M=C(P,["fill"]);const R=(0,m.colorLuma)(S)>.6?"black":"white";return(0,o.h)(d.l,O(E({},M),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:S,stroke:"none"}),(0,o.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:R,stroke:"none"}),(0,o.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:R,stroke:"none"}),(0,o.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:R,stroke:"none"}))}const a=_},64234:(z,s,e)=>{"use strict";e.d(s,{A:()=>u});var o=e(6400);const m="#FF6719";var d=e(34755);function u({className:y,type:w,accentColor:v}){return(0,o.h)(d.l,{name:"ReaderBadgeIcon",className:y,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,o.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.h)("circle",{cx:"11",cy:"11",r:"9",fill:v||m}),w==="subscribed"?(0,o.h)(o.Fragment,null,(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,o.h)(o.Fragment,null,(0,o.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const g=null},7370:(z,s,e)=>{"use strict";e.d(s,{Z:()=>E});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(O,C,_)=>C in O?d(O,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[C]=_,v=(O,C)=>{for(var _ in C||(C={}))g.call(C,_)&&w(O,_,C[_]);if(u)for(var _ of u(C))y.call(C,_)&&w(O,_,C[_]);return O},b=(O,C)=>{var _={};for(var a in O)g.call(O,a)&&C.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&u)for(var a of u(O))C.indexOf(a)<0&&y.call(O,a)&&(_[a]=O[a]);return _};function D(O){var C=b(O,[]);return(0,o.h)(m.l,v({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},C),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const E=D},85362:(z,s,e)=>{"use strict";e.d(s,{Z:()=>E});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(O,C,_)=>C in O?d(O,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[C]=_,v=(O,C)=>{for(var _ in C||(C={}))g.call(C,_)&&w(O,_,C[_]);if(u)for(var _ of u(C))y.call(C,_)&&w(O,_,C[_]);return O},b=(O,C)=>{var _={};for(var a in O)g.call(O,a)&&C.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&u)for(var a of u(O))C.indexOf(a)<0&&y.call(O,a)&&(_[a]=O[a]);return _};function D(O){var C=b(O,[]);return(0,o.h)(m.l,v({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},C),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_24306_47333"},(0,o.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const E=D},65665:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,o.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,o.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,o.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(z,s,e)=>{"use strict";var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(E,O,C)=>O in E?d(E,O,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[O]=C,v=(E,O)=>{for(var C in O||(O={}))g.call(O,C)&&w(E,C,O[C]);if(u)for(var C of u(O))y.call(O,C)&&w(E,C,O[C]);return E};const b=E=>h(SvgIcon,v({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},E),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var D=null},7775:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,o.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,o.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325807"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},17835:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,o.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,o.h)("stop",{"stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,o.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,o.h)("clipPath",{id:"clip0_23936_14598"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325810"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},33705:(z,s,e)=>{"use strict";e.d(s,{Z:()=>l});var o=e(6400),m=e(89018),d=e.n(m),u=e(34755),g=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(P,S,M)=>S in P?g(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,O=(P,S)=>{for(var M in S||(S={}))b.call(S,M)&&E(P,M,S[M]);if(v)for(var M of v(S))D.call(S,M)&&E(P,M,S[M]);return P},C=(P,S)=>y(P,w(S)),_=(P,S)=>{var M={};for(var R in P)b.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&v)for(var R of v(P))S.indexOf(R)<0&&D.call(P,R)&&(M[R]=P[R]);return M};const l=P=>{var S=P,{color:M=m.substack_color}=S,R=_(S,["color"]);return(0,o.h)(u.l,C(O({},R),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:M,stroke:"none"}}),(0,o.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,o.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,o.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,o.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{stroke:P,size:S=36}=l,M=O(l,["stroke","size"]);return(0,o.h)(m.l,E(D({},M),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:S,width:S,fill:"none"}}),(0,o.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(z,s,e)=>{"use strict";var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const O=_=>h(SvgIcon,E(D({},_),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var C=null},59736:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,o.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{fill:P="#FF6719"}=l,S=O(l,["fill"]);return(0,o.h)(m.l,E(D({},S),{fill:P,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:P,stroke:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(z,s,e)=>{"use strict";e.d(s,{Z:()=>C});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const C=_=>(0,o.h)(m.l,E(D({},_),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(z,s,e)=>{"use strict";e.d(s,{Z:()=>_});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l)),O=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=a,{strokeWidth:P=1.5}=l,S=O(l,["strokeWidth"]);return(0,o.h)(m.l,E(D({},S),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,o.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}))}},63861:(z,s,e)=>{"use strict";var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?d(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>u(_,g(a));const O=_=>h(SvgIcon,E(D({},_),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var C=null},34755:(z,s,e)=>{"use strict";e.d(s,{l:()=>E});var o=e(6400),m=e(15045),d=e(89867),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(O,C,_)=>C in O?u(O,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[C]=_,b=(O,C)=>{for(var _ in C||(C={}))y.call(C,_)&&v(O,_,C[_]);if(g)for(var _ of g(C))w.call(C,_)&&v(O,_,C[_]);return O},D=(O,C)=>{var _={};for(var a in O)y.call(O,a)&&C.indexOf(a)<0&&(_[a]=O[a]);if(O!=null&&g)for(var a of g(O))C.indexOf(a)<0&&w.call(O,a)&&(_[a]=O[a]);return _};const E=O=>{var C=O,{name:_,svgParams:a,isStatic:l,height:P,fill:S,stroke:M,version:R=4,strokeWidth:N=1.8,strokeLinecap:T,strokeLinejoin:A,alt:F,additionalStaticParams:U={},children:G}=C,J=D(C,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const Q=P?(a.width||1)*P/(a.height||1):a.width||1,te=P||a.height||1;return l?(0,o.h)(d.Z,b(b({src:(0,m.imginary)((0,m.pathWithQuery)(`/icon/${_}`,{v:R||4,height:te*2,fill:S,stroke:M,strokeWidth:N*2,strokeLinecap:T,strokeLinejoin:A}),Q*2,{format:"png",crop:"scale"}),width:Q,height:te,style:{maxWidth:`${Q}px`},alt:F||""},U),J)):(0,o.h)("svg",b({role:"img",style:P?{height:`${te}px`,width:`${Q}px`}:void 0,width:Q,height:te,viewBox:a.viewBox||`0 0 ${a.width} ${a.height}`,fill:S||a.fill||"none",strokeWidth:N||typeof N=="number"?Number(N):typeof a.strokeWidth=="number"?a.strokeWidth:1,stroke:M||a.stroke||"#000",strokeLinecap:T,strokeLinejoin:A,xmlns:"http://www.w3.org/2000/svg"},J),(0,o.h)("g",null,(0,o.h)("title",null,F||""),G))}},11862:(z,s,e)=>{"use strict";var o=e(6400);function m({className:u}){return h("svg",{className:u,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var d=null},91704:(z,s,e)=>{"use strict";e.d(s,{HA:()=>O});var o=e(6400),m=e(34755),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?d(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>u(a,g(l));function O(a){return(0,o.h)("svg",D({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},a),(0,o.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function C(a){return h(SvgIcon,E(D({},a),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var _=null},38199:(z,s,e)=>{"use strict";var o=e(6400);function m({className:u}){return h("svg",{className:u,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var d=null},56790:(z,s,e)=>{"use strict";var o=e(6400);function m({className:u}){return h("svg",{className:u,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var d=null},49786:(z,s,e)=>{"use strict";e.d(s,{hF:()=>Q,_q:()=>J,G0:()=>U,RH:()=>G});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(36808),y=e(85928),w=e.n(y),v=e(20501),b=e(83322),D=e(63270),E=e(3258),O=e(39419),C=e(17685),_=e(51126),a=e(62246),l=e(65919);const P={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var S=Object.defineProperty,M=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,T=(te,ee,L)=>ee in te?S(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,A=(te,ee)=>{for(var L in ee||(ee={}))R.call(ee,L)&&T(te,L,ee[L]);if(M)for(var L of M(ee))N.call(ee,L)&&T(te,L,ee[L]);return te};const F="like_upsell_last_shown_at",U=()=>{const te=g.get(F);if(te){const ee=w()(te),L=w()().subtract(30,"days");if(ee.isAfter(L))return!1}return!0},G=te=>{g.set(F,w()().format(),A({expires:365*10},!te.custom_domain&&{domain:`.${new URL((0,v.getBaseUrl)()).hostname}`}))},J=({pub:te})=>{var ee,L;const V=(0,D.xR)(),[ne,ae]=(0,m.eJ)((ee=te==null?void 0:te.plans)==null?void 0:ee[0]),fe=V.getConfigFor("disable_monthly_subscriptions");return(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:4},(0,o.h)(l.xv.H4,{weight:"semibold"},"Support ",te.name),(0,o.h)(l.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",te.name," with a subscription?")),(0,o.h)("form",{className:P.form},(0,o.h)(_.tu,{gap:12},(L=te==null?void 0:te.plans)==null?void 0:L.map(le=>{if(!(le.interval==="month"&&fe))return(0,o.h)("label",{className:P.label,key:le.id},(0,o.h)(_.gq,{gap:12,alignItems:"center"},(0,o.h)("input",{name:"plan",type:"radio",value:le.id,onInput:()=>ae(le),checked:ne&&ne.id===le.id,className:u()({[P.selectedInput]:ne&&ne.id===le.id},P.input)}),(0,o.h)(_.gq,{gap:8},(0,o.h)(l.xv.B4,{as:"span",weight:"semibold",color:ne&&ne.id===le.id?"primary":"secondary"},(0,b.getPlanTitle)(le)),(0,o.h)(l.xv.B4,{as:"span",color:"secondary"},(0,b.planBasePricing)(le)))))}))),(0,o.h)(C.zx,{onClick:()=>{(0,E.j)(E.FP.LIKE_UPSELL_PLAN_SELECTED),(0,O.redirect)((0,v.getSubscribeUrl)(te,{params:A({utm_source:"like-button-upsell"},ne&&{selectedPlanId:ne.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},Q=({pub:te})=>{const ee=U(),[L,V]=(0,m.eJ)(ee),[ne,ae]=(0,m.eJ)(ee);(0,m.d4)(()=>{ee||(0,O.removeQueryParam)("show_reaction_upsell")},[ee]),(0,m.d4)(()=>{ne&&L&&((0,E.j)(E.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:"paid"}),G(te))},[ne,L,te]);const fe=()=>{V(!L),ae(!1),(0,O.removeQueryParam)("show_reaction_upsell")};return(0,o.h)(o.Fragment,null,ne?(0,o.h)(a.u_,{isOpen:L,onClose:fe},(0,o.h)(a.fe,null,(0,o.h)(J,{pub:te}))):null)}},65726:(z,s,e)=>{"use strict";e.d(s,{Z:()=>D});var o=e(6400),m=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(E,O,C)=>O in E?m(E,O,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[O]=C,w=(E,O)=>{for(var C in O||(O={}))u.call(O,C)&&y(E,C,O[C]);if(d)for(var C of d(O))g.call(O,C)&&y(E,C,O[C]);return E},v=(E,O)=>{var C={};for(var _ in E)u.call(E,_)&&O.indexOf(_)<0&&(C[_]=E[_]);if(E!=null&&d)for(var _ of d(E))O.indexOf(_)<0&&g.call(E,_)&&(C[_]=E[_]);return C};const D=E=>{var O=E,{children:C,href:_,onClick:a}=O,l=v(O,["children","href","onClick"]);return(0,o.h)("a",w(w({role:"button",tabIndex:0,href:_!=null?_:"javascript:void(0)"},a&&{onClick:P=>{P.stopPropagation(),a(P)}}),l),C)}},86602:(z,s,e)=>{"use strict";e.r(s),e.d(s,{chatMentionsSearch:()=>F,default:()=>R,mentionsSearch:()=>T});var o=e(6400),m=e(80569),d=e.n(m),u=e(20501),g=e(92643),y=e(44695),w=e(80332);const v={mention:"frontend-components-mention-module__mention--UisMf"};var b=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(U,G,J)=>G in U?b(U,G,{enumerable:!0,configurable:!0,writable:!0,value:J}):U[G]=J,l=(U,G)=>{for(var J in G||(G={}))C.call(G,J)&&a(U,J,G[J]);if(O)for(var J of O(G))_.call(G,J)&&a(U,J,G[J]);return U},P=(U,G)=>D(U,E(G)),S=(U,G,J)=>new Promise((Q,te)=>{var ee=ne=>{try{V(J.next(ne))}catch(ae){te(ae)}},L=ne=>{try{V(J.throw(ne))}catch(ae){te(ae)}},V=ne=>ne.done?Q(ne.value):Promise.resolve(ne.value).then(ee,L);V((J=J.apply(U,G)).next())});const R=({name:U,id:G,type:J,url:Q,photo_url:te,uuid:ee,mentionText:L,isStatic:V=!1,isEditorContext:ne=!1})=>{if(V)return(0,o.h)("span",{className:v.mention,"data-component-name":"MentionStatic"},(0,o.h)("a",{href:(0,u.getMentionsUrl)(J,G,U,Q)},U));if(J==="user"){const ae={id:G,name:U,photo_url:te};return(0,o.h)(g.am,null,(0,o.h)(w.Ct,{subject:ae,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:ne?void 0:(0,u.getMentionsUrl)(J,G,U,Q),target:"_blank",rel:"noreferrer","data-attrs":JSON.stringify({name:U,id:G,type:J,url:Q,photo_url:te,uuid:ee}),onClick:fe=>fe.stopPropagation(),"data-component-name":"MentionUser"},L!=null?L:U)))}return J==="pub"?(0,o.h)(y.Sm,{publication_id:G,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:Q,target:"_blank",rel:"noreferrer","data-attrs":JSON.stringify({name:U,id:G,type:J,url:ne?void 0:(0,u.getMentionsUrl)(J,G,U,Q),uuid:ee}),onClick:ae=>ae.stopPropagation(),"data-component-name":"MentionPub"},L!=null?L:U)):(0,o.h)("a",{className:v.mention,target:"_blank",rel:"noreferrer",href:(0,u.getMentionsUrl)(J,G,U,Q),"data-attrs":JSON.stringify({name:U,id:G,type:J,url:Q,photo_url:te,uuid:ee}),"data-component-name":"Mention"},L!=null?L:U)},N={},T=(U,...G)=>S(void 0,[U,...G],function*(J,{pathname:Q="/api/v1/posts/mention"}={}){if(N[J])return N[J];const te=yield d().get(Q).query({query:J}),{profiles:ee,publications:L}=te.body,V=new Map;return ee&&ee.length&&V.set("Writers",ee.map(ne=>P(l({},ne),{type:"user"}))),L&&L.length&&V.set("Publications",L==null?void 0:L.map(ne=>P(l({},ne),{type:"pub",url:(0,u.getPublicationAppLinkUrl)({subdomain:ne.subdomain}),photo_url:ne.logo_url}))),N[J]=V,V}),A={},F=(U,...G)=>S(void 0,[U,...G],function*(J,{pathname:Q="/api/v1/community/mention"}={}){const te=`${Q}-${J}`;if(A[te])return A[te];const ee=yield d().get(Q).query({query:J}),{results:L}=ee.body,V=new Map;return L&&V.set("Writers",L.map(ne=>P(l({},ne),{type:"user",id:ne.user_id}))),A[te]=V,V})},53206:(z,s,e)=>{"use strict";e.d(s,{mt:()=>zt,_2:()=>Ge,Mp:()=>Ko,L9:()=>Ro,RY:()=>No,pD:()=>Zr,yT:()=>Yr,Ng:()=>Hr,fh:()=>Qo,TJ:()=>_r,z5:()=>uo,Er:()=>yo,Cz:()=>ho,F6:()=>xo,sV:()=>Dt,vk:()=>jn,c1:()=>hr});var o=e(6400),m=e(98661),d=e(30396),u=e(94184),g=e.n(u),y=e(12297),w=e.n(y),v=e(23493),b=e.n(v),D=e(80587),E=e(65207),O=e(13808),C=e(18794),_=e(8618),a=e(31131),l=e(28596),P=e(99869),S=e(67358),M=e(80569),R=e.n(M),N=e(68227),T=e(17835),A=e(9e3),F=e(66839),U=e(69427),G=e(91004),J=e(4190),Q=e(82626),te=e(85928),ee=e.n(te),L=e(6385),V=e(91613),ne=e(15045),ae=e(20501),fe=e(83322),le=e(2405),re=e(85065),$=e(32076),oe=e(63270),se=e(18597),ce=e(18492),de=e(3258),be=e(58884),pe=e(8479),we=e(35225),xe=e(36868),Ue=e(39419),De=e(17685),_e=e(51126),ie=e(76235),ve=e(65919),he=e(75425),Le=e(16742),He=e(25597),ht=e(19826),bt=e(47819),Tt=e(15440),Fe=e(63295),nt=e(12650),ft=e(43498),Ye=e(11628),rt=e(31517),$t=e(11762),sn=e(49786),gt=e(50615),Ne=e(80332),We=e(31533),st=e(49715);const ke={shareIconContainer:"frontend-components-post_ufi-module__shareIconContainer--zMOR2",offset:"frontend-components-post_ufi-module__offset--dqjJJ",divider:"frontend-components-post_ufi-module__divider--nNbTB",newMenuItemContainer:"frontend-components-post_ufi-module__newMenuItemContainer--LCEDu"};var Be=Object.defineProperty,Se=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Y=(Vt,Qt,en)=>Qt in Vt?Be(Vt,Qt,{enumerable:!0,configurable:!0,writable:!0,value:en}):Vt[Qt]=en,me=(Vt,Qt)=>{for(var en in Qt||(Qt={}))Oe.call(Qt,en)&&Y(Vt,en,Qt[en]);if(ut)for(var en of ut(Qt))K.call(Qt,en)&&Y(Vt,en,Qt[en]);return Vt},Ie=(Vt,Qt)=>Se(Vt,Ke(Qt)),je=(Vt,Qt,en)=>new Promise((Rn,At)=>{var Zt=gn=>{try{nn(en.next(gn))}catch(Mn){At(Mn)}},jt=gn=>{try{nn(en.throw(gn))}catch(Mn){At(Mn)}},nn=gn=>gn.done?Rn(gn.value):Promise.resolve(gn.value).then(Zt,jt);nn((en=en.apply(Vt,Qt)).next())});function Xe(Vt,Qt){return Vt==="button"&&Qt==="verbose"?16:Vt==="button"?20:Vt==="tabs"?24:Vt==="compressed"?16:0}const _t=2,pt=({isFullWidth:Vt,children:Qt})=>Vt?(0,o.h)(_e.gq,{className:"post-ufi-button-wrapper",gap:8},Qt):Qt;function Ge({post:Vt,pub:Qt,user:en,style:Rn,justified:At,isStatic:Zt,hideReactions:jt,hideComments:nn,hideShare:gn,hideSavePost:Mn,useShareLabel:Xn,allowEdit:nr,editButtonIsLast:er,onChange:Nn,addedPodcastComments:Sr,hidePinning:Tr,showEmailSent:br,allowSendEmail:Rr,footerHidden:so,onCommentsClick:eo,labelStyle:Cr,showPreamble:Co,preambleConfig:po={},position:jo,hideByDisabling:vo,showRestackButton:Oo,showRestackModal:Lo,hideFeedRestackButton:So}){const{getExperimentVariant:Ci}=(0,J.jc)(),io=(0,se.Tf)(),{showPins:li,showAudience:fi,showDate:Mi,showDatetime:pi,showAuthor:Li,showPublicationName:Bi,showCrossPostedPublicationName:ki}=po;jt=jt||!Qt.community_enabled||!Vt.slug||Vt.is_draft;const ra=w()(Object.values((Vt==null?void 0:Vt.reactions)||{})),Xo=br?!!Vt.email_sent_at:null,ci=(0,le.LC)(),bo=nr&&(en==null?void 0:en.is_contributor)&&!ci,ii=at({post:Vt,pub:Qt,user:en,defaultOpen:Oo&&Lo&&jo!=="post-footer"&&jo!=="post-footer-full-width"}),di=(0,o.h)(no,{style:Rn,pub:Qt,post:Vt,user:en,hidePinning:Tr,emailSent:Xo!=null?Xo:void 0,allowSendEmail:Rr,footerHidden:so,canBeCrossPosted:Oo}),ai=!So&&Qt.community_enabled&&Vt.slug&&!Vt.is_draft,it=Oo&&!Co&&(vo||jt&&nn&&gn&&!bo),$e=Cr==="counts-or-none"&&ra?"count":Cr==="labels"?"cta":"none",Qe=Cr==="counts-or-none"&&Vt.comment_count?"count":Cr==="labels"?"cta":"none",mt=jo==="post-footer-full-width",yt=Ci("share_dialog_modal_or_dropdown");return(0,o.h)("div",{className:g()("post-ufi",`style-${Rn}`,{justified:At,themed:io,"single-full-width-button":it})},(0,o.h)(pt,{isFullWidth:mt},Co&&po&&(0,o.h)(Zo,{pub:Qt,post:Vt,showPins:li,showAudience:fi,showDate:Mi,showDatetime:pi,showEmailSent:br,showAuthor:Li,showPublicationName:Bi,showCrossPostedPublicationName:ki}),bo&&!er&&di,(vo||!jt)&&(0,o.h)(ln,{post:Vt,pub:Qt,user:en,labelStyle:vo&&jt?"none":$e,style:Rn,onChange:Nn,isStatic:Zt,isDisabled:vo&&jt}),(vo||!nn)&&(0,o.h)(Wr,{post:Vt,pub:Qt,isStatic:Zt,labelStyle:vo&&nn?"none":Qe,style:Rn,count:Vt.comment_count+(Sr||0),onClick:eo,isDisabled:vo&&nn}),ai&&en&&(0,o.h)(qt,{pub:Qt,post:Vt,onChange:Nn,style:Rn}),!gn&&(yt==="treatment"?(0,o.h)(Zr,{post:Vt,pub:Qt,user:en,style:Rn,labelStyle:Xn?"cta":"none",isStatic:Zt,position:jo,source:"share-dialog-experiment"}):(0,o.h)(Vr,{post:Vt,pub:Qt,user:en,style:Rn,labelStyle:Xn?"cta":"none",isStatic:Zt,position:jo}))),(0,o.h)(pt,{isFullWidth:mt},!Mn&&!Oo&&en&&(0,o.h)(yr,{post:Vt,labelStyle:Qe,style:Rn,onChange:Nn}),bo&&er&&di,Oo&&!bo&&jo==="post-header"&&(0,o.h)(o.Fragment,null,(0,o.h)(ie.v2,{trigger:(0,o.h)(De.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,o.h)(D.Z,{size:20}))},(0,o.h)(co,{onClick:ii.open,post:Vt,pub:Qt,user:en}),(0,o.h)(oo,{post:Vt,onChange:Nn}))),Oo&&!bo&&mt&&(0,o.h)(o.Fragment,null,!Mn&&(0,o.h)(yr,{post:Vt,labelStyle:"verbose",style:"button",onChange:Nn}),(0,o.h)(Ur,{onClick:ii.open,post:Vt,pub:Qt,user:en,style:"button"}))),ii.modal)}function at({pub:Vt,user:Qt,post:en,defaultOpen:Rn=!1}){const[At,Zt]=(0,d.eJ)(Rn);return(0,d.d4)(()=>{Rn&&Qt&&(0,de.j)(de.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Vt.id,restacked_post_id:en.id,restacking_user_id:Qt.id,is_from_email:!0})},[Rn,Vt,en,Qt]),{open:()=>Zt(!0),modal:(0,o.h)(st.J,{pub:Vt,user:Qt,post:en,open:At,setOpen:Zt})}}function It(){const Qt=typeof window=="undefined",en=250,[Rn,At]=(0,d.eJ)(Qt?0:window.pageYOffset),[Zt,jt]=(0,d.eJ)(!1),nn=100,gn=(0,d.Ye)(()=>Date.now()+1e3,[]),Mn=(0,d.sO)(0);return(0,d.d4)(()=>{if(Qt)return;const Xn=b()(()=>{const nr=Date.now(),er=(nr-Mn.current)/1e3,Sr=(Rn-window.pageYOffset)/er;Mn.current=nr,!(window.pageYOffset<0)&&(nr<gn?jt(!1):-Sr>nn?jt(!0):Sr>nn&&jt(!1),At(window.pageYOffset))},en);return window.addEventListener("scroll",Xn),()=>window.removeEventListener("scroll",Xn)},[Qt,Rn,At,jt,gn,Mn,!1]),Zt}function zt({post:Vt,pub:Qt,user:en,isStatic:Rn,onChange:At,allowEdit:Zt,hidePinning:jt,showEmailSent:nn,allowSendEmail:gn,hideComments:Mn,onCommentsClick:Xn,showRestackButton:nr,showRestackModal:er,setFooterShown:Nn}){const Sr=It(),Tr=(0,he.pm)();return(0,d.d4)(()=>{Tr.addOffset(64*(Sr?1:-1)),Nn&&Nn(!Sr)},[Sr,Nn]),(0,o.h)(_e.hs,{alignItems:"center",padding:8,className:g()("mobile-footer-ufi",{hidden:Sr})},(0,o.h)(Ge,{post:Vt,pub:Qt,user:en,isStatic:Rn,justified:!0,style:"tabs",onChange:At,allowEdit:Zt,editButtonIsLast:!0,hidePinning:jt,showEmailSent:nn,allowSendEmail:gn,footerHidden:Sr,labelStyle:"counts-or-none",hideComments:Mn,onCommentsClick:Xn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:er,showRestackButton:nr}))}function Xt({post:Vt,pub:Qt,user:en,surface:Rn,onChange:At,subscribePromptRef:Zt}){const jt=!!(Vt!=null&&Vt.reaction),nn=(0,le.LC)(),gn=(0,pe.ib)({pathname:nn?`/api/v1/cross-post/${Vt==null?void 0:Vt.id}/reaction`:`/api/v1/post/${Vt==null?void 0:Vt.id}/reaction`,method:"POST",deps:[Vt==null?void 0:Vt.id]}),Mn=(0,we.S)({user:en,noBase:!1});return{isLiked:jt,toggle:()=>je(this,null,function*(){var Xn;if(gn.isLoading)return"error";jt||!Mn()&&en&&!(0,xe.P)(en,Qt)&&!en.is_admin&&!en.is_contributor&&(Zt!=null&&Zt.current)&&(0,sn.G0)()&&((0,de.j)(de.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:en!=null&&en.is_free_subscribed?"paid":"free"}),Zt.current.open(),(0,sn.RH)(Qt));const{reaction:nr,reactions:er,reactor_names:Nn}=(0,We.fS)(en,Vt);Vt.reaction=nr,Vt.reactions=er,Vt.reactor_names=Nn,At==null||At({post:Vt});const Sr=yield gn.refetch(nr?{method:"POST",json:{reaction:"\u2764",surface:Rn}}:{method:"DELETE"}),Tr=(Xn=Sr==null?void 0:Sr.response)==null?void 0:Xn.status;if(Tr){const{reaction:br,reactions:Rr,reactor_names:so}=(0,We.fS)(en,Vt);Vt.reaction=br,Vt.reactions=Rr,Vt.reactor_names=so,At==null||At({post:Vt})}return Tr===401?"unauthorized":Tr?"error":nr?"liked":"unliked"})}}function Dt(){const Vt=Bn();return(en,Rn,...At)=>je(this,[en,Rn,...At],function*(Zt,jt,{tabId:nn}={}){yield(0,pe.rd)(`/api/v1/post/${Zt}/reaction`,jt?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:nn}}:{method:"DELETE",json:{tabId:nn}}),Vt(jt)})}function ln({post:Vt,pub:Qt,user:en,style:Rn,labelStyle:At,onChange:Zt,isStatic:jt,isDisabled:nn}){const gn=w()(Object.values((Vt==null?void 0:Vt.reactions)||{})),Mn=At==="count"?(0,fe.numberToString)(gn||0):At==="cta"?"Like":null;return(0,o.h)(Pn,{post:Vt,pub:Qt,user:en,onChange:Zt,isStatic:jt,style:Rn},({isLiked:Xn,handleLike:nr})=>(0,o.h)(Hr,{style:Rn,state:Xn?"liked":void 0,icon:(0,o.h)(nt.Z,{className:"icon",height:Xe(Rn),strokeWidth:_t}),onClick:nn?()=>{}:nr,noLabel:At==="none",isDisabled:nn},Mn))}function qt({pub:Vt,post:Qt,onChange:en,style:Rn}){const{canRestack:At,isRestacked:Zt,restacks:jt,menuItems:nn,nuxModal:gn}=(0,Le.K)({pub:Vt,post:Qt,onRestack:nr=>{en==null||en({post:Ie(me({},Qt),{restacked:nr,restacks:jt+(nr?1:-1)})})}});if(!At)return null;const Mn=!Vt.community_enabled,Xn=(0,o.h)(Hr,{style:Rn,state:Zt?"restacked":void 0,icon:(0,o.h)(rt.Z,{className:"icon",height:Xe(Rn),strokeWidth:_t}),noLabel:jt===0,"aria-label":"menu",isDisabled:Mn},jt.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,o.h)(o.Fragment,null,gn,Mn?Xn:(0,o.h)(ie.v2,{trigger:Xn},nn))}function fn({post:Vt,pub:Qt,user:en,onChange:Rn,showRestackModal:At,canBeCrossPosted:Zt}){const jt="button",nn=at({pub:Qt,user:en,post:Vt,defaultOpen:At&&Zt}),gn=()=>{nn.open(),(0,de.j)(de.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Qt.id,restacked_post_id:Vt.id,restacking_user_id:en.id,is_from_email:!1})};return(0,o.h)(o.Fragment,null,(0,o.h)(ie.v2,{trigger:(0,o.h)(Hr,{style:jt,icon:(0,o.h)(D.Z,{className:"icon edit-icon",size:Xe(jt),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},(0,o.h)(oo,{post:Vt,onChange:Rn,showIcon:!0}),Zt&&(0,o.h)(ie.sN,{icon:(0,o.h)(ft.Z,null),onClick:gn},"Cross post"),en&&(0,o.h)(ie.sN,{icon:(0,o.h)(E.Z,null),href:(0,ae.getReaderPostUrl)(Vt.id)},"Substack Reader")),nn.modal)}function Sn(Vt){var Qt;const en=w()(Object.values(((Qt=Vt.post)==null?void 0:Qt.reactions)||{}));return(0,o.h)(ln,Ie(me({},Vt),{labelStyle:en>0?"count":"none"}))}const wn=({pub:Vt,user:Qt})=>{const[en,Rn]=(0,d.eJ)(Qt==null?void 0:Qt.email),[At,Zt]=(0,d.eJ)(!1);return(0,o.h)(_e.tu,{gap:20},(0,o.h)(_e.tu,{gap:4},(0,o.h)(ve.xv.H4,{weight:"semibold"},"Support ",Vt.name),(0,o.h)(ve.xv.B4,{color:"secondary"},"Since you liked this post, why not subscribe?")),(0,o.h)(_e.tu,{gap:12},(0,o.h)("input",{disabled:!!(Qt!=null&&Qt.email),value:en,onChange:jt=>Rn(jt.currentTarget.value)}),(0,o.h)(De.zx,{onClick:()=>je(void 0,null,function*(){(0,de.j)(de.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:en}),Zt(!0);try{yield R().post("/api/v1/free").send({email:en,source:"like-button-upsell"}),(0,Ue.redirect)((0,ae.getSubscribeUrl)(Vt,{params:{utm_source:"like-button-upsell",just_signed_up:!0}}),{local_navigation:!1})}catch(jt){alert((0,Ue.getNetworkErrorMessage)(jt))}}),grow:!0,disabled:At,priority:"primary-theme"},At?"Please wait...":"Subscribe")))};function Pn({post:Vt,pub:Qt,user:en,onChange:Rn,isStatic:At,children:Zt,style:jt}){const nn=(0,d.sO)(),{isLiked:gn,toggle:Mn}=Xt({post:Vt,pub:Qt,user:en,subscribePromptRef:nn,onChange:Rn}),Xn=(0,d.sO)(),[nr,er]=(0,d.eJ)(!1),Nn=(0,d.I4)(Sr=>je(this,null,function*(){var Tr;(Tr=Sr==null?void 0:Sr.stopPropagation)==null||Tr.call(Sr),(yield Mn())==="unauthorized"&&er(!0)}),[Mn]);return(0,d.d4)(()=>{!(Xn!=null&&Xn.current)||!nr||Xn.current.open()},[nr]),(0,o.h)("div",{className:g()("like-button-container","post-ufi-button",`style-${jt}`,gn&&"state-liked")},Zt({isLiked:gn,handleLike:Nn}),!At&&nr&&(0,o.h)(We.oq,{modalRef:Xn,user:en,pub:Qt,onClose:()=>er(!1),react:Mn}),en&&!(0,xe.P)(en,Qt)&&!en.is_admin&&!en.is_contributor&&(jt==="button"||jt==="tabs")&&(0,o.h)(ht.Fx,{ref:nn,className:g()("subscribe-prompt-dropdown",!(en!=null&&en.is_free_subscribed)&&"free"),hideMenuTail:!0},en!=null&&en.is_free_subscribed?(0,o.h)(sn._q,{pub:Qt}):(0,o.h)(wn,{pub:Qt,user:en})))}function jn({post:Vt,defaultSaved:Qt,isSaved:en,trackSurface:Rn}){var At;return sr({postId:Vt.id,defaultSaved:(At=Qt!=null?Qt:Vt.is_saved)!=null?At:!1,isSaved:en,trackSurface:Rn})}function sr({postId:Vt,defaultSaved:Qt,isSaved:en,trackSurface:Rn}){const[At,Zt]=(0,d.eJ)(Qt),jt=en!=null?en:At,{refetch:nn,isLoading:gn,error:Mn}=(0,pe.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:Vt},deps:[Vt]}),Xn=(0,re.yH)(),nr=hr();return{isSaved:jt,onSave:()=>(gn||(nn({method:jt?"DELETE":"POST"}).then(()=>{Xn.refetch()}),Zt(!jt),nr(!jt),(0,de.j)(de.FP.POST_SAVED,{post_id:Vt,surface:Rn})),!jt)}}function _r(Vt,Qt,en){return je(this,arguments,function*(Rn,At,{surface:Zt}){yield(0,pe.rd)("/api/v1/posts/saved",{method:At?"POST":"DELETE",json:{post_id:Rn}}),(0,de.j)(de.FP.POST_SAVED,{post_id:Rn,surface:Zt,is_saved:At})})}function hr(){const Vt=(0,he.pm)();return Qt=>{Qt?Vt.popToast(en=>(0,o.h)(he.FN,Ie(me({},en),{text:"Post saved",Icon:O.Z,cta:"View",href:(0,ne.getSavedPostsUrl)()}))):Vt.popToast(en=>(0,o.h)(he.FN,Ie(me({},en),{text:"Post unsaved",Icon:C.Z})))}}function Bn(){const Vt=(0,he.pm)();return Qt=>{Qt?Vt.popToast(en=>(0,o.h)(he.FN,Ie(me({},en),{text:"Post liked",Icon:_.Z}))):Vt.popToast(en=>(0,o.h)(he.FN,Ie(me({},en),{text:"Post unliked",Icon:_.Z})))}}function yr({style:Vt,post:Qt,isSaved:en,labelStyle:Rn,onChange:At}){const{isSaved:Zt,onSave:jt}=jn({defaultSaved:en,post:Qt,isSaved:Qt.is_saved}),nn=()=>{const gn=jt();At({post:Ie(me({},Qt),{is_saved:gn})})};return(0,o.h)(Hr,{state:Zt?"saved":void 0,style:Vt,icon:(0,o.h)(Tt.Z,{className:"icon",height:Xe(Vt,Rn==="verbose"?"verbose":null),strokeWidth:_t}),noLabel:Rn==="none",verboseLabel:Rn==="verbose",onClick:nn},Rn==="cta"||Rn==="verbose"?"Save":null)}function oo({post:Vt,isSaved:Qt,onChange:en,showIcon:Rn}){const{onSave:At}=jn({defaultSaved:Qt,post:Vt,isSaved:Vt.is_saved}),Zt=()=>{const nn=At();en({post:Ie(me({},Vt),{is_saved:nn})})},jt=Vt.is_saved?"var(--color-accent-substack)":void 0;return(0,o.h)(ie.sN,{icon:Rn?(0,o.h)(O.Z,{style:{stroke:jt,fill:jt}}):void 0,onClick:Zt},Vt.is_saved?"Unsave":"Save")}function Wr({style:Vt,count:Qt,labelStyle:en,post:Rn,pub:At,isStatic:Zt,onClick:jt,isDisabled:nn}){let gn;return Rn!=null&&Rn.comment_url_override?gn=Rn.comment_url_override:Zt?gn=`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:At&&(gn=(0,ne.getPostUrl)(At,Rn,{comments:!0})),(0,o.h)(Hr,{style:Vt,icon:(0,o.h)(Fe.Z,{className:"icon",height:Xe(Vt),strokeWidth:_t}),href:nn?null:gn,onClick:nn?()=>{}:Mn=>{jt?jt(Mn):(Mn==null||Mn.preventDefault(),window.location.href=gn)},noLabel:en==="none",className:"post-ufi-comment-button",isDisabled:nn},en==="cta"&&"Comment",en==="count"&&(0,fe.numberToString)(Qt||0))}function Zr({post:Vt,user:Qt,pub:en,style:Rn,labelStyle:At,isStatic:Zt,onChange:jt,position:nn,source:gn}){const Mn=(0,d.sO)(),Xn=(0,d.I4)(()=>{(0,de.j)(de.FP.POST_SHARE_BUTTON_CLICKED,{position:nn}),Mn.current.open()},[]);let nr;Vt.share_url_override?nr=Vt.share_url_override:Zt?Vt?nr=Q.Substitutions.SHARE_URL:nr=Q.Substitutions.SHARE_PUB_URL:nr="javascript:void(0)";const er=At==="none";return(0,o.h)(o.Fragment,null,(0,o.h)(Hr,{style:Rn,icon:er?(0,o.h)(a.Z,{className:"icon",height:Xe(Rn),strokeWidth:_t}):null,onClick:Xn,href:nr,noLabel:At==="none",className:g()(!er&&"no-icon")},At==="cta"&&"Share"),!Zt&&(0,o.h)(U.ZP,{ref:Mn,user:Qt,pub:en,post:Vt,onChange:jt,source:gn}))}function Vr({post:Vt,user:Qt,pub:en,style:Rn,labelStyle:At,isStatic:Zt,onChange:jt,position:nn}){const{exposeExperiment:gn}=(0,J.jc)(),Mn=(0,G.O1)(null,{post:Vt,pub:en,user:Qt}),Xn=(0,G.B8)({post:Vt,pub:en}),nr={title:Xn,url:Mn},er=(0,Ue.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(nr),[Nn,Sr]=(0,d.eJ)(er),Tr=()=>je(this,null,function*(){var vo;if((0,de.j)(de.FP.POST_SHARE_BUTTON_CLICKED,{position:nn}),Nn||gn("share_dialog_modal_or_dropdown"),er&&Nn)try{yield navigator.share(nr),(0,de.j)(de.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(vo=Vt.id)!=null?vo:null,utm_campaign:"default"}),(0,be.ex)(`${en.subdomain} shared`,!0);return}catch(Oo){if(!(Oo instanceof Error)||Oo.name==="AbortError")return;Sr(!1),(0,de.j)(de.FP.NATIVE_SHARE_FAILED,{errorName:Oo.name,errorMessage:Oo.message})}}),br=()=>{(0,G.Wn)({shareUrl:Mn,shareName:Xn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()},Rr=()=>{(0,G.Po)({shareUrl:Mn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()},so=()=>{(0,G.lc)({shareUrl:Mn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()},eo=()=>{(0,G.BZ)({shareUrl:Mn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()},Cr=()=>{(0,G.WZ)({shareUrl:Mn,shareName:Xn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()},Co=()=>{(0,G.Ui)({shareUrl:Mn,pub:en,post:Vt,utm_campaign:nn}),jt==null||jt()};let po;Vt.share_url_override?po=Vt.share_url_override:Zt?Vt?po=Q.Substitutions.SHARE_URL:po=Q.Substitutions.SHARE_PUB_URL:po="javascript:void(0)";const jo=At==="none";return(0,o.h)(ie.v2,{trigger:(0,o.h)(Hr,{style:Rn,icon:jo?(0,o.h)(a.Z,{className:"icon",height:Xe(Rn),strokeWidth:_t}):null,href:po,noLabel:At==="none",className:g()(!jo&&"no-icon")},At==="cta"&&"Share"),onOpen:Tr,useMobileBottomSheet:!0,disableMenu:Nn,layerOptions:{placement:nn==="pub-preview"?"bottom-start":"bottom-end",preferX:nn==="pub-preview"?"right":"left"}},(0,o.h)(ie.sN,{icon:(0,o.h)(A.Z,{height:24}),onClick:eo},(0,o.h)(_e.gq,{justifyContent:"space-between",alignItems:"center"},"Share to Notes",(0,o.h)(_e.hs,{className:ke.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(ve.xv.B4,{size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,o.h)(ie.sN,{icon:(0,o.h)(F.Z,{height:24}),onClick:br},"Share to Twitter"),(0,o.h)(ie.sN,{icon:(0,o.h)(N.Z,{height:24}),onClick:Rr},"Share to Facebook"),(0,o.h)(ie.sN,{icon:(0,o.h)(T.Z,{height:24}),onClick:so},"Share to Linkedin"),(0,o.h)("div",{className:ke.divider}),(0,o.h)(ie.sN,{icon:(0,o.h)(_e.hs,{className:ke.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,o.h)(l.Z,{className:ke.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Cr},"Send as email"),(0,o.h)(ie.sN,{icon:(0,o.h)(_e.hs,{className:ke.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,o.h)(P.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Co},"Copy link"))}function Ur({post:Vt,user:Qt,pub:en,onClick:Rn,style:At}){return(0,o.h)(o.Fragment,null,(0,o.h)(Hr,{style:At,icon:(0,o.h)(ft.Z,{className:"icon",height:Xe(At,"verbose"),strokeWidth:_t}),onClick:()=>{(0,de.j)(de.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:Vt.id,restacking_user_id:Qt.id,is_from_email:!1}),Rn()},noLabel:!1,verboseLabel:!0,title:"Cross-Post"},"Cross-post"))}function co({post:Vt,user:Qt,pub:en,onClick:Rn}){const At=()=>{(0,de.j)(de.FP.RESTACK_POST_CLICKED,{restacked_publication_id:en.id,restacked_post_id:Vt.id,restacking_user_id:Qt.id,is_from_email:!1}),Rn()};return(0,o.h)(o.Fragment,null,(0,o.h)(ie.sN,{onClick:At},"Cross-post"))}function no({style:Vt,pub:Qt,post:en,user:Rn,hidePinning:At,emailSent:Zt,allowSendEmail:jt,footerHidden:nn,showRestackModal:gn,canBeCrossPosted:Mn}){const Xn=(0,d.sO)();nn&&Xn.current&&Xn.current.close();const nr=at({post:en,pub:Qt,user:Rn,defaultOpen:gn&&Mn}),er=()=>{nr.open(),(0,de.j)(de.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Qt.id,restacked_post_id:en.id,restacking_user_id:Rn.id,is_from_email:!1})};return(0,o.h)("div",{className:g()("edit-button-container","post-ufi-button",`style-${Vt}`)},(0,o.h)(Hr,{onClick:()=>Xn.current.open(),style:Vt,icon:(0,o.h)(D.Z,{className:"icon edit-icon",size:Xe(Vt),strokeWidth:2}),noLabel:!0}),(0,o.h)(gt.y,{ref:Xn,pub:Qt,post:en,user:Rn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:At,emailSent:Zt,allowSendEmail:jt,handleCrossPost:Mn&&er}),nr.modal)}const Hr=(0,m.forwardRef)(({icon:Vt,children:Qt,state:en,style:Rn,onClick:At,href:Zt,noLabel:jt,verboseLabel:nn,noBorder:gn,className:Mn,isDisabled:Xn,iconPosition:nr="left",title:er},Nn)=>(0,o.h)("a",{role:"button",className:g()("post-ufi-button",`style-${Rn}`,Mn,en?`state-${en}`:void 0,Xn?"state-disabled":void 0,Qt&&!jt?"has-label":"no-label",gn?"no-border":"with-border",nn?"verbose-label":""),title:er,href:Zt,onClick:Sr=>{At&&(Sr.stopPropagation(),At(Sr))},ref:Nn},nr==="left"&&Vt,!jt&&Qt&&(0,o.h)("div",{className:"label"},Qt),nr==="right"&&Vt)),uo=({pub:Vt,post:Qt,showAuthor:en})=>!!(en&&Vt.bylines_enabled&&(0,fe.getPrintedByline)(Vt,Qt)),yo=({pub:Vt,post:Qt,showAuthor:en,showPhoto:Rn,isMobileWidth:At})=>uo({pub:Vt,post:Qt,showAuthor:en})&&!ho({pub:Vt,post:Qt,showAuthor:en})&&!xo({pub:Vt,post:Qt,showAuthor:en,showPhoto:Rn})&&!At,ho=({pub:Vt,post:Qt,showAuthor:en})=>uo({pub:Vt,post:Qt,showAuthor:en})&&(0,fe.getBylineUsers)(Qt).length>1,xo=({pub:Vt,post:Qt,showAuthor:en,showPhoto:Rn})=>{var At;return uo({pub:Vt,post:Qt,showAuthor:en})&&Rn&&((At=(0,fe.getBylineUsers)(Qt)[0])==null?void 0:At.photo_url)&&Vt.byline_images_enabled};function Qo({post:Vt,showDatetime:Qt,isStatic:en,fromPostPage:Rn,showReactions:At}){const Zt=Vt.reactions?Object.values(Vt.reactions).reduce((nn,gn)=>nn+gn,0):0,jt=Rn&&!en&&At&&Zt>=70&&Zt<100;return Qt&&jt?ee()(Vt.post_date).standardDatetimeWithYear():Qt&&!jt?ee()(Vt.post_date).standardDatetime():en?ee()(Vt.post_date).standardDate():jt?ee()(Vt.post_date).standardDate({full:jt}):ee()(Vt.post_date).standardDateOrTime()}function Zo({pub:Vt,post:Qt,showPins:en,showAudience:Rn,showDate:At,showDatetime:Zt,showEmailSent:jt,showAuthor:nn,showPublicationName:gn,showCrossPostedPublicationName:Mn}){const Xn=(0,se.Tf)(),nr=!!(nn&&Vt.bylines_enabled&&(0,fe.getPrintedByline)(Vt,Qt)),er=!1,Nn=At&&Qt.post_date&&!Qt.is_draft,Sr=jt?!!Qt.email_sent_at:null;return(0,o.h)("div",{className:g()("ufi-preamble",{themed:Xn})},Mn&&Qt.restacked_pub_name?(0,o.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},"Published on ",Qt.restacked_pub_name):null,jt&&Sr&&(0,o.h)("div",{className:"email-sent",title:"This post was sent as an email"},(0,o.h)(S.Z,{className:"post-ufi-preamble-icon",size:16})),en&&Qt.is_section_pinned&&(0,o.h)("div",{className:"pinned"},(0,o.h)($t.Z,{className:"post-ufi-preamble-icon"})),Qt.type==="adhoc_email"?(0,o.h)("div",{className:"audience-adhoc"},(0,o.h)(bt.Z,{className:"post-ufi-preamble-icon"})):Rn&&(0,L.isPaidAudience)(Qt.audience)&&(0,o.h)("div",{className:"audience-lock"},(0,o.h)(He.Z,{audience:Qt.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),yo({pub:Vt,post:Qt,showAuthor:nr,isMobileWidth:er})&&(0,o.h)("div",{className:"ufi-preamble-label author"},(0,fe.getBylineUsers)(Qt).length>0?(0,fe.oxfordComma)((0,fe.getBylineUsers)(Qt).map(Tr=>(0,o.h)(o.Fragment,null,(0,o.h)(Ne.Ct,{subject:Tr,utmSource:"byline"},(0,o.h)("a",{href:(0,ne.getProfileUrl)(Tr,Vt,{base:!0}),onClick:br=>br.stopPropagation()},Tr.name))))):(0,fe.getPrintedByline)(Vt,Qt)),gn&&(0,o.h)("div",{className:"post-publication-name"},Vt.name),Nn&&(0,o.h)("div",{className:"ufi-preamble-label post-date",title:ee()(Qt.post_date).toISOString()},(0,o.h)("time",{dateTime:ee()(Qt.post_date).toISOString()},Qo({post:Qt,showDatetime:Zt}))))}const No=({pub:Vt,post:Qt,user:en,onChange:Rn})=>(0,oe.xR)().getConfigFor("like_posts_enabled")&&Vt.community_enabled?(0,o.h)(Sn,{style:"button",post:Qt,pub:Vt,user:en,onChange:Rn}):null,Ro=({pub:Vt,post:Qt,onClick:en})=>{const Rn=(0,fe.showCommentsOnPost)({publication:Vt,post:Qt}),{comment_count:At}=Qt;return Rn?(0,o.h)(Wr,{post:Qt,pub:Vt,labelStyle:At>0?"count":"none",style:"button",count:At,onClick:en}):null};function Ko({post:Vt,pub:Qt,user:en,onChange:Rn,onCommentsClick:At,showRestackModal:Zt=!1}){const jt=(0,le.LC)(),nn=(en==null?void 0:en.is_contributor)&&!jt,{getSettingFor:gn}=(0,$.So)(),Mn=!Vt.is_draft&&(0,V.x)(en,{enable_restacking:!!gn("enable_restacking")},Vt,Qt,!1),{getExperimentVariant:Xn}=(0,J.jc)(),nr=Xn("share_dialog_modal_or_dropdown");return(0,o.h)(_e.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,o.h)(_e.hs,{gap:8},(0,o.h)(No,{post:Vt,pub:Qt,user:en,onChange:Rn}),(0,o.h)(Ro,{pub:Qt,post:Vt,onClick:At}),(0,o.h)(qt,{pub:Qt,post:Vt,onChange:Rn,style:"button"})),(0,o.h)(_e.hs,{gap:8},nr==="treatment"?(0,o.h)(Zr,{post:Vt,pub:Qt,user:en,style:"button",labelStyle:"cta",source:"share-dialog-experiment"}):(0,o.h)(Vr,{post:Vt,pub:Qt,user:en,style:"button",labelStyle:"cta"}),nn?(0,o.h)(no,{style:"button",pub:Qt,post:Vt,user:en,showRestackModal:Zt,canBeCrossPosted:Mn}):(0,o.h)(fn,{post:Vt,pub:Qt,user:en,onChange:Rn,showRestackModal:Zt,canBeCrossPosted:Mn})))}function Yr({isFooter:Vt,customization:{showShare:Qt,showComments:en,showReactions:Rn,showListen:At,showSave:Zt,showRestack:jt,showCommentRestack:nn}}){const gn=Vt?"email-ufi-2-bottom":"email-ufi-2-top",Mn=!Vt&&(jt||At||Zt),Xn=Vt;return!Vt&&!Qt&&!en&&!Rn&&!At&&!Zt&&jt?(0,o.h)(ce.YF,{className:"email-ufi-2-empty",width:"100%"},(0,o.h)("tr",{height:1},(0,o.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,o.h)(ce.YF,{className:gn,width:"100%"},jt&&Vt&&(0,o.h)(o.Fragment,null,(0,o.h)(Jr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(ce.YF,{width:"100%",className:"email-ufi-2-row"},(0,o.h)("tr",null,(0,o.h)("td",{width:"95%"},Qt&&(0,o.h)(ce._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:Q.Substitutions.SHARE_URL},(0,o.h)(Ye.Z,me({},jr)),(0,o.h)("span",{className:"email-button-text"},"Share")))),(0,o.h)(Jr,null))))),(0,o.h)(Jr,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(ce.YF,{width:"100%"},(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(ce.zK,{gap:8,style:Mn?void 0:{margin:"0 auto"}},Rn?Xn?(0,o.h)(ce._i,{aClassName:"email-button-outline",href:Q.Substitutions.REACTION_URL},(0,o.h)(nt.Z,me({},jr)),(0,o.h)("span",{className:"email-button-text"},"Like")):(0,o.h)(Dr,{href:Q.Substitutions.REACTION_URL},(0,o.h)(nt.Z,me({},jr))):null,en?Xn?(0,o.h)(ce._i,{aClassName:"email-button-outline",href:`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Fe.Z,me({},jr)),(0,o.h)("span",{className:"email-button-text"},"Comment")):(0,o.h)(Dr,{href:`${Q.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Fe.Z,me({},jr))):null,nn&&(Xn?(0,o.h)(ce._i,{aClassName:"email-button-outline",href:`${Q.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(rt.Z,me({},jr)),(0,o.h)("span",{className:"email-button-text"},"Restack")):(0,o.h)(Dr,{href:`${Q.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(rt.Z,me({},jr)))))),(0,o.h)("td",{align:"right"},(0,o.h)(ce.zK,{gap:8},Qt&&!Vt&&(0,o.h)(ce._i,{aClassName:"email-button-outline",href:Q.Substitutions.SHARE_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text"},"Share")))))))),(0,o.h)(Jr,null))}function Jr(){return(0,o.h)("tr",{height:16},(0,o.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const jr={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function Dr({size:Vt=38,href:Qt,children:en}){return(0,o.h)(ce.YF,{width:Vt},(0,o.h)("tr",null,(0,o.h)("td",{align:"center"},(0,o.h)("a",{className:"email-icon-button",href:Qt,style:{width:Vt}},en))))}},31471:(z,s,e)=>{"use strict";e.d(s,{e:()=>P});var o=e(6400),m=e(94184),d=e.n(m),u=e(15045),g=e(20501),y=e(61247),w=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,C=(S,M,R)=>M in S?w(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,_=(S,M)=>{for(var R in M||(M={}))E.call(M,R)&&C(S,R,M[R]);if(D)for(var R of D(M))O.call(M,R)&&C(S,R,M[R]);return S},a=(S,M)=>v(S,b(M)),l=(S,M)=>{var R={};for(var N in S)E.call(S,N)&&M.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&D)for(var N of D(S))M.indexOf(N)<0&&O.call(S,N)&&(R[N]=S[N]);return R};function P(S){var M=S,{src:R,maxWidth:N,imageProps:T={},alt:A="",className:F,imageRef:U}=M,G=l(M,["src","maxWidth","imageProps","alt","className","imageRef"]);const J=L=>{if(T!=null&&T.height){const V=N/T.height;return{height:Math.floor(L/V),aspect:null}}return{}},Q=u.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(N)?u.WEB_RESPONSIVE_IMAGE_WIDTHS:[...u.WEB_RESPONSIVE_IMAGE_WIDTHS,N];Q.sort((L,V)=>L-V);const te=Q.map(L=>({width:L,src:(0,g.imginary)(R,L,_(_({},T),J(L)))})).filter(L=>L.width<=N),ee=Q.map(L=>({width:L,src:(0,g.imginary)(R,L,a(_(_({},T),J(L)),{format:"webp"}))})).filter(L=>L.width<=N);return(0,o.h)("picture",null,ee.length>1?(0,o.h)("source",{type:"image/webp",srcset:ee.map(L=>`${L.src} ${L.width}w`).join(", "),sizes:"100vw"}):(0,o.h)("source",{type:"image/webp",srcset:(0,g.imginary)(R,N,a(_({},T),{format:"webp"}))}),(0,o.h)("img",a(_({className:d()(y.Z.img,F),src:(0,g.imginary)(R,N,T),sizes:"100vw",alt:A,srcset:te.length>1?te.map(L=>`${L.src} ${L.width}w`).join(", "):void 0},G),{width:N,height:T==null?void 0:T.height,ref:U})))}},30105:(z,s,e)=>{"use strict";e.d(s,{L:()=>u});var o=e(6400),m=e(94184),d=e.n(m);const u=({children:g,title:y="",content:w="",className:v="",showFirst:b=!1,disabled:D=!1})=>D?(0,o.h)(o.Fragment,null,g):(0,o.h)("div",{className:`popover-container ${v}`},(0,o.h)("div",{className:d()("popover typography",{showfirst:b})},(0,o.h)("div",{className:"content"},y&&(0,o.h)("strong",null,y),w&&(0,o.h)("section",null,w)),(0,o.h)("div",{className:"popover-tail"})),g)},25877:(z,s,e)=>{"use strict";e.d(s,{CH:()=>J,KG:()=>G,Yq:()=>ee});var o=e(6400),m=e(30396),d=e(88812),u=e(83322),g=e(19698),y=e(8479),w=e(39419),v=e.n(w),b=e(66399),D=e(76235),E=e(67963),O=Object.defineProperty,C=Object.defineProperties,_=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(L,V,ne)=>V in L?O(L,V,{enumerable:!0,configurable:!0,writable:!0,value:ne}):L[V]=ne,M=(L,V)=>{for(var ne in V||(V={}))l.call(V,ne)&&S(L,ne,V[ne]);if(a)for(var ne of a(V))P.call(V,ne)&&S(L,ne,V[ne]);return L},R=(L,V)=>C(L,_(V)),N=(L,V,ne)=>new Promise((ae,fe)=>{var le=oe=>{try{$(ne.next(oe))}catch(se){fe(se)}},re=oe=>{try{$(ne.throw(oe))}catch(se){fe(se)}},$=oe=>oe.done?ae(oe.value):Promise.resolve(oe.value).then(le,re);$((ne=ne.apply(L,V)).next())});const T={mutes:[],blocks:[],blocked:[]},A=(0,o.createContext)({result:T,refetch:()=>null});A.displayName="UserBlockContext";function F({user:L,children:V}){var ne;const ae=useFetch({pathname:"/api/v1/blocks/ids",deps:[L],auto:!!L});return h(A.Provider,{value:{result:(ne=ae.result)!=null?ne:T,refetch:ae.refetch}},V)}function U(){return(0,m.qp)(A)}function G(L){const{result:{mutes:V,blocks:ne,blocked:ae}}=(0,m.qp)(A);return L?V.includes(L)?"muting":ne.includes(L)?"blocking":ae.includes(L)?"blocked":null:null}function J(L,V){const ne=(0,E.aF)(),ae=!!(ne&&L&&ne.id!==L.id),fe=U(),le=G(L==null?void 0:L.id),re=(0,b.pm)(),$=(0,u.guessFirstName)((L==null?void 0:L.name)||""),oe=()=>N(this,null,function*(){if(L){try{yield(0,y.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"mute",surface:V}})}catch(pe){re.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,w.getNetworkErrorMessage)(pe)})));return}fe.refetch(),re.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${L.name||"User"} muted`,Icon:g.Z})))}}),se=()=>N(this,null,function*(){if(L){try{yield(0,y.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:V}})}catch(pe){re.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,w.getNetworkErrorMessage)(pe)})));return}fe.refetch(),re.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${L.name||"User"} unmuted`,Icon:g.Z})))}}),ce=()=>N(this,null,function*(){if(L){try{yield(0,y.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"block",surface:V}})}catch(pe){re.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,w.getNetworkErrorMessage)(pe)})));return}fe.refetch(),re.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${L.name||"User"} blocked`,Icon:d.Z})))}}),de=()=>N(this,null,function*(){if(L){try{yield(0,y.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:V}})}catch(pe){re.popToast(we=>(0,o.h)(b.FN,R(M({},we),{text:(0,w.getNetworkErrorMessage)(pe)})));return}fe.refetch(),re.popToast(pe=>(0,o.h)(b.FN,R(M({},pe),{text:`${L.name||"User"} unblocked`,Icon:d.Z})))}}),be=[];return ae&&(le!=="blocking"&&be.push((0,o.h)(D.sN,{icon:(0,o.h)(g.Z,null),onClick:le==="muting"?se:oe},le==="muting"?`Unmute ${$||(L==null?void 0:L.name)||"this person"}`:`Mute ${$||(L==null?void 0:L.name)||"this person"}`)),be.push((0,o.h)(D.sN,{icon:(0,o.h)(d.Z,null),onClick:le==="blocking"?de:ce},le==="blocking"?`Unblock ${$||(L==null?void 0:L.name)||"this person"}`:`Block ${$||(L==null?void 0:L.name)||"this person"}`))),be}const Q=(0,o.createContext)(!1);Q.displayName="MuteFreeZone";function te({muteFree:L=!0,children:V}){return h(Q.Provider,{value:L},V)}function ee(){return(0,m.qp)(Q)}},2405:(z,s,e)=>{"use strict";e.d(s,{LC:()=>g,uL:()=>u});var o=e(6400),m=e(30396);const d=(0,o.createContext)(null);d.displayName="CrossPostContext";function u({crossPost:y=null,children:w}){return(0,o.h)(d.Provider,{value:y},w)}function g(){return(0,m.qp)(d)}},4190:(z,s,e)=>{"use strict";e.d(s,{Vt:()=>T,jc:()=>A,kx:()=>N,ng:()=>R,xu:()=>P});var o=e(6400),m=e(98661),d=e(30396),u=e(80569),g=e.n(u),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(U,G,J)=>G in U?y(U,G,{enumerable:!0,configurable:!0,writable:!0,value:J}):U[G]=J,C=(U,G)=>{for(var J in G||(G={}))D.call(G,J)&&O(U,J,G[J]);if(b)for(var J of b(G))E.call(G,J)&&O(U,J,G[J]);return U},_=(U,G)=>w(U,v(G)),a=(U,G,J)=>new Promise((Q,te)=>{var ee=ne=>{try{V(J.next(ne))}catch(ae){te(ae)}},L=ne=>{try{V(J.throw(ne))}catch(ae){te(ae)}},V=ne=>ne.done?Q(ne.value):Promise.resolve(ne.value).then(ee,L);V((J=J.apply(U,G)).next())}),l;const P={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},S=typeof window!="undefined"&&window._preloads||P,M=typeof window!="undefined"?(l=window._preloads)==null?void 0:l.siteConfigs:{},R=(U,G)=>{const J=L=>{if(!L||!U)return null;const V=U[L];return V===void 0?null:V},Q=L=>{if(!L)return null;const V=J(L);if(V&&typeof V=="string"&&V!=="experiment")return{intendedVariant:V,shouldLog:!1};if(G.variantOverrides&&L in G.variantOverrides)return{intendedVariant:G.variantOverrides[L],shouldLog:!1};const ne=G.experimentExposures||{};if(ne[L])return{intendedVariant:ne[L],shouldLog:!1};const ae=G.experimentFeatures||{};return ae[L]?{intendedVariant:ae[L],shouldLog:!0}:null};return{getExperimentVariant:L=>{const V=Q(L);return V?V.intendedVariant:null},exposeExperiment:L=>a(void 0,null,function*(){const{intendedVariant:V,shouldLog:ne}=Q(L)||{};if(!ne)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const ae=window._preloads.experimentExposures;ae[L]=V;try{yield g().post("/api/v1/experiment_exposure").send({experiment_name:L,variant_name:V})}catch(fe){delete ae[L]}}return!0})}},N=(0,o.createContext)(R(M,S));N.displayName="ExperimentsContext";function T({siteConfigs:U={},experimentInfo:G,children:J}){const Q=G||S,te=(0,d.Ye)(()=>R(U,Q),[U,...Object.values(Q)]);return(0,o.h)(N.Provider,{value:te},J)}function A(){return(0,d.qp)(N)}const F=U=>{const G=forwardRef((J,Q)=>{const te=A();return h(U,_(C(C({},te),J),{ref:Q}))});return G.displayName=`withExperimentsContext(${U.displayName||U.name||"Anonymous"})`,G}},58718:(z,s,e)=>{"use strict";e.d(s,{oh:()=>te,Sv:()=>ee});var o=e(6400),m=e(30396),d=e(94184),u=e(82569),g=e.n(u),y=e(60779),w=e(59386),v=e(26686),b=e(83322),D=e(8479),E=e(39419),O=e(66399),C=e(76235),_=e(25877),a=e(67963);const l={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var P=Object.defineProperty,S=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(V,ne,ae)=>ne in V?P(V,ne,{enumerable:!0,configurable:!0,writable:!0,value:ae}):V[ne]=ae,F=(V,ne)=>{for(var ae in ne||(ne={}))N.call(ne,ae)&&A(V,ae,ne[ae]);if(R)for(var ae of R(ne))T.call(ne,ae)&&A(V,ae,ne[ae]);return V},U=(V,ne)=>S(V,M(ne)),G=(V,ne,ae)=>new Promise((fe,le)=>{var re=se=>{try{oe(ae.next(se))}catch(ce){le(ce)}},$=se=>{try{oe(ae.throw(se))}catch(ce){le(ce)}},oe=se=>se.done?fe(se.value):Promise.resolve(se.value).then(re,$);oe((ae=ae.apply(V,ne)).next())});function J(){return(0,v._)("/api/v1/feed/following")}function Q(V){const{data:ne}=J();return(ne!=null?ne:[]).includes(V)}function te(V,ne){const{isFollowing:ae,toggle:fe}=ee(V,ne),le=(0,a.aF)(),re=(0,_.KG)(V==null?void 0:V.id),$=!!(le&&V&&le.id!==V.id)&&!re,oe=(0,b.guessFirstName)((V==null?void 0:V.name)||""),se=[];return $&&se.push((0,o.h)(C.sN,{icon:ae?(0,o.h)(w.m,{stroke:"var(--color-primary)"}):(0,o.h)(y.w,{stroke:"var(--color-primary)"}),onClick:fe},ae?`Unfollow ${oe}\u2019s notes`:`Follow ${oe}\u2019s notes`)),se}function ee(V,ne){const ae=Q(V==null?void 0:V.id),{mutate:fe,data:le}=J(),re=le!=null?le:[],$=(0,O.pm)(),oe=(0,b.guessFirstName)((V==null?void 0:V.name)||""),se=de=>G(this,null,function*(){const be=de?[...re,V.id]:g()(re,V.id);try{fe((0,D.rd)(`/api/v1/feed/${V.id}/follow`,{method:de?"POST":"DELETE",json:{surface:ne}}).then(()=>be),{optimisticData:be}),$.popToast(pe=>(0,o.h)(O.FN,U(F({},pe),{Icon:de?w.m:y.w,text:de?`Followed ${oe}\u2019s Notes`:`Unfollowed ${oe}\u2019s Notes`})))}catch(pe){$.popToast(we=>(0,o.h)(O.FN,U(F({},we),{text:(0,E.getNetworkErrorMessage)(pe)})));return}});return{isFollowing:ae,toggle:()=>se(!ae)}}function L(V,ne){const{isFollowing:ae,toggle:fe}=ee(V,ne),[le,re]=useState(!1);return{isFollowing:ae,buttonProps:{onClick:()=>{fe(),ae||re(!0)},onMouseLeave:()=>re(!1),className:classnames(css.followButton,le&&css.justFollowed)},css}}},85065:(z,s,e)=>{"use strict";e.d(s,{N$:()=>N,lR:()=>A,yH:()=>J});var o=e(6400),m=e(30396),d=e(80569),u=e.n(d),g=e(6742),y=e(35442),w=e(63503),v=e(8479),b=e(39419),D=e.n(b),E=Object.defineProperty,O=Object.defineProperties,C=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(te,ee,L)=>ee in te?E(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,S=(te,ee)=>{for(var L in ee||(ee={}))a.call(ee,L)&&P(te,L,ee[L]);if(_)for(var L of _(ee))l.call(ee,L)&&P(te,L,ee[L]);return te},M=(te,ee)=>O(te,C(ee)),R=(te,ee,L)=>new Promise((V,ne)=>{var ae=re=>{try{le(L.next(re))}catch($){ne($)}},fe=re=>{try{le(L.throw(re))}catch($){ne($)}},le=re=>re.done?V(re.value):Promise.resolve(re.value).then(ae,fe);le((L=L.apply(te,ee)).next())});function N({defaultState:te,shouldLoad:ee=!0,shouldPoll:L=!1,children:V}){return(0,o.h)(F,{defaultState:te==null?void 0:te.activity,shouldLoad:ee,shouldPoll:L},(0,o.h)(Q,{shouldLoad:ee},V))}const T=(0,o.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>R(void 0,null,function*(){return!0}),markAllAsRead:()=>R(void 0,null,function*(){}),hasLoadedOnce:!1});T.displayName="NotificationsContext";function A(){return(0,m.qp)(T)}function F({defaultState:te,shouldLoad:ee=!0,shouldPoll:L=!1,children:V}){const ne=(0,v.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:ee,initialResult:te}),ae=!(0,g.th)(),fe=()=>R(this,null,function*(){const re=yield u().post("/api/v1/activity/unread").send({after:new Date().toISOString()});ne.setResult(re.body)});(0,w.Z)(()=>R(this,null,function*(){var re;if(L&&ee&&(0,b.isWindowVisible)()){const $=((re=ne.result)==null?void 0:re.count)||0,oe=yield ne.refetch(),se=!(oe instanceof Error)&&oe.count||0;if($!==se)return!0}}),6e4);const le=ne.result!=null?ne.result.count:0;return(0,m.d4)(()=>{var re;try{(re=navigator.setAppBadge)==null||re.call(navigator,le)}catch($){console.warn($)}},[le]),(0,o.h)(T.Provider,{value:{lastViewedAt:ne.result!=null?ne.result.lastViewedAt:null,activityUnreadCount:le,activityUnreadAtMax:ne.result!=null?ne.result.max:!1,refetch:ne.refetch,markAllAsRead:fe,hasLoadedOnce:ne.hasLoadedOnce}},(0,o.h)(y.Metadata,{badge:ae?le:void 0}),V)}const U={count:0,max:!1,refetch:()=>R(void 0,null,function*(){return!0}),markAllAsRead:()=>R(void 0,null,function*(){}),hasLoadedOnce:!1},G=(0,o.createContext)(U);G.displayName="SavedPostsContext";function J(){return(0,m.qp)(G)}function Q({shouldLoad:te=!0,children:ee}){const L=(0,v.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:te,initialResult:U}),V=()=>L.refetch({method:"PUT"});return(0,o.h)(G.Provider,{value:M(S({},L.result),{refetch:L.refetch,markAllAsRead:V,hasLoadedOnce:L.hasLoadedOnce})},ee)}},92643:(z,s,e)=>{"use strict";e.d(s,{Un:()=>D,am:()=>b});var o=e(6400),m=e(30396),d=e(80569),u=e.n(d),g=e(87251),y=e(67963),w=(E,O,C)=>new Promise((_,a)=>{var l=M=>{try{S(C.next(M))}catch(R){a(R)}},P=M=>{try{S(C.throw(M))}catch(R){a(R)}},S=M=>M.done?_(M.value):Promise.resolve(M.value).then(l,P);S((C=C.apply(E,O)).next())});const v=(0,o.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});v.displayName="ProfileContext";function b({value:E,handle:O,children:C}){const[_,a]=(0,m.eJ)({profile:null,loading:!1}),[l,P]=(0,m.eJ)(new Map(E?[[O||E.id,{profile:E,loading:!1}]]:[])),S={viewerProfile:_,setViewerProfile:(0,m.I4)((M,R)=>{a(N=>N.profile===M&&N.loading===R?N:{profile:M,loading:R})},[]),profiles:l,setProfile:(0,m.I4)((M,R,N)=>{P(T=>{var A,F;if(((A=T.get(M))==null?void 0:A.profile)===R&&((F=T.get(M))==null?void 0:F.loading)===N)return T;const U=new Map(T);return U.set(M,{profile:R,loading:N}),U})},[])};return(0,o.h)(v.Provider,{value:S},C)}function D({subjectId:E,subjectName:O,delayLoading:C}){const _=(0,y.aF)(),{viewerProfile:a,setViewerProfile:l,profiles:P,setProfile:S}=(0,m.qp)(v),[M,R]=(0,m.eJ)(null);if(typeof E=="string")if(E.includes("-")){const G=E.split("-");E=G[0],O=G.slice(1).join("-")}else E.startsWith("@")&&(E=E.slice(1));const N=P.get(E),T=(0,m.I4)(G=>w(this,null,function*(){l(a.profile,!0);const J=(0,g.cleanSlug)(G.name,{hashIfEmpty:!0});try{const Q=yield u().get(`/api/v1/user/${G.id}-${J}/public_profile/self`).then(te=>te.body);l(Q,!1)}catch(Q){Q instanceof Error&&R(Q),l(null,!1)}}),[a,l,R]),A=N==null?void 0:N.profile,F=a.profile,U=(0,m.I4)(G=>w(this,null,function*(){!F&&_&&T(_),S(G,A,!0);try{const J=O&&(0,g.cleanSlug)(O,{hashIfEmpty:!0}),Q=yield J?u().get(`/api/v1/user/${G}-${J}/public_profile`).then(te=>te.body):u().get(`/api/v1/user/${G}/public_profile`).then(te=>te.body);S(G,Q,!1)}catch(J){J instanceof Error&&R(J),S(G,A,!1)}}),[A,S,O,F,T,_]);return(0,m.d4)(()=>{!C&&!(N!=null&&N.profile)&&!(N!=null&&N.loading)&&!M&&U(E),!C&&!a.loading&&!a.profile&&!M&&_&&T(_)},[C,E,U,N,M,a,T,_]),{loading:!!(N!=null&&N.loading),viewerProfile:a.profile,subjectProfile:N==null?void 0:N.profile,refetch:U,error:M}}},71720:(z,s,e)=>{"use strict";e.d(s,{G:()=>g,I:()=>y});var o=e(6400),m=e(30396),d;const u=typeof window!="undefined"?(d=window._preloads)==null?void 0:d.pub:null,g=(0,o.createContext)(u);g.displayName="PubContext";function y(){return(0,m.qp)(g)}},32076:(z,s,e)=>{"use strict";e.d(s,{Iz:()=>R,So:()=>N,us:()=>M,vz:()=>S});var o=e(6400),m=e(98661),d=e(30396),u=e(8479),g=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(T,A,F)=>A in T?g(T,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[A]=F,O=(T,A)=>{for(var F in A||(A={}))b.call(A,F)&&E(T,F,A[F]);if(v)for(var F of v(A))D.call(A,F)&&E(T,F,A[F]);return T},C=(T,A)=>y(T,w(A)),_=(T,A,F)=>new Promise((U,G)=>{var J=ee=>{try{te(F.next(ee))}catch(L){G(L)}},Q=ee=>{try{te(F.throw(ee))}catch(L){G(L)}},te=ee=>ee.done?U(ee.value):Promise.resolve(ee.value).then(J,Q);te((F=F.apply(T,A)).next())}),a;const l=typeof window!="undefined"?(a=window._preloads)==null?void 0:a.publicationSettings:{},P=T=>({getSettingFor:F=>{if(!F||!T)return null;const U=T[F];return U===void 0?null:U}}),S=(0,o.createContext)(C(O({},P(l)),{changeSetting:()=>Promise.resolve(void 0)}));S.displayName="PublicationSettingsContext";const M=T=>{const A=(0,m.forwardRef)((F,U)=>{const G=N();return(0,o.h)(T,C(O(O({},G),F),{ref:U}))});return A.displayName=`withPubSettingsContext(${T.displayName||T.name||"Anonymous"})`,A};function R({settings:T={},children:A}){const[F,U]=(0,d.eJ)(T),G=Q=>_(this,null,function*(){U(O(O({},F),Q));try{yield(0,u.rd)("/api/v1/publication_settings",{method:"PUT",json:Q})}catch(te){console.error(te)}}),J=(0,d.Ye)(()=>C(O({},P(F)),{changeSetting:G}),[F]);return(0,o.h)(S.Provider,{value:J},A)}function N(){return(0,d.qp)(S)}},63270:(z,s,e)=>{"use strict";e.d(s,{QA:()=>y,Xz:()=>g,vC:()=>w,xR:()=>v});var o=e(6400),m=e(30396),d;const u=typeof window!="undefined"?(d=window._preloads)==null?void 0:d.siteConfigs:{},g=b=>({allConfigs:b,getConfigFor:E=>{if(!E||!b)return null;const O=b[E];return O===void 0?null:O}}),y=(0,o.createContext)(g(u));y.displayName="SiteConfigsContext";function w({siteConfigs:b={},children:D}){const E=(0,m.Ye)(()=>g(b),[b]);return(0,o.h)(y.Provider,{value:E},D)}function v(){return(0,m.qp)(y)}},18597:(z,s,e)=>{"use strict";e.d(s,{Tf:()=>u,ze:()=>g});var o=e(6400),m=e(30396);const d=(0,o.createContext)({hasThemedBackground:!1});d.displayName="ThemeContext";function u(){var y;return!!((y=(0,m.qp)(d))!=null&&y.hasThemedBackground)}function g({value:y,children:w}){const v=(0,m.Ye)(()=>y,Object.values(y));return(0,o.h)(d.Provider,{value:v},w)}},67963:(z,s,e)=>{"use strict";e.d(s,{SE:()=>T,St:()=>S,aF:()=>R,dr:()=>M});var o=e(6400),m=e(30396),d=e(8479),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(F,U,G)=>U in F?u(F,U,{enumerable:!0,configurable:!0,writable:!0,value:G}):F[U]=G,E=(F,U)=>{for(var G in U||(U={}))v.call(U,G)&&D(F,G,U[G]);if(w)for(var G of w(U))b.call(U,G)&&D(F,G,U[G]);return F},O=(F,U)=>g(F,y(U)),C=(F,U,G)=>new Promise((J,Q)=>{var te=V=>{try{L(G.next(V))}catch(ne){Q(ne)}},ee=V=>{try{L(G.throw(V))}catch(ne){Q(ne)}},L=V=>V.done?J(V.value):Promise.resolve(V.value).then(te,ee);L((G=G.apply(F,U)).next())}),_,a;const l=typeof window!="undefined"?(_=window._preloads)==null?void 0:_.user:null,P=typeof window!="undefined"?(a=window._preloads)==null?void 0:a.userSettings:{},S=(0,o.createContext)({user:l,setUser:()=>{},userSettings:P,changeSetting:()=>{}});S.displayName="UserContext";function M({defaultValue:F,userSettings:U,children:G}){const[J,Q]=(0,m.eJ)(F||l),[te,ee]=(0,m.eJ)(U!=null?U:P),L=(ne,ae)=>C(this,null,function*(){if(!J)return;const fe=te[ne];ee(O(E({},te),{[ne]:ae}));const le=typeof ae=="boolean"?ae:void 0,re=typeof ae=="string"?ae:void 0;try{yield(0,d.rd)("/api/v1/user-setting",{method:"PUT",json:{type:ne,value_bool:le,value_datetime:re}})}catch($){if($ instanceof d.kp)alert($.getMessage()),ee(oe=>O(E({},oe),{[ne]:fe}));else throw $}}),V=(0,m.Ye)(()=>({user:J,setUser:Q,userSettings:te,changeSetting:L}),[J,te]);return(0,o.h)(S.Provider,{value:V},G)}function R(){return(0,m.qp)(S).user}function N(){return useContext(S).userSettings}function T(){return(0,m.qp)(S)}const A=F=>{const U=G=>{const J=useContext(S);return h(F,E({user:J},G))};return U.displayName=`withUserContext(${F.name||F.displayName||"Anonymous"})`,U}},46505:(z,s,e)=>{"use strict";e.d(s,{E:()=>u});var o=e(6400),m=e(32076),d=e(63270);const u=(0,o.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function g({isAmp:y,isFreeSubscribed:w,isFreemail:v,siteConfigValues:b,children:D,isPledged:E,publicationSettings:O}){return h(u.Provider,{value:{isStatic:!0,isAmp:y,isFreeSubscribed:w!==!1,isFreemail:v,siteConfigValues:b,isPledged:E}},h(SiteConfigsProvider,{siteConfigs:b},h(PublicationSettingsProvider,{settings:O},D)))}},18492:(z,s,e)=>{"use strict";e.d(s,{NS:()=>Se,_i:()=>st,zK:()=>Y,i$:()=>K,YF:()=>je,Bj:()=>ke,b9:()=>Be});var o=e(6400),m=e(94184),d=e.n(m),u=e(39693),g=e(16129),y=e(14531),w=e(6378),v=e(15045),b=e(83322),D=e(45809),E=e(89867),O=e(19696),C=e(68262),_=e(30396),a=e(46505),l=e(82626),P=e(65919);const S={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var M=Object.defineProperty,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(pt,Ge,at)=>Ge in pt?M(pt,Ge,{enumerable:!0,configurable:!0,writable:!0,value:at}):pt[Ge]=at,F=(pt,Ge)=>{for(var at in Ge||(Ge={}))N.call(Ge,at)&&A(pt,at,Ge[at]);if(R)for(var at of R(Ge))T.call(Ge,at)&&A(pt,at,Ge[at]);return pt},U=(pt,Ge)=>{var at={};for(var It in pt)N.call(pt,It)&&Ge.indexOf(It)<0&&(at[It]=pt[It]);if(pt!=null&&R)for(var It of R(pt))Ge.indexOf(It)<0&&T.call(pt,It)&&(at[It]=pt[It]);return at};function G({pub:pt,upsell:Ge,unsubscribe_url:at,unsubscribeOverrideText:It,hasApp:zt,hideStartWriting:Xt}){return h(J,{upsell:Ge,hasApp:zt,hideStartWriting:Xt},h(ee,{pub:pt,unsubscribe_url:at,unsubscribeOverrideText:It}))}function J({upsell:pt,children:Ge,hasApp:at,hideStartWriting:It}){const zt=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!at&&pt&&h(Fragment,null,h("div",{className:css.footerSection},pt),h("div",{className:css.divider})),Ge&&h("div",{style:{paddingBottom:24}},Ge),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!pt&&!at&&h(L,null),!It&&h("a",{href:Substitutions.START_WRITING_URL},h(V,{alt:"Start writing",src:zt,pixelRatio:3,width:135,height:40}))))}function Q({primary:pt,secondary:Ge,replaceAppButtonsWithCTA:at}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},pt),h(Text.B4,{color:"secondary",style:{marginBottom:16}},Ge),!at&&h("div",null,h(ne,{utm_source:"substack",utm_campaign:"app-marketing"}),h(ae,{utm_source:"substack",utm_campaign:"app-marketing"})),at&&h("div",null,h(ThemedEmailButtonMod,{href:at.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},at.text)))}function te({children:pt}){return h("div",{className:classnames("footer")},pt)}function ee({pub:pt,unsubscribe_url:Ge,unsubscribeOverrideText:at}){const It=joinLines(pt.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,pt.copyright),It&&It.split(`
`).reduce((zt,Xt)=>(zt.push(h("br",null),Xt),zt),[]),Ge!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:Ge||Substitutions.UNSUBSCRIBE_URL},h("span",null,at||"Unsubscribe")))])}function L(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(V,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function V(pt){var Ge=pt,{src:at,pixelRatio:It,width:zt}=Ge,Xt=U(Ge,["src","pixelRatio","width"]);let Dt;const{isAmp:ln}=useContext(EmailRenderingContext);if(typeof URL=="undefined")Dt=null;else{let qt;try{qt=new URL(at)}catch(Sn){qt=new URL(getSubstackUrl()+at)}const fn=Array(It).fill(0).map((Sn,wn)=>{if(wn===0)return imginary(at,zt);const Pn=new URL(qt),[jn,sr]=Pn.pathname.split("."),_r=wn+1;return Pn.pathname=`${jn}@${_r}x.${sr}`,imginary(Pn.toString(),zt*_r)});ln?at=fn[fn.length-1]:(at=fn[1]||fn[0],Dt=fn.map((Sn,wn)=>wn===0?Sn:`${Sn} ${wn+1}x`).join(", "))}return h(Img,F({src:at,srcset:Dt,width:zt},Xt))}function ne({utm_campaign:pt,utm_source:Ge}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:pt,utm_source:Ge})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function ae({utm_campaign:pt,utm_source:Ge}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:pt,utm_source:Ge})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const fe=({text:pt="Tweet",href:Ge})=>h("a",{className:css.twitter,href:Ge},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},pt));var le=Object.defineProperty,re=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=(pt,Ge,at)=>Ge in pt?le(pt,Ge,{enumerable:!0,configurable:!0,writable:!0,value:at}):pt[Ge]=at,ce=(pt,Ge)=>{for(var at in Ge||(Ge={}))$.call(Ge,at)&&se(pt,at,Ge[at]);if(re)for(var at of re(Ge))oe.call(Ge,at)&&se(pt,at,Ge[at]);return pt},de=(pt,Ge)=>{var at={};for(var It in pt)$.call(pt,It)&&Ge.indexOf(It)<0&&(at[It]=pt[It]);if(pt!=null&&re)for(var It of re(pt))Ge.indexOf(It)<0&&oe.call(pt,It)&&(at[It]=pt[It]);return at};const be="550",pe=pt=>{var Ge=pt,{children:at,className:It}=Ge,zt=de(Ge,["children","className"]);return h("table",ce({role:"presentation",className:It,width:"auto"},zt),at)},we=({children:pt,className:Ge,width:at=be})=>(0,o.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{className:"content",width:at}),(0,o.h)("td",null)),(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{align:"left",className:Ge?`content ${Ge}`:"content",width:at},(0,o.h)("div",null,pt)),(0,o.h)("td",null))),xe=({text:pt})=>(0,o.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},pt," ","\xA0\u200C".repeat(200)),Ue=({children:pt,className:Ge,description:at,title:It="Email from Substack"})=>h("html",null,h("head",null,h("title",null,It),h("meta",{charset:"utf-8"})),h("body",{className:Ge},at&&h(xe,{text:at}),pt)),De=({title:pt,description:Ge,children:at,bodyClassName:It="email-body",className:zt="",emailWidth:Xt=""})=>{const{isAmp:Dt}=(0,_.qp)(a.E);return(0,o.h)("html",ce({},{amp4email:Dt?!0:void 0,"data-css-strict":Dt?!0:void 0}),(0,o.h)("head",null,(0,o.h)("meta",{charset:"utf-8"}),!Dt&&(0,o.h)("title",null,pt),Dt&&(0,o.h)(o.Fragment,null,(0,o.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,o.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,o.h)("body",{className:It},Ge&&(0,o.h)(xe,{text:Ge}),(0,o.h)(we,ce({className:zt},Xt&&{width:Xt}),at)))},_e=({title:pt,description:Ge,children:at,className:It,width:zt})=>h("html",null,h("head",null,h("title",null,pt),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},Ge&&h(xe,{text:Ge}),h(we,{className:It,width:zt},at))),ie=()=>{const pt=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},pt)},ve=({delta:pt,className:Ge,withPercent:at})=>{const It=pt<0?"negative":pt>0?"positive":"neutral";return It==="neutral"?h("span",{className:`${Ge} neutral`},"\u2013"):h("span",{className:`${Ge} ${It}`},It==="positive"?`+${numberToString(pt)}${at?"%":""}`:`${numberToString(pt)}${at?"%":""}`)},he={EmailDocument:De},Le={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var He=Object.defineProperty,ht=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,ft=(pt,Ge,at)=>Ge in pt?He(pt,Ge,{enumerable:!0,configurable:!0,writable:!0,value:at}):pt[Ge]=at,Ye=(pt,Ge)=>{for(var at in Ge||(Ge={}))Fe.call(Ge,at)&&ft(pt,at,Ge[at]);if(Tt)for(var at of Tt(Ge))nt.call(Ge,at)&&ft(pt,at,Ge[at]);return pt},rt=(pt,Ge)=>ht(pt,bt(Ge)),$t=(pt,Ge)=>{var at={};for(var It in pt)Fe.call(pt,It)&&Ge.indexOf(It)<0&&(at[It]=pt[It]);if(pt!=null&&Tt)for(var It of Tt(pt))Ge.indexOf(It)<0&&nt.call(pt,It)&&(at[It]=pt[It]);return at};function sn(pt){return h(gt,rt(Ye({},pt),{unsubscribe_url:"%%unsubscribe_url%%"}))}function gt({pub:pt=wwwPub,description:Ge,noPromo:at,children:It,noLogo:zt,noFooter:Xt,unsubscribe_url:Dt}){const ln=(pt.id===0||!!getLogo(pt))&&!zt;return h(Ie,{description:Ge},h(K,{gap:16},compact([ln&&h(PubIcon,{pub:pt.id===0?rt(Ye({},pt),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):pt,size:40}),It,Xt?null:at?h(We,{pub:pt,unsubscribe_url:Dt}):h(Ne,{pub:pt,unsubscribe_url:Dt}),h(SignatureFoldBreaker,null)])))}function Ne(pt){var Ge=pt,{pub:at,unsubscribe_url:It}=Ge,zt=$t(Ge,["pub","unsubscribe_url"]);return at?h(EmailFooter,Ye({pub:at,unsubscribe_url:It==null?!1:It},zt)):null}function We({pub:pt,unsubscribe_url:Ge}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:pt,unsubscribe_url:Ge==null?!1:Ge}))}function st({children:pt,href:Ge,testId:at,tableClassName:It,tdClassName:zt,aClassName:Xt,alt:Dt,download:ln,target:qt,style:fn}){return(0,o.h)(je,{className:It,style:fn},(0,o.h)("tr",null,(0,o.h)("td",{className:zt,align:"center"},Ge?(0,o.h)("a",{href:Ge,className:Xt,"data-test-id":at,alt:Dt,download:ln,target:qt},pt):(0,o.h)("span",{className:Xt,"data-test-id":at},pt))))}function ke(pt){return(0,o.h)(st,rt(Ye({},pt),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function Be(pt){var Ge=pt,{fullWidth:at,priority:It="primary",aClassName:zt}=Ge,Xt=$t(Ge,["fullWidth","priority","aClassName"]);return(0,o.h)(st,rt(Ye({},Xt),{tableClassName:at?Le.fullWidth:void 0,aClassName:d()(at&&Le.fullWidth,Le.emailButtonA,zt),tdClassName:d()(at&&Le.fullWidth,Le.emailButtonTd,Le[`priority_${It}`])}))}function Se({src:pt,size:Ge,framed:at}){return(0,o.h)("img",{className:d()(y.A.avatar,Le.avatar,at&&Le.framed),src:(0,v.imginary)(pt),style:{width:Ge,height:Ge,minWidth:Ge,minHeight:Ge,objectFit:"cover",margin:0,display:"inline"},width:Ge,height:Ge})}function Ke({src:pt,size:Ge}){return h("img",{className:css.icon,src:imginary(pt),style:{width:Ge,height:Ge,minWidth:Ge,minHeight:Ge,objectFit:"cover",margin:0},width:Ge,height:Ge})}const ut=(0,O.L)("email-text-button","a"),Oe=(0,O.L)("email-text-b4 email-text-secondary","div");function K({children:pt,gap:Ge=0,style:at}){const It=(0,o.toChildArray)(pt),zt=[];for(const Dt of It.slice(0,-1))zt.push((0,o.h)("tr",null,(0,o.h)("td",null,Dt))),Ge>0&&zt.push((0,o.h)("tr",{height:Ge},(0,o.h)("td",null)));const Xt=It[It.length-1];return Xt&&zt.push((0,o.h)("tr",null,(0,o.h)("td",null,Xt))),(0,o.h)(je,{style:at},zt)}function Y({children:pt,gap:Ge=0,style:at,verticalAlign:It="middle"}){const zt=(0,o.toChildArray)(pt),Xt=[];for(const ln of zt.slice(0,-1))Xt.push((0,o.h)("td",{style:{verticalAlign:It}},ln)),Ge>0&&Xt.push((0,o.h)("td",{width:Ge,style:`min-width: ${Ge}px`}));const Dt=zt[zt.length-1];return Dt&&Xt.push((0,o.h)("td",{style:{verticalAlign:It}},Dt)),(0,o.h)(je,{style:at},(0,o.h)("tr",null,Xt))}function me({users:pt,post:Ge,pub:at,user:It}){return h(FormattedArray,{array:pt,limit:3,formatter:zt=>h("a",{href:getReaderProfileUrl(zt)},anonymousName(zt,Ge,at,It))})}function Ie({children:pt,description:Ge}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:Ge},h(je,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},pt),h("td",{style:{color:"transparent"}},"\xA0"))))}function je(pt){var Ge=pt,{children:at}=Ge,It=$t(Ge,["children"]);return(0,o.h)("table",Ye({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},It),at)}function Xe(pt){var Ge=pt,{src:at}=Ge,It=$t(Ge,["src"]);return h(Img,Ye({src:getSubstackUrl()+at},It))}function _t(){return h("div",{className:css.emailSeparator})}},9869:(z,s,e)=>{"use strict";e.d(s,{K:()=>M});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(17685),y=e(51126),w=e(44396),v=e(92630),b=e(25666);function D({text:R,icon:N}){const T=(0,w.XA)(),{layerProps:A,triggerProps:F,transitionProps:U,renderLayer:G,shouldShow:J}=(0,b.l)();return{triggerProps:T||!R?null:F,layer:J&&G((0,o.h)(v._,{transitionProps:U,tooltipProps:A,text:R,icon:N}))}}var E=e(28967),O=Object.defineProperty,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(R,N,T)=>N in R?O(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,P=(R,N)=>{for(var T in N||(N={}))_.call(N,T)&&l(R,T,N[T]);if(C)for(var T of C(N))a.call(N,T)&&l(R,T,N[T]);return R},S=(R,N)=>{var T={};for(var A in R)_.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&C)for(var A of C(R))N.indexOf(A)<0&&a.call(R,A)&&(T[A]=R[A]);return T};const M=(0,m.forwardRef)((R,N)=>{var T=R,{className:A,active:F,disabled:U,permalink:G,tooltip:J}=T,Q=S(T,["className","active","disabled","permalink","tooltip"]);const te=D({text:J});return(0,o.h)(y.hs,P({flex:"grow",justifyContent:G?"center":"start",alignItems:"center"},te.triggerProps),te.layer,(0,o.h)(g.kG,P({className:u()(E.Z.actionButton,A,F&&E.Z.active,U&&E.Z.disabled,G&&E.Z.permalink),resetCss:!0,ref:N,disabled:U},Q)))})},63771:(z,s,e)=>{"use strict";e.d(s,{A4:()=>xe,Bq:()=>be,Kk:()=>Q.K,Tz:()=>_e,_x:()=>pe,ij:()=>Ue,s9:()=>de,uD:()=>we,ve:()=>De});var o=e(6400),m=e(98661),d=e(30396),u=e(94184),g=e.n(u),y=e(31131),w=e(20501),v=e(83322),b=e(31517),D=e(26240),E=e(53206),O=e(67963),C=e(69371),_=e(55687),a=e(3258),l=e(39419),P=e.n(l),S=e(51126),M=e(76235),R=e(65919),N=e(41474),T=e(91870),A=e(50292),F=e(10174),U=e(7778),G=e(16742),J=e(44396),Q=e(9869),te=e(11132),ee=e(28967),L=Object.defineProperty,V=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,re=(he,Le,He)=>Le in he?L(he,Le,{enumerable:!0,configurable:!0,writable:!0,value:He}):he[Le]=He,$=(he,Le)=>{for(var He in Le||(Le={}))fe.call(Le,He)&&re(he,He,Le[He]);if(ae)for(var He of ae(Le))le.call(Le,He)&&re(he,He,Le[He]);return he},oe=(he,Le)=>V(he,ne(Le)),se=(he,Le)=>{var He={};for(var ht in he)fe.call(he,ht)&&Le.indexOf(ht)<0&&(He[ht]=he[ht]);if(he!=null&&ae)for(var ht of ae(he))Le.indexOf(ht)<0&&le.call(he,ht)&&(He[ht]=he[ht]);return He},ce=(he,Le,He)=>new Promise((ht,bt)=>{var Tt=ft=>{try{nt(He.next(ft))}catch(Ye){bt(Ye)}},Fe=ft=>{try{nt(He.throw(ft))}catch(Ye){bt(Ye)}},nt=ft=>ft.done?ht(ft.value):Promise.resolve(ft.value).then(Tt,Fe);nt((He=He.apply(he,Le)).next())});function de({item:he,pub:Le,post:He,onLike:ht,permalink:bt}){var Tt;const Fe=(0,C.rI)(),nt=(0,te.F)(),ft=(0,F.i3)(),Ye=(0,O.aF)(),{requireLogin:rt}=(0,A.SJ)(),$t=ie(He.id,{tabId:nt}),sn=ve(He),gt=!!He.reaction,Ne=!Le.community_enabled,We=!(0,v.commentsEnabledForPost)({publication:Le,post:He}),st=(Tt=He.child_comment_count)!=null?Tt:0,ke=Se=>ce(this,null,function*(){if(Se.preventDefault(),!Ye){rt==null||rt();return}const Ke=!He.reaction;(yield $t(He.id,Ke))&&(ht==null||ht(Ke),he&&(0,N.rw)(he,Fe,"like",{tabId:nt}))}),Be=Se=>{if(Se.preventDefault(),!Ye){rt==null||rt();return}ft.open({parentPubId:He.publication_id,parentPostId:He.id,tabId:nt}),he&&(0,N.rw)(he,Fe,"comment",{tabId:nt})};return(0,o.h)(be,null,(0,o.h)(pe,{className:g()(ee.Z.like,ee.Z.likeButton,sn===0&&ee.Z.shrink),active:gt,disabled:Ne,onClick:ke,permalink:bt},(0,o.h)(we,{isLiked:gt}),!bt&&(0,o.h)(R.xv.Digit,{className:g()(ee.Z.digit,sn===0&&ee.Z.hidden)},(0,_.u)(Math.max(sn,1)))),(0,o.h)(Q.K,{className:g()(ee.Z.reply,st===0&&ee.Z.shrink),disabled:We,onClick:Be,permalink:bt},(0,o.h)(D.Z,{strokeWidth:bt?2:2.5}),!bt&&(0,o.h)(R.xv.Digit,{className:g()(ee.Z.digit,st===0&&ee.Z.hidden)},(0,_.u)(Math.max(st,1)))),(0,o.h)(xe,{disabled:Ne,pub:Le,post:He,permalink:bt}),(0,o.h)(De,{publication:Le,post:He,item:he,twitterText:(0,v.resolveTwitterShareText)({pub:Le,post:He}),permalink:bt}))}function be(he){const Le=(0,J.XA)();return(0,o.h)(S.hs,$({flex:"grow",justifyContent:Le?"space-between":"start",className:ee.Z.actionRow},he))}function pe(he){var Le=he,{className:He,onClick:ht}=Le,bt=se(Le,["className","onClick"]);const[Tt,Fe]=(0,d.eJ)(!1),nt=ft=>{Fe(!0),ht==null||ht(ft)};return(0,o.h)(Q.K,oe($({},bt),{onClick:nt,className:g()(He,bt.permalink&&ee.Z.permalink,Tt&&ee.Z.clickedOnce)}))}function we({isLiked:he}){return(0,o.h)("div",{className:g()(ee.Z.heartWrapper,he&&ee.Z.isLiked)},(0,o.h)("svg",{className:ee.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,o.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,o.h)("div",{className:ee.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((He,ht)=>(0,o.h)("div",{className:ee.Z.spark,style:`--i: ${ht+1};`}))))}function xe({pub:he,post:Le,comment:He,rootComment:ht,onOpen:bt,permalink:Tt,disabled:Fe}){const nt=(0,te.F)(),{canRestack:ft,isRestacked:Ye,restacks:rt,menuItems:$t,nuxModal:sn}=(0,G.K)({pub:he,post:Le,comment:He,tabId:nt});return ft?(0,o.h)(o.Fragment,null,sn,(0,o.h)(M.v2,{trigger:(0,o.h)(Ue,{restacks:rt,"aria-label":"menu",active:Ye,disabled:Fe,permalink:Tt}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>bt==null?void 0:bt(Ye)},$t)):null}const Ue=(0,m.forwardRef)((he,Le)=>{var He=he,{permalink:ht,restacks:bt}=He,Tt=se(He,["permalink","restacks"]);return(0,o.h)(Q.K,$({className:g()(ee.Z.restack,bt===0&&ee.Z.shrink),"aria-label":"restack-menu",permalink:ht,ref:Le},Tt),(0,o.h)(b.Z,{strokeWidth:ht?2:2.5}),!ht&&(0,o.h)(R.xv.Digit,{className:g()(ee.Z.digit,bt===0&&ee.Z.hidden)},(0,_.u)(Math.max(bt,1))))});function De({publication:he,post:Le,comment:He,item:ht,twitterText:bt,permalink:Tt}){const Fe=(0,C.rI)(),nt=(0,te.F)(),ft=He?(0,w.getFeedCommentUrl)(He,{urlParams:{utm_source:"notes-share-action"}}):Le?(0,w.getFeedShortPostUrl)(he,Le,{urlParams:{utm_source:"notes-share-action"}}):null,Ye=(0,U.wg)({url:ft,twitterText:bt,onLinkClicked:$t=>{(0,a.j)(a.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:$t,shared_post_id:Le==null?void 0:Le.id,shared_comment_id:He==null?void 0:He.id})},comment:He}),rt=()=>{ht&&(0,N.rw)(ht,Fe,"share",{tabId:nt})};return(0,o.h)(M.v2,{trigger:(0,o.h)(_e,{permalink:Tt}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:rt},Ye)}const _e=(0,m.forwardRef)(({onClick:he,permalink:Le},He)=>(0,o.h)(Q.K,{"aria-label":"share",onClick:he,permalink:Le,className:ee.Z.share,ref:He},(0,o.h)(y.Z,{strokeWidth:Le?2:2.5})));function ie(he,{tabId:Le}={}){const He=(0,T.I0)(),ht=(0,E.sV)();return(bt,Tt)=>ce(this,null,function*(){He({type:"post_like",payload:{postId:bt,isLiked:Tt}});try{return yield ht(bt,Tt,{tabId:Le}),!0}catch(Fe){return He({type:"post_like",payload:{postId:bt,isLiked:!Tt}}),alert((0,l.getNetworkErrorMessage)(Fe)),!1}})}function ve(he){var Le;return(Le=he.reactions["\u2764"])!=null?Le:0}},65024:(z,s,e)=>{"use strict";e.d(s,{y:()=>se,k:()=>De});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(27484),y=e.n(g),w=e(65445),v=(_e=>(_e.Removed="removed",_e.Unavailable="unavailable",_e.BlockedYou="blocked-you",_e.YouBlocked="you-blocked",_e.YouMuted="you-muted",_e))(v||{});function b(_e){return _e.type==="missing"}var D=e(20501),E=e(85344),O=e(31471),C=e(17685),_=e(51126),a=e(65919),l=e(10186),P=e(41474),S=e(73413),M=e(44396),R=e(52543),N=e(66337),T=e(2564),A=e(6385),F=e(80332),U=e(16527),G=e(70762),J=e(96283),Q=e(28967);const te="notes_quote_attachment";function ee({attachment:_e,readOnly:ie,onClick:ve}){const he=(0,M.XA)(),{postSelection:Le,post:He,publication:ht,author:bt}=_e,Tt=bt!=null?bt:(0,A.getPostAuthor)(ht,He),Fe=(0,G._)({publication:ht,subscriptionSource:te,publicationName:ht.name}),nt=(0,o.h)(l.qE,{size:36,user:Tt});return(0,o.h)(_.tu,{className:Q.Z.quote,as:ie?"div":"a",border:"detail",radius:12,onClick:ft=>{ve&&ve(),!he&&S.L&&!ie&&(0,U.Q)(ft,(0,D.getPostUrl)(ht,He,{noBase:!he,feedViewer:!he,urlParams:{selection:Le.id}}))},href:ie?void 0:(0,D.getPostUrl)(ht,He,{feedViewer:!1,urlParams:{selection:Le.id}})},(0,o.h)(_.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,o.h)(a.xv,{font:"serif",className:u()(Q.Z.quoteText,he&&Q.Z.mobile)},"\u201C",L(Le.text),"\u201D")),(0,o.h)(_.hs,{className:Q.Z.quoteBottom,alignItems:"center",paddingX:he?12:16,paddingY:he?8:12,gap:12},(0,o.h)(_.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},ie?nt:(0,o.h)(F.Ct,{subject:Tt,dontStopPropagation:!0,utmSource:"feed"},nt),(0,o.h)(_.tu,{minWidth:0,flex:"grow"},(0,o.h)(a.xv.B4,{weight:"medium",ellipsis:!0},ie?Tt.name:(0,o.h)(J.Zg,{user:Tt,ellipsis:!0,utm_source:te})),(0,o.h)(_.hs,{gap:6,minWidth:0},(0,o.h)(a.xv.B4,{color:"secondary",ellipsis:!0},He.title),Fe.showCta&&(0,o.h)(o.Fragment,null,(0,o.h)(a.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,o.h)(a.xv.B4,{color:Fe.isSubscribed?"secondary":"substack"},(0,o.h)(J.hh,{href:"javascript:void",onClick:ie?void 0:Fe.isSubscribed?Fe.unsubscribe:Fe.subscribe},Fe.isSubscribed?"Subscribed":"Subscribe")))))),(0,o.h)(T.Z,{size:24,color:"var(--color-secondary)"})))}function L(_e){return _e.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var V=e(11132),ne=e(4070),ae=Object.defineProperty,fe=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,$=(_e,ie,ve)=>ie in _e?ae(_e,ie,{enumerable:!0,configurable:!0,writable:!0,value:ve}):_e[ie]=ve,oe=(_e,ie)=>{for(var ve in ie||(ie={}))le.call(ie,ve)&&$(_e,ve,ie[ve]);if(fe)for(var ve of fe(ie))re.call(ie,ve)&&$(_e,ve,ie[ve]);return _e};function se({attachments:_e,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le}){if(_e.length===0)return null;const He=_e.filter(bt=>bt.type==="image"),ht=_e.filter(bt=>bt.type!=="image");return(0,o.h)(o.Fragment,null,He.length>0&&(0,o.h)(E.q,{readOnly:ie,isRestack:ve,assets:He.map(bt=>bt.imageUrl)}),ht.map(bt=>(0,o.h)(ce,{attachment:bt,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le})))}function ce({attachment:_e,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le}){var He;return b(_e)?(0,o.h)(be,{attachment:_e,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le}):_e.type==="image"?(0,o.h)(E.q,{readOnly:ie,isRestack:ve,assets:[_e.imageUrl],onClick:he}):_e.type==="link"?(0,o.h)(xe,oe({readOnly:ie,onClick:he},_e.linkMetadata)):_e.type==="comment"?(0,o.h)(pe,{readOnly:ie,publication:(He=_e.publication)!=null?He:void 0,post:_e.post,comment:_e.comment,onAttachmentClick:he,utm_content:Le}):_e.type==="post"?_e.postSelection?(0,o.h)(ee,{readOnly:ie,attachment:_e,onClick:he}):(0,o.h)(N.I,{readOnly:ie,publication:_e.publication,post:_e.post,onClick:he}):_e.type==="publication"?(0,o.h)(we,{readOnly:ie,publication:_e.publication,onClick:he}):(0,o.h)(de,{attachment:_e})}function de({attachment:_e}){return(0,o.h)(_.hs,null)}function be({attachment:_e,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le}){const He=(0,V.F)(),ht=[v.YouBlocked,v.YouMuted].includes(_e.reason)&&!!_e.hidden_attachment,[bt,Tt]=(0,m.eJ)(!1);return bt&&_e.hidden_attachment?(0,o.h)(ce,{attachment:_e.hidden_attachment,readOnly:ie,isRestack:ve,onAttachmentClick:he,utm_content:Le}):(0,o.h)(_.hs,{bg:"elevated",border:"detail",justifyContent:ht?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,o.h)(a.xv.B4,{color:"secondary",align:"center"},_e.reason===v.YouBlocked?"This note is from someone you blocked.":_e.reason===v.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),ht&&(0,o.h)(C.kG,{resetCss:!0,onClick:()=>{(0,P.Kr)(_e.id,_e.reason),Tt(!0)}},(0,o.h)(a.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function pe({comment:_e,publication:ie,readOnly:ve,onAttachmentClick:he,utm_content:Le}){var He,ht,bt;const{truncatedBodyJson:Tt}=(0,ne.Z)(_e,{limit:280,triggerLimit:280});return(0,o.h)(_.tu,{className:Q.Z.post,as:ve?"div":"a",bg:"elevated",border:"detail",radius:12,href:ve?void 0:(0,D.getFeedCommentUrl)(_e),onClick:()=>he==null?void 0:he({commentId:_e.id}),padding:12,gap:8},(0,o.h)(_.hs,{gap:8,alignItems:"center"},(0,o.h)("a",{href:(0,D.getReaderProfileUrl)(_e.user,{noBase:S.L,utm_content:"substack-feed-item",utm_source:Le!=null?Le:void 0})},(0,o.h)(l.qE,{size:20,user:_e.user})),(0,o.h)(_.hs,{alignItems:"center",gap:8},(0,o.h)(a.xv.B4,{weight:"medium"},ve?_e.user.name:(0,o.h)(J.xG,{user:_e.user,utm_source:"substack-feed-item",utm_content:Le},_e.user.name)),(0,o.h)(Ue,{comment:_e}))),_e.body&&(0,o.h)(a.xv.B4,{className:Q.Z.feedCommentBodyInner},_e.hidden?ie&&(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",ie.name):Tt&&(0,o.h)(R.x,{content:Tt})),((ht=(He=_e.attachments)==null?void 0:He.length)!=null?ht:0)>0&&(0,o.h)(se,{isRestack:!0,attachments:(bt=_e.attachments)!=null?bt:[],onAttachmentClick:he,utm_content:Le}))}function we({publication:_e,readOnly:ie,onClick:ve}){var he;return(0,o.h)(xe,{image:(he=_e.logo_url)!=null?he:void 0,title:_e.name,description:_e.hero_text,url:_e.base_url,onClick:ve,host:_e.base_url.replace(/^https?:\/\//,""),readOnly:ie})}function xe({image:_e,title:ie,description:ve,url:he,host:Le,readOnly:He,onClick:ht}){const bt=(0,M.XA)();return(0,o.h)(_.hs,{className:Q.Z.post,padding:12,gap:12,as:He?"div":"a",bg:"elevated",border:"detail",radius:12,href:He?void 0:he,onClick:ht,rel:"nofollow noopener ugc",target:"_blank"},(0,o.h)(_.tu,{gap:2,flex:"grow",minWidth:0},(0,o.h)(a.xv.Meta,{color:"secondary",ellipsis:!0},Le),bt?(0,o.h)(a.xv.B4,{clamp:1},ie):(0,o.h)(a.xv.B3,{clamp:2,weight:"medium"},ie),ve&&(0,o.h)(a.xv.B4,{as:"p",color:"secondary",clamp:bt?1:2},ve)),_e&&(0,o.h)(O.e,{className:u()(Q.Z.linkImage,bt&&Q.Z.mobile),src:_e,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!_e&&(0,o.h)(_.hs,{alignItems:"center",justifyContent:"center",radius:8,className:u()(Q.Z.linkImage,Q.Z.linkImagePlaceholder,bt&&Q.Z.mobile)},(0,o.h)(w.Z,null)))}function Ue({post:_e,comment:ie}){return(0,o.h)(a.xv.B4,{color:"secondary"},y()((ie==null?void 0:ie.date)||(_e==null?void 0:_e.post_date)).fromNowShort())}function De(_e){var ie;switch(_e.type){case"post":return _e.postSelection?(0,D.getPostUrl)(_e.publication,_e.post,{urlParams:{selection:_e.postSelection.id}}):_e.post.canonical_url;case"comment":return(0,D.getFeedCommentUrl)(_e.comment);case"publication":return _e.publication.base_url;case"link":return(ie=_e.linkMetadata.url)!=null?ie:null;default:return null}}},52543:(z,s,e)=>{"use strict";e.d(s,{x:()=>D});var o=e(6400),m=e(2731),d=e(36487),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(O,C,_)=>C in O?u(O,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[C]=_,b=(O,C)=>{for(var _ in C||(C={}))y.call(C,_)&&v(O,_,C[_]);if(g)for(var _ of g(C))w.call(C,_)&&v(O,_,C[_]);return O};function D({content:O}){return(0,o.h)(E,{content:O})}function E({content:O}){var C,_,a,l,P;if(O.type==="text"){const M=(a=(_=(C=O.marks)==null?void 0:C.find(T=>T.type==="link"))==null?void 0:_.attrs)==null?void 0:a.href,R=M?(0,d.u)(M):O.text;let N=(0,o.h)(o.Fragment,null,R);if(O.marks)for(const T of O.marks)T.type==="link"?N=(0,o.h)("a",b({className:"note-link"},T.attrs),N):T.type==="bold"?N=(0,o.h)("strong",null,N):T.type==="italic"?N=(0,o.h)("em",null,N):T.type==="strike"?N=(0,o.h)("s",null,N):T.type==="code"&&(N=(0,o.h)("code",null,N));return N}const S=(l=O.content)==null?void 0:l.filter(M=>!!M).map(M=>(0,o.h)(E,{content:M}));if(O.type==="substack_mention"){const{id:M,label:R}=(P=O.attrs)!=null?P:{};return M&&R?(0,o.h)("span",{className:"node-substack_mention"},(0,o.h)("a",{className:"substack-mention",href:(0,m.GR)(M,R)},"@",R)):null}return O.type==="doc"?(0,o.h)("div",{className:"ProseMirror FeedProseMirror"},S):O.type==="paragraph"?(0,o.h)("p",null,S):O.type==="blockquote"?(0,o.h)("blockquote",null,S):O.type==="codeBlock"?(0,o.h)("pre",null,(0,o.h)("code",null,S)):O.type==="orderedList"?(0,o.h)("ol",null,S):O.type==="bulletList"?(0,o.h)("ul",null,S):O.type==="listItem"?(0,o.h)("li",null,S):null}},51731:(z,s,e)=>{"use strict";e.d(s,{WS:()=>_e,bN:()=>Le});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(6385),y=e(81470),w=e(70444),v=e(20501),b=e(83322),D=e(26240),E=e(29820),O=e(80332),C=e(58718),_=e(63270),a=e(67963),l=e(65024),P=e(69371),S=e(55687),M=e(73115),R=e(96283),N=e(50670),T=e(4070),A=e(8479),F=e(39419),U=e.n(F),G=e(51126),J=e(65919),Q=e(41474),te=e(91870),ee=e(73413),L=e(50292),V=e(10174),ne=e(44695),ae=e(70762),fe=e(63771),le=e(52543),re=e(29800),$=e(75309),oe=e(8796),se=e(11132),ce=e(28967),de=Object.defineProperty,be=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,xe=(Fe,nt,ft)=>nt in Fe?de(Fe,nt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Fe[nt]=ft,Ue=(Fe,nt)=>{for(var ft in nt||(nt={}))pe.call(nt,ft)&&xe(Fe,ft,nt[ft]);if(be)for(var ft of be(nt))we.call(nt,ft)&&xe(Fe,ft,nt[ft]);return Fe},De=(Fe,nt,ft)=>new Promise((Ye,rt)=>{var $t=Ne=>{try{gt(ft.next(Ne))}catch(We){rt(We)}},sn=Ne=>{try{gt(ft.throw(Ne))}catch(We){rt(We)}},gt=Ne=>Ne.done?Ye(Ne.value):Promise.resolve(Ne.value).then($t,sn);gt((ft=ft.apply(Fe,nt)).next())});function _e({comment:Fe,item:nt,isParent:ft,showReplyingTo:Ye,showContext:rt,utm_content:$t,parentCommentUserId:sn}){var gt,Ne,We,st,ke,Be,Se;const Ke=(0,a.aF)(),{getConfigFor:ut}=(0,_.xR)(),Oe=!!ut("hidden_replies_ui_enabled"),K=(0,P.rI)(),Y=(0,se.F)(),me=()=>(0,Q.rw)(nt,K,"profile",{tabId:Y}),Ie=!Fe.ancestor_path,je=nt.publication&&nt.post&&(0,g.getPostAuthor)(nt.publication,nt.post);let Xe=null;if(!Ie){const Ge=(gt=Fe.ancestor_path)==null?void 0:gt.split(".").pop(),at=Ge&&Number(Ge);Xe=(We=(Ne=nt.parentComments)==null?void 0:Ne.find(It=>(It==null?void 0:It.id)===at))!=null?We:null}const _t=Ge=>{if(!Ge.defaultPrevented){(0,Q.rw)(nt,K,"item",{tabId:Y});const at=(0,v.getFeedCommentUrl)(Fe,{noBase:!Fe.hidden&&ee.L});(0,F.redirect)(Fe.hidden&&nt.publication?(0,v.getSubscribeUrl)(nt.publication,{addBase:!0,params:{next:at}}):at,{event:Ge,newTab:!!Fe.hidden,local_navigation:!Fe.hidden})}},pt=(0,g.getCommentAuthor)(Fe);return(0,o.h)(N.oM,{showGutter:ft,hasContext:rt,onClick:_t},(0,o.h)(oe.n,{userId:pt==null?void 0:pt.id,comment:Fe},(rt||!ft&&["comment_like","comment_top","comment_restack"].includes(nt.context.type))&&(0,o.h)(re.L,{context:nt.context,onClick:()=>(0,Q.rw)(nt,K,"context",{tabId:Y}),utm_content:$t}),(0,o.h)(G.hs,{gap:12},(0,o.h)(N.Fb,{user:pt,onClick:me,utm_content:$t,desaturate:Oe&&((st=nt.comment)==null?void 0:st.hide_reply)}),(0,o.h)(G.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(G.tu,{gap:12},(0,o.h)(G.tu,null,(0,o.h)(G.tu,null,(0,o.h)($.Ev,{user:pt,post:(ke=nt.post)!=null?ke:void 0,comment:Fe,onClick:me,utm_content:$t,publication:(Be=nt.publication)!=null?Be:void 0,item:nt,parentCommentUserId:sn}),Ye&&(Ie&&je||!Ie&&Xe)?(0,o.h)(J.xv.Detail,null,"Replying to"," ",(0,o.h)(O.Ct,{subject:Ie?je:Xe?{id:Xe.user_id,user_id:Xe.user_id,name:Xe.name,photo_url:Xe.photo_url}:je,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(R.hh,{href:Ie?(0,v.getFeedShortPostUrl)(nt.publication,nt.post,{noBase:ee.L}):(0,v.getFeedCommentUrl)(Xe,{noBase:ee.L})},(Se=Ie?je:Xe)==null?void 0:Se.name))):Ke&&Ke.id!==Fe.user_id&&(0,o.h)(ie,{comment:Fe})),Fe.body&&(0,o.h)(Le,{comment:Fe,publication:nt.publication})),Fe.attachments&&(0,o.h)(l.y,{attachments:Fe.attachments,onAttachmentClick:({commentId:Ge}={})=>{(0,Q.rw)(nt,y.Uo.PostEmbed,"attachment",{extraEventProps:{tabId:Y,commentId:Ge}})},utm_content:$t})),!Fe.hidden&&(0,o.h)(bt,{item:nt,comment:Fe})))))}function ie({comment:Fe}){var nt;const ft=(0,g.getCommentAuthor)(Fe),Ye=(0,ae._)({user:ft,publicationName:(nt=ft.primary_publication)==null?void 0:nt.name,allowPresubscribe:!0,subscriptionSource:"substack-feed-item",sourceNoteId:(0,w.It)(Fe.id)});return Ye.showCta?(0,o.h)(G.hs,{gap:4},ft.primary_publication&&(0,o.h)(o.Fragment,null,(0,o.h)(J.xv.Detail,{ellipsis:!0},(0,o.h)(he,{publication:ft.primary_publication})),(0,o.h)(J.xv.Detail,{color:"secondary"},"\u2219")),(0,o.h)(J.xv.Detail,{color:Ye.isSubscribed?"secondary":"substack"},(0,o.h)(R.hh,{onClick:Ye.isSubscribed?Ye.unsubscribe:Ye.subscribe},Ye.isSubscribed?"Subscribed":"Subscribe"))):null}function ve({comment:Fe}){const{isFollowing:nt,toggle:ft}=useFeedFollowState(getCommentAuthor(Fe));return h(Text.Detail,{color:nt?"secondary":"substack"},h(TextLink,{onClick:ft},nt?"Following":"Follow"))}function he({publication:Fe}){return(0,o.h)(o.Fragment,null,(0,o.h)(ne.Sm,{publication_id:Fe.id,utmSource:"feed",inline:!0},(0,o.h)(R.hh,{href:(0,v.getBaseUrl)(Fe),target:"_blank"},Fe.name)))}function Le({comment:Fe,publication:nt,large:ft}){const{bodyJson:Ye,truncatedBodyJson:rt,isTruncated:$t}=(0,T.Z)(Fe),[sn,gt]=(0,m.eJ)(ft||!$t),Ne=st=>{st.preventDefault(),gt(!0)},We=sn?Ye:rt;return(0,o.h)(G.tu,{className:ce.Z.feedCommentBody},(0,o.h)(N.sP,{large:ft},Fe.hidden?(0,o.h)(He,{pub:nt}):We&&(0,o.h)(le.x,{key:sn,content:We})),!sn&&(0,o.h)(ht,{onClick:Ne,size:ft?20:16,lineHeight:ft?32:24}))}function He({pub:Fe}){return(0,o.h)(o.Fragment,null,(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",Fe==null?void 0:Fe.name),(0,o.h)("br",null),(0,o.h)("b",null,"Subscribe to view \u2192"))}function ht(Fe){return(0,o.h)(G.hs,{className:ce.Z.seeMore},(0,o.h)(G.hs,{className:ce.Z.seeMoreFade}),(0,o.h)(J.xv.B3,{color:"accent-blue",className:ce.Z.seeMoreText},(0,o.h)(R.hh,Ue({},Fe),"See more...")))}function bt({item:Fe,comment:nt,permalink:ft}){var Ye,rt;const $t=(0,P.rI)(),sn=(0,se.F)(),gt=(0,te.I0)(),Ne=(0,V.i3)(),We=(0,a.aF)(),{requireLogin:st}=(0,L.SJ)(),{getConfigFor:ke}=(0,_.xR)(),Be=ke("enable_note_share_modal"),{publication:Se,post:Ke}=Fe,ut=!!(Ke&&Se&&!(0,b.commentsEnabledForPost)({publication:Se,post:Ke})),Oe=!!(Ke&&Se&&!(0,b.restacksEnabledForPost)({publication:Se,post:Ke})),K=nt.reaction_count||0,Y=(0,A.ib)({pathname:`/api/v1/comment/${nt.id}/reaction`,method:"POST"}),me=!!nt.reaction,Ie=()=>{st==null||st()},je=(Ye=Fe.parentComments[0])!=null?Ye:nt,Xe=(0,V.oC)(Fe),_t=Ge=>{var at,It;if(Ge.preventDefault(),!We){Ie();return}Ne.open({feedItem:Fe,parentPubId:(at=nt.publication_id)!=null?at:void 0,parentPostId:(It=nt.post_id)!=null?It:void 0,parentCommentId:nt.id,tabId:sn}),(0,Q.rw)(Fe,$t,"comment",{tabId:sn,extraEventProps:{reply_requirement:Xe,reply_locked:!!Xe}})},pt=Ge=>De(this,null,function*(){if(Ge.preventDefault(),!We){Ie();return}const at=!me;gt({type:"comment_like",payload:{commentId:nt.id,isLiked:at}});try{yield Y.refetch({method:at?"POST":"DELETE",json:{publication_id:(Se==null?void 0:Se.id)||null,reaction:"\u2764",tabId:sn}})}catch(It){gt({type:"comment_like",payload:{commentId:nt.id,isLiked:!at}}),alert((0,F.getNetworkErrorMessage)(It));return}(0,Q.rw)(Fe,$t,"like",{tabId:sn})});return(0,o.h)(fe.Bq,null,(0,o.h)(fe._x,{className:u()(ce.Z.like,ce.Z.likeButton,K===0&&ce.Z.shrink),active:me,disabled:!1,onClick:pt,permalink:ft},(0,o.h)(fe.uD,{isLiked:me}),!ft&&(0,o.h)(J.xv.Digit,{className:u()(ce.Z.digit,K===0&&ce.Z.hidden)},(0,S.u)(Math.max(K,1)))),(0,o.h)(fe.Kk,{className:u()(ce.Z.reply,!nt.children_count&&ce.Z.shrink),disabled:ut,onClick:_t,permalink:ft,tooltip:Xe==="paid_subscriber"?"Only paid subscribers can reply.":Xe==="free_subscriber"?"Only subscribers can reply.":void 0},Xe?(0,o.h)(E.Z,{strokeWidth:ft?2:2.5}):(0,o.h)(D.Z,{strokeWidth:ft?2:2.5}),!ft&&(0,o.h)(J.xv.Digit,{className:u()(ce.Z.digit,!nt.children_count&&ce.Z.hidden)},(0,S.u)(Math.max(nt.children_count||0,1)))),We?(0,o.h)(fe.A4,{pub:Se!=null?Se:void 0,post:Ke!=null?Ke:void 0,comment:nt,rootComment:je,disabled:Oe,permalink:ft,onOpen:Ge=>(0,Q.rw)(Fe,$t,"restack",{tabId:sn,extraEventProps:{isRestacked:Ge}})}):(0,o.h)(fe.ij,{permalink:ft,restacks:(rt=nt.restacks)!=null?rt:0,disabled:Oe,onClick:Ie}),Be?(0,o.h)(Tt,{comment:nt,permalink:ft}):(0,o.h)(fe.ve,{publication:Se!=null?Se:void 0,post:Ke!=null?Ke:void 0,comment:nt,item:Fe,permalink:ft}))}function Tt({comment:Fe,permalink:nt}){const[ft,Ye]=(0,m.eJ)(!1);return(0,o.h)(o.Fragment,null,(0,o.h)(fe.Tz,{onClick:()=>Ye(!0),permalink:nt}),(0,o.h)(M.xW,{isOpen:ft,comment:Fe,onClose:()=>Ye(!1)}))}},60779:(z,s,e)=>{"use strict";e.d(s,{w:()=>m});var o=e(6400);function m({size:d=24,stroke:u="var(--color-light-secondary)"}){return(0,o.h)("svg",{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:u,xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M18.4824 5.92426L6.89132 2.81843C5.82439 2.53255 4.72772 3.16571 4.44183 4.23264L1.33606 15.8236C1.05017 16.8905 1.68332 17.9872 2.75024 18.2731L5.69847 19.0631M14 10.4443V13.9999M14 13.9999V17.5555M14 13.9999H10.4445M14 13.9999H17.5556M6 8.00001V19.9998C6 21.1044 6.89541 21.9998 7.99997 21.9998L20 22C21.1046 22 22 21.1046 22 20V8.00001C22 6.89544 21.1046 6.00001 20 6.00001H8C6.89543 6.00001 6 6.89544 6 8.00001Z","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"}))}},20447:(z,s,e)=>{"use strict";e.d(s,{Bm:()=>ie,O3:()=>he});var o=e(6400),m=e(98661),d=e(30396),u=e(94184),g=e.n(u),y=e(9528),w=e(56743),v=e(2564),b=e(4190),D=e(6385),E=e(81470),O=e(70444),C=e(20501),_=e(63270),a=e(67963),l=e(51731),P=e(69371),S=e(29800),M=e(75309),R=e(8796),N=e(66337),T=e(11132),A=e(96283),F=e(50670),U=e(66141),G=e(16527),J=e(6742),Q=e(39419),te=e.n(Q),ee=e(17685),L=e(51126),V=e(65919),ne=e(5131),ae=e(41474),fe=e(55337),le=e(73413),re=e(33510),$=e(44396),oe=e(63771),se=e(28967),ce=Object.defineProperty,de=Object.defineProperties,be=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Ue=(rt,$t,sn)=>$t in rt?ce(rt,$t,{enumerable:!0,configurable:!0,writable:!0,value:sn}):rt[$t]=sn,De=(rt,$t)=>{for(var sn in $t||($t={}))we.call($t,sn)&&Ue(rt,sn,$t[sn]);if(pe)for(var sn of pe($t))xe.call($t,sn)&&Ue(rt,sn,$t[sn]);return rt},_e=(rt,$t)=>de(rt,be($t));function ie({item:rt}){const $t=Le[rt.type];return $t?(0,o.h)($t,{item:rt}):null}function ve({item:rt,children:$t}){const sn=(0,d.sO)(null),gt=(0,P.rI)(),Ne=(0,d.qp)(T.q);return(0,J.UM)(sn,()=>(0,ae.zi)(rt,gt,{tabId:Ne}),{threshold:.2}),(0,o.h)(he,{ref:sn},$t)}const he=(0,m.forwardRef)((rt,$t)=>(0,o.h)(L.tu,_e(De({},rt),{className:se.Z.feedItem,gap:4,ref:$t}))),Le={post:He,comment:bt,userSuggestions:Fe,twitterConnect:nt,facebookConnect:ft,inviteFriends:Ye};function He({item:rt}){const $t=(0,P.rI)(),sn=(0,d.qp)(T.q);return(0,o.h)(ve,{item:rt},(0,o.h)(ht,{item:rt,context:(0,o.h)(S.L,{context:rt.context,onClick:()=>(0,ae.rw)(rt,$t,"context",{tabId:sn}),utm_content:rt.entity_key})}))}function ht({item:rt,showGutter:$t,context:sn}){const{publication:gt,post:Ne}=rt,We=gt&&Ne?(0,D.getPostAuthor)(gt,Ne):void 0,st=(0,P.rI)(),ke=(0,d.qp)(T.q),Be=()=>(0,ae.rw)(rt,st,"profile",{tabId:ke});return!gt||!Ne||!We?null:(0,o.h)(F.oM,{onClick:Se=>{(0,ae.rw)(rt,st,"item",{tabId:ke}),(0,Q.redirect)((0,C.getFeedShortPostUrl)(gt,Ne,{noBase:le.L}),{event:Se})},showGutter:$t,hasContext:!!sn},(0,o.h)(R.n,{userId:We==null?void 0:We.id},sn,(0,o.h)(L.hs,{gap:12},(0,o.h)(F.Fb,{user:We,onClick:Be,utm_content:rt.entity_key}),(0,o.h)(L.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(L.tu,{gap:8},(0,o.h)(M.Ev,{user:We,post:Ne,onClick:Be,utm_content:rt.entity_key,publication:gt,item:rt}),(0,o.h)(N.I,{publication:gt,post:Ne})),(0,o.h)(oe.s9,{item:rt,pub:gt,post:Ne})))))}function bt({item:rt}){var $t,sn,gt,Ne;const{publication:We,post:st,comment:ke,parentComments:Be}=rt,Se=We||st||!Be||Be.length===1?void 0:Be[0],Ke=($t=Be&&Be[Be.length-1])!=null?$t:null,ut=We&&st&&(0,D.getPostAuthor)(We,st),Oe=rt.context.type!=="comment_restack",K=rt.context.type==="note_reply"&&Oe&&ke.user_id!==((gt=ut==null?void 0:ut.id)!=null?gt:(sn=Be==null?void 0:Be[0])==null?void 0:sn.user_id),Y=(0,P.rI)(),me=(0,d.qp)(T.q),Ie=rt.context.type==="comment_restack"?`user/${(Ne=rt.context.users[0])==null?void 0:Ne.id}`:rt.entity_key;return(0,o.h)(ve,{item:rt},(0,o.h)(L.tu,{gap:8},Oe&&(0,o.h)(o.Fragment,null,ut?(0,o.h)(o.Fragment,null,(0,o.h)(ht,{item:rt,showGutter:!0,context:K?(0,o.h)(S.L,{context:rt.context,onClick:()=>(0,ae.rw)(rt,Y,"context",{tabId:me}),utm_content:Ie}):void 0}),(Be==null?void 0:Be.length)>1&&Ke&&(0,o.h)(Tt,{url:(0,C.getFeedCommentUrl)(Ke,{noBase:le.L}),showGutter:!0})):Se?(0,o.h)(o.Fragment,null,(0,o.h)(l.WS,{isParent:!0,comment:Se,item:rt,showContext:K,utm_content:Ie}),(Be==null?void 0:Be.length)>2&&Ke&&(0,o.h)(Tt,{url:(0,C.getFeedCommentUrl)(Ke,{noBase:le.L}),showGutter:!0})):null,Ke&&(0,o.h)(l.WS,{showReplyingTo:(Be==null?void 0:Be.length)>2,isParent:!0,comment:Ke,item:rt,showContext:K&&!(ut||Se),utm_content:Ie})),(0,o.h)(l.WS,{comment:ke,item:rt,showReplyingTo:!Oe,utm_content:Ie})))}function Tt({url:rt,showGutter:$t}){return(0,o.h)(F.oM,{onClick:sn=>(0,Q.redirect)(rt,{event:sn}),showGutter:$t,hasAvatar:!1},(0,o.h)(L.gq,null,(0,o.h)(L.tu,{alignItems:"center",justifyContent:"center",className:se.Z.seeMoreThread},(0,o.h)(L.tu,{className:g()(se.Z.seeMoreThreadSegment,se.Z.top)}),(0,o.h)(y.Z,{size:16,stroke:"var(--color-detail)"}),(0,o.h)(L.tu,{className:se.Z.seeMoreThreadSegment,flex:"grow"})),(0,o.h)(L.tu,{className:se.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,o.h)(V.xv.B4,{color:"accent-blue"},(0,o.h)(A.hh,{href:rt},"See more replies")))))}function Fe({item:rt}){const $t=(0,$.XA)(),sn=(0,d.sO)(null),{state:gt,handleArrowClick:Ne}=(0,re.eK)(sn),We=(0,a.SE)(),{exposeExperiment:st}=(0,b.jc)();(0,J.UM)(sn,()=>{st("pymk_in_feed_timing_1"),We.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const Be=!!(0,_.xR)().getConfigFor("facebook_connect")&&We.user&&!We.user.has_linked_facebook;return(0,o.h)(ve,{item:rt},(0,o.h)(L.tu,{paddingY:16,gap:4},(0,o.h)(L.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:20,desktop:0}},(0,o.h)(V.xv.H4,null,"Suggestions"),(0,o.h)(ee.zx,{priority:"secondary",fill:"empty",onClick:Se=>(0,G.Q)(Se,(0,O.kM)())},"See all")),(0,o.h)(L.hs,{className:se.Z.peopleYouMayKnowContainer,alignItems:"center"},!$t&&gt.showLeft&&(0,o.h)("div",{className:g()("reader2-carousel-fade left",se.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(ne.zx,{look:"reset",className:"reader2-carousel-arrow left",onClick:Ne(-1)},(0,o.h)(w.Z,null))),(0,o.h)(L.hs,{ref:sn,className:se.Z.peopleYouMayKnow,alignItems:"center",gap:8},Be&&(0,o.h)(fe.dg,null),rt.userSuggestions.map(Se=>(0,o.h)(fe.E$,{feedUserSuggestion:Se,surface:E.Uo.Feed}))),!$t&&gt.showRight&&(0,o.h)("div",{className:g()("reader2-carousel-fade right",se.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(ne.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:Ne(1)},(0,o.h)(v.Z,null))))))}function nt({item:rt}){const{getConfigFor:$t}=(0,_.xR)();return $t("twitter_connect_flows_enabled")?(0,o.h)(ve,{item:rt},(0,o.h)(L.hs,{paddingY:20},(0,o.h)(fe.rS,null))):null}function ft({item:rt}){const{getConfigFor:$t}=(0,_.xR)();return $t("facebook_connect")?(0,o.h)(ve,{item:rt},(0,o.h)(L.hs,{paddingY:20},(0,o.h)(fe.KL,null))):null}function Ye({item:rt}){const[$t]=(0,U.Z)(fe.au);return $t?null:(0,o.h)(ve,{item:rt},(0,o.h)(L.hs,{paddingY:20,paddingX:20},(0,o.h)(fe.Zx,{utmSource:"feed_item"})))}},29800:(z,s,e)=>{"use strict";e.d(s,{L:()=>P});var o=e(6400),m=e(30396),d=e(83322),u=e(43615),g=e(96283),y=e(51126),w=e(65919);function v({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function b({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function D({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function E({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function O({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function C({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function _({size:te,className:ee}){return(0,o.h)("svg",{className:ee,width:te,height:te,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var a=e(44396),l=e(28967);function P({context:te,onClick:ee,utm_content:L}){const V=S[te.type];return V?(0,o.h)(y.hs,{className:l.Z.contextRow},(0,o.h)(w.xv.Meta,{className:l.Z.contextText},(0,o.h)(V,{context:te,onClick:ee,utm_content:L}))):null}const S={post_like:M,post_comment:N,post_restack:R,comment:N,note_reply:N,note_recommend:U,comment_like:T,comment_restack:A,comment_top:F};function M({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"like",label:"Likes",verb:"liked",onClick:ee,utm_content:L})}function R({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"restack",label:"Restacks",verb:"restacked",onClick:ee,utm_content:L})}function N({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"comment",label:"Replies",verb:"replied",onClick:ee,utm_content:L})}function T({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"like",label:"Likes",verb:"liked",onClick:ee,utm_content:L})}function A({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"restack",label:"Restacks",verb:"restacked",onClick:ee,utm_content:L})}function F({}){return(0,o.h)(J,{type:"trending"},"Top comment")}function U({context:te,onClick:ee,utm_content:L}){return(0,o.h)(Q,{context:te,type:"recommend",label:"Recommendations",verb:"recommends",onClick:ee,utm_content:L})}const G={like:D,comment_like:D,comment:v,recommend:_,featured:b,trending:E,leaderboard:O,restack:C};function J({type:te,children:ee}){const L=G[te];return(0,o.h)(y.gq,{alignItems:"center",gap:8},(0,o.h)(L,{className:l.Z.contextIcon,size:14}),(0,o.h)("div",null,ee))}function Q({context:te,type:ee,label:L,verb:V,fallbackUser:ne,utm_content:ae,onClick:fe}){var le;const re="notes_context",$=(0,a.XA)(),[oe,se]=(0,m.eJ)(!1),ce=(le=te.users[0])!=null?le:ne;if(!ce)return null;let de,be=te.users.length-1;return!$&&te.users.length===2&&(de=te.users[1],be=0),(0,o.h)(J,{type:ee},(0,o.h)(g.Zg,{user:ce,onClick:fe,utm_source:re,utm_content:ae,color:"secondary",useYou:!0}),de&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.Zg,{user:te.users[1],onClick:fe,utm_source:re,utm_content:ae,color:"secondary",useYou:!0})),be>0&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(g.hh,{onClick:()=>{fe(),se(!0)}},(0,d.pluralize)(be,"other"))),` ${V}`,(0,o.h)(u.FF,{isOpen:oe,modalLabel:L,faces:te.users,totalCount:te.users.length,onClose:()=>se(!1),utmSource:null}))}},75309:(z,s,e)=>{"use strict";e.d(s,{Ev:()=>Le});var o=e(6400),m=e(30396),d=e(27484),u=e.n(d),g=e(25380),y=e(67747),w=e(66440),v=e(23237),b=e(5149),D=e(80587),E=e(18794),O=e(13808),C=e(6385),_=e(20501),a=e(83322),l=e(53206),P=e(25877),S=e(58718),M=e(63270),R=e(67963),N=e(69371),T=e(96283),A=e(50670),F=e(8479),U=e(39419),G=e.n(U),J=e(702),Q=e(11059),te=e(17685),ee=e(51126),L=e(76235),V=e(65919),ne=e(75425),ae=e(95297),fe=e(41474),le=e(91870),re=e(73413),$=e(10174),oe=e(9869),se=e(11132),ce=e(28967),de=Object.defineProperty,be=Object.defineProperties,pe=Object.getOwnPropertyDescriptors,we=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable,De=(Fe,nt,ft)=>nt in Fe?de(Fe,nt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Fe[nt]=ft,_e=(Fe,nt)=>{for(var ft in nt||(nt={}))xe.call(nt,ft)&&De(Fe,ft,nt[ft]);if(we)for(var ft of we(nt))Ue.call(nt,ft)&&De(Fe,ft,nt[ft]);return Fe},ie=(Fe,nt)=>be(Fe,pe(nt)),ve=(Fe,nt)=>{var ft={};for(var Ye in Fe)xe.call(Fe,Ye)&&nt.indexOf(Ye)<0&&(ft[Ye]=Fe[Ye]);if(Fe!=null&&we)for(var Ye of we(Fe))nt.indexOf(Ye)<0&&Ue.call(Fe,Ye)&&(ft[Ye]=Fe[Ye]);return ft},he=(Fe,nt,ft)=>new Promise((Ye,rt)=>{var $t=Ne=>{try{gt(ft.next(Ne))}catch(We){rt(We)}},sn=Ne=>{try{gt(ft.throw(Ne))}catch(We){rt(We)}},gt=Ne=>Ne.done?Ye(Ne.value):Promise.resolve(Ne.value).then($t,sn);gt((ft=ft.apply(Fe,nt)).next())});function Le({user:Fe,post:nt,comment:ft,onClick:Ye,utm_content:rt,publication:$t,item:sn,parentCommentUserId:gt}){const Ne=(0,ne.pm)(),We=(0,R.aF)(),st=(0,le.I0)(),ke=(ft==null?void 0:ft.date)||(nt==null?void 0:nt.post_date),{refetch:Be}=(0,F.ib)({pathname:`/api/v1/reader/reply/${ft==null?void 0:ft.id}/unhide`,method:"POST"}),{getConfigFor:Se}=(0,M.xR)(),ut=!!Se("hidden_replies_ui_enabled")&&(ft==null?void 0:ft.hide_reply),Oe=(We==null?void 0:We.id)&&(We==null?void 0:We.id)===gt;return(0,o.h)(A.KF,null,(0,o.h)(ee.hs,{gap:8,alignItems:"center",flex:"grow"},(0,o.h)(V.Zx,{weight:"medium"},(0,o.h)(T.xG,{user:Fe,onClick:Ye,utm_source:"substack-feed-item",utm_content:rt,color:ut?"secondary":void 0},Fe.name)),(0,o.h)(ae.s,{className:ce.Z.userBadge,tier:Fe.bestseller_tier,userId:Fe.id,tooltipOnHover:!0,size:"sm"}),ke&&(0,o.h)(ht,{timestamp:ke,comment:ft})),(0,o.h)(ee.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},ut&&Oe&&(0,o.h)(te.kG,{onClick:()=>he(this,null,function*(){var K;st({type:"reply_unhidden",payload:{comment_id:(K=ft==null?void 0:ft.id)!=null?K:0}}),yield Be(),Ne.popToast(Y=>(0,o.h)(ne.FN,ie(_e({},Y),{text:"Reply unhidden",Icon:g.Z})))}),className:ce.Z.unhideButton},(0,o.h)(ee.gq,{alignItems:"center",gap:4},(0,o.h)(y.Z,{size:20}),"Unhide")),(0,o.h)(bt,{publication:$t!=null?$t:void 0,post:nt!=null?nt:void 0,comment:ft,item:sn})))}const He=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function ht({timestamp:Fe,comment:nt,post:ft,publication:Ye}){return(0,o.h)(T.hh,{href:nt?(0,_.getFeedCommentUrl)(nt,{noBase:re.L}):ft?(0,_.getFeedShortPostUrl)(Ye,ft):void 0,title:He.format(u()(Fe).toDate()),ellipsis:!1,color:"secondary"},(0,o.h)(A.Ku,{timestamp:Fe}))}function bt({publication:Fe,post:nt,comment:ft,item:Ye,permalink:rt}){var $t,sn,gt;const Ne=(0,ne.pm)(),We=(0,N.rI)(),st=(0,se.F)(),ke=(0,le.I0)(),Be=(0,le.kc)(),[Se,Ke]=(0,m.eJ)(!1),[ut,Oe]=(0,m.eJ)(!1),K=(0,R.aF)(),Y=(sn=($t=ft==null?void 0:ft.ancestor_path)==null?void 0:$t.split(".").filter(Boolean).map(Number).map(zt=>Be.comments.get(zt)))!=null?sn:[],me=ft?(0,C.getCommentAuthor)(ft):Fe&&nt?(0,C.getPostAuthor)(Fe,nt):{id:0,name:"void"},Ie=(0,P.CH)(me,We),je=(0,S.oh)(me,We),Xe=(0,F.ib)({pathname:`/api/v1/comment/${(gt=ft==null?void 0:ft.id)!=null?gt:0}`,method:"DELETE",json:{publication_id:Fe==null?void 0:Fe.id}}),_t=()=>he(this,null,function*(){if(!ft||(Oe(!1),Xe.isLoading))return;const zt=yield Xe.refetch();if(zt instanceof Error){alert((0,U.getNetworkErrorMessage)(zt));return}Ne.popToast(Xt=>(0,o.h)(ne.FN,ie(_e({},Xt),{text:"Note deleted",Icon:w.Z}))),ke({type:"comment_delete",payload:{publication:Fe,post:nt,comment:ft}})}),pt=(0,$.i3)(),Ge=()=>he(this,null,function*(){ft&&pt.open({editComment:ft,tabId:st})}),at=()=>{Ye&&(0,fe.rw)(Ye,We,"menu",{tabId:st})},It=[!ft&&nt&&(0,o.h)(Tt,{post:nt}),...je,(0,a.canEditComment)(K,ft)&&(0,o.h)(L.sN,{icon:(0,o.h)(v.Z,null),onClick:Ge},"Edit"),...Ie,(0,a.canReportComment)(K,ft)&&(0,o.h)(L.sN,{icon:(0,o.h)(b.Z,null),priority:"destructive",onClick:()=>Ke(!0)},"Report"),(0,a.canDeleteComment)(K,ft,{pub:Fe,post:nt,parentComments:Y})&&(0,o.h)(L.sN,{icon:(0,o.h)(w.Z,null),priority:"destructive",onClick:()=>Oe(!0)},"Delete")].filter(Boolean);return It.length===0?null:(0,o.h)(o.Fragment,null,(0,o.h)(L.v2,{trigger:(0,o.h)(oe.K,{"aria-label":"share",permalink:rt,className:ce.Z.more},(0,o.h)(D.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:at},It),Se&&(0,o.h)(J.Z,{className:ce.Z.reportModal,pub:Fe,comment:ft,onClose:()=>Ke(!1),onReportSuccess:()=>{}}),(0,o.h)(Q.a,{isOpen:ut,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,o.h)(te.zx,{priority:"destructive",onClick:_t},"Delete"),secondaryButton:(0,o.h)(te.zx,{priority:"secondary",onClick:()=>Oe(!1)},"Cancel"),onClose:()=>Oe(!1)}))}function Tt(Fe){var nt=Fe,{post:ft}=nt,Ye=ve(nt,["post"]);const rt=(0,le.I0)(),$t=(0,l.c1)(),sn=()=>{const gt=ft.id,Ne=!ft.is_saved;(0,l.TJ)(gt,Ne,{surface:"reader"}),$t(Ne),rt({type:"post_save",payload:{postId:gt,isSaved:Ne}})};return(0,o.h)(L.sN,_e({icon:ft.is_saved?(0,o.h)(E.Z,null):(0,o.h)(O.Z,null),onClick:sn},Ye),ft.is_saved?"Unsave":"Save")}},8796:(z,s,e)=>{"use strict";e.d(s,{n:()=>v});var o=e(6400),m=e(30396),d=e(25877),u=e(96283),g=e(51126),y=e(65919),w=e(28967);function v({userId:b,comment:D,children:E}){const O=(0,d.KG)(b),C=(0,d.Yq)(),[_,a]=(0,m.eJ)(C);(0,m.d4)(()=>{O&&!C&&a(!1)},[O]);const l=D?D.type==="feed"&&!D.ancestor_path?"note":"reply":"post";return O&&!_?(0,o.h)(g.gq,{radius:8,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>a(!0),gap:12,className:w.Z.mutedItem},(0,o.h)(g.hs,{flex:"grow",minWidth:0},(0,o.h)(y.xv.B4,{color:"secondary"},"This ",l," is from someone",O==="muting"?" you hid":O==="blocking"?" you blocked":" who has you blocked",".")),O!=="blocked"&&(0,o.h)(y.xv.B4,{color:"secondary",weight:"semibold"},(0,o.h)(u.hh,{onClick:()=>a(!0)},"Show ",l))):(0,o.h)(o.Fragment,null,E)}},73115:(z,s,e)=>{"use strict";e.d(s,{sZ:()=>V,xW:()=>ee});var o=e(6400),m=e(99869),d=e(71212),u=e(67358),g=e(17685),y=e(51126),w=e(62246),v=e(65919),b=e(20501),D=e(15045),E=e(70444),O=e(68227),C=e(17835),_=e(66839),a=e(3258),l=e(39419),P=e.n(l),S=e(66399),M=e(55886),R=e(7980),N=Object.defineProperty,T=Object.defineProperties,A=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,J=(re,$,oe)=>$ in re?N(re,$,{enumerable:!0,configurable:!0,writable:!0,value:oe}):re[$]=oe,Q=(re,$)=>{for(var oe in $||($={}))U.call($,oe)&&J(re,oe,$[oe]);if(F)for(var oe of F($))G.call($,oe)&&J(re,oe,$[oe]);return re},te=(re,$)=>T(re,A($));function ee({comment:re,isOpen:$,onClose:oe}){return(0,o.h)(w.u_,{isOpen:$,onClose:oe},(0,o.h)(L,{comment:re,onClose:oe}))}function L({comment:re,onClose:$}){const oe=(0,E.Sg)(re,{urlParams:{utm_source:"substack",utm_context:"note-share-modal"}});return(0,o.h)(y.tu,{gap:20,paddingBottom:16},(0,o.h)(w.xB,{includeClose:!0,onClose:$}),(0,o.h)(y.hs,{justifyContent:"center"},(0,o.h)(M.t,{src:(0,b.getNoteCommentPreviewUrl)(re.id),size:340})),(0,o.h)(v.xv.Meta,{align:"center"},"Share via"),(0,o.h)(V,{shareSource:"note-share-modal",shareUrl:oe,shareText:"",shareEventType:"note",comment:re,itemKey:re.item_entity_key}))}function V({shareUrl:re,shareText:$,shareEventType:oe,itemKey:se,shareSource:ce,comment:de,onShare:be}){const pe=(0,S.pm)(),we=(he,Le)=>{(0,a.j)(a.FP.SHARE_LINK_CLICKED,{name:he,type:oe,item_entity_key:se,source:ce});const He=Le();He&&(He.startsWith("http")?window.open(He,"_blank"):document.location.href=He),be==null||be()},xe=()=>{we("copy",()=>{(0,l.copyToClipboard)(re)}),pe.popToast(he=>(0,o.h)(S.FN,te(Q({},he),{text:"Link copied",Icon:m.Z})))},Ue=()=>{we("twitter",()=>(0,D.pathWithQuery)("https://twitter.com/share",{url:re,text:$}))},De=()=>{we("facebook",()=>(0,D.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:re}))},_e=()=>{we("linkedin",()=>(0,D.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:re}))},ie=()=>{we("email",()=>(0,D.pathWithQuery)("mailto:",{subject:$,body:re}))},ve=()=>{pe.popToast(he=>(0,o.h)(S.FN,te(Q({},he),{text:"Downloading image...",Icon:d.Z})))};return(0,o.h)(y.tu,{flex:"grow",justifyContent:"center"},(0,o.h)(y.hs,{gap:8},(0,o.h)(ne,null,(0,o.h)(fe,{onClick:Ue},(0,o.h)(_.Z,{height:48})),(0,o.h)(ae,null,"Twitter")),(0,o.h)(ne,null,(0,o.h)(fe,{onClick:De},(0,o.h)(O.Z,{height:48})),(0,o.h)(ae,null,"Facebook")),(0,o.h)(ne,null,(0,o.h)(fe,{onClick:_e},(0,o.h)(C.Z,{height:48})),(0,o.h)(ae,null,"LinkedIn")),(0,o.h)(ne,null,(0,o.h)(le,{onClick:xe},(0,o.h)(m.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ae,null,"Copy Link")),de?(0,o.h)(ne,null,(0,o.h)(le,{onClick:ve,href:(0,b.getNoteCommentPreviewUrl)(de.id),target:"_blank",download:!0},(0,o.h)(d.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ae,null,"Save image")):(0,o.h)(ne,null,(0,o.h)(le,{onClick:ie},(0,o.h)(u.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ae,null,"Email"))))}function ne(re){return(0,o.h)(y.tu,Q({gap:8,alignItems:"center",flex:"grow"},re))}function ae(re){return(0,o.h)(v.xv.Detail,Q({align:"center",color:"primary"},re))}function fe(re){return(0,o.h)(g.kG,Q({resetCss:!0,className:R.Z.shareImageButton},re))}function le(re){return(0,o.h)(g.hU,Q({size:48,rounded:!0,fill:"borderless"},re))}},83097:(z,s,e)=>{"use strict";e.d(s,{q:()=>se});var o=e(6400),m=e(30396),d=e(8618),u=e(8479),g=e(85928),y=e.n(g),w=e(15045),v=e(70444),b=e(31517),D=e(26240),E=e(34085),O=e(31471),C=e(4190),_=e(63270),a=e(67963);function l(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var P=e(55463),S=e(11533),M=e(17685),R=e(86605),N=e(51126),T=e(62246),A=e(65919),F=e(15822),U=e(91870),G=e(10174),J=e(51731),Q=e(73115),te=e(50670),ee=e(7475),L=e(7980),V=(be,pe,we)=>new Promise((xe,Ue)=>{var De=ve=>{try{ie(we.next(ve))}catch(he){Ue(he)}},_e=ve=>{try{ie(we.throw(ve))}catch(he){Ue(he)}},ie=ve=>ve.done?xe(ve.value):Promise.resolve(ve.value).then(De,_e);ie((we=we.apply(be,pe)).next())});function ne(){const be=useUserContext(),pe=new URL(document.location.toString());return useMemo(()=>be.user&&!be.userSettings.feed_web_nux_seen_at||pe.searchParams.get("action")==="nux",[])?h(ae,null):null}function ae(){const be=useUserContext(),pe=useSiteConfigs(),[we,xe]=useState(!0),[Ue,De]=useState(1),[_e,ie]=useState(null),[ve,he]=useState(!1);useEffect(()=>{be.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const Le=({skipReload:ht=!1}={})=>{xe(!1),!ht&&ve&&document.location.reload()},He=()=>{var ht,bt;let Tt=Ue+1;Tt===2&&(ht=be.user)!=null&&ht.name&&(Tt+=1),Tt===3&&(!pe.getConfigFor("twitter_connect_flows_enabled")||(bt=be.user)!=null&&bt.has_linked_twitter)&&(Tt+=1),Tt===4&&(pe.getConfigFor("notes_onboarding_suggestions_enabled")||(Tt+=1)),De(Tt)};return h(Modal,{isOpen:we,onClose:Le,width:440,overflow:"hidden"},Ue===1?h(fe,{onClose:Le,onNext:He}):Ue===2?h(le,{onClose:Le,onNext:He}):Ue===3?h(re,{onClose:Le,onNext:He,onSkip:()=>De(Ue+2)}):Ue===4?h($,{onClose:Le,onNext:ht=>{he(ht),He()}}):Ue===5?h(oe,{onPublish:ht=>{ie(ht),He()},onClose:Le}):Ue===6&&_e?h(se,{onClose:Le,comment:_e}):null)}function fe({onClose:be,onNext:pe}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:be,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(ResponsiveImg,{src:"/img/reader/nux-web@3x.png",maxWidth:880,imageProps:{height:304}})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener noreferrer"},"Learn more"))),h(de,null,h(Button,{priority:"primary",onClick:pe},"Get started")))}function le({onClose:be,onNext:pe}){const we=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:be}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:we.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:xe=>{we.setUser(xe.body),pe()}}))}function re({onClose:be,onNext:pe,onSkip:we}){return useEffect(()=>{const xe=Ue=>{var De;Ue.origin===document.location.origin&&((De=Ue.data)==null?void 0:De.type)==="twitter-success"&&pe()};return window.addEventListener("message",xe),()=>{window.removeEventListener("message",xe)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:be}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(de,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:we,priority:"secondary",fill:"empty"},"Skip")))}function $({onClose:be,onNext:pe}){const{exposeExperiment:we}=useExperiments(),{result:xe,isLoading:Ue,error:De}=useFetch({pathname:"/api/v1/reader/feed/user-suggestions",query:{limit:7},auto:!0}),_e=xe==null?void 0:xe.suggestions;return useEffect(()=>{_e&&_e.length===0?pe(!1):we("people_you_may_know_algorithm_7")},[_e]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:be}),h(FlexColumn,{padding:16,alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Choose your subscriptions"),h(Text.B3,{color:"secondary",align:"center"},"Subscribe to people to see their notes.")),De?"Error":!_e||Ue?h(FlexColumn,{alignItems:"center",padding:24},h(DrunkSpinner,null)):h(UserSuggestions,{suggestions:_e,onSuccess:pe,secondaryButton:h(Button,{onClick:()=>pe(!1),priority:"secondary",fill:"empty"},"Skip"),source:"feed-nux"}))}function oe({onClose:be,onPublish:pe}){const we=useUser(),xe=useComposerModal(),{create:Ue,isLoading:De}=useCreateShortPost(),_e=useDispatch(),[ie,ve]=useRouter(),{exposeExperiment:he,getExperimentVariant:Le}=useExperiments();if(useResource(()=>Promise.all([e.e(313),e.e(171),e.e(563),e.e(27)]).then(e.bind(e,84563)),[]),!we)return null;he("feed_nux_empty_message");const He=Le("feed_nux_empty_message")==="treatment",ht="Hello, Notes! What's going on?",bt=()=>V(this,null,function*(){if(!De){if(He)be({skipReload:!0}),xe.open({initialText:""});else{const{textToJsonCore:Fe}=yield Promise.all([e.e(313),e.e(171),e.e(563),e.e(27)]).then(e.bind(e,84563)),nt=yield Ue({bodyJson:Fe(ht)});if(nt instanceof Error)return;pe(nt),_e({type:"new_comment",payload:{comment:nt}})}document.location.pathname!==FEED_PATH&&ve(FEED_PATH)}}),Tt=()=>{be({skipReload:!0}),xe.open({initialText:ht})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:be}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:we}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},we.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},ht)),h(FlexBox,{style:{gap:34}},h(ce,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(ce,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(ce,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:bt,disabled:De},He?"Say hello":"Send now"),!He&&h(Button,{onClick:Tt,priority:"secondary",fill:"empty",disabled:De},"Edit note")))}function se({onClose:be,comment:pe}){const we=(0,v.Sg)(pe,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),xe=`I just joined Substack Notes
`,Ue=(0,a.aF)();return Ue?(0,o.h)(o.Fragment,null,(0,o.h)(T.xB,{includeClose:!0,onClose:be}),(0,o.h)(N.tu,{padding:16},(0,o.h)(N.tu,{alignItems:"center",gap:4,padding:16},(0,o.h)(A.xv.H2,{weight:"semibold"},"Share your first Note"),(0,o.h)(A.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),(0,o.h)(N.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,o.h)(N.tu,{paddingTop:8,paddingBottom:16},(0,o.h)(N.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,o.h)(N.hs,{gap:12},(0,o.h)(te.Zb,{user:Ue}),(0,o.h)(N.tu,{flex:"grow",minWidth:0},Ue&&(0,o.h)(A.xv.B3,{weight:"semibold",ellipsis:!0},Ue.name),(0,o.h)(A.xv.B4,{color:"secondary"},y()().fromNowShort()))),(0,o.h)(N.tu,{paddingY:16,borderBottom:"detail"},(0,o.h)(A.xv,{font:"text",size:18},(0,o.h)(J.bN,{comment:pe,publication:null}))),(0,o.h)(N.hs,{style:{gap:34}},(0,o.h)(ce,null,(0,o.h)(d.Z,{stroke:"var(--color-secondary)",size:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Like")),(0,o.h)(ce,null,(0,o.h)(D.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Reply")),(0,o.h)(ce,null,(0,o.h)(b.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(A.xv.Button,{color:"secondary"},"Restack"))))),(0,o.h)(A.xv.Meta,{align:"center"},"Share via"),(0,o.h)(Q.sZ,{shareSource:"first-note-modal",shareUrl:we,shareText:xe,shareEventType:"note",itemKey:pe.item_entity_key})))):null}function ce({children:be}){return(0,o.h)(N.hs,{alignItems:"center",gap:8,paddingTop:16},be)}function de({children:be}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},be)}},2387:(z,s,e)=>{"use strict";e.d(s,{n:()=>y});var o=e(6400),m=e(20447),d=e(50670),u=e(51126),g=e(33510);function y(){return(0,o.h)(u.tu,null,Array(8).fill(0).map(()=>(0,o.h)(w,null)))}function w(){return(0,o.h)(m.O3,null,(0,o.h)(d.oM,null,(0,o.h)(u.hs,{gap:12},(0,o.h)(g.Vm,{type:"circle",size:48}),(0,o.h)(u.tu,{gap:12,flex:"grow"},(0,o.h)(g.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,o.h)(g.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(z,s,e)=>{"use strict";e.d(s,{I:()=>a});var o=e(6400),m=e(94184),d=e.n(m),u=e(15045),g=e(20501),y=e(31471),w=e(16527),v=e(51126),b=e(65919),D=e(73413),E=e(33510),O=e(68262),C=e(44396),_=e(28967);function a({post:l,publication:P,readOnly:S,onClick:M}){const R=(0,C.XA)(),N=l.cover_image;return(0,o.h)(v.tu,{as:S?"div":"a",className:_.Z.post,bg:"elevated",border:"detail",radius:12,onClick:T=>{M&&M(),!S&&D.L&&!R&&(0,w.Q)(T,(0,g.getPostUrl)(P,l,{noBase:!0,feedViewer:!0}))},href:S?void 0:(0,g.getPostUrl)(P,l,{feedViewer:!1}),minWidth:0},N&&(0,o.h)(y.e,{className:d()(_.Z.postImage,R&&_.Z.mobile),imageProps:{smartCrop:!0,aspect:R?"3:2":"2:1"},src:N,maxWidth:1e3}),(0,o.h)(v.tu,{gap:4,padding:12,borderTop:N?"detail":"transparent"},(0,o.h)(v.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,o.h)(O.F,{pub:P,size:20}),(0,o.h)(b.xv.Meta,{ellipsis:!0},S?P.name:(0,o.h)(E.zr,{href:(0,u.getPubUrl)(P)},P.name))),(0,o.h)(b.xv.B3,{clamp:R?1:2,color:"primary",weight:"medium"},l.title),(0,o.h)(b.xv.B4,{clamp:2,color:"secondary"},l.description)))}},11132:(z,s,e)=>{"use strict";e.d(s,{F:()=>u,q:()=>d});var o=e(98661),m=e(30396);const d=(0,o.createContext)(void 0);function u(){return(0,m.qp)(d)}},96283:(z,s,e)=>{"use strict";e.d(s,{Zg:()=>S,hh:()=>R,xG:()=>M});var o=e(6400),m=e(20501),d=e(80332),u=e(67963),g=e(65919),y=e(73413),w=e(18130),v=Object.defineProperty,b=Object.defineProperties,D=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(N,T,A)=>T in N?v(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,a=(N,T)=>{for(var A in T||(T={}))O.call(T,A)&&_(N,A,T[A]);if(E)for(var A of E(T))C.call(T,A)&&_(N,A,T[A]);return N},l=(N,T)=>b(N,D(T)),P=(N,T)=>{var A={};for(var F in N)O.call(N,F)&&T.indexOf(F)<0&&(A[F]=N[F]);if(N!=null&&E)for(var F of E(N))T.indexOf(F)<0&&C.call(N,F)&&(A[F]=N[F]);return A};function S(N){var T=N,{user:A,utm_source:F,utm_content:U,ellipsis:G,useYou:J,onClick:Q}=T,te=P(T,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const ee=(0,u.aF)(),L=(A==null?void 0:A.id)||(A==null?void 0:A.user_id)||0,V=J&&(ee==null?void 0:ee.id)===L?"You":A.name;return(0,o.h)(M,a({user:A,utm_source:F,utm_content:U,ellipsis:G,onClick:Q},te),V)}function M(N){var T=N,{user:A,utm_source:F,utm_content:U,children:G,onClick:J}=T,Q=P(T,["user","utm_source","utm_content","children","onClick"]);const te=l(a({},A),{id:A.author_id||A.user_id||A.id,name:A.user_profile_name||A.author_name||A.name,handle:(A==null?void 0:A.handle)||(A==null?void 0:A.author_handle)});return(0,o.h)(d.Ct,{subject:te,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,o.h)(R,a({href:(0,m.getReaderProfileUrl)(A,{noBase:y.L,utm_content:U,utm_source:F}),onClick:J},Q),G))}function R(N){var T=N,{weight:A,color:F,decoration:U="hover-underline",ellipsis:G}=T,J=P(T,["weight","color","decoration","ellipsis"]);return(0,o.h)(g.Zx,{ellipsis:G,weight:A,color:F,decoration:U},(0,o.h)(w.r,a({},J)))}},59386:(z,s,e)=>{"use strict";e.d(s,{m:()=>O});var o=e(6400),m=Object.defineProperty,d=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(C,_,a)=>_ in C?m(C,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):C[_]=a,b=(C,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(C,a,_[a]);if(g)for(var a of g(_))w.call(_,a)&&v(C,a,_[a]);return C},D=(C,_)=>d(C,u(_)),E=(C,_)=>{var a={};for(var l in C)y.call(C,l)&&_.indexOf(l)<0&&(a[l]=C[l]);if(C!=null&&g)for(var l of g(C))_.indexOf(l)<0&&w.call(C,l)&&(a[l]=C[l]);return a};function O(C){var _=C,{size:a=24,stroke:l="var(--color-light-secondary)"}=_,P=E(_,["size","stroke"]);return(0,o.h)("svg",D(b({},P),{width:a,height:a,viewBox:"0 0 20 20",fill:"none",stroke:l,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{d:"M15.402 4.9369L5.74277 2.34871C4.85366 2.11047 3.93976 2.63811 3.70153 3.52722L1.11338 13.1863C0.875145 14.0754 1.40277 14.9893 2.29187 15.2276L4.74872 15.8859M8.70371 11.6666H14.6296M5 6.66669V16.6665C5 17.587 5.74618 18.3332 6.66664 18.3332L16.6666 18.3333C17.5871 18.3333 18.3333 17.5872 18.3333 16.6667V6.66669C18.3333 5.74622 17.5871 5.00002 16.6667 5.00002H6.66667C5.74619 5.00002 5 5.74622 5 6.66669Z","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(z,s,e)=>{"use strict";e.d(s,{Fb:()=>Q,KF:()=>U,Ku:()=>F,Zb:()=>G,oM:()=>N,sP:()=>J});var o=e(6400),m=e(94184),d=e.n(m),u=e(85928),g=e.n(u),y=e(20501),w=e(80332),v=e(51126),b=e(65919),D=e(10186),E=e(73413),O=e(44396),C=e(28967),_=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(te,ee,L)=>ee in te?_(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,M=(te,ee)=>{for(var L in ee||(ee={}))l.call(ee,L)&&S(te,L,ee[L]);if(a)for(var L of a(ee))P.call(ee,L)&&S(te,L,ee[L]);return te},R=(te,ee)=>{var L={};for(var V in te)l.call(te,V)&&ee.indexOf(V)<0&&(L[V]=te[V]);if(te!=null&&a)for(var V of a(te))ee.indexOf(V)<0&&P.call(te,V)&&(L[V]=te[V]);return L};function N(te){var ee=te,{showGutter:L=!1,hasAvatar:V=!0,hasContext:ne=!1,onClick:ae}=ee,fe=R(ee,["showGutter","hasAvatar","hasContext","onClick"]);const le=ae?re=>{const{target:$}=re;$ instanceof Element&&$.closest("button, a")||re.defaultPrevented||ae(re)}:void 0;return(0,o.h)(v.tu,M({className:d()(C.Z.feedUnit,L?C.Z.showThreadGutter:void 0,ne?C.Z.hasContext:void 0,ae&&C.Z.hasAction,V?C.Z.hasAvatar:void 0),gap:4,onClick:le},fe))}const T=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),A=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function F({timestamp:te}){const ee=g()(),L=g()(te),V=ee.diff(L,"day"),ne=ee.diff(L,"year");let ae;return ne>=1?ae=A.format(L.toDate()):V>7?ae=T.format(L.toDate()):ae=L.fromNowShort(),(0,o.h)(b.Zx,{color:"secondary"},te&&ae)}function U({children:te}){return(0,o.h)(b.xv.B3,null,(0,o.h)(v.hs,{flex:"grow",minWidth:0},(0,o.h)(v.hs,{gap:8,alignItems:"center",flex:"grow"},te)))}function G({user:te,className:ee}){const L=(0,O.XA)();return(0,o.h)(D.qE,{size:L?40:48,user:te,className:ee})}function J({large:te,children:ee}){return(0,o.h)(b.xv.B3,{className:C.Z.feedCommentBodyInner,size:te?20:16,lineHeight:te?30:24,color:"primary"},ee)}function Q({user:te,onClick:ee,utm_content:L,desaturate:V}){return(0,o.h)(v.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,y.getReaderProfileUrl)(te,{noBase:E.L,utm_content:L}),onClick:ee},(0,o.h)(w.Ct,{subject:te,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(G,{user:te,className:V?C.Z.desaturate:void 0})))}},7475:(z,s,e)=>{"use strict";var o=e(6400),m=e(30396),d=e(15045),u=e(2731),g=e(80332),y=e(8479),w=e(17685),v=e(51126),b=e(53570),D=e(65919),E=e(10186),O=e(44695),C=(l,P,S)=>new Promise((M,R)=>{var N=F=>{try{A(S.next(F))}catch(U){R(U)}},T=F=>{try{A(S.throw(F))}catch(U){R(U)}},A=F=>F.done?M(F.value):Promise.resolve(F.value).then(N,T);A((S=S.apply(l,P)).next())});function _({suggestions:l,secondaryButton:P,onSuccess:S,source:M="feed-user-suggestions"}){const R=l.filter(J=>J.user.name).sort((J,Q)=>J.publication&&Q.publication?0:J.publication?-1:1),{isLoading:N,refetch:T}=useFetch({pathname:"/api/v1/reader/feed/bulk-subscribe",method:"POST"}),[A,F]=useState(()=>new Set(R.map(J=>J.user.id))),U=(J,Q)=>{const te=new Set(A);Q?te.add(J):te.delete(J),F(te)},G=()=>C(this,null,function*(){if(N)return;const J=[...A].map(te=>R.find(ee=>ee.user.id===te)).filter(te=>!!te).map(te=>{var ee;return{user_id:te.user.id,publication_id:(ee=te.publication)==null?void 0:ee.id}}),Q=yield T({json:{suggestions:J,source:M}});Q instanceof Error?alert(Q instanceof FetchError?Q.getMessage():"Error"):S(J.length>0)});return h(Fragment,null,h(FlexColumn,{paddingX:16},h(FlexColumn,{borderTop:"detail",overflowY:"auto",style:{maxHeight:422}},h(FlexColumn,{gap:16,paddingY:16},R.map(({user:J,publication:Q})=>h(a,{key:J.id,user:J,pub:Q,isSelected:A.has(J.id),onChange:te=>U(J.id,te),disabled:N}))))),h(FlexColumn,{padding:16,gap:8,borderTop:"detail"},h(Button,{priority:"primary",onClick:G,disabled:N||A.size===0},A.size!==0?`Subscribe to ${String(A.size)} and continue`:"Add at least one subscription"),P))}function a({user:l,pub:P,isSelected:S,onChange:M,disabled:R}){return h(FlexBox,{gap:12,alignItems:"center"},h(AvatarWithPub,{size:40,user:l,pub:P}),h(FlexColumn,{gap:2,flex:"grow",minWidth:0},h(Text.B4,{ellipsis:!0},h(ProfileHoverCard,{subject:l,inline:!0},h(Text,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:getReaderProfileUrl(l)},l.name))),h(Text.B4,{color:"secondary",ellipsis:!0},P&&h(PublicationHoverCard,{publication_id:P.id,inline:!0},h(Text,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:getPubUrl(P)},P.name)))),h(Checkbox,{checked:S,onChange:M,disabled:R}))}},69371:(z,s,e)=>{"use strict";e.d(s,{$U:()=>b,rI:()=>O});var o=e(6400),m=e(98661),d=e(30396),u=e(81470),g=e(9686),y=e(91870),w=e(50292),v=e(10174);function b({state:C,dispatch:_,surface:a,children:l}){const{onboardingModalRef:P}=(0,w.SJ)(),S=(0,d.Ye)(()=>({dispatch:_}),[]);return(0,o.h)(D.Provider,{value:a},(0,o.h)(y.RR.Provider,{value:S},(0,o.h)(y.ev.Provider,{value:C},(0,o.h)(v.Au,null,l,C.isSigningIn&&(0,o.h)(g.I,{onCancel:()=>_({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{_({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var M;_({type:"sign_in",payload:{isSigningIn:!1}}),(M=P.current)==null||M.open()},noExit:C.signInNoExit})))))}const D=(0,m.createContext)(u.Uo.Feed);function E({surface:C,children:_}){return h(D.Provider,{value:C},_)}function O(){return(0,d.qp)(D)}},55463:(z,s,e)=>{"use strict";e.d(s,{a:()=>d});var o=e(8479),m=(u,g,y)=>new Promise((w,v)=>{var b=O=>{try{E(y.next(O))}catch(C){v(C)}},D=O=>{try{E(y.throw(O))}catch(C){v(C)}},E=O=>O.done?w(O.value):Promise.resolve(O.value).then(b,D);E((y=y.apply(u,g)).next())});function d({editComment:u}={}){const g=(0,o.ib)({pathname:u?`/api/v1/feed/comment/${u.id}`:"/api/v1/comment/feed"});return{create:y=>m(this,[y],function*({bodyJson:w,parentPostId:v,parentPubId:b,parent_id:D,attachmentIds:E,tabId:O,replyMinimumRole:C}){return yield g.refetch({pathname:u?`/api/v1/feed/comment/${u.id}`:v?`/api/v1/post/${v}/comment`:"/api/v1/comment/feed",method:u?"PATCH":"POST",json:{bodyJson:w,parent_id:D,publication_id:b,attachmentIds:E,tabId:O,replyMinimumRole:C}})}),error:g.error,isLoading:g.isLoading}}},15748:(z,s,e)=>{"use strict";e.d(s,{g:()=>a});var o=e(6400),m=e(99869),d=e(75425),u=e(39419),g=e.n(u),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(l,P,S)=>P in l?y(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,C=(l,P)=>{for(var S in P||(P={}))D.call(P,S)&&O(l,S,P[S]);if(b)for(var S of b(P))E.call(P,S)&&O(l,S,P[S]);return l},_=(l,P)=>w(l,v(P));function a(){const l=(0,d.pm)();return P=>{(0,u.copyToClipboard)(P),l.popToast(S=>(0,o.h)(d.FN,_(C({},S),{text:"Link copied",Icon:m.Z})))}}},39776:(z,s,e)=>{"use strict";e.r(s),e.d(s,{SiteConfigGate:()=>g,default:()=>u,getConfigFor:()=>d});var o=e(6400),m=e(63270);function d(y){var w;if(!y||typeof window=="undefined"||!((w=window._preloads)!=null&&w.siteConfigs))return null;const v=window._preloads.siteConfigs[y];return v===void 0?null:v}const u=d;function g({configKey:y,children:w,value:v=!0}){return(0,m.xR)().getConfigFor(y)==v?(0,o.h)(o.Fragment,null,w):null}},35225:(z,s,e)=>{"use strict";e.d(s,{S:()=>R});var o=e(6400),m=e(8618),d=e(85928),u=e.n(d),g=e(61782),y=e(15045),w=e(13833),v=e(75425),b=e(3258),D=e(58884),E=Object.defineProperty,O=Object.defineProperties,C=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(N,T,A)=>T in N?E(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,S=(N,T)=>{for(var A in T||(T={}))a.call(T,A)&&P(N,A,T[A]);if(_)for(var A of _(T))l.call(T,A)&&P(N,A,T[A]);return N},M=(N,T)=>O(N,C(T));function R({user:N,noBase:T}){const A=(0,v.pm)(),F=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const U="has_seen_like_nux",G=(0,D.mM)(U),J=g.L;return G&&N&&!N.has_seen_like_nux?(F(),!1):!N||!N.profile_set_up_at||N.subscription_visibility==="private"||!N.activity_likes_enabled||G||N.has_seen_like_nux||u()((N==null?void 0:N.profile_set_up_at)||0).unix()>J?!1:((0,b.j)(b.FP.LIKE_NUX_SHOWN),(0,D.ex)(U,!0),F(),A.popToast(Q=>(0,o.h)(v.Us,M(S({},Q),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,o.h)(o.Fragment,null,(0,o.h)(v.lL,{href:(0,y.getReaderProfileUrl)(N,{utm_source:"like_toast",noBase:T})},(0,o.h)(w.Av,null,"OK")),(0,o.h)(v.lL,{href:(0,y.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,o.h)(w.Av,{color:"secondary"},"Settings"))),Icon:m.Z}))),!0)}}},11059:(z,s,e)=>{"use strict";e.d(s,{a:()=>v});var o=e(6400),m=e(30396),d=e(84606),u=e(17685),g=e(34394),y=e(62246),w=e(65919);const v=({isOpen:b=!1,title:D,body:E,onClose:O,customPrimaryButton:C,secondaryButton:_,confirmationString:a})=>{const l=(0,m.sO)(null),[P,S]=(0,m.eJ)(!!a);return(0,o.h)(y.u_,{isOpen:b,onClose:O,initialFocus:l},D&&(0,o.h)(y.xB,{title:D,includeClose:!1}),(0,o.h)(y.fe,null,(0,o.h)(w.xv.B3,null,E),a&&(0,o.h)(d.x,{paddingTop:16},(0,o.h)(g.o,{onChange:M=>{S(!0),a===M.target.value&&S(!1)}}))),(0,o.h)(y.mz,{primaryButton:C?(0,o.cloneElement)(C,{ref:l,disabled:P}):(0,o.h)(u.zx,{ref:l,onClick:O,priority:"primary",disabled:P},"OK"),secondaryButton:_}))}},83787:(z,s,e)=>{"use strict";e.d(s,{H:()=>u});var o=e(6400),m=e(30396);const d=150,u=({children:g,expanded:y,renderWhenCollapsed:w,onEnter:v,flex:b})=>{const D=(0,m.sO)(null),[E,O]=(0,m.eJ)(y?"expanded":"collapsed"),[C,_]=(0,m.eJ)(null);return(0,m.d4)(()=>{y&&E==="collapsed"&&O("startExpanding"),E==="startExpanding"&&D.current&&(_(D.current.offsetHeight),O("expanding"),setTimeout(()=>{O("expanded"),v&&v()},d)),!y&&E==="expanded"&&D.current&&(_(D.current.offsetHeight),O("startCollapsing")),E==="startCollapsing"&&(O("collapsing"),setTimeout(()=>{O("collapsed")},d))},[y,E]),(0,o.h)("div",{style:{height:E==="collapsed"||E==="startExpanding"||E==="collapsing"?0:E==="expanding"||E==="startCollapsing"?C:null,transition:`height ${d}ms ease-in-out`,overflow:E==="expanded"?"visible":"hidden",display:b?"flex":"block",flexDirection:"column"}},(0,o.h)("div",{ref:D,style:{paddingTop:.05,paddingBottom:.05,display:b?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(E!=="collapsed"||w)&&g))}},84606:(z,s,e)=>{"use strict";e.d(s,{E:()=>M,x:()=>S});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(19206),y=e(28614),w=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,C=(R,N,T)=>N in R?w(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,_=(R,N)=>{for(var T in N||(N={}))E.call(N,T)&&C(R,T,N[T]);if(D)for(var T of D(N))O.call(N,T)&&C(R,T,N[T]);return R},a=(R,N)=>v(R,b(N)),l=(R,N)=>{var T={};for(var A in R)E.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&D)for(var A of D(R))N.indexOf(A)<0&&O.call(R,A)&&(T[A]=R[A]);return T};const P=R=>{var N,T;return R?typeof R=="object"?[(N=R.desktop)!=null?N:null,(T=R.mobile)!=null?T:null]:[R,null]:[null,null]},S=(0,m.forwardRef)(function(N,T){var A=N,{display:F,as:U,className:G,direction:J,flex:Q,inline:te,wrap:ee,gap:L,padding:V,paddingX:ne,paddingY:ae,paddingTop:fe,paddingBottom:le,paddingLeft:re,paddingRight:$,justifyContent:oe,alignItems:se,alignSelf:ce,minWidth:de,minHeight:be,style:pe,border:we,borderTop:xe,borderBottom:Ue,borderLeft:De,borderRight:_e,borderY:ie,radius:ve,shadow:he,bg:Le,overflowY:He,overflowX:ht,sizing:bt,ellipsis:Tt,pullX:Fe,textAlign:nt,fontSize:ft,fontWeight:Ye,color:rt,decoration:$t,font:sn,fontStyle:gt,isParagraph:Ne,lineHeight:We,textTransform:st,nowrap:ke,clamp:Be,position:Se}=A,Ke=l(A,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position"]);const ut=U!=null?U:"div",[Oe,K]=P(L),[Y,me]=P(V),[Ie,je]=P(ne),[Xe,_t]=P(ae),[pt,Ge]=P(fe),[at,It]=P(le),[zt,Xt]=P(re),[Dt,ln]=P($),[qt,fn]=P(J),[Sn,wn]=P(ee),[Pn,jn]=P(oe),[sr,_r]=P(se),[hr,Bn]=P(F);return(0,o.h)(ut,_({ref:T,className:u()("pencraft",{[g.Z.flexGrow]:Q==="grow",[g.Z.flexFill]:Q==="fill",[g.Z.flexAuto]:Q==="auto"},g.Z.reset,F!=null&&g.Z[`display-${hr}`],te&&g.Z["display-inline-flex"],qt!=null&&g.Z[`flex-direction-${qt}`],Sn!=null&&g.Z[`flex-wrap-${Sn}`],Pn!=null&&g.Z[`flex-justify-${Pn}`],sr!=null&&g.Z[`flex-align-${sr}`],ce!=null&&g.Z[`flex-align-self-${ce}`],Oe!=null&&g.Z[`flex-gap-${Oe}`],Y!=null&&g.Z[`padding-${Y}`],Ie!=null&&g.Z[`padding-x-${Ie}`],Xe!=null&&g.Z[`padding-y-${Xe}`],pt!=null&&g.Z[`padding-top-${pt}`],at!=null&&g.Z[`padding-bottom-${at}`],zt!=null&&g.Z[`padding-left-${zt}`],Dt!=null&&g.Z[`padding-right-${Dt}`],fn!=null&&g.Z[`flex-direction-mobile-${fn}`],wn!=null&&g.Z[`flex-wrap-mobile-${wn}`],jn!=null&&g.Z[`flex-justify-mobile-${jn}`],K!=null&&g.Z[`flex-gap-mobile-${K}`],_r!=null&&g.Z[`flex-align-mobile-${_r}`],me!=null&&g.Z[`padding-mobile-${me}`],je!=null&&g.Z[`padding-x-mobile-${je}`],_t!=null&&g.Z[`padding-y-mobile-${_t}`],Ge!=null&&g.Z[`padding-top-mobile-${Ge}`],It!=null&&g.Z[`padding-bottom-mobile-${It}`],Xt!=null&&g.Z[`padding-left-mobile-${Xt}`],ln!=null&&g.Z[`padding-right-mobile-${ln}`],Bn!=null&&g.Z[`display-mobile-${Bn}`],de!=null&&g.Z[`min-width-${de}`],be!=null&&g.Z[`min-height-${be}`],we&&g.Z[`border-${we}`],xe&&g.Z[`border-top-${xe}`],Ue&&g.Z[`border-bottom-${Ue}`],De&&g.Z[`border-left-${De}`],_e&&g.Z[`border-right-${_e}`],ie&&g.Z[`border-y-${ie}`],ve!=null&&g.Z[`border-radius-${ve}`],he&&g.Z[`shadow-${he}`],Le!=null&&g.Z[`bg-${Le}`],He&&g.Z[`overflowY-${He}`],ht&&g.Z[`overflowX-${ht}`],bt&&g.Z[`sizing-${bt}`],Tt&&g.Z.ellipsis,Fe&&g.Z[`pullX-${Fe}`],Se&&g.Z[`position-${Se}`],nt&&y.Z[`align-${nt}`],ft&&y.Z[`size-${ft}`],We&&y.Z[`line-height-${We}`],Ye&&y.Z[`weight-${Ye}`],sn&&y.Z[`font-${sn}`],gt&&y.Z[`font-style-${gt}`],rt&&y.Z[`color-${rt}`],st&&y.Z[`transform-${st}`],ke&&y.Z.nowrap,Be&&`${y.Z.clamp} ${y.Z[`clamp-${Be}`]}`,$t&&y.Z[`decoration-${$t}`],Ne&&y.Z.paragraph,G),style:pe},Ke))});function M(R){var N=R,{className:T,displayName:A}=N,F=l(N,["className","displayName"]);const U=(0,m.forwardRef)((G,J)=>{var Q=G,{className:te}=Q,ee=l(Q,["className"]);return(0,o.h)(S,a(_(_({},F),ee),{ref:J,className:u()(T,te)}))});return U.displayName=A,U}},17685:(z,s,e)=>{"use strict";e.d(s,{zx:()=>R,hU:()=>N,kG:()=>M});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(39419),y=e(65919),w=e(19206);const v={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto"};var b=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(A,F,U)=>F in A?b(A,F,{enumerable:!0,configurable:!0,writable:!0,value:U}):A[F]=U,l=(A,F)=>{for(var U in F||(F={}))C.call(F,U)&&a(A,U,F[U]);if(O)for(var U of O(F))_.call(F,U)&&a(A,U,F[U]);return A},P=(A,F)=>D(A,E(F)),S=(A,F)=>{var U={};for(var G in A)C.call(A,G)&&F.indexOf(G)<0&&(U[G]=A[G]);if(A!=null&&O)for(var G of O(A))F.indexOf(G)<0&&_.call(A,G)&&(U[G]=A[G]);return U};const M=(0,m.forwardRef)((A,F)=>{var U=A,{onClick:G,href:J,localNavigation:Q,newTab:te,className:ee,resetCss:L}=U,V=S(U,["onClick","href","localNavigation","newTab","className","resetCss"]);const ne=J?ae=>{G&&(G.call(ae.target,ae),ae.defaultPrevented)||(0,g.redirect)(J,{event:ae,local_navigation:Q,newTab:te})}:G;return(0,o.h)("button",P(l({tabIndex:0,type:"button"},V),{className:u()("pencraft",ee,L&&v.buttonBase),ref:F,onClick:ne,"data-href":J}))});M.displayName="UnstyledButton";const R=(0,m.forwardRef)(function(F,U){var G=F,{className:J,priority:Q="primary",size:te="medium",fill:ee="filled",outline:L,rounded:V,disabled:ne,grow:ae,leftIcon:fe,rightIcon:le,allCaps:re,children:$,hiddenInput:oe,justifyContent:se="center"}=G,ce=S(G,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,o.h)(M,l({className:u()(J,v.buttonBase,v.button,v[`priority_${Q}`],v[`size_${te}`],v[`fill_${ee}`],L&&v.outline_none,V&&v.rounded,ae&&v.grow,fe!=null&&v.hasLeftIcon,le!=null&&v.hasRightIcon,se&&w.Z[`flex-justify-${se}`]),disabled:ne,ref:U},ce),fe,re?(0,o.h)(y.xv.Meta,null,$):$,le,oe)}),N=(0,m.forwardRef)((A,F)=>{var U=A,{className:G,size:J=40,priority:Q="secondary",color:te,fill:ee="empty",rounded:L=!0,inverted:V,grow:ne,shadow:ae}=U,fe=S(U,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,o.h)(M,l({ref:F,className:u()(G,v.iconButton,J!=null&&v[`size_${J}`],Q&&v[`priority_${Q}`],te&&v[`color_${te}`],ee&&v[`fill_${ee}`],V&&v.inverted,ne&&v.grow,L&&v.rounded,ae&&v[`shadow_${ae}`])},fe))}),T=A=>{var F=A,{href:U,download:G,className:J,priority:Q="primary",size:te="medium",fill:ee="filled",outline:L,rounded:V,grow:ne}=F,ae=S(F,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",l({href:U,download:G,className:classnames(J,css.buttonBase,css.button,css[`priority_${Q}`],css[`size_${te}`],css[`fill_${ee}`],L&&css.outline_none,V&&css.rounded,ne&&css.grow)},ae))}},91041:(z,s,e)=>{"use strict";e.d(s,{h:()=>M,a:()=>R});var o=e(6400),m=e(94184),d=e.n(m),u=e(49336),g=e(17685),y=e(51126),w=e(76235);const v={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var b=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(N,T,A)=>T in N?b(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,l=(N,T)=>{for(var A in T||(T={}))C.call(T,A)&&a(N,A,T[A]);if(O)for(var A of O(T))_.call(T,A)&&a(N,A,T[A]);return N},P=(N,T)=>D(N,E(T)),S=(N,T)=>{var A={};for(var F in N)C.call(N,F)&&T.indexOf(F)<0&&(A[F]=N[F]);if(N!=null&&O)for(var F of O(N))T.indexOf(F)<0&&_.call(N,F)&&(A[F]=N[F]);return A};const M=N=>{var T=N,{attached:A,gap:F=8}=T,U=S(T,["attached","gap"]);return(0,o.h)(y.gq,l({gap:A?0:F,className:d()({[v.attached]:A})},U))},R=N=>{var T=N,{children:A,menuItems:F,fill:U="filled",priority:G="primary",size:J="medium",rounded:Q=!1,additionalMenuProps:te={}}=T,ee=S(T,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,o.h)(M,{attached:!0},(0,o.h)(g.zx,P(l({},ee),{priority:G,size:J,rounded:Q,fill:U==="borderless"?"filled":U,outline:U==="borderless"?"none":void 0}),A),(0,o.h)(w.v2,P(l({},te),{trigger:(0,o.h)(g.hU,P(l({className:d()({[v.borderless]:U==="borderless"})},ee),{priority:G,fill:U,rounded:Q,size:J==="small"?32:40}),(0,o.h)(u.Z,{size:J==="small"?12:20}))}),F))}},15187:(z,s,e)=>{"use strict";e.d(s,{Tz:()=>R});var o=e(6400),m=e(94184),d=e.n(m),u=e(85928);const g={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(F,U,G)=>U in F?y(F,U,{enumerable:!0,configurable:!0,writable:!0,value:G}):F[U]=G,C=(F,U)=>{for(var G in U||(U={}))D.call(U,G)&&O(F,G,U[G]);if(b)for(var G of b(U))E.call(U,G)&&O(F,G,U[G]);return F},_=(F,U)=>w(F,v(U)),a=(F,U)=>{var G={};for(var J in F)D.call(F,J)&&U.indexOf(J)<0&&(G[J]=F[J]);if(F!=null&&b)for(var J of b(F))U.indexOf(J)<0&&E.call(F,J)&&(G[J]=F[J]);return G};const l="YYYY-MM-DD",P="YYYY-MM-DDThh:mm";function S(F){var U=F,{className:G,min:J,max:Q,value:te,onChange:ee,disabled:L}=U,V=a(U,["className","min","max","value","onChange","disabled"]);return h("input",_(C({},V),{type:"date",className:cn(css.datePicker,G),value:te?dayjs(te).format(l):void 0,min:J?dayjs(J).format(l):void 0,max:Q?dayjs(Q).format(l):void 0,onChange:ee,disabled:L}))}function M(F){var U=F,{className:G,min:J,max:Q,value:te,onChange:ee,disabled:L}=U,V=a(U,["className","min","max","value","onChange","disabled"]);return h("input",_(C({},V),{type:"datetime-local",className:cn(css.datePicker,G),value:te?dayjs(te).format(P):void 0,min:J?dayjs(J).format(P):void 0,max:Q?dayjs(Q).format(P):void 0,onChange:ee,disabled:L}))}function R(F){var U=F,{className:G,min:J,max:Q,value:te,onChange:ee,disabled:L}=U,V=a(U,["className","min","max","value","onChange","disabled"]);return(0,o.h)("input",_(C({},V),{type:"datetime-local",className:d()(g.datePicker,G),value:T(te),min:T(J),max:T(Q),onChange:ee,disabled:L}))}function N(F){var U=F,{className:G,min:J,max:Q,value:te,onChange:ee,disabled:L}=U,V=a(U,["className","min","max","value","onChange","disabled"]);return h("input",_(C({},V),{type:"month",className:cn(css.datePicker,G),value:T(te),min:T(J),max:T(Q),onChange:ee,disabled:L}))}function T(F){return F instanceof Date?`${F.getFullYear()}-${A(F.getMonth()+1)}-${A(F.getDate())}T${A(F.getHours())}:${A(F.getMinutes())}`:F}function A(F){const U=String(F);return U.length<2?`0${U}`:U}},48960:(z,s,e)=>{"use strict";e.d(s,{i:()=>C});var o=e(6400),m=e(94184),d=e.n(m),u=e(51126);const g={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&D(_,l,a[l]);if(w)for(var l of w(a))b.call(a,l)&&D(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&w)for(var P of w(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};const C=_=>{var a=_,{className:l,weight:P=1,priority:S="detail"}=a,M=O(a,["className","weight","priority"]);return(0,o.h)(u.hs,E({className:d()(g.divider,l,g[`priority_${S}`],P&&g[`weight-${P}`])},M),(0,o.h)("hr",null))}},51126:(z,s,e)=>{"use strict";e.d(s,{gq:()=>_,hs:()=>C,tu:()=>a});var o=e(6400),m=e(98661),d=e(84606),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(l,P,S)=>P in l?u(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&D(l,S,P[S]);if(w)for(var S of w(P))b.call(P,S)&&D(l,S,P[S]);return l},O=(l,P)=>g(l,y(P));const C=(0,m.forwardRef)(function(P,S){return(0,o.h)(d.x,O(E({},P),{display:P.display||"flex",ref:S}))}),_=C,a=(0,m.forwardRef)(function(P,S){return(0,o.h)(d.x,O(E({},P),{display:P.display||"flex",direction:"column",ref:S}))})},94016:(z,s,e)=>{"use strict";e.d(s,{z:()=>R,o:()=>N});var o=e(6400),m=e(30396),d=e(34875),u=e(94184),g=e.n(u),y=e(62372);const w={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var v=Object.defineProperty,b=Object.defineProperties,D=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(T,A,F)=>A in T?v(T,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[A]=F,a=(T,A)=>{for(var F in A||(A={}))O.call(A,F)&&_(T,F,A[F]);if(E)for(var F of E(A))C.call(A,F)&&_(T,F,A[F]);return T},l=(T,A)=>b(T,D(A)),P=(T,A)=>{var F={};for(var U in T)O.call(T,U)&&A.indexOf(U)<0&&(F[U]=T[U]);if(T!=null&&E)for(var U of E(T))A.indexOf(U)<0&&C.call(T,U)&&(F[U]=T[U]);return F};const S=500,M=250,R=T=>{var A=T,{className:F="",children:U,layerClassName:G,dontStopPropagation:J}=A,Q=P(A,["className","children","layerClassName","dontStopPropagation"]);const te=N(a({className:G},Q));return(0,o.h)("div",l(a(a({className:F},te.triggerProps),te.hoverProps),{onClick:ee=>{J||ee.stopPropagation()}}),U,te.layer)};function N(T){var A=T,{disabled:F,onFetch:U,onOpen:G,content:J,className:Q,layerOptions:te,hideOnScroll:ee=!1}=A,L=P(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[V,ne,ae]=(0,y.XI)({delayEnter:S,delayLeave:M,hideOnScroll:ee}),fe=(0,m.sO)(!1);(0,m.d4)(()=>{V&&(!fe.current&&U&&(fe.current=!0,U()),G&&G())},[V,U,G]);const[le,re]=(0,m.eJ)(!1),{triggerProps:$,layerProps:oe,renderLayer:se,layerSide:ce}=(0,y.sJ)(a({isOpen:F?!1:V,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},te));return{triggerProps:$,hoverProps:ne,layer:(V||le)&&!F&&se((0,o.h)(d.u,{appear:!0,show:V&&!L.loading,beforeEnter:()=>re(!0),afterLeave:()=>re(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",a(a({onClick:()=>{ae()},className:g()(Q,w.hoverCardBase)},oe),ne),J)))}}},56288:(z,s,e)=>{"use strict";e.d(s,{a:()=>O});var o=e(6400),m=e(94184),d=e.n(m);const u={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var g=Object.defineProperty,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?g(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>{var l={};for(var P in _)w.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&y)for(var P of y(_))a.indexOf(P)<0&&v.call(_,P)&&(l[P]=_[P]);return l};const O=_=>{var a=_,{type:l="circular"}=a,P=E(a,["type"]);if(l==="circular")return(0,o.h)(C,D({},P));throw new Error("not implemented")},C=({className:_,size:a="md",dataTestId:l})=>(0,o.h)("div",{"data-testid":l,className:d()(u.circularLoader,u[`size_${a}`],_)})},76235:(z,s,e)=>{"use strict";e.d(s,{v2:()=>fe,sN:()=>le});var o=e(6400),m=e(98661),d=e(30396),u=e(34875),g=e(94184),y=e.n(g),w=e(44396),v=e(71375),b=e(17685),D=e(51126),E=e(65919);const O={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc"};var C=Object.defineProperty,_=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,P=(oe,se,ce)=>se in oe?C(oe,se,{enumerable:!0,configurable:!0,writable:!0,value:ce}):oe[se]=ce,S=(oe,se)=>{for(var ce in se||(se={}))a.call(se,ce)&&P(oe,ce,se[ce]);if(_)for(var ce of _(se))l.call(se,ce)&&P(oe,ce,se[ce]);return oe},M=(oe,se)=>{var ce={};for(var de in oe)a.call(oe,de)&&se.indexOf(de)<0&&(ce[de]=oe[de]);if(oe!=null&&_)for(var de of _(oe))se.indexOf(de)<0&&l.call(oe,de)&&(ce[de]=oe[de]);return ce};const R=(0,m.forwardRef)(({title:oe,subtitle:se,onClose:ce,children:de,className:be},pe)=>(0,o.h)(D.tu,{className:O.root,onClick:ce},(0,o.h)(u.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,o.h)(D.tu,{className:y()(O.sheet,be),ref:pe,onClick:we=>{we.stopPropagation()}},(0,o.h)(D.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,o.h)(D.tu,null,(0,o.h)(E.xv.B3,{weight:"semibold"},oe),(0,o.h)(E.xv.B4,{color:"secondary"},se)),(0,o.h)(b.hU,{fill:"empty",onClick:()=>{ce()},priority:"secondary"},(0,o.h)(v.Z,null))),(0,o.h)(D.tu,{paddingTop:8,overflowY:"auto",className:O.items},de)))));function N(oe){var se=oe,{children:ce,onClick:de,closeMenu:be,icon:pe,className:we,priority:xe="primary",disabled:Ue}=se,De=M(se,["children","onClick","closeMenu","icon","className","priority","disabled"]);const _e=De.href?"a":b.kG;return(0,o.h)(_e,S({className:y()(O.item,O[xe],we,{[O.disabled]:!!Ue}),resetCss:!0,onClick:ie=>{de==null||de(ie),be==null||be()}},De),pe&&(0,o.cloneElement)(pe,{size:20,stroke:"var(--color-primary)"}),pe&&" ",(0,o.h)(E.xv.B4,{color:xe==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},ce))}var T=e(89581);const A={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var F=Object.defineProperty,U=Object.defineProperties,G=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ee=(oe,se,ce)=>se in oe?F(oe,se,{enumerable:!0,configurable:!0,writable:!0,value:ce}):oe[se]=ce,L=(oe,se)=>{for(var ce in se||(se={}))Q.call(se,ce)&&ee(oe,ce,se[ce]);if(J)for(var ce of J(se))te.call(se,ce)&&ee(oe,ce,se[ce]);return oe},V=(oe,se)=>U(oe,G(se)),ne=(oe,se)=>{var ce={};for(var de in oe)Q.call(oe,de)&&se.indexOf(de)<0&&(ce[de]=oe[de]);if(oe!=null&&J)for(var de of J(oe))se.indexOf(de)<0&&te.call(oe,de)&&(ce[de]=oe[de]);return ce};function ae(oe){return typeof oe.type=="string"||oe.type.$$typeof===Symbol.for("react.forward_ref")}const fe=(0,m.forwardRef)((oe,se)=>{var ce=oe,{trigger:de,children:be,ariaLabel:pe="View more",hideOnScroll:we,layerOptions:xe,layerClassName:Ue,onOpen:De,onClose:_e,useMobileBottomSheet:ie=!1,mobileBottomSheetTitle:ve,mobileBottomSheetSubtitle:he,stopPropagation:Le=!1,maxHeight:He=295,padding:ht=8,disableMenu:bt=!1}=ce,Tt=ne(ce,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);ae(de)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const Fe=(0,w.XA)(),{triggerProps:nt,layerProps:ft,renderLayer:Ye,isOpen:rt,setOpen:$t}=(0,T.x)({layerOptions:L({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},xe),hideOnScroll:we&&!(ie&&Fe)}),[sn,gt]=(0,d.eJ)(!1),Ne=()=>{$t(!1),_e&&_e()},We=(0,o.toChildArray)(be).map(st=>(0,o.cloneElement)(st,{useMobileBottomSheet:ie,closeMenu:Ne}));return(0,o.h)(o.Fragment,null,(0,o.cloneElement)(de,V(L({},nt),{ariaLabel:pe,onClick:st=>{st.preventDefault(),Le&&st.stopPropagation(),bt||$t(!rt),!rt&&De&&De(),rt&&_e&&_e()}})),(rt||sn)&&Ye(ie&&Fe?(0,o.h)(u.u,{appear:!0,show:rt,beforeEnter:()=>gt(!0),afterLeave:()=>gt(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",L(L({},ft),Tt),(0,o.h)(R,{title:ve,subtitle:he,onClose:Ne,ref:se,className:Ue},We))):(0,o.h)(u.u,{appear:!0,show:rt,beforeEnter:()=>gt(!0),afterLeave:()=>gt(!1),enter:"tw-duration-300",leave:"tw-duration-300"},(0,o.h)("div",L(L({},ft),Tt),(0,o.h)(u.u,{appear:!0,show:rt,enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(re,L({className:Ue,ref:se},!we&&{style:{maxHeight:He,padding:ht,overflowY:"auto"}}),We))))))}),le=oe=>{var se=oe,{useMobileBottomSheet:ce}=se,de=ne(se,["useMobileBottomSheet"]);const be=(0,w.XA)();return ce&&be?(0,o.h)(N,L({},de)):(0,o.h)($,L({},de))},re=(0,m.forwardRef)((oe,se)=>{var ce=oe,{className:de}=ce,be=ne(ce,["className"]);return(0,o.h)(D.tu,L({className:y()(A.menu,"elevated",de),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:se},be))}),$=oe=>{var se=oe,{children:ce,onClick:de,closeMenu:be,icon:pe,suffix:we,priority:xe="primary",className:Ue,disabled:De,href:_e,download:ie}=se,ve=ne(se,["children","onClick","closeMenu","icon","suffix","priority","className","disabled","href","download"]);const he=_e?"a":b.kG;return(0,o.h)(he,L({className:y()(A.menuItem,A[xe],Ue,{[A.disabled]:!!De}),resetCss:!0,onClick:Le=>{De||(de&&de(Le),be&&be())},href:De?"javascript:void(0)":_e,download:ie},ve),pe&&(0,o.cloneElement)(pe,{size:24,className:y()(A.icon,pe.props.className)}),(0,o.h)(E.xv.B4,{color:xe==="destructive"?"accent-red":"primary",className:A.text,weight:"semibold",align:"left"},ce),we)}},53940:(z,s,e)=>{"use strict";e.d(s,{u:()=>a,f:()=>C});var o=e(6400),m=e(98661),d=e(34875),u=e(53789),g=e(94184),y=e.n(g),w=e(50308),v=e.n(w),b=e(44396),D=e(21958),E=e(51126);const O={container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"},C=(0,D.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),_=({children:l})=>(0,o.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},l),a=({isOpen:l,onClose:P=()=>{},children:S,includeBackdrop:M=!0,position:R="default",opacity:N="medium",testId:T="modal",className:A,onEscape:F,fullscreenMobile:U,overflow:G,width:J=440,disableCloseOnBackdropClick:Q=!1,initialFocus:te})=>{const ee=(0,b.XA)(),L=V=>{const{code:ne}=V;F&&ne==="Escape"&&F(V)};return(0,o.h)(d.u,{show:l,as:m.Fragment},(0,o.h)(u.V,{onMouseDown:V=>V.stopPropagation(),onMouseUp:V=>V.stopPropagation(),onClick:V=>V.stopPropagation(),"data-testid":T,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",open:l,onClose:Q?v():P,onKeyDown:F&&L,initialFocus:te},(0,o.h)(_,null,M&&(0,o.h)(d.u.Child,{enter:"tw-transition tw-ease-in-out tw-duration-500",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-500",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)(u.V.Overlay,{className:N==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50"})),(0,o.h)(d.u.Child,{as:m.Fragment,enter:"tw-transition ease-in-out tw-duration-500",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-in-out tw-duration-500",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(E.hs,{className:y()(A,O.container,O[R],U?O.fullscreenMobile:O.dynamicMobile),style:{width:ee||R==="full"?void 0:J,overflow:G}},S)))))}},29354:(z,s,e)=>{"use strict";e.d(s,{m:()=>D});var o=e(6400),m=e(94184),d=e.n(m),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(C,_,a)=>_ in C?u(C,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):C[_]=a,b=(C,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(C,a,_[a]);if(g)for(var a of g(_))w.call(_,a)&&v(C,a,_[a]);return C};const D=C=>C.alignment==="center"?(0,o.h)(O,b({},C)):(0,o.h)(E,b({},C)),E=({primaryButton:C,secondaryButton:_,destructiveButton:a,includeDivider:l,className:P})=>(0,o.h)("div",{className:d()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":l},P)},a&&(0,o.cloneElement)(a,{className:d()("tw-mr-auto",a.props.className)}),_,C),O=({includeDivider:C,primaryButton:_,secondaryButton:a,className:l})=>(0,o.h)("div",{className:d()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":C},l)},_,a)},28079:(z,s,e)=>{"use strict";e.d(s,{r:()=>b,x:()=>v});var o=e(6400),m=e(53789),d=e(94184),u=e.n(d),g=e(26059),y=e(33705),w=e(21958);const v=({isModal:D=!0,onClose:E,includeClose:O=!1,bottomBorder:C,title:_,description:a,as:l="h2",usePubThemeForTitle:P=!1,className:S,pagination:M})=>(0,o.h)("div",{className:u()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",S,{"tw-px-4":!M,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":C})},!_&&!M&&(0,o.h)(y.Z,{alt:"Substack icon",height:24}),M&&(0,o.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},M[0]," OF ",M[1]),O&&(0,o.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:E,"aria-label":"close"},(0,o.h)(g.Z,null)),_&&D&&(0,o.h)(m.V.Title,{as:l,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),a&&D&&(0,o.h)(m.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},a),_&&!D&&(0,o.h)(b,{className:"tw-col-start-1 tw-row-start-1"},_)&&(0,o.createElement)(l,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},_),a&&!D&&(0,o.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},a)&&(0,o.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},a)),b=(0,w.L)("tw-my-0 tw-font-title","h2")},92106:(z,s,e)=>{"use strict";var o=e(6400),m=e(94184),d=e(51126),u=e(65919);const g={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&D(_,l,a[l]);if(w)for(var l of w(a))b.call(a,l)&&D(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&w)for(var P of w(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};const C=_=>{var a=_,{icon:l,text:P,textColor:S="secondary",bgColor:M="secondary",paddingX:R=24,paddingY:N=24,border:T,className:A,onClick:F}=a,U=O(a,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,E({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:R,paddingY:N,radius:8,border:T,className:cn(A,css.placeholder,css[`bg_${M}`],css[`text_${S}`],{[css.clickable]:!!F}),onClick:F},U),h(FlexColumn,{gap:8,alignItems:"center"},l,h(Text.B4,{color:S,className:css.text,weight:"bold"},P)))}},65414:(z,s,e)=>{"use strict";var o=e(6400),m=e(94184),d=e.n(m),u=e(30058),g=Object.defineProperty,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(_,a,l)=>a in _?g(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,D=(_,a)=>{for(var l in a||(a={}))w.call(a,l)&&b(_,l,a[l]);if(y)for(var l of y(a))v.call(a,l)&&b(_,l,a[l]);return _},E=(_,a)=>{var l={};for(var P in _)w.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&y)for(var P of y(_))a.indexOf(P)<0&&v.call(_,P)&&(l[P]=_[P]);return l};const O=_=>{var a=_,{color:l="default",accessibilityLabel:P="Toggle setting",classNames:S,checked:M,small:R=!1,preflightClassName:N}=a,T=E(a,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const A=l==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return h(Preflight,{className:N},h(HeadlessSwitch,D({className:cn(M?A:"tw-bg-neutral-400",R?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-in-out disabled:tw-bg-neutral-200",S),checked:M},T),h("span",{className:"tw-sr-only"},P),h("span",{"aria-hidden":"true",className:cn(M?`${R?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",R?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-in-out")})))};var C=null},65919:(z,s,e)=>{"use strict";e.d(s,{Zx:()=>P,hh:()=>se,xv:()=>l});var o=e(6400),m=e(94184),d=e.n(m),u=e(84606),g=e(28614),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(ce,de,be)=>de in ce?y(ce,de,{enumerable:!0,configurable:!0,writable:!0,value:be}):ce[de]=be,C=(ce,de)=>{for(var be in de||(de={}))D.call(de,be)&&O(ce,be,de[be]);if(b)for(var be of b(de))E.call(de,be)&&O(ce,be,de[be]);return ce},_=(ce,de)=>w(ce,v(de)),a=(ce,de)=>{var be={};for(var pe in ce)D.call(ce,pe)&&de.indexOf(pe)<0&&(be[pe]=ce[pe]);if(ce!=null&&b)for(var pe of b(ce))de.indexOf(pe)<0&&E.call(ce,pe)&&(be[pe]=ce[pe]);return be};const l=ce=>{var de=ce,{className:be,align:pe,size:we,weight:xe,transform:Ue}=de,De=a(de,["className","align","size","weight","transform"]);return De=_(C({},De),{textAlign:pe!=null?pe:De.textAlign,textTransform:Ue!=null?Ue:De.textTransform,fontSize:we!=null?we:De.fontSize,fontWeight:xe!=null?xe:De.fontWeight}),(0,o.h)(u.x,C({className:d()(g.Z.reset,be)},De))},P=ce=>(0,o.h)(l,C({as:"span"},ce)),S=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:d()(g.Z.header1,pe)},we),be)},M=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:d()(g.Z.header2,pe)},we),be)},R=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:d()(g.Z.header3,pe)},we),be)},N=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:d()(g.Z.header4,pe)},we),be)},T=(0,u.E)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:g.Z.body1}),A=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:d()(g.Z.body2,pe)},we),be)},F=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:d()(g.Z.body3,pe)},we),be)},U=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:d()(g.Z.body4,pe)},we),be)},G=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:d()(g.Z.meta,pe)},we),be)},J=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:d()(g.Z.digit,pe)},we),be)},Q=ce=>(0,o.h)(l,C({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},ce)),te=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:d()(pe)},we),be)},ee=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({font:"text",color:"primary",className:d()(g.Z.marketingBody,pe)},we),be)},L=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h1",color:"primary",weight:"normal",className:d()(g.Z.marketingHeading1xl,pe)},we),be)},V=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h1",color:"primary",weight:"normal",className:d()(g.Z.marketingHeading1,pe)},we),be)},ne=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h3",color:"primary",weight:"medium",className:d()(g.Z.marketingHeading2,pe)},we),be)},ae=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h3",color:"primary",weight:"medium",className:d()(g.Z.marketingHeading3,pe)},we),be)},fe=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h4",color:"primary",weight:"medium",className:d()(g.Z.marketingHeading4,pe)},we),be)},le=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h5",color:"primary",weight:"normal",className:d()(g.Z.marketingHeading5,pe)},we),be)},re=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h4",color:"primary",weight:"normal",align:"center",className:d()(g.Z.marketingQuote,pe)},we),be)},$=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h4",color:"primary",weight:"normal",size:28,className:d()(g.Z.marketingSubtitle,pe)},we),be)},oe=ce=>{var de=ce,{children:be,className:pe}=de,we=a(de,["children","className"]);return(0,o.h)(l,C({as:"h1",color:"primary",weight:"normal",className:d()(g.Z.stat,pe)},we),be)},se=(0,u.E)({as:"a",decoration:"hover-underline"});l.H1=S,l.H2=M,l.H3=R,l.H4=N,l.B1=T,l.B2=A,l.B3=F,l.B4=U,l.Detail=te,l.MarketingBody=ee,l.MarketingHeading1xl=L,l.MarketingHeading1=V,l.MarketingHeading2=ne,l.MarketingHeading3=ae,l.MarketingHeading4=fe,l.MarketingHeading5=le,l.MarketingQuote=re,l.MarketingSubtitle=$,l.Meta=G,l.Stat=oe,l.Digit=J,l.Button=Q},75425:(z,s,e)=>{"use strict";e.d(s,{FN:()=>N,Us:()=>T,VW:()=>V,dd:()=>ne,lL:()=>A,pm:()=>ae});var o=e(6400),m=e(98661),d=e(30396),u=e(34875),g=e(94184),y=e.n(g),w=e(71375),v=e(13833),b=e(21958),D=e(92271),E=e(51126),O=Object.defineProperty,C=Object.defineProperties,_=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,S=(fe,le,re)=>le in fe?O(fe,le,{enumerable:!0,configurable:!0,writable:!0,value:re}):fe[le]=re,M=(fe,le)=>{for(var re in le||(le={}))l.call(le,re)&&S(fe,re,le[re]);if(a)for(var re of a(le))P.call(le,re)&&S(fe,re,le[re]);return fe},R=(fe,le)=>C(fe,_(le));function N({text:fe,cta:le,onAccept:re,href:$,onClose:oe,Icon:se,className:ce}){return(0,o.h)(U,{className:y()("tw-items-center",ce)},(0,o.h)(E.gq,{className:"tw-flex-1",gap:12},se&&(0,o.h)(te,{Icon:se}),(0,o.h)(G,null,fe)),(0,o.h)(E.gq,{className:"tw-flex-none",gap:12},le&&(typeof le=="string"?($||re)&&(0,o.h)(D.z,{look:"flex",onClick:de=>{oe==null||oe(),re==null||re(de)},href:$},(0,o.h)(v.Av,{className:"tw-text-dark-secondary"},le)):le),(0,o.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,o.h)(Q,{onClick:oe})))}function T({title:fe,body:le,buttons:re,onClose:$,Icon:oe}){return(0,o.h)(U,{className:"tw-max-w-md"},oe&&(0,o.h)(te,{Icon:oe}),(0,o.h)(E.tu,{className:"tw-flex-0-5",gap:8},(0,o.h)(E.tu,{className:"tw-flex-0-5",gap:4},(0,o.h)(G,null,fe),(0,o.h)(J,null,le)),re&&(0,o.h)(E.gq,{gap:24},re)),(0,o.h)(Q,{onClick:$}))}function A(fe){return(0,o.h)(D.z,M({look:"flex",className:"tw-h-9 tw-items-center"},fe))}function F(fe){return h("div",{className:ee},h(N,M({},fe)))}const U=(0,b.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),G=(0,b.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",v.Hj),J=(0,b.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",v.Hj);function Q({onClick:fe}){return(0,o.h)(D.z,{look:"flex",onClick:fe},(0,o.h)(w.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function te({Icon:fe}){return(0,o.h)(fe,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const ee="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",L=(0,o.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function V({children:fe}){const[le,re]=(0,d.eJ)(null),[$,oe]=(0,d.eJ)("hidden"),[se,ce]=(0,d.eJ)(0),de=(0,d.sO)(null),be=()=>{oe("hidden")},pe=(xe,{ttl:Ue=5e3}={})=>{re({element:xe({onClose:be}),ttl:Ue}),oe("visible"),de.current!=null&&clearTimeout(de.current),de.current=Ue===null?null:setTimeout(be,Ue)},we=xe=>{ce(Math.min(se+xe,0))};return(0,o.h)(L.Provider,{value:{popToast:pe,addOffset:we}},fe,(0,o.h)("div",{className:ee,style:{transform:`translateY(${se}px)`}},(0,o.h)(u.u,{appear:!0,show:!!le&&$==="visible",enter:"tw-transition-all tw-duration-500 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-500 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>de.current!=null&&clearTimeout(de.current),onMouseLeave:()=>{de.current!=null&&clearTimeout(de.current),le&&(de.current=le.ttl===null?null:setTimeout(be,le.ttl))}},le==null?void 0:le.element)))}const ne=fe=>{const le=(0,m.forwardRef)((re,$)=>{const oe=ae();return(0,o.h)(fe,R(M(M({},oe),re),{ref:$}))});return le.displayName=`withToastContext(${fe.name||fe.displayName||"Anonymous"})`,le};function ae(){return(0,d.qp)(L)}},92630:(z,s,e)=>{"use strict";e.d(s,{u:()=>P,_:()=>S});var o=e(6400),m=e(51126),d=e(25666);const u={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB"};var g=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(M,R,N)=>R in M?g(M,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):M[R]=N,O=(M,R)=>{for(var N in R||(R={}))b.call(R,N)&&E(M,N,R[N]);if(v)for(var N of v(R))D.call(R,N)&&E(M,N,R[N]);return M},C=(M,R)=>y(M,w(R)),_=(M,R)=>{var N={};for(var T in M)b.call(M,T)&&R.indexOf(T)<0&&(N[T]=M[T]);if(M!=null&&v)for(var T of v(M))R.indexOf(T)<0&&D.call(M,T)&&(N[T]=M[T]);return N};const a=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],l=["left-start","left-center","left-end","right-start","right-center","right-end"],P=M=>{var R=M,{children:N,text:T,as:A="span",icon:F,preferPlacement:U="top-center",disabled:G,dangerouslySetTooltipZIndex:J}=R,Q=_(R,["children","text","as","icon","preferPlacement","disabled","dangerouslySetTooltipZIndex"]);const{layerProps:te,triggerProps:ee,transitionProps:L,renderLayer:V,shouldShow:ne}=(0,d.l)({layerOptions:{placement:U,possiblePlacements:l.includes(U)?l:a}}),ae=te,{style:fe}=ae,le=_(ae,["style"]);return G?(0,o.h)(o.Fragment,null,N):(0,o.h)(o.Fragment,null,(0,o.h)(A,O(O({},ee),Q),N),ne&&V((0,o.h)(S,{transitionProps:L,tooltipProps:C(O({},le),{style:C(O({},fe),{maxWidth:350,zIndex:J||Number.MAX_SAFE_INTEGER})}),icon:F,text:T})))};function S({transitionProps:M,tooltipProps:R,icon:N,text:T}){return(0,o.h)("div",O({},R),(0,o.h)(d.x,O({},M),(0,o.h)("div",{className:u.tooltip},(0,o.h)(m.gq,{alignItems:"center",gap:8,className:u.tooltipContent},N&&(0,o.h)(o.Fragment,null,(0,o.cloneElement)(N,{size:20})," "),T))))}},86605:(z,s,e)=>{"use strict";e.d(s,{P:()=>D});var o=e(6400),m=e(71375),d=e(17685),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(E,O,C)=>O in E?u(E,O,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[O]=C,b=(E,O)=>{for(var C in O||(O={}))y.call(O,C)&&v(E,C,O[C]);if(g)for(var C of g(O))w.call(O,C)&&v(E,C,O[C]);return E};function D(E){return(0,o.h)(d.hU,b({rounded:!0},E),(0,o.h)(m.Z,null))}},13833:(z,s,e)=>{"use strict";e.d(s,{xv:()=>S,Hj:()=>P,Av:()=>R,gx:()=>M});var o=e(6400),m=e(94184),d=e.n(m),u=e(19696);const g={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(N,T,A)=>T in N?y(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,C=(N,T)=>{for(var A in T||(T={}))D.call(T,A)&&O(N,A,T[A]);if(b)for(var A of b(T))E.call(T,A)&&O(N,A,T[A]);return N},_=(N,T)=>w(N,v(T)),a=(N,T)=>{var A={};for(var F in N)D.call(N,F)&&T.indexOf(F)<0&&(A[F]=N[F]);if(N!=null&&b)for(var F of b(N))T.indexOf(F)<0&&E.call(N,F)&&(A[F]=N[F]);return A};const l=(0,u.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),P=(0,u.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function S(N){var T=N,{className:A,color:F,as:U="span"}=T,G=a(T,["className","color","as"]);return(0,o.h)(U,_(C({},G),{className:d()(A,F&&g[`color-${F}`])}))}const M="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",R=(0,u.L)(M,S)},92271:(z,s,e)=>{"use strict";e.d(s,{z:()=>C});var o=e(6400),m=e(94184),d=e.n(m),u=e(17685),g=e(13833),y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(S,M,R)=>M in S?y(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,E=(S,M)=>{for(var R in M||(M={}))v.call(M,R)&&D(S,R,M[R]);if(w)for(var R of w(M))b.call(M,R)&&D(S,R,M[R]);return S},O=(S,M)=>{var R={};for(var N in S)v.call(S,N)&&M.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&w)for(var N of w(S))M.indexOf(N)<0&&b.call(S,N)&&(R[N]=S[N]);return R};function C(S){var M=S,{className:R,variant:N,look:T="button",fill:A="outline",fixedHeight:F=!0,size:U="medium",leftIcon:G,rightIcon:J,noPadding:Q=!1,forwardedRef:te,children:ee}=M,L=O(M,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,o.h)(u.kG,E({className:d()(R,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!P.includes(T)&&"tw-bg-transparent",a.includes(T)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${g.gx}`,l.includes(T)&&!Q&&"tw-px-5",F||T=="round"?U==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",T==="button"&&"tw-rounded",T==="round"&&["tw-rounded-full tw-px-4",G&&"tw-pl-[10px]",J&&"tw-pr-[10px]"],T==="circle"&&["tw-justify-center tw-rounded-full",U==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],T==="text"&&`tw-inline ${_}`,T==="reset"&&`tw-inline-block ${_}`,T==="flex"&&`tw-flex ${_}`,N==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:N==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:N==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(T)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:N==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:N==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(T)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:N==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:N==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(T)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:te},L),G,ee,J)}const _="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",a=["button","borderless","circle","round"],l=["button","borderless"],P=["button","circle","round"]},53570:(z,s,e)=>{"use strict";e.d(s,{X:()=>l});var o=e(6400),m=e(94184),d=e.n(m),u=e(25380);const g={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,C=(P,S)=>{for(var M in S||(S={}))D.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>w(P,v(S)),a=(P,S)=>{var M={};for(var R in P)D.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=P=>{var S=P,{name:M,size:R="medium",checked:N,disabled:T=!1,error:A=!1,onChange:F,as:U="label",withTheme:G=!1}=S,J=a(S,["name","size","checked","disabled","error","onChange","as","withTheme"]);const Q=U;return(0,o.h)(Q,{className:d()("pencraft",g.container,g[R],T?g.disabled:g.enabled,N?G?g.checkedWithTheme:g.checked:g.unchecked,A?g.error:"")},N&&(0,o.h)(u.Z,{size:R==="small"?16:24}),(0,o.h)("input",_(C({},J),{className:"pencraft",type:"checkbox",name:M,"data-testid":M,checked:N,disabled:T,onChange:te=>{var ee,L;!T&&F(!N,_(C({},te.target),{name:(L=(ee=te.target)==null?void 0:ee.name)!=null?L:""}))}})))}},71346:(z,s,e)=>{"use strict";e.d(s,{j:()=>g});var o=e(6400),m=e(51126),d=e(65919),u=e(53570);const g=({contentBelow:y,details:w,disabled:v,label:b,name:D,paddingBottom:E,paddingTop:O,testid:C,track:_,value:a,onChange:l})=>(0,o.h)(m.gq,{as:"label",gap:8,paddingBottom:E,paddingTop:O},(0,o.h)(u.X,{as:"div",checked:a,name:D!=null?D:C,"data-track-input":_,disabled:v,size:"small",onChange:l}),(0,o.h)(m.tu,{flex:"grow"},(0,o.h)(d.xv.B4,{as:"span",color:v?"secondary":"primary"},b),w&&(0,o.h)(d.xv.Detail,null,w),y))},69045:(z,s,e)=>{"use strict";var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(67963),y=e(39419);const w={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var v=Object.defineProperty,b=(N,T,A)=>T in N?v(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,D=(N,T,A)=>(b(N,typeof T!="symbol"?T+"":T,A),A);const E=300,O=8,C=100;class _ extends o.Component{constructor(T,A){super(T,A),this.cardRef=(0,o.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,o.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},C)}setIsShown(T){this.setState({isOpen:T,attachCard:T})}onClick(T){T.stopPropagation()}render({content:T,preferPositionLeft:A,className:F,children:U},{attachCard:G,isOpen:J}){var Q,te,ee;let L={},V=!1;if(G&&((Q=this.wrapperRef)!=null&&Q.current)){const{top:ne,left:ae}=this.wrapperRef.current.getBoundingClientRect(),{height:fe,width:le}=(ee=(te=this.cardRef.current)==null?void 0:te.getBoundingClientRect())!=null?ee:{};V=A&&ae-le>0,V?L={top:ne-O-fe,left:ae-le-O,"max-width":E}:L={top:ne-O-fe,"max-width":E,left:ae}}return(0,o.h)("div",{className:u()(w.portalWrapper,F),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:ne=>this.onClick(ne),ref:this.wrapperRef},typeof U=="function"?U({}):U,G&&(0,m.createPortal)((0,o.h)("div",{className:u()(w.contentWrapper,{[w.contentWrapperShown]:J,"animate-opacity":!(0,y.isSafari)(),"position-left":V}),ref:this.cardRef,style:L,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},T),document.body))}}D(_,"defaultProps",{delay:C}),D(_,"contextType",g.St);const a=_,l={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},P=({content:N})=>(0,o.h)(a,{content:N},(0,o.h)("div",{className:l.learnMoreChip},"?"));var S=e(51126),M=e(65919);const R=(0,m.forwardRef)(({action:N,children:T,className:A,errors:F,helpText:U,details:G,label:J,paddingBottom:Q,paddingTop:te,wrapWithLabel:ee},L)=>(0,o.h)(S.tu,{ref:L,alignItems:"stretch",className:A,gap:8,paddingBottom:Q,paddingTop:te},(0,o.h)(S.tu,{alignItems:"stretch",gap:8,as:ee?"label":"div"},J&&(0,o.h)(S.gq,{gap:8,alignItems:"center"},(0,o.h)(M.xv.B4,{weight:"semibold",as:ee?"div":"label",color:"primary"},J),U&&(0,o.h)(P,{content:U}),N&&(0,o.h)(S.gq,{flex:"grow",justifyContent:"end"},N)),(0,o.h)("div",null,T)),G&&!Array.isArray(G)&&(0,o.h)(M.xv.Detail,null,G),G&&Array.isArray(G)&&G.length>0&&(0,o.h)(S.tu,{gap:4},G.map(V=>(0,o.h)(M.xv.Detail,null,V))),F&&F.map(V=>(0,o.h)(M.xv.B4,{color:"error",key:V},V))))},92958:(z,s,e)=>{"use strict";var o=e(6400),m=e(94184);const d={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP"};var u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l)),C=(a,l)=>{var P={};for(var S in a)v.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&w)for(var S of w(a))l.indexOf(S)<0&&b.call(a,S)&&(P[S]=a[S]);return P};const _=a=>{var l=C(a,[]);return h("div",{className:cn(css.container)},h("input",O(E({},l),{type:"radio"})),h("span",{className:css.radio}))}},2019:(z,s,e)=>{"use strict";var o=e(6400),m=e(30396),d=e(51126),u=e(65919),g=e(69045),y=e(92958);const w=({label:v,name:b,options:D,paddingBottom:E,paddingTop:O,size:C="medium",value:_,onChange:a})=>{const l=useCallback(P=>{a(P.target.value)},[a]);return h(Field,{label:v,paddingBottom:E,paddingTop:O},h(FlexColumn,{gap:C==="medium"?8:16},D.map(({value:P,label:S,disabled:M,track:R,testid:N})=>h(FlexRow,{as:"label",gap:8,alignItems:"center",paddingLeft:4},h(Radio,{checked:P===_,"data-testid":N,"data-track-input":R,disabled:M,name:b,value:P,onClick:l}),C==="medium"?h(Text.B4,{as:"span"},S):h(Text.B3,null,S)))))}},34394:(z,s,e)=>{"use strict";e.d(s,{o:()=>l});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(51220),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,C=(P,S)=>{for(var M in S||(S={}))D.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>w(P,v(S)),a=(P,S)=>{var M={};for(var R in P)D.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=(0,m.forwardRef)((P,S)=>{var M=P,{className:R,error:N=!1,type:T="text",width:A,font:F}=M,U=a(M,["className","error","type","width","font"]);return(0,o.h)("input",_(C({},U),{className:u()(R,g.Z.input,{[g.Z.error]:N},F&&g.Z[`font-${F}`]),style:{width:A},type:T,ref:S}))})},27885:(z,s,e)=>{"use strict";e.d(s,{g:()=>l});var o=e(6400),m=e(98661),d=e(94184),u=e.n(d),g=e(51220),y=Object.defineProperty,w=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(P,S,M)=>S in P?y(P,S,{enumerable:!0,configurable:!0,writable:!0,value:M}):P[S]=M,C=(P,S)=>{for(var M in S||(S={}))D.call(S,M)&&O(P,M,S[M]);if(b)for(var M of b(S))E.call(S,M)&&O(P,M,S[M]);return P},_=(P,S)=>w(P,v(S)),a=(P,S)=>{var M={};for(var R in P)D.call(P,R)&&S.indexOf(R)<0&&(M[R]=P[R]);if(P!=null&&b)for(var R of b(P))S.indexOf(R)<0&&E.call(P,R)&&(M[R]=P[R]);return M};const l=(0,m.forwardRef)((P,S)=>{var M=P,{className:R,error:N=!1,font:T}=M,A=a(M,["className","error","font"]);return(0,o.h)("textarea",_(C({ref:S,className:u()(R,g.Z.input,g.Z.textarea,{[g.Z.error]:N},T&&g.Z[`font-${T}`])},A),{type:"text"}))})},89581:(z,s,e)=>{"use strict";e.d(s,{x:()=>_});var o=e(30396),m=e(62372);let d=0;function u(a="",l=[]){return(0,o.Ye)(()=>(d++,d=d>Number.MAX_SAFE_INTEGER?1:d,`${a}${d}`),l)}var g=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,O=(a,l)=>{for(var P in l||(l={}))b.call(l,P)&&E(a,P,l[P]);if(v)for(var P of v(l))D.call(l,P)&&E(a,P,l[P]);return a},C=(a,l)=>y(a,w(l));const _=({layerOptions:a,hideOnScroll:l}={})=>{const[P,S]=(0,o.eJ)(!1);(0,o.d4)(()=>{if(l){const F=()=>{requestAnimationFrame(()=>{open&&l&&S(!1)})};return window.addEventListener("scroll",F,!0),()=>{window.removeEventListener("scroll",F,!0)}}},[l]);const{triggerProps:M,layerProps:R,renderLayer:N}=(0,m.sJ)(O({isOpen:P,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>S(!1)},a)),T=u("trigger"),A=u("dialog");return{triggerProps:C(O({},M),{id:T,"aria-expanded":P,"aria-haspopup":"dialog","aria-controls":A}),layerProps:C(O({},R),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":T}),renderLayer:N,isOpen:P,setOpen:S}}},25666:(z,s,e)=>{"use strict";e.d(s,{l:()=>E,x:()=>O});var o=e(6400),m=e(30396),d=e(34875),u=e(62372),g=Object.defineProperty,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(C,_,a)=>_ in C?g(C,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):C[_]=a,D=(C,_)=>{for(var a in _||(_={}))w.call(_,a)&&b(C,a,_[a]);if(y)for(var a of y(_))v.call(_,a)&&b(C,a,_[a]);return C};function E({hoverOptions:C,layerOptions:_}={}){const[a,l]=(0,m.eJ)(!1),[P,S]=(0,u.XI)(D({delayEnter:500,delayLeave:500},C)),{triggerProps:M,layerProps:R,renderLayer:N}=(0,u.sJ)(D({isOpen:P,auto:!0,triggerOffset:8},_));return{layerProps:R,triggerProps:D(D({},M),S),transitionProps:{show:P,beforeEnter:()=>l(!0),afterLeave:()=>l(!1)},renderLayer:N,shouldShow:P||a}}function O(C){return(0,o.h)(d.u,D({appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-300 tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-in-out tw-duration-300 tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},C))}},30058:(z,s,e)=>{"use strict";e.d(s,{e:()=>u});var o=e(6400),m=e(94184),d=e.n(m);const u=({className:g,children:y})=>(0,o.h)("div",{className:d()("tailwind-preflight",g)},y)},96427:(z,s,e)=>{"use strict";e.d(s,{P:()=>M});var o=e(6400),m=e(94184),d=e.n(m),u=e(99758),g=e(17685),y=e(51126),w=e(76235),v=e(65919);const b={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var D=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(N,T,A)=>T in N?D(N,T,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[T]=A,P=(N,T)=>{for(var A in T||(T={}))_.call(T,A)&&l(N,A,T[A]);if(C)for(var A of C(T))a.call(T,A)&&l(N,A,T[A]);return N},S=(N,T)=>E(N,O(T));const M=({children:N,className:T,name:A,value:F,onChange:U,disabled:G=!1})=>{var J;const Q=N.find(te=>te.props.value===F);return Q||console.error("Select: value not found in children. value:",F,"options:",N.map(te=>te.props.value)),(0,o.h)(y.gq,{className:d()(b.select,T),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,o.h)(v.xv,{className:d()(b.selectedOption,{[b.disabled]:G}),font:"text",weight:"semibold",size:14,color:G?"secondary":"primary"},(J=Q==null?void 0:Q.props.children)!=null?J:""),(0,o.h)(u.Z,null),(0,o.h)("select",{name:A,value:F,onChange:te=>{var ee;U(te.target.value,S(P({},te.target),{name:(ee=te.target.name)!=null?ee:""}))},disabled:G},N))};function R({value:N,options:T,onChange:A,fill:F,disabled:U,className:G}){var J,Q;return h(Menu,{className:G,trigger:h(Button,{priority:"secondary",fill:F,disabled:U,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(Q=(J=T.find(te=>te.value===N))==null?void 0:J.label)!=null?Q:"Select")},T.map(te=>h(MenuItem,{onClick:()=>A(te.value)},te.label)))}},95297:(z,s,e)=>{"use strict";e.d(s,{s:()=>J,o:()=>Q});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(62372),y=e(51736),w=e(47052),v=e(3258),b=e(51126),D=e(65919),E=e(92630);const O={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var C=Object.defineProperty,_=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,M=(te,ee,L)=>ee in te?C(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,R=(te,ee)=>{for(var L in ee||(ee={}))P.call(ee,L)&&M(te,L,ee[L]);if(l)for(var L of l(ee))S.call(ee,L)&&M(te,L,ee[L]);return te},N=(te,ee)=>_(te,a(ee));const T=100,A={sm:16,md:20,lg:24},F={100:w.Z,1e3:y.Z,1e4:y.Z},U={1e4:{fill:"var(--color-accent-purple)"}},G={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},J=({className:te,isStatic:ee=!1,inline:L=!1,size:V="lg",tier:ne,tooltipOnHover:ae=!1,userId:fe})=>{const[le,re]=(0,g.XI)({delayEnter:T,delayLeave:T,hideOnScroll:!0}),$=le&&!ae,{triggerProps:oe,layerProps:se,renderLayer:ce}=(0,g.sJ)({isOpen:$,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),de=se.style;(0,m.d4)(()=>{le&&(0,v.j)(v.FP.BESTSELLER_INFO_SHOWN,{tier:ne,form:ae?"tooltip":"popover",hovered_user_id:fe})},[le,ne,ae,fe]);const be=A[V];if(!ne)return null;const pe=F[ne.toString()],we=U[ne.toString()],xe=u()(te,L?O.inlineContainer:O.container);return ee&&ne?(0,o.h)("div",{className:xe},(0,o.h)(pe,N(R({},we),{height:be}))):(0,o.h)("div",N(R(R({},re),oe),{className:xe}),(0,o.h)(E.u,{text:`${G[ne.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!ae},(0,o.h)(pe,N(R({},we),{height:be}))),$&&ce((0,o.h)("div",N(R(R({},se),re),{style:de,className:O.popover}),(0,o.h)(b.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,o.h)(pe,N(R({},we),{height:40})),(0,o.h)(b.tu,{alignItems:"center",gap:4},(0,o.h)(D.xv.H3,null,"Bestseller"),(0,o.h)(D.xv.B4,{align:"center"},G[ne.toString()]," of paid subscribers"))))))},Q=({tier:te})=>{if(!te)return null;const ee=F[te.toString()],L=U[te.toString()];return(0,o.h)(ee,N(R({},L),{height:A.sm}))}},9686:(z,s,e)=>{"use strict";e.d(s,{I:()=>_});var o=e(6400),m=e(30396),d=e(86804),u=e(46209);function g(){const N=(0,m.sO)();return(0,m.d4)(()=>{var T;(T=N.current)==null||T.focus()},[]),N}var y=e(63503),w=e(8479),v=e(39419),b=e(5131),D=e(19696),E=e(34518),O=e(33510),C=(N,T,A)=>new Promise((F,U)=>{var G=te=>{try{Q(A.next(te))}catch(ee){U(ee)}},J=te=>{try{Q(A.throw(te))}catch(ee){U(ee)}},Q=te=>te.done?F(te.value):Promise.resolve(te.value).then(G,J);Q((A=A.apply(N,T)).next())});function _({onCancel:N,onSuccess:T,onSignup:A,noCloseButton:F,noExit:U}){const[G,J]=(0,m.eJ)("email"),[Q,te]=(0,m.eJ)(""),ee=()=>{J("mfa")};return(0,o.h)(E.Yy,{className:"",isPopup:!0,onClose:N,noCloseButton:F,noExit:U},(0,o.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,o.h)(u.Z,{className:"reader-nav-logo modal-header-icon"}),(0,o.h)(O.y,null,"Log in to Substack"),G==="email"?(0,o.h)(l,{onUsePassword:L=>{te(L),J("password")},onSuccess:L=>{te(L),J("poll")}}):G==="poll"?(0,o.h)(P,{email:Q,onSuccess:T,onChangeMode:J}):G==="mfa"?(0,o.h)(S,{onSuccess:T}):(0,o.h)(a,{email:Q,onMfa:ee,onSuccess:T})),A&&(0,o.h)(O.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,o.h)("span",null,"Don't have an account yet?"," ",(0,o.h)(b.zx,{variant:"primary",look:"text",onClick:A},"Sign up"))))}function a({email:N,onSuccess:T,onMfa:A}){const F=(0,w.ib)({pathname:"/api/v1/login",method:"post"}),U=(0,m.sO)(),G=Q=>C(this,null,function*(){if(Q.preventDefault(),F.isLoading)return;const te=R(Q.currentTarget);U.current&&(te.captcha_response=U.current.getResponse());const ee=yield F.refetch({json:te});ee instanceof Error||(ee.mfa_required?A():T())}),J=g();return(0,o.h)(o.Fragment,null,F.error instanceof w.kp&&F.error.response.status===401&&(0,o.h)(d.Z,{ref:U}),(0,o.h)(M,{onSubmit:G,disabled:F.isLoading},(0,o.h)(O.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:N}),(0,o.h)(O.II,{type:"password",name:"password",placeholder:"Your password",ref:J}),F.error&&(0,o.h)(O.Xq,null,(0,v.getNetworkErrorMessage)(F.error)),(0,o.h)(b.zx,{type:"submit",variant:"primary"},F.isLoading?"Signing in...":"Sign in")))}function l({onUsePassword:N,onSuccess:T}){const A=(0,w.ib)({pathname:"/api/v1/email-login",method:"POST"}),F=G=>{if(G.preventDefault(),A.isLoading)return;const J=G.currentTarget.email.value;A.refetch({json:{email:J,redirect:location.pathname}}).then(Q=>{Q instanceof w.kp||T(J)})},U=g();return(0,o.h)(M,{onSubmit:F,disabled:A.isLoading},(0,o.h)(O.II,{type:"email",name:"email",placeholder:"Your email",ref:U}),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,o.h)(b.zx,{type:"submit",variant:"primary"},A.isLoading?"Logging in...":"Log in with email"),(0,o.h)(b.zx,{variant:"secondary",look:"borderless",onClick:()=>{var G;return N((G=U.current)==null?void 0:G.value)}},"or log in with password")))}function P({email:N,onSuccess:T,onChangeMode:A}){return(0,y.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(F=>C(this,null,function*(){(yield F.json()).loggedIn&&T()}))},5e3),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,o.h)("b",null,"Check your email"),(0,o.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,o.h)("b",null,N)," with a link that you can use to sign in."),(0,o.h)("div",null,"You can also"," ",(0,o.h)(b.zx,{look:"text",onClick:()=>A("email")},(0,o.h)("b",null,"try again"))," ","or"," ",(0,o.h)(b.zx,{look:"text",onClick:()=>A("password")},(0,o.h)("b",null,"sign in using your password")),"."))}function S({onSuccess:N}){const T=(0,w.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),A=F=>{F.preventDefault(),!T.isLoading&&T.refetch({json:R(F.currentTarget)}).then(U=>{U instanceof w.kp||N()})};return(0,o.h)(M,{onSubmit:A,disabled:T.isLoading},(0,o.h)(O.II,{type:"password",name:"code",placeholder:"Your MFA code"}),T.error&&(0,o.h)(O.Xq,null,(0,v.getNetworkErrorMessage)(T.error)),(0,o.h)(b.zx,{type:"submit",variant:"primary"},T.isLoading?"Signing in...":"Sign in"))}const M=(0,D.L)("tw-flex tw-flex-col tw-gap-3","form");function R(N){return Object.fromEntries(Array.from(N.elements).filter(T=>T instanceof HTMLInputElement||T instanceof HTMLTextAreaElement).map(T=>[T.name,T.value]))}},10186:(z,s,e)=>{"use strict";e.d(s,{qE:()=>F,BG:()=>U,YY:()=>G});var o=e(6400),m=e(94184),d=e.n(m),u=e(40353),g=e(7370),y=e(85362),w=e(80332),v=e(66399),b=e(15045),D=e(51126),E=e(33510),O=e(68262);const C={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var _=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(J,Q,te)=>Q in J?_(J,Q,{enumerable:!0,configurable:!0,writable:!0,value:te}):J[Q]=te,N=(J,Q)=>{for(var te in Q||(Q={}))S.call(Q,te)&&R(J,te,Q[te]);if(P)for(var te of P(Q))M.call(Q,te)&&R(J,te,Q[te]);return J},T=(J,Q)=>a(J,l(Q)),A=(J,Q)=>{var te={};for(var ee in J)S.call(J,ee)&&Q.indexOf(ee)<0&&(te[ee]=J[ee]);if(J!=null&&P)for(var ee of P(J))Q.indexOf(ee)<0&&M.call(J,ee)&&(te[ee]=J[ee]);return te};function F({user:J,size:Q,className:te,badge:ee,badgeShape:L="square",showProfileHovercard:V}){const ne=(0,b.getUserPhotoUrl)(J);return ne?(0,o.h)(D.gq,{className:C.avatarContainer},(0,o.h)(w.Ct,{subject:N({id:0,name:""},J),dontStopPropagation:!1,disabled:!V},(0,o.h)(E.t5,{className:d()(C.avatar,te),src:ne,size:Q})),ee&&(0,o.h)("div",{className:d()(C.badge,L&&C[L])},ee)):null}function U(J){var Q=J,{pub:te}=Q,ee=A(Q,["pub"]);return(0,o.h)(F,T(N({},ee),{badge:te&&(0,o.h)(O.F,{pub:te,size:16})}))}function G(J){var Q=J,{subscriptionType:te}=Q,ee=A(Q,["subscriptionType"]);let L=null,V;return te==="author"?(L=(0,o.h)(u.Z,{height:16,className:C.subscriptionBadge}),V="Author"):te==="founding"?(L=(0,o.h)(g.Z,{height:16,className:C.subscriptionBadge}),V="Founding member"):te==="paid"&&(L=(0,o.h)(y.Z,{height:16,className:C.subscriptionBadge}),V="Paid subscriber"),L=L?(0,o.h)(v.u,{text:V},L):null,(0,o.h)(F,T(N({},ee),{badge:L,badgeShape:"circle"}))}},5131:(z,s,e)=>{"use strict";e.d(s,{zx:()=>C});var o=e(6400),m=e(94184),d=e.n(m),u=e(7922),g=e(19696),y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(l,P,S)=>P in l?y(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P)=>{for(var S in P||(P={}))v.call(P,S)&&D(l,S,P[S]);if(w)for(var S of w(P))b.call(P,S)&&D(l,S,P[S]);return l},O=(l,P)=>{var S={};for(var M in l)v.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&w)for(var M of w(l))P.indexOf(M)<0&&b.call(l,M)&&(S[M]=l[M]);return S};function C(l){var P=l,{className:S,variant:M,rounded:R,look:N="button",fixedHeight:T=!0,size:A="medium",hasLeftIcon:F,hasRightIcon:U,forwardedRef:G}=P,J=O(P,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,o.h)(u.k,E({className:d()("reader2-button",S,`reader2-button-${N}`,T&&"fixedHeight",M&&(["text","borderless"].includes(N)?`reader2-button-text-${M}`:`reader2-button-${M}`),(R||N==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,F&&"hasLeftIcon",U&&"hasRightIcon"),ref:G},J))}function _(l){var P=l,{isActive:S=!1,isSmall:M=!1,icon:R,children:N}=P,T=O(P,["isActive","isSmall","icon","children"]);return h("button",E({className:classnames("reader2-button-reset reader2-tab",S&&"active",M&&"small",R?"hasIcon":null)},T),R,N)}const a=(0,g.L)("reader2-button-row")},55886:(z,s,e)=>{"use strict";e.d(s,{t:()=>w});var o=e(6400),m=e(31471),d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(v,b)=>{var D={};for(var E in v)u.call(v,E)&&b.indexOf(E)<0&&(D[E]=v[E]);if(v!=null&&d)for(var E of d(v))b.indexOf(E)<0&&g.call(v,E)&&(D[E]=v[E]);return D};function w(v){var b=v,{className:D,src:E,noStyle:O=!1,loading:C,onError:_}=b,a=y(b,["className","src","noStyle","loading","onError"]);let l,P;return"size"in a?(l=a.size,P=a.size):(l=a.width,P=a.height),(0,o.h)(m.e,{src:E,maxWidth:l*2,className:D,imageProps:{height:P*2,crop:"fill"},style:O?void 0:{width:l,height:P},loading:C,onError:_})}},15822:(z,s,e)=>{"use strict";e.d(s,{S:()=>C});var o=e(6400),m=e(94184),d=e.n(m),u=e(51126);const g={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var y=Object.defineProperty,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(_,a,l)=>a in _?y(_,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[a]=l,E=(_,a)=>{for(var l in a||(a={}))v.call(a,l)&&D(_,l,a[l]);if(w)for(var l of w(a))b.call(a,l)&&D(_,l,a[l]);return _},O=(_,a)=>{var l={};for(var P in _)v.call(_,P)&&a.indexOf(P)<0&&(l[P]=_[P]);if(_!=null&&w)for(var P of w(_))a.indexOf(P)<0&&b.call(_,P)&&(l[P]=_[P]);return l};function C(_){var a=_,{className:l}=a,P=O(a,["className"]);return(0,o.h)(u.hs,E({justifyContent:"center",alignItems:"center",className:d()(g.container,l)},P),(0,o.h)("div",{className:g.drunkSpinner}))}},54520:(z,s,e)=>{"use strict";e.d(s,{SV:()=>D});var o=e(6400),m=e(30396),d=e(20042),u=e(31471),g=e(8479),y=e(11533),w=e(51126),v=e(65919);function b(){const{result:O}=(0,g.Wf)(()=>Promise.all([e.e(492),e.e(486)]).then(e.bind(e,71486)).then(C=>C.Sentry),[],{auto:!0});return(0,m.cO)(C=>{console.error(C),O&&O.captureException(C)})}function D({children:O}){const[C,_]=b(),a=(0,m.sO)((0,d.getCurrentUrl)());return(0,y.j)(l=>{C&&a.current!==l&&_(),a.current=l},[]),C?(0,o.h)(E,null):O}function E(){return(0,o.h)(w.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,o.h)(u.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,o.h)(w.tu,{gap:8},(0,o.h)(v.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,o.h)(v.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},55337:(z,s,e)=>{"use strict";e.d(s,{KL:()=>Ue,rS:()=>xe,au:()=>ae,E$:()=>se,dg:()=>pe,Zx:()=>De});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(98913),y=e(52066),w=e(92592),v=e(81470),b=e(15045),D=e(70444),E=e(20501),O=e(71765),C=e(91704),_=e(80332),a=e(4190),l=e(58718),P=e(63270),S=e(67963),M=e(3258),R=e(66141),N=e(16527),T=e(8479),A=e(6742),F=e(39419),U=e(66399),G=e(86605),J=e(48960),Q=e(10186),te=e(41474),ee=e(68493),L=e(33510),V=e(70762);const ne={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowInfo:"frontend-reader2-FeedSidebar-module__personYouMayKnowInfo--ZK_E_",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},ae="inviteFriendsNuxDismissed",fe="sidebarInviteFriendsNuxDismissed",le="sidebarFacebookNuxDismissed",re=60*60*24*7;function $(){const ie=useSiteConfigs(),{user:ve}=useUserContext(),[he]=useDismissed(fe),[Le=he]=useDismissed(le,re),He=ie.getConfigFor("twitter_connect_flows_enabled")&&ve&&!ve.has_linked_twitter,ht=!Le&&!!ie.getConfigFor("facebook_connect")&&ve&&!ve.has_linked_facebook,bt=ve&&!he&&!ht;return h(Sidebar,null,h(SidebarBody,{gap:0},bt&&h(Fragment,null,h(De,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),h(oe,null),He&&h(Fragment,null,h(xe,null),h(Divider,{paddingX:8,paddingY:8})),ht&&h(Fragment,null,h(Ue,null),h(Divider,{paddingX:8,paddingY:8}))))}function oe(){var ie,ve;const he=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!he.isLoading&&!((ie=he.result)!=null&&ie.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,"Suggestions"),h(Button,{priority:"secondary",fill:"empty",onClick:Le=>routeClick(Le,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},he.isLoading?times(5,()=>h(de,null)):(ve=he.result)==null?void 0:ve.suggestions.map(Le=>h(se,{feedUserSuggestion:Le,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function se({feedUserSuggestion:ie,surface:ve,hoverCardPlacement:he}){var Le,He,ht,bt;const{exposeExperiment:Tt}=(0,a.jc)(),Fe=(0,m.sO)(null),{getConfigFor:nt}=(0,P.xR)(),ft=nt("enable_notes_following"),Ye=(0,V._)({user:ie.user,publicationId:(Le=ie.publication)==null?void 0:Le.id,publicationName:(He=ie.publication)==null?void 0:He.name,allowSecondaryPublications:!1,allowPresubscribe:!0,subscriptionSource:ve===v.Uo.Feed?"notes_feed_item_suggestions":ve===v.Uo.Suggestions?"notes_full_page_suggestions":"notes_sidebar_suggestions"}),rt=(0,l.Sv)(ie.user,ve),$t=ve===v.Uo.Feed?"pymk_notes_feed_item":ve===v.Uo.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,A.UM)(Fe,()=>{(0,te.MJ)(ie,ve),Tt("people_you_may_know_algorithm_7")});const[sn,gt]=(0,m.eJ)(!1),Ne=Se=>{sn||(gt(!0),(0,te.CD)(ie,ve,Se))},We=Se=>{Ne("user-suggestion"),Se.defaultPrevented||(0,F.redirect)((0,E.getReaderProfileUrl)(ie.user,{utm_source:$t}),{event:Se})},st=Se=>{Se.preventDefault(),Ne("user-suggestion-cta"),ft?rt.toggle():Ye.isSubscribed?Ye.unsubscribe(Se):Ye.subscribe(Se)};if(!ft&&!Ye.showCta)return null;const ke=ft?rt.isFollowing?"Following":"Follow":Ye.isSubscribed?"Subscribed":"Subscribe",Be=(ft?rt.isFollowing:Ye.isSubscribed)?"secondary":"primary";return ve===v.Uo.Feed?(0,o.h)(U.tu,{ref:Fe,className:u()(ne.personYouMayKnow,ne.personYouMayKnowFeed),border:"detail",alignItems:"center",padding:12,gap:12,onClick:We},(0,o.h)(Q.BG,{user:ie.user,pub:ie.publication,size:40}),(0,o.h)(U.tu,{className:ne.personYouMayKnowInfo,alignItems:"center",minWidth:0},(0,o.h)(U.xv.B4,{className:ne.personYouMayKnowInfo,align:"center",weight:"bold",ellipsis:!0},ie.user.name),(0,o.h)(U.xv.B4,{className:ne.personYouMayKnowInfo,align:"center",color:"secondary",ellipsis:!0},ie.source==="twitter"?"From Twitter":ie.publication?`${ie.publication.name}`:(ht=ie.user.bio)!=null?ht:"")),(0,o.h)(U.zx,{className:ne.personYouMayKnowFeedButton,priority:Be,fill:ft?"outline":"filled",onClick:st,grow:!0},ke)):(0,o.h)(ce,{user:ie.user,source:$t,publication:ie.publication,label:ie.source==="twitter"?"From Twitter":ie.publication?`Writes ${ie.publication.name}`:(bt=ie.user.bio)!=null?bt:"",hoverCardPlacement:he,onClick:We,cta:(0,o.h)(U.zx,{priority:Be,fill:ve===v.Uo.Suggestions?"outline":"empty",onClick:st},ke),boxRef:Fe})}function ce({user:ie,publication:ve,label:he,hoverCardPlacement:Le,onClick:He,cta:ht,source:bt,boxRef:Tt}){return(0,o.h)(_.Ct,{subject:ie,placement:Le,utmSource:bt},(0,o.h)(U.hs,{ref:Tt,className:ne.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,onClick:He},(0,o.h)(U.hs,{gap:12,minWidth:0},(0,o.h)(Q.BG,{user:ie,pub:ve,size:40}),(0,o.h)(U.tu,{minWidth:0},(0,o.h)(U.xv.B4,{weight:"bold",ellipsis:!0},ie.name),(0,o.h)(U.xv.B4,{color:"secondary",ellipsis:!0},he))),ht))}function de(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}const be="facebookPymkNuxDismissed";function pe(){const[ie,ve]=(0,R.Z)(be,re);return ie?null:(0,o.h)(U.tu,{className:u()(ne.personYouMayKnow,ne.personYouMayKnowFeed),border:"detail",alignItems:"center",padding:12,gap:12,style:{position:"relative"}},(0,o.h)(G.P,{className:ne.close,onClick:ve}),(0,o.h)(O.Z,{fill:"var(--color-accent-facebook)",stroke:"none"}),(0,o.h)(U.tu,{className:ne.personYouMayKnowInfo,alignItems:"center",minWidth:0},(0,o.h)(U.xv.B4,{className:ne.personYouMayKnowInfo,align:"center",weight:"bold"},"Connect Facebook"),(0,o.h)(U.xv.B4,{className:ne.personYouMayKnowInfo,align:"center",color:"secondary"},"Find your friends")),(0,o.h)(U.zx,{className:ne.personYouMayKnowFeedButton,priority:"primary",fill:"filled",href:(0,E.getConnectFacebookUrl)({type:"reader2",redirect:(0,b.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0},"Connect"))}function we(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1},"Connect"))}function xe(){return(0,o.h)(U.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(y.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Find people you know"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,o.h)(U.zx,{priority:"primary",href:(0,b.getConnectTwitterUrl)({type:"reader2",redirect:D.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function Ue(){const[,ie]=(0,R.Z)(le),ve=()=>{ie()};return(0,o.h)(U.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(G.P,{className:ne.close,onClick:ve}),(0,o.h)(O.Z,{width:32,height:32}),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Find people you know"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what friends are reading.")),(0,o.h)(U.zx,{priority:"primary",href:(0,E.getConnectFacebookUrl)({type:"reader2",redirect:(0,b.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0},"Connect Facebook"))}function De({utmSource:ie}){const[ve,he]=(0,m.eJ)(!1),[Le,He]=(0,m.eJ)(!1),{user:ht,changeSetting:bt}=(0,S.SE)(),[,Tt]=(0,R.Z)(ae),[,Fe]=(0,R.Z)(fe);if(!ht)return null;const nt=()=>{bt("invite_friends_nux_dismissed_at",new Date().toISOString()),Tt()},ft=()=>{nt(),Fe()},Ye=()=>{he(!1),Le&&nt()},rt=()=>{he(!0),(0,M.j)(M.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:ie})};return(0,o.h)(o.Fragment,null,(0,o.h)(U.tu,null,(0,o.h)(U.tu,{alignItems:"center",gap:12,padding:32,className:ne.shareProfile},(0,o.h)(G.P,{className:ne.close,onClick:ft}),(0,o.h)(U.tu,{className:ne.avatarContainer},(0,o.h)(Q.qE,{user:ht,size:48}),(0,o.h)(U.hs,{className:ne.badge,padding:4},(0,o.h)(C.HA,{className:ne.badgeIcon,size:12}))),(0,o.h)(U.tu,{alignItems:"center",gap:6},(0,o.h)(U.xv.H4,null,"Invite your friends"),(0,o.h)(U.xv.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),(0,o.h)(U.zx,{priority:"primary",onClick:rt,rounded:!0},"Invite friends"))),(0,o.h)(ee.N,{isOpen:ve,utmSource:ie,onClose:Ye,setShared:()=>He(!0)}))}function _e({url:ie}){const ve=useRef();return useEffect(()=>{const{current:he}=ve;he&&qrcode.toCanvas(he,ie,{width:180,margin:2})},[]),h("canvas",{ref:ve})}},68493:(z,s,e)=>{"use strict";e.d(s,{N:()=>v});var o=e(6400),m=e(20501),d=e(67963),u=e(73115),g=e(66399),y=e(10186);const w={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},v=({isOpen:b,utmSource:D,onClose:E,setShared:O})=>{const{user:C}=(0,d.SE)();if(!C)return(0,o.h)(o.Fragment,null);const _=(0,m.getReaderProfileUrl)(C,{utm_source:D}),a=`/img/profile_cards/card-bg-${Math.ceil(C!=null&&C.id?C.id%9+1:Math.random()*8)}.png`;return(0,o.h)(g.u_,{isOpen:b,onClose:E,width:480,overflow:"hidden"},(0,o.h)(g.xB,{includeClose:!0,onClose:E}),(0,o.h)(g.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,o.h)(g.tu,{alignItems:"center",gap:8},(0,o.h)(g.xv.H2,{weight:"semibold"},"Invite your friends"),(0,o.h)(g.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,o.h)(g.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:w.card},(0,o.h)(g.tu,{flex:"grow",className:w.cardTop},(0,o.h)("img",{className:w.cardOverlay,src:(0,m.imginary)(a,800)})),(0,o.h)(g.tu,{flex:"grow",alignSelf:"stretch",className:w.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,o.h)(g.hs,{justifyContent:"space-between",alignItems:"end"},(0,o.h)(y.qE,{user:C,size:112,className:w.cardAvatar}),(0,o.h)(g.zx,{priority:"secondary",rounded:!0,className:w.fakeButton},"Subscribe")),(0,o.h)(g.tu,{flex:"grow",gap:8},(0,o.h)(g.xv.H2,null,C.name),(0,o.h)(g.xv.Meta,{className:w.cardUrl,size:12,color:"substack"},_.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),C.bio&&(0,o.h)(g.xv.B4,{color:"secondary"},C.bio)))),(0,o.h)(g.xv.Meta,{align:"center"},"Share via"),(0,o.h)(u.sZ,{shareUrl:_,shareEventType:"profile",shareText:"Subscribe to me on Substack Notes!",itemKey:C.id,onShare:()=>{O&&O()}})))}},11688:(z,s,e)=>{"use strict";e.d(s,{Oe:()=>a,cr:()=>_});var o=e(6400),m=e(8479),d=Object.defineProperty,u=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(R,N,T)=>N in R?d(R,N,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[N]=T,D=(R,N)=>{for(var T in N||(N={}))w.call(N,T)&&b(R,T,N[T]);if(y)for(var T of y(N))v.call(N,T)&&b(R,T,N[T]);return R},E=(R,N)=>u(R,g(N)),O=(R,N)=>{var T={};for(var A in R)w.call(R,A)&&N.indexOf(A)<0&&(T[A]=R[A]);if(R!=null&&y)for(var A of y(R))N.indexOf(A)<0&&v.call(R,A)&&(T[A]=R[A]);return T},C=(R,N,T)=>new Promise((A,F)=>{var U=Q=>{try{J(T.next(Q))}catch(te){F(te)}},G=Q=>{try{J(T.throw(Q))}catch(te){F(te)}},J=Q=>Q.done?A(Q.value):Promise.resolve(Q.value).then(U,G);J((T=T.apply(R,N)).next())});function _(R){return(0,o.h)(l,E(D({},R),{key:R.module}))}function a({module:R,onRequest:N,fetchImmediately:T=!0}){const A=S.has(R),F=(0,m.Wf)(()=>M(R,N),[],{auto:T&&!A,initialResult:A?S.get(R):null});return F.error&&console.error(F.error),{error:F.error,isLoading:F.isLoading,result:F.result,fetch:F.refetch}}function l(R){var N=R,{onRequest:T,resolve:A,module:F,whileLoading:U}=N,G=O(N,["onRequest","resolve","module","whileLoading"]);const{error:J,isLoading:Q,result:te}=a({module:F,onRequest:T});return(0,o.h)(o.Fragment,null,J?"Error":Q||!te?U!=null?U:null:(0,o.h)(A(te),G))}function P(R){return h(_,E(D({},R),{resolve:N=>N.default}))}const S=new Map;function M(R,N){return C(this,null,function*(){let T=S.get(R);return T||(T=yield N(),S.set(R,T)),T})}},18130:(z,s,e)=>{"use strict";e.d(s,{r:()=>_});var o=e(6400),m=e(98661),d=e(92298),u=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,D=(a,l,P)=>l in a?u(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,E=(a,l)=>{for(var P in l||(l={}))v.call(l,P)&&D(a,P,l[P]);if(w)for(var P of w(l))b.call(l,P)&&D(a,P,l[P]);return a},O=(a,l)=>g(a,y(l)),C=(a,l)=>{var P={};for(var S in a)v.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&w)for(var S of w(a))l.indexOf(S)<0&&b.call(a,S)&&(P[S]=a[S]);return P};const _=(0,m.forwardRef)((a,l)=>{var P=a,{href:S,onClick:M,campaign:R}=P,N=C(P,["href","onClick","campaign"]);if(S){let A;try{A=new URL(S)}catch(F){try{A=new URL(`${document.location.origin}${S}`)}catch(U){}}if(A){if(A.origin===document.location.origin&&!R){const F=new URLSearchParams,U={};for(const[G,J]of A.searchParams)G.startsWith("utm_")?G==="utm_campaign"?U.name=J:U[G.replace(/^utm_/,"")]=J:F.append(G,J);R=U,S=`${A.pathname}${F}`}else if(A.origin!==document.location.origin&&R){for(const[F,U]of Object.entries(R)){const G=F==="name"?"campaign":F;A.searchParams.set(`utm_${G}`,U)}S=A.toString()}}}const T=A=>{M==null||M(A),!A.defaultPrevented&&!A.ctrlKey&&!A.shiftKey&&!A.metaKey&&S&&(0,d.j)(E({},R))};return(0,o.h)("a",O(E({},N),{ref:l,onClick:T,href:S}))})},42332:(z,s,e)=>{"use strict";e.d(s,{aw:()=>U,u:()=>G});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(74285),y=e(21958),w=e(5131),v=Object.defineProperty,b=Object.defineProperties,D=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(J,Q,te)=>Q in J?v(J,Q,{enumerable:!0,configurable:!0,writable:!0,value:te}):J[Q]=te,a=(J,Q)=>{for(var te in Q||(Q={}))O.call(Q,te)&&_(J,te,Q[te]);if(E)for(var te of E(Q))C.call(Q,te)&&_(J,te,Q[te]);return J},l=(J,Q)=>b(J,D(Q)),P=(J,Q)=>{var te={};for(var ee in J)O.call(J,ee)&&Q.indexOf(ee)<0&&(te[ee]=J[ee]);if(J!=null&&E)for(var ee of E(J))Q.indexOf(ee)<0&&C.call(J,ee)&&(te[ee]=J[ee]);return te};function S({hideOnScroll:J}={}){const[Q,te]=useState(!1),ee=useRef();return useEffect(()=>{if(Q){const L=()=>{te(!1)},V=ne=>{ne.key==="Escape"&&te(!1)};return window.addEventListener("click",L),window.addEventListener("keydown",V),J&&window.addEventListener("scroll",L,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",V),window.removeEventListener("scroll",L,{capture:!0})}}},[Q]),{ref:ee,isOn:Q,setIsOn:te,toggle:()=>{te(!Q)}}}const M={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function R({tetherRef:J,fixTo:Q=M,isFixed:te,offset:ee={x:0,y:0},children:L,className:V}){const ne=(0,m.sO)();return(0,m.bt)(()=>{const ae=J.current,fe=ne.current;if(!ae||!fe)return;const le=ae.getBoundingClientRect(),re=fe.getBoundingClientRect(),$=a(a({},M),Q);let oe=$.anchorY==="center"?le.top+le.height/2:le[$.anchorY];$.tetherY==="bottom"&&(oe=window.innerHeight-oe),$.tetherY==="center"&&(oe-=re.height/2);const se=$.tetherY==="bottom"?"bottom":"top";let ce=$.anchorX==="center"?le.left+le.width/2:le[$.anchorX];$.tetherX==="right"&&(ce=window.innerWidth-ce),$.tetherX==="center"&&(ce-=re.width/2);const de=$.tetherX==="right"?"right":"left";se==="top"&&oe+re.height>window.innerHeight?(oe=le.top-re.height,ee.y&&(oe-=ee.y)):ee.y&&(oe+=ee.y),ee.x&&(ce+=ee.x),te||(oe+=window.scrollY,ce+=window.scrollX),Object.assign(fe.style,{minWidth:`${le.width}px`,[se]:`${oe}px`,[de]:`${ce}px`})},[]),(0,o.h)(g.h,null,(0,o.h)("div",{className:u()("dropdown3",V),ref:ne,style:{position:te?"fixed":"absolute"}},L))}const N=(0,y.L)("reader2-menu reader2-font-base");function T(J){var Q=J,{priority:te}=Q,ee=P(Q,["priority"]);const L=classnames("reader2-menu-item","reader2-text-button",te,ee.className);return ee.href?h("a",l(a({},ee),{className:L})):h("div",l(a({},ee),{className:L}))}function A({options:J,value:Q,onChange:te,fixedHeight:ee=!1}){var L;const V=S({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:V.toggle,forwardedRef:V.ref,fixedHeight:ee},(L=J.find(ne=>ne.value===Q))==null?void 0:L.label,h(ChevronDown,{size:16}),V.isOn&&h(R,{tetherRef:V.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(N,null,J.map(ne=>h(T,{key:ne.value,onClick:()=>te(ne.value),className:classnames("reader2-split-menu-item selectable",Q===ne.value&&"isSelected")},ne.label,Q===ne.value&&h(Check,{className:"feather-icon"}))))))}function F(J){var Q=J,{defaultValue:te,onChange:ee}=Q,L=P(Q,["defaultValue","onChange"]);const[V,ne]=useState(te);return h(A,l(a({},L),{value:V,onChange:ae=>{ne(ae),ee(ae)}}))}function U({onHover:J}={}){const[Q,te]=(0,m.eJ)(!1),ee=(0,m.sO)(),L=(0,m.sO)(),V=(0,m.sO)(),ne=fe=>{fe.pointerType==="mouse"&&(clearTimeout(V.current),te(!0),J&&J())},ae=fe=>{fe.pointerType==="mouse"&&(V.current=setTimeout(()=>{te(!1)},200))};return(0,m.d4)(()=>{const fe=ee.current;if(fe)return fe.addEventListener("pointerenter",ne),fe.addEventListener("pointerleave",ae),()=>{fe.removeEventListener("pointerenter",ne),fe.removeEventListener("pointerleave",ae)}},[]),(0,m.d4)(()=>{const fe=L.current,le=ee.current;if(Q&&le){const re=()=>{te(!1)};return window.addEventListener("scroll",re,{capture:!0,passive:!0}),fe&&(fe.addEventListener("pointerenter",ne),fe.addEventListener("pointerleave",ae)),()=>{window.removeEventListener("scroll",re,{capture:!0}),fe&&(fe.removeEventListener("pointerenter",ne),fe.removeEventListener("pointerleave",ae))}}},[Q]),{ref:ee,tooltipRef:L,isHovering:Q}}function G({tetherRef:J,children:Q}){return(0,o.h)(R,{tetherRef:J,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,o.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},Q,(0,o.h)("div",{className:"reader2-tooltip-arrow"},(0,o.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,o.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(z,s,e)=>{"use strict";e.d(s,{Yy:()=>E});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(26059),y=e(74285),w=e(39419),v=e.n(w),b=e(5131),D=e(19696);function E({children:a,className:l,onClose:P,onClick:S,hasClosePill:M,isPopup:R,noExit:N,noExitOnClick:T,noFullscreen:A,noCloseButton:F,testID:U}){const G=(0,m.sO)(),J=Q=>{!N&&!T&&R&&(A||window.innerWidth>540)&&(Q.stopPropagation(),Q.preventDefault(),P())};return(0,o.h)(y.h,null,(0,o.h)("div",{className:u()("modal simple-modal wide typography","in",l,{"has-close-pill":M,popup:R}),"data-testid":U,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{className:u()("modal-cell modal-content reader2-modal",{"no-fullscreen":A})},(0,o.h)("div",{className:"modal-clickspace",onClick:J}),(0,o.h)("div",{className:"container",ref:G},!N&&(!F||(0,w.isMobileBrowser)())&&(0,o.h)(b.zx,{className:u()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":M}),onClick:()=>P()},(0,o.h)(g.Z,null)),a))))))}function O({children:a,onCancel:l}){return h(E,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:l},h(C,null,a))}const C=(0,D.L)("simple-modal-pad reader2-confirm-modal"),_=(0,D.L)("buttons")},10174:(z,s,e)=>{"use strict";e.d(s,{Au:()=>se,i3:()=>ce,oC:()=>be,sA:()=>le});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(13639),y=e(82622),w=e(20501),v=e(34085),b=e(67963),D=e(83097),E=e(62952),O=e(8479),C=e(17685),_=e(51126),a=e(62246),l=e(65919),P=e(10186),S=e(91870),M=e(11688),R=e(50292),N=e(44396),T=e(70762),A=e(7980),F=Object.defineProperty,U=Object.defineProperties,G=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ee=(xe,Ue,De)=>Ue in xe?F(xe,Ue,{enumerable:!0,configurable:!0,writable:!0,value:De}):xe[Ue]=De,L=(xe,Ue)=>{for(var De in Ue||(Ue={}))Q.call(Ue,De)&&ee(xe,De,Ue[De]);if(J)for(var De of J(Ue))te.call(Ue,De)&&ee(xe,De,Ue[De]);return xe},V=(xe,Ue)=>U(xe,G(Ue)),ne=(xe,Ue)=>{var De={};for(var _e in xe)Q.call(xe,_e)&&Ue.indexOf(_e)<0&&(De[_e]=xe[_e]);if(xe!=null&&J)for(var _e of J(xe))Ue.indexOf(_e)<0&&te.call(xe,_e)&&(De[_e]=xe[_e]);return De},ae=(xe,Ue,De)=>new Promise((_e,ie)=>{var ve=He=>{try{Le(De.next(He))}catch(ht){ie(ht)}},he=He=>{try{Le(De.throw(He))}catch(ht){ie(ht)}},Le=He=>He.done?_e(He.value):Promise.resolve(He.value).then(ve,he);Le((De=De.apply(xe,Ue)).next())});function fe(xe){var Ue=xe,{isOpen:De}=Ue,_e=ne(Ue,["isOpen"]);return(0,o.h)(a.u_,{className:A.Z.composerModal,isOpen:De,onClose:_e.onClose,fullscreenMobile:!0,disableCloseOnBackdropClick:!0},(0,o.h)(M.cr,V(L({},_e),{module:"../feed/NoteComposer",resolve:ie=>ie.NoteComposer,onRequest:()=>Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(733)]).then(e.bind(e,90938))})))}function le({disabled:xe,parentPubId:Ue,parentPostId:De,parentCommentId:_e,placeholder:ie,tabId:ve}){const he=ce(),Le=(0,b.aF)(),He=(0,N.XA)(),{requireLogin:ht}=(0,R.SJ)(),bt=()=>{xe||(Le?he.open({parentPubId:Ue,parentPostId:De,parentCommentId:_e,tabId:ve}):ht==null||ht())},Tt=(0,E.h)({onAddFiles:Fe=>{he.open({parentPubId:Ue,parentPostId:De,parentCommentId:_e,initialFiles:Fe,tabId:ve})}});return(0,o.h)(_.tu,L({},Tt.props),(0,o.h)(_.gq,{gap:12,alignItems:"center",className:u()(A.Z.inlineComposer,{[A.Z.disabled]:xe})},Le?(0,o.h)(_.hs,{as:"a",flex:"auto",href:(0,w.getReaderProfileUrl)(Le,{noBase:!0})},(0,o.h)(P.qE,{size:He?40:48,user:Le})):(0,o.h)(_.hs,{flex:"auto"},(0,o.h)(P.qE,{size:He?40:48})),(0,o.h)(C.kG,{className:u()(A.Z.inlineComposerButton,{[A.Z.mobile]:He,[A.Z.disabled]:xe,[A.Z.isDropping]:Tt.isDragging}),onClick:bt,disabled:xe,resetCss:!0},(0,o.h)(l.xv.B3,{size:He?14:16,align:"left",color:"secondary"},ie||"What's on your mind?")),!He&&(0,o.h)(C.zx,{disabled:!0,rounded:!0},"Post")))}function re(){const xe=ce(),Ue=useUser(),De=()=>{xe.open({})};return Ue?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:De,shadow:"medium"},h(Plus,{size:24})):null}const $={isOpen:!1,firstComment:void 0},oe=(0,o.createContext)({state:$,open:()=>ae(void 0,null,function*(){throw new Error("Not implemented")})});function se({children:xe}){var Ue,De,_e;const ie=(0,b.aF)(),ve=!(ie!=null&&ie.name),he=(0,S.I0)(),[Le,He]=(0,m.eJ)($),{feedItem:ht}=Le,bt=be(ht),Tt=(De=(Ue=ht==null?void 0:ht.parentComments)==null?void 0:Ue[0])!=null?De:ht==null?void 0:ht.comment,Fe=(0,m.Ye)(()=>({state:Le,open:Ye=>new Promise((rt,$t)=>{He(V(L({},Ye),{isOpen:!0,resolve:rt,reject:$t}))})}),[Le]),nt=()=>{var Ye,rt;(rt=(Ye=document.activeElement)==null?void 0:Ye.blur)==null||rt.call(Ye),He({isOpen:!1})},ft=!1;return(0,o.h)(oe.Provider,{value:Fe},xe,ve?(0,o.h)(de,{isOpen:Le.isOpen,onClose:nt,onSuccess:()=>He(V(L({},Le),{isOpen:!0}))}):ft?(0,o.h)(a.u_,{isOpen:Le.isOpen,onClose:nt,width:316},(0,o.h)(we,{onClose:nt})):bt?(0,o.h)(a.u_,{isOpen:Le.isOpen,onClose:nt,width:316},(0,o.h)(pe,{onClose:nt,requirement:bt,writerId:(_e=Tt==null?void 0:Tt.user_id)!=null?_e:0})):(0,o.h)(fe,V(L({},Le),{isOpen:Le.isOpen,onClose:nt,onSuccess:Ye=>{var rt,$t;Ye.isFirstFeedCommentByUser?He(V(L({},Le),{firstComment:Ye})):nt(),he({type:Le.editComment?"edit_comment":"new_comment",payload:{comment:Ye}}),(rt=Le.onCompose)==null||rt.call(Le,Ye),($t=Le.resolve)==null||$t.call(Le,Ye)},onError:Le.reject})),(0,o.h)(a.u_,{isOpen:Le.isOpen&&!!Le.firstComment},Le.firstComment&&(0,o.h)(D.q,{onClose:nt,comment:Le.firstComment})))}function ce(){return(0,m.qp)(oe)}function de({isOpen:xe,onClose:Ue,onSuccess:De}){const _e=(0,b.SE)();return(0,o.h)(a.u_,{isOpen:xe,onClose:Ue,fullscreenMobile:!0},(0,o.h)(a.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:Ue}),(0,o.h)(v._0,{className:A.Z.setupProfileModalContent,pageTitle:"",user:_e.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:ie=>{_e.setUser(ie.body),De()}}))}function be(xe){var Ue,De;const _e=(De=(Ue=xe==null?void 0:xe.parentComments)==null?void 0:Ue[0])!=null?De:xe==null?void 0:xe.comment,{user_id:ie,reply_minimum_role:ve}=_e!=null?_e:{},he=(0,b.aF)(),Le=(0,T.K)(ie!=null?ie:0);if(!ie||!ve||xe!=null&&xe.canReply||_e&&he&&(0,y._N)(_e,he.id))return null;if(ve){if(ve==="free_subscriber"&&(!Le||!["free_subscription","subscribed"].includes(Le)))return"free_subscriber";if(ve==="paid_subscriber"&&Le!=="subscribed")return"paid_subscriber"}return null}function pe({requirement:xe,writerId:Ue,onClose:De}){var _e;const ie=(0,b.aF)(),{error:ve,result:he}=(0,O.ib)({pathname:`/api/v1/user/${Ue}/primary-publication`,deps:[Ue],auto:!0});return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,o.h)(g.Z,{size:32,color:"var(--color-primary)"})),(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(l.xv.H3,{align:"center"},xe==="free_subscriber"?"Subscribers only":"Paid subscribers only"),he&&(0,o.h)(l.xv.B3,{color:"secondary",align:"center"},"To join the conversation, ",xe==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(_e=he.name)!=null?_e:"this publication",".")),(0,o.h)(_.tu,{gap:8},he&&(0,o.h)(C.zx,{priority:"primary",rounded:!0,href:(0,w.getSubscribeUrl)(he,{user:ie,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,o.h)(C.zx,{priority:"secondary",rounded:!0,onClick:De},"Cancel"))))}function we({onClose:xe}){return(0,o.h)(_.tu,{padding:16},(0,o.h)(_.tu,{gap:20},(0,o.h)(_.tu,{gap:8,alignItems:"center"},(0,o.h)(l.xv.H3,{align:"center"},"Confirm your email address"),(0,o.h)(l.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),(0,o.h)(_.tu,{gap:8},(0,o.h)(C.zx,{priority:"primary",rounded:!0,onClick:xe},"Ok"),(0,o.h)(C.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(z,s,e)=>{"use strict";e.d(s,{t5:()=>M.t,Sv:()=>S.S,Xq:()=>st,EU:()=>Oe,II:()=>we,Uj:()=>ne,y:()=>ft,zr:()=>K,mE:()=>Fe,pe:()=>He,Vm:()=>le,Hj:()=>We,_Y:()=>fe,mb:()=>_e,eK:()=>ie});var o=e(6400),m=e(98661),d=e(30396),u=e(94184),g=e.n(u),y=e(1852),w=e(20501),v=e(16527),b=e(39419),D=e(17685),E=e(51126),O=e(65919),C=e(44396),_=e(5131),a=e(19696),l=e(54520);const P={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var S=e(15822),M=e(55886),R=Object.defineProperty,N=Object.defineProperties,T=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,G=(Y,me,Ie)=>me in Y?R(Y,me,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):Y[me]=Ie,J=(Y,me)=>{for(var Ie in me||(me={}))F.call(me,Ie)&&G(Y,Ie,me[Ie]);if(A)for(var Ie of A(me))U.call(me,Ie)&&G(Y,Ie,me[Ie]);return Y},Q=(Y,me)=>N(Y,T(me)),te=(Y,me)=>{var Ie={};for(var je in Y)F.call(Y,je)&&me.indexOf(je)<0&&(Ie[je]=Y[je]);if(Y!=null&&A)for(var je of A(Y))me.indexOf(je)<0&&U.call(Y,je)&&(Ie[je]=Y[je]);return Ie};function ee({children:Y}){const me=useMobile();return h(ht,null,me?h(Text.H2,null,Y):h(Text.H1,null,Y))}function L({className:Y,children:me,title:Ie,hasTitle:je}){return h("div",{className:classnames("reader2-page-section",(Ie||je)&&"withTitle",Y)},Ie&&h(V,null,Ie),me)}function V({children:Y,className:me,actions:Ie}){return h("div",{className:classnames("reader2-section-title",me)},h("span",{className:"reader2-text-h3 reader2-section-title"},Y),Ie&&h("div",{className:"reader2-header-actions"},Ie))}const ne=(0,m.forwardRef)((Y,me)=>{var Ie=Y,{isPadded:je=!0,className:Xe,linkClassName:_t}=Ie,pt=te(Ie,["isPadded","className","linkClassName"]);return(0,o.h)("div",{ref:me,className:g()(P.linkRow,je&&P.isPadded,Xe)},(0,o.h)(ae,Q(J({},pt),{className:_t})))});function ae(Y){var me=Y,{children:Ie,className:je,href:Xe,newTab:_t,onClick:pt,noAnchor:Ge,native:at,utmCampaign:It,utmSource:zt,isSelected:Xt}=me,Dt=te(me,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const ln=typeof location!="undefined"?location.pathname:"",qt=!Ge&&Xe!=null?"a":"div",fn=Xe&&(0,w.pathWithQuery)(Xe,{utm_source:zt||ln,utm_medium:"reader2",utm_campaign:It}),Sn=wn=>{pt&&pt(wn),!wn.defaultPrevented&&Ge&&fn&&(0,v.Q)(wn,fn,{native:at,newTab:_t})};return(0,o.h)(E.hs,J({as:qt,className:g()(P.linkRowA,je,(fn||pt)&&Xt==null&&P.isClickable,Xt&&P.isSelected,Xt!=null&&P.isSelectable),"data-selected":Xt,href:fn,target:_t?"_blank":void 0,onClick:Sn},Dt),Ie)}function fe({icon:Y,title:me,text:Ie,action:je,className:Xe}){return(0,o.h)(E.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:g()(P.zero,Xe)},Y,(0,o.h)(E.tu,{gap:4},(0,o.h)(O.xv.B3,{weight:"medium",color:"secondary"},me),(0,o.h)(O.xv.B4,{color:"secondary"},Ie)),je)}function le({className:Y,style:me,type:Ie,width:je,height:Xe,size:_t,maxWidth:pt,elevated:Ge}){_t!=null&&(je=_t,Xe=_t);const at=Ie==="bar";return(0,o.h)("div",{className:g()(P.placeholder,Y,Ge&&P.elevated,at&&P.bar,Ie==="circle"&&P.circle),style:Q(J({},me),{width:je,height:Xe,maxWidth:pt})})}function re(Y){var me=Y,{className:Ie,variant:je,size:Xe,serif:_t,isConstrained:pt,maxLines:Ge=3}=me,at=te(me,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",J({className:classnames("reader2-paragraph",je&&`reader2-${je}`,Xe&&`reader2-font-${Xe}`,_t&&"reader2-font-serif",pt&&`reader2-clamp-lines reader2-${Ge}-lines`,Ie)},at))}function $({className:Y,children:me}){return h("div",{className:classnames("reader-nav-center",Y)},h("div",{className:"reader2-page reader2-font-base"},me))}function oe({className:Y,scrollRef:me,children:Ie}){return h(pe,{ref:me},h($,{className:Y},Ie))}function se(Y){var me=Y,{scrollRef:Ie}=me,je=te(me,["scrollRef"]);return h(pe,{ref:Ie},h(FlexBox,Q(J({},je),{flex:"grow",paddingX:{mobile:0,desktop:20}})))}function ce(Y){return useMediaQuery({minWidth:1100})?h(FlexColumn,J({className:"reader2-inbox-sidebar",paddingTop:20},Y)):null}function de(Y){return h(FlexBox,J({alignItems:"center",justifyContent:"space-between",paddingX:8},Y))}function be(Y){return h(FlexColumn,J({gap:8},Y))}const pe=(0,m.forwardRef)((Y,me)=>(0,o.h)(l.SV,null,(0,o.h)("div",J({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:me},Y)))),we=(0,m.forwardRef)((Y,me)=>{var Ie=Y,{className:je,hasError:Xe}=Ie,_t=te(Ie,["className","hasError"]);return(0,o.h)("input",Q(J({className:g()(P.input,Xe&&P.error,je)},_t),{ref:me}))});function xe(Y){var me=Y,{className:Ie,hasError:je,textareaRef:Xe}=me,_t=te(me,["className","hasError","textareaRef"]);return h("textarea",J({ref:Xe,className:classnames(css.input,css.textarea,je&&css.error,Ie)},_t))}function Ue({error:Y}){return h(st,null,getNetworkErrorMessage(Y))}const De=({header:Y,icon:me,title:Ie,text:je,action:Xe})=>h(L,{title:Y},h(_e,{icon:me,title:Ie,text:je,action:Xe}));function _e(Y){return(0,o.h)(E.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,o.h)(fe,J({},Y)))}const ie=(Y,{initialState:me}={})=>{const[Ie,je]=(0,d.eJ)(me||{showLeft:!1,showRight:!0});return(0,d.d4)(()=>{const{current:_t}=Y;if(_t){const pt=()=>{je(Ge=>{let at=Ge;!at.showLeft&&_t.scrollLeft>0?at=Q(J({},Ge),{showLeft:!0}):at.showLeft&&_t.scrollLeft<=0&&(at=Q(J({},Ge),{showLeft:!1}));const It=_t.scrollWidth-_t.offsetWidth-4;return!at.showRight&&_t.scrollLeft<It?at=Q(J({},Ge),{showRight:!0}):at.showRight&&_t.scrollLeft>=It&&(at=Q(J({},Ge),{showRight:!1})),at})};return _t.addEventListener("scroll",pt),setTimeout(()=>{pt()},1e3),()=>{_t.removeEventListener("scroll",pt)}}},[]),{state:Ie,handleArrowClick:_t=>()=>{const{current:pt}=Y;pt&&pt.scrollBy({left:_t*pt.offsetWidth,behavior:"smooth"})}}};function ve({tabs:Y,value:me,onChange:Ie}){const je=useRef(),Xe=useMobile(),{state:_t,handleArrowClick:pt}=ie(je);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!Xe&&h("div",{className:classnames("reader2-carousel-fade left",_t.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:pt(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:je},h(he,{tabs:Y,value:me,onChange:Ie})),!Xe&&h("div",{className:classnames("reader2-carousel-fade right",_t.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:pt(1)},h(ChevronRight,{size:20})))))}function he({tabs:Y,value:me,onChange:Ie}){return h(FlexRow,{gap:8},Y.map(je=>h(PillButton,{key:je.value,isActive:me===je.value,onClick:()=>Ie(je.value),icon:je.icon},je.label)))}function Le({children:Y}){const me=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:me},Y)}function He(Y){var me=Y,{gap:Ie=16}=me,je=te(me,["gap"]);return(0,o.h)(E.tu,Q(J({},je),{className:g()(P.pageStack,P[`gap_${Ie}`])}))}const ht=(0,a.L)("reader2-page-top"),bt=(0,a.L)(P.pageTopFixed),Tt=(0,a.L)("reader2-page-body"),Fe=(0,a.L)(P.pageStack),nt=(0,a.L)("reader2-page-center"),ft=(0,a.L)("reader2-modal-title-text"),Ye=(0,a.L)("reader2-column"),rt=(0,a.L)("reader2-text-h3"),$t=(0,a.L)("reader2-text-h3 reader2-section-title"),sn=(0,a.L)("reader2-text-h4"),gt=(0,a.L)("reader2-item-title"),Ne=(0,a.L)("reader2-item-meta"),We=(0,a.L)("reader2-text-b4"),st=(0,a.L)("reader2-form-error"),ke=(0,a.L)("reader2-subtitle"),Be=(0,a.L)("reader2-separator","hr"),Se=(0,a.L)("reader2-page-section withTitle"),Ke=(0,a.L)("reader2-row reader2-split-row"),ut=(0,a.L)("reader2-emphasis-box"),Oe=(0,a.L)(g()(P.hoverLink,"pencraft"),"a");function K(Y){return(0,o.h)(Oe,J({target:"_blank"},Y))}},4263:(z,s,e)=>{"use strict";var o=e(6400),m=e(98661),d=e(30396),u=e(94184),g=e.n(u),y=e(42395),w=e.n(y),v=e(15045),b=e(7922),D=e(45809),E=e(24491),O=e(11862),C=e(38199),_=e(56790),a=e(26523),l=e(53206),P=e(67963),S=e(3258),M=e(15748),R=e(6742),N=e(39419),T=e.n(N),A=e(51126),F=e(65919),U=e(95297),G=e(33510),J=e(68262),Q=e(40172),te=e(47585),ee=e(44396),L=e(72307),V=Object.defineProperty,ne=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,$=(Oe,K,Y)=>K in Oe?V(Oe,K,{enumerable:!0,configurable:!0,writable:!0,value:Y}):Oe[K]=Y,oe=(Oe,K)=>{for(var Y in K||(K={}))le.call(K,Y)&&$(Oe,Y,K[Y]);if(fe)for(var Y of fe(K))re.call(K,Y)&&$(Oe,Y,K[Y]);return Oe},se=(Oe,K)=>ne(Oe,ae(K)),ce=(Oe,K)=>{var Y={};for(var me in Oe)le.call(Oe,me)&&K.indexOf(me)<0&&(Y[me]=Oe[me]);if(Oe!=null&&fe)for(var me of fe(Oe))K.indexOf(me)<0&&re.call(Oe,me)&&(Y[me]=Oe[me]);return Y};function de(Oe){var K=Oe,{post:Y,pub:me}=K,Ie=ce(K,["post","pub"]);const je=!!useUser(),{subscription:Xe}=usePubSubscription(me.id);return h(pe,se(oe({},Ie),{post:Y,postId:Y.id,title:Y.title,description:decodeHtmlEntitiesFast(Y.description),bylines:Y.publishedBylines,consumptionTime:nt(Y),coverImage:Y.cover_image,type:getPostType(Y),Icon:rt(getPostType(Y)),canonicalUrl:getPostUrl(me,Y,{signedIn:je}),timestamp:Y.post_date,pub:me,audienceBadge:["only_paid","founding"].includes(Y.audience)?(Xe==null?void 0:Xe.membership_state)==="free_signup"&&Y.should_send_free_preview?"preview":"paid":void 0}))}var be=null;function pe(Oe){var K=Oe,{post:Y,title:me,description:Ie,bylines:je,consumptionTime:Xe,coverImage:_t,type:pt,Icon:Ge,audienceBadge:at,showBestsellerBadge:It,highlights:zt,excerpt:Xt}=K,Dt=ce(K,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(xe,se(oe({},Dt),{highlights:zt}),h(He,{post:Y,bylines:je,consumptionTime:Xe,Icon:Ge,audienceBadge:at,showBestsellerBadge:It,highlights:zt,excerpt:Xt}))}function we({post:Oe,pub:K,context:Y,isViewed:me,isSaved:Ie,isSelected:je,onClick:Xe,onMouseEnter:_t,onVisible:pt,position:Ge}){const at=!!useUser(),It=Oe.cover_image;return h(xe,{postId:Oe.id,canonicalUrl:getPostUrl(K,Oe,{signedIn:at,urlParams:{pos:Ge}}),timestamp:Oe.post_date,pub:K,isViewed:me,isSelected:je,defaultSaved:Ie,onClick:Xe,onMouseEnter:_t,onVisible:pt},h(Le,{post:Oe,metaText:Y,image:It&&h(Ye,{post:Oe})}))}function xe({children:Oe,pub:K,publisherName:Y,logoUrl:me,timestamp:Ie,isViewed:je,isArchived:Xe,isSelected:_t,isLiked:pt,isSaved:Ge,onLike:at,onClick:It,canonicalUrl:zt,postId:Xt,defaultSaved:Dt,onSave:ln,onArchive:qt,onMouseEnter:fn,onVisible:Sn,utmSource:wn,highlights:Pn}){const jn=useUser(),[sr,_r]=useUnreadBadge(!je),hr=isMobileBrowser(),Bn=useRef();return useFirstVisible(Bn,()=>Sn&&Sn(),{threshold:.2}),h(ie,{ref:Bn,href:zt,onClick:yr=>{_r(),It&&It(yr)},className:"reader2-post-container",utmSource:wn,isSelected:_t,onMouseMove:()=>{fn==null||fn(Xt)}},h(ve,{pub:K,publisherName:Y,logoUrl:me,highlights:Pn},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",jn&&"hasUser")},h(he,{className:"inbox-item-timestamp",value:Ie}),h(Ue,{isMobile:hr,postId:Xt,defaultSaved:Dt,isSaved:Ge,onSave:ln,user:jn,isArchived:Xe,onArchive:qt,isLiked:pt,onLike:at,canonicalUrl:zt,communityEnabled:K==null?void 0:K.community_enabled}),sr)),Oe)}function Ue({isMobile:Oe,postId:K,defaultSaved:Y,isLiked:me,onLike:Ie,isSaved:je,onSave:Xe,user:_t,isArchived:pt,onArchive:Ge,canonicalUrl:at,communityEnabled:It}){const{isSaved:zt,onSave:Xt}=useSavePostById({postId:K,defaultSaved:Y}),Dt=Sn=>{Sn.stopPropagation(),Sn.preventDefault()},ln=()=>{Xe?Xe(K,!zt):Xt()},qt=()=>{Ge==null||Ge()},fn=useLinkCopyToast();return Oe?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:Dt},Ie&&It&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Ie(K)},h(gt,{isActive:me})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{fn(at)}},h(Se,null)),_t&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:ln},h(st,{isActive:je!=null?je:zt})),Ge&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:qt},h(Be,null)))}function De({post:Oe,highlights:K}){return h(He,{post:Oe,bylines:Oe.publishedBylines,consumptionTime:nt(Oe),Icon:rt(getPostType(Oe)),highlights:K})}function _e({post:Oe,pub:K}){const Y=!!useUser();return h(ie,{href:getPostUrl(K,Oe,{signedIn:Y})},h(ve,{pub:K},h(he,{value:Oe.post_date})),h(De,{post:Oe}))}const ie=(0,m.forwardRef)((Oe,K)=>(0,o.h)(G.Uj,oe({ref:K,linkClassName:g()("reader2-inbox-post",Oe.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},Oe)));function ve({pub:Oe,logoUrl:K,publisherName:Y,children:me,highlights:Ie={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(Oe||K)&&h(PubIcon,{className:"pub-logo",pub:Oe,logoUrl:K,publicationName:Y,size:20}),h("div",{className:"pub-name"},Y||Oe&&h(NewTabHoverLink,{href:Oe.base_url,onClick:je=>je.stopPropagation()},highlightText(Oe.name,Ie["publication.name"]))),me)}function he({value:Oe,className:K}){return h("div",{className:classnames("timestamp",K)},formatPostDate(Oe))}function Le({post:Oe,image:K,metaText:Y,highlights:me={},excerpt:Ie}){return h("div",{className:"reader2-post-body",onClick:()=>{const je=(window==null?void 0:window.location)&&new URL(window.location.href);je&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:Oe.id,query:decodeURIComponent(je.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(Oe.title,me.title||me["posts.title"],"extrabold")),Oe.description&&h(Paragraph,{variant:"secondary",isConstrained:!Ie},Ie?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Ie,me.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(Oe.description),me.subtitle||me["posts.subtitle"],"extrabold")),Y),K)}function He({bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:me,showBestsellerBadge:Ie,post:je,highlights:Xe,excerpt:_t}){return h(Le,{post:je,metaText:h(ht,{bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:me,showBestsellerBadge:Ie,highlights:Xe}),image:je.cover_image&&h(Ye,{post:je}),highlights:Xe,excerpt:_t})}function ht({bylines:Oe,consumptionTime:K,Icon:Y,audienceBadge:me,showBestsellerBadge:Ie,highlights:je={}}){return h(ItemMeta,null,me&&h(Fragment,null,h("span",{className:"meta-audience-badge"},me),h(Tt,null)),Oe.length>0?h(Fragment,null,h(FormattedArray,{array:Oe,limit:5,formatter:Xe=>Ie?h(bt,{name:Xe.name,tier:Xe.bestseller_tier,userId:Xe.id}):highlightText(Xe.name,je["publication.author_name"])}),K&&h(Tt,null)):null,Y&&h(Fragment,null,h(Y,{className:"meta-icon tw-align-text-top"})," "),K)}const bt=({name:Oe,tier:K,userId:Y})=>K?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},Oe," ",h(UserBadge,{userId:Y,tier:K,size:"sm"})):h(Fragment,null,Oe),Tt=()=>h("span",{className:"meta-bullet"},"\u2219");function Fe(Oe){var K,Y;return(K=Oe==null?void 0:Oe.duration_metadata)!=null&&K.audio_duration?"podcast":Oe.video_id&&((Y=Oe==null?void 0:Oe.duration_metadata)!=null&&Y.video_duration)?"video":"newsletter"}function nt(Oe){const{comment_count:K,podcast_duration:Y,wordcount:me,videoUpload:Ie}=Oe;let je,Xe;const _t=getPostType(Oe);if(_t==="podcast")je=Y/60,Xe="listen";else if(_t==="video")je=Ie.duration/60,Xe="watch";else{if(_t==="thread")return K>0?`${K.toLocaleString()} replies`:"Thread";if(me!=null&&me>0)je=me/220,Xe="read";else return null}return`${Math.max(Math.round(je),1).toLocaleString()} min ${Xe}`}function ft(Oe){var K;let Y,me;const Ie=Fe(Oe);if(Ie==="podcast")Y=Oe.duration_metadata.audio_duration/60,me="listen";else if(Ie==="video")Y=Oe.duration_metadata.video_duration/60,me="watch";else if((((K=Oe==null?void 0:Oe.duration_metadata)==null?void 0:K.word_count)||0)>0)Y=Oe.duration_metadata.word_count/220,me="read";else return null;return`${Math.max(Math.ceil(Y),1).toLocaleString()} min ${me}`}function Ye({post:Oe,size:K=132,square:Y}){const me=Oe.cover_image,Ie=getPostType(Oe),je=K,Xe=Ie==="podcast"||Y?K:200,[_t,pt]=useState(null);return _t?null:h("div",{className:"reader2-post-picture-container"},h(CloudImage,{className:classnames("reader2-post-picture",Ie),src:me,width:Xe,height:je,loading:"lazy",noStyle:!Y,onError:Ge=>pt(Ge)}),(Ie==="podcast"||Ie==="video")&&h("div",{className:"reader2-picture-overlay"},h(InboxPodcastPlayIcon,{className:"picture-play"})))}function rt(Oe){return Oe==="podcast"?AudioIcon:Oe==="video"?VideoIcon:Oe==="thread"?ThreadIcon:null}const $t=20;function sn(Oe){return h(UnstyledButton,oe({className:"reader2-post-action-button"},Oe))}function gt({isActive:Oe}){return h(Heart,{className:classnames("reader2-post-action-heart",Oe&&"isActive"),size:$t})}function Ne({isActive:Oe}){return h(Comment,{size:$t})}function We({isActive:Oe}){return h(Flag,{size:$t})}function st({isActive:Oe}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",Oe&&"isActive"),size:$t})}function ke({text:Oe}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},Oe))}function Be(){return h(Archive,{size:$t,className:"inbox-item-action-icon reader2-post-action-archive"})}function Se(){return h(Link,{size:$t,className:"inbox-item-action-icon reader2-post-action-copy"})}function Ke(){return h(Fragment,null,Array(6).fill(0).map(()=>h(ut,null)))}function ut(){const Oe=useMobile();return h(LinkRow,null,h(FlexColumn,{flex:"grow",gap:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:Oe?96:160,height:Oe?96:120,style:{borderRadius:6}}))))}},7778:(z,s,e)=>{"use strict";e.d(s,{wg:()=>uo});var o=e(6400),m=e(30396),d=e(94184),u=e(3312),g=e(28175),y=e(99869),w=e(71212),v=e(80569),b=e(2731),D=e(82771),E=e(81470),O=e(15045),C=e(70444),_=e(20501),a=e(83322),l=e(43615),P=e(78041),S=e(48963),M=e(53668),R=e(68227),N=e(66839),T=e(96733),A=e(59736),F=e(81243),U=e(63861),G=e(91001),J=e(69427),Q=e(25877),te=e(58718),ee=e(92643),L=e(63270),V=e(67963),ne=e(69371),ae=Object.defineProperty,fe=Object.defineProperties,le=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=(At,Zt,jt)=>Zt in At?ae(At,Zt,{enumerable:!0,configurable:!0,writable:!0,value:jt}):At[Zt]=jt,ce=(At,Zt)=>{for(var jt in Zt||(Zt={}))$.call(Zt,jt)&&se(At,jt,Zt[jt]);if(re)for(var jt of re(Zt))oe.call(Zt,jt)&&se(At,jt,Zt[jt]);return At},de=(At,Zt)=>fe(At,le(Zt)),be=(At,Zt)=>{var jt={};for(var nn in At)$.call(At,nn)&&Zt.indexOf(nn)<0&&(jt[nn]=At[nn]);if(At!=null&&re)for(var nn of re(At))Zt.indexOf(nn)<0&&oe.call(At,nn)&&(jt[nn]=At[nn]);return jt};function pe(At){var Zt=At,{size:jt=24,stroke:nn="var(--color-light-secondary)"}=Zt,gn=be(Zt,["size","stroke"]);return h("svg",de(ce({},gn),{width:jt,height:jt,viewBox:"0 0 24 24",fill:"none",stroke:nn,xmlns:"http://www.w3.org/2000/svg"}),h("path",{d:"M18.4824 5.92426L6.89132 2.81843C5.82439 2.53255 4.72772 3.16571 4.44183 4.23264L1.33606 15.8236C1.05017 16.8905 1.68332 17.9872 2.75024 18.2731L5.69847 19.0631M11 14.1569L13.1696 16.3139L17.5089 12M6 8.00001V19.9998C6 21.1044 6.89541 21.9998 7.99997 21.9998L20 22C21.1046 22 22 21.1046 22 20V8.00001C22 6.89544 21.1046 6.00001 20 6.00001H8C6.89543 6.00001 6 6.89544 6 8.00001Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))}var we=e(60779),xe=e(55687),Ue=e(20447),De=e(2387),_e=e(59386),ie=e(3258),ve=e(8479),he=e(11533),Le=e(39419),He=e(17685),ht=e(48960),bt=e(51126),Tt=e(76235),Fe=e(65919),nt=e(75425),ft=e(92630),Ye=e(95297),rt=e(10186),$t=e(91870),sn=e(68493),gt=e(11688),Ne=e(50292),We=e(33510),st=e(4263),ke=e(7922),Be=e(96789),Se=e(66399);const Ke={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var ut=(At,Zt,jt)=>new Promise((nn,gn)=>{var Mn=er=>{try{nr(jt.next(er))}catch(Nn){gn(Nn)}},Xn=er=>{try{nr(jt.throw(er))}catch(Nn){gn(Nn)}},nr=er=>er.done?nn(er.value):Promise.resolve(er.value).then(Mn,Xn);nr((jt=jt.apply(At,Zt)).next())});function Oe({userId:At,surface:Zt,onClose:jt,onReportSuccess:nn}){const gn=useRef(),Mn=()=>{var br;return(br=gn==null?void 0:gn.current)==null?void 0:br.close()};useEffect(()=>{var br;(br=gn==null?void 0:gn.current)==null||br.open()},[!!gn.current]);const Xn=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[nr,er]=useState(null),[Nn,Sr]=useState(!1),Tr=br=>ut(this,null,function*(){if(!br){alert("Please enter a reason!");return}Sr(!0);try{yield request.post(`/api/v1/user/${At}/report`).send({userId:At,reason:br,surface:Zt}),Mn(),nn(),Sr(!1),br==="violation"&&(location.href=getHcProfileViolationFormUrl(At))}catch(Rr){Sr(!1),alert(getNetworkErrorMessage(Rr))}});return h(PopupModal,{ref:gn,onClose:jt},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},Xn.map(({value:br,label:Rr})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},Rr),h("input",{type:"radio",name:"reason",value:br,onInput:()=>er(br)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>Tr(nr),disabled:nr===null||Nn},h("span",null,Nn?"Loading...":nr==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:Mn},h("span",null,"Cancel")))))}var K=e(68262),Y=e(79167),me=e(74462),Ie=e(20533),je=e(4948),Xe=e(44396),_t=e(70762);const pt={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var Ge=Object.defineProperty,at=Object.defineProperties,It=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,ln=(At,Zt,jt)=>Zt in At?Ge(At,Zt,{enumerable:!0,configurable:!0,writable:!0,value:jt}):At[Zt]=jt,qt=(At,Zt)=>{for(var jt in Zt||(Zt={}))Xt.call(Zt,jt)&&ln(At,jt,Zt[jt]);if(zt)for(var jt of zt(Zt))Dt.call(Zt,jt)&&ln(At,jt,Zt[jt]);return At},fn=(At,Zt)=>at(At,It(Zt)),Sn=(At,Zt)=>{var jt={};for(var nn in At)Xt.call(At,nn)&&Zt.indexOf(nn)<0&&(jt[nn]=At[nn]);if(At!=null&&zt)for(var nn of zt(At))Zt.indexOf(nn)<0&&Dt.call(At,nn)&&(jt[nn]=At[nn]);return jt},wn=(At,Zt,jt)=>new Promise((nn,gn)=>{var Mn=er=>{try{nr(jt.next(er))}catch(Nn){gn(Nn)}},Xn=er=>{try{nr(jt.throw(er))}catch(Nn){gn(Nn)}},nr=er=>er.done?nn(er.value):Promise.resolve(er.value).then(Mn,Xn);nr((jt=jt.apply(At,Zt)).next())});const Pn=(0,O.getProfileSetupUrl)({utm_source:"substack"}),jn="profile-page-feed";function sr({id:At,initialData:{profileSubscribeOnTransit:Zt=!1}}){var jt;const nn=useUser(),gn=useRef(null),Mn=useMobile(),Xn=useToast();let nr,er;At.includes("-")?(nr=hr(At),er=Bn(At)):nr=At;const{subjectProfile:Nn,error:Sr}=useProfile({subjectId:nr,subjectName:er}),Tr=useUserBlockStatus(Nn==null?void 0:Nn.id),br=Tr==="blocked"||Tr==="blocking",Rr=!!(Nn!=null&&Nn.profile_set_up_at),so=Nn&&Nn.id===(nn==null?void 0:nn.id),eo=(Nn==null?void 0:Nn.subscriptions)||[],Cr=(Nn==null?void 0:Nn.primaryPublication)&&((jt=Nn.publicationUsers.find(Lo=>{var So;return Lo.publication_id===((So=Nn==null?void 0:Nn.primaryPublication)==null?void 0:So.id)}))==null?void 0:jt.publication),Co=!!(Cr&&(Nn!=null&&Nn.isSubscribed)),po=(Nn==null?void 0:Nn.max_pub_tier)===2;useEffect(()=>{Nn&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:Nn.id,is_set_up:Rr,is_self:so,has_name:!!Nn.name,has_photo:!!Nn.photo_url,has_bio:!!Nn.bio,has_twitter:!!Nn.twitterAccount,reads_count:eo.length,writes_count:Nn.publicationUsers.length,subscribe_cta_publication_id:!Co&&(Cr==null?void 0:Cr.id)}),Zt&&(removeQueryParam("subscribed"),Xn.popToast(Lo=>h(Toast,fn(qt({},Lo),{text:`Subscribed to ${(Cr==null?void 0:Cr.name)||Nn.name||"user"}`,Icon:Check})))))},[At]);const[{url:jo}]=useRouter(),Oo=en(jo)?jn:"profile-page";return Sr?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):Nn?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${Nn.name||"<no name>"} | Substack`,description:Nn&&Nn.bio,image:Nn&&Nn.photo_url&&imginary(Nn.photo_url),seoProps:{noindex:!(po&&(Nn.photo_url||Nn.bio||Rr))}}),h(ShareDialog,{ref:gn,medium:"profile-page",user:nn,profile:Nn,onClick:Lo=>Lo.preventDefault()}),h(Jr,{profile:Nn}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(co,{profile:Nn,primaryPublication:Cr,yourProfile:!!so,setUp:Rr,user:nn,showCTAs:!br,subscriptionSource:Oo,subscribeButton:!so&&Cr&&!br&&h(Dr,{user:nn,profile:Nn,primaryPublication:Cr,subscriptionSource:Oo})}),Nn.publicationUsers.length>0&&!br&&h(Qo,{isMobile:Mn,profile:Nn,primaryPublication:Cr,subscriptionSource:Oo}),Tr==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${Nn.name||"They"} blocked you`,text:`You are blocked from subscribing to ${Nn.name||"them"} and their publications`})),Tr==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${Nn.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!br&&Rr&&h(oo,{subscriptions:eo,profile:Nn})),!Rr&&so&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(_r,null)}const _r=()=>{const At=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:At?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function hr(At){const Zt=At.split("-");return Zt.length?parseInt(Zt[0]):-1}function Bn(At){const Zt=At.split("-");return Zt.length?Zt.slice(1).join("-"):""}function yr({profile:At}){var Zt;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const[jt,nn]=useReducer(reduceFeed,defaultFeedState),{canFetchMore:gn,lastPage:Mn,fetchMore:Xn,hasLoadedOnce:nr}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${At.id}`,query:qt({},parseQuery(document.location.href)),getPageInit:({lastPage:Rr,init:so})=>{var eo;const Cr=(eo=Rr==null?void 0:Rr.result)==null?void 0:eo.nextCursor;return Cr&&(so.query=fn(qt({},so.query),{cursor:Cr})),so},auto:!0,deps:[At.id],pages:jt.pages,dispatch:nn}),er=gn&&!!((Zt=Mn==null?void 0:Mn.result)!=null&&Zt.nextCursor),{bodyRef:Nn}=useInfiniteScroll(Xn,[Mn],{shouldCheck:er,threshold:640}),Sr=jt.pages.map(Rr=>{var so;return((so=Rr.result)==null?void 0:so.items)||[]}).flat(),Tr=useUser(),br=At&&At.id===(Tr==null?void 0:Tr.id);return useEffect(()=>{var Rr;((Rr=Mn==null?void 0:Mn.result)==null?void 0:Rr.items.length)==0&&er&&Xn()},[Mn]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:nn,state:jt},h(PageStack,{ref:Nn},h(MuteFreeZoneContextProvider,null,Sr.map(Rr=>h(FeedItem,{item:fn(qt({},Rr),{publication:Rr.publication?jt.publications.get(Rr.publication.id):Rr.publication,post:Rr.post?jt.posts.get(Rr.post.id):Rr.post,comment:Rr.comment?jt.comments.get(Rr.comment.id):Rr.comment,parentComments:Rr.parentComments?Rr.parentComments.map(so=>so&&jt.comments.get(so.id)||null):Rr.parentComments})}))),Mn!=null&&Mn.isLoading||!nr?h(LotsOfNotes,null):Sr.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${br?"You haven\u2019t":`${At.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${br?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},"Visit Notes")})):null))}function oo({subscriptions:At,profile:Zt}){const jt=Zt.publicationUsers.length>0,[nn,gn]=useState(jt?"post":"note");return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,jt&&h(Tab,{value:"post",currentValue:nn,onClick:gn},"Posts"),h(Tab,{value:"note",currentValue:nn,onClick:gn},"Notes"),h(Tab,{value:"reads",currentValue:nn,onClick:gn},"Reads",At.length>0&&` (${At.length})`)),h(FlexColumn,{flex:"fill"},nn==="note"&&h(yr,{profile:Zt}),nn==="post"&&h(Vr,{profile:Zt,userId:Zt.id}),nn==="reads"&&h(Zo,{subscriptions:At,profile:Zt})))}function Wr(At){var Zt=Sn(At,[]);return h("div",qt({className:css.grid},Zt))}function Zr({profile:At}){const Zt=useUser(),jt=At&&At.id===(Zt==null?void 0:Zt.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${jt?"You haven\u2019t":`${At.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function Vr({profile:At,userId:Zt}){const jt="new",[gn,Mn]=useState(0),[Xn,nr]=useState([]),{result:er,isLoading:Nn}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:Zt,sort:jt.toLowerCase(),offset:gn,limit:12+1},auto:!0,deps:[Zt,jt,gn]});useLayoutEffect(()=>{er&&nr(gn===0?[er]:[...Xn,er])},[er]);const Sr=useMemo(()=>({posts:Xn.map(Cr=>Cr.posts.slice(0,12)).flat(),publicationMap:new Map(Xn.map(Cr=>Cr.publications).flat().map(Cr=>[Cr.id,Cr]))}),[Xn]),Tr=Xn[Xn.length-1],br=Tr&&Tr.posts.length>12,{bodyRef:Rr}=useInfiniteScroll(()=>{Mn(gn+12)},[Sr,Nn],{shouldCheck:br&&!Nn}),{posts:so,publicationMap:eo}=Sr;return h(FlexColumn,null,h(PageStack,{ref:Rr},er?so.length>0?so.map((Cr,Co)=>{const po=eo.get(Cr.publication_id);if(po)return h(PostWithActions,{key:Cr.id,post:Cr,pub:po,isViewed:!0,isLiked:!!Cr.reaction,isSaved:Cr.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:Cr.id,tab:jt,rank_in_feed:Co,source:"profile"}),utmSource:"profile"})}):h(Zr,{profile:At}):h(LotsOfPlaceholders,null),Nn&&h(DrunkSpinner,null)))}function Ur({url:At,type:Zt,label:jt,verified:nn,value:gn}){var Mn,Xn,nr,er;gn=gn.replace(/^@/,"");const Nn={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:At.startsWith("http")?At:`http://${At}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:Zt,url:At,label:jt})},outline:"none",priority:"secondary",leftIcon:((Mn=Nn[Zt])==null?void 0:Mn.icon)||h(Link,{size:14}),rightIcon:nn&&((Xn=Nn[Zt])==null?void 0:Xn.verifiedIcon),className:nn&&css.verified},(nr=Nn[Zt])!=null&&nr.showUsername?gn:((er=Nn[Zt])==null?void 0:er.label)||jt)}function co({profile:At,primaryPublication:Zt,yourProfile:jt,setUp:nn,user:gn,showCTAs:Mn,subscriptionSource:Xn,subscribeButton:nr}){const er=(At==null?void 0:At.name)||"<no name>",Nn=useMobile(),Sr=Nn?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Rn,{profile:At}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(yo,{profile:At,primaryPublication:Zt,yourProfile:jt,setUp:nn,user:gn,showCTAs:Mn,subscriptionSource:Xn}),nr)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Sr,null,er,h("span",{style:{whiteSpace:"nowrap",verticalAlign:Nn?"middle":void 0}},"\xA0",h(UserBadge,{tier:At.bestseller_tier,userId:At.id,inline:!0}))),h(no,{profile:At,yourProfile:jt}),At.bio&&h(xo,{profile:At})),At.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},At.userLinks.sort((Tr,br)=>Tr.type!==br.type?(Tr.type||"website")>(br.type||"website")?1:-1:Number(Tr.id)>Number(br.id)?1:-1).map(Tr=>h(Ur,qt({},Tr)))))}function no({profile:At,yourProfile:Zt}){const[jt,nn]=useState(!1),{result:gn,error:Mn,isLoading:Xn,refetch:nr}=useFetch({pathname:`/api/v1/presubscribe/subscriptions?id=${At.id}`,auto:!1,deps:[At]}),{getConfigFor:er}=useSiteConfigs(),Nn=useMobile(),Sr=useToast(),Tr=()=>{nn(!0),Xn||nr()},br=()=>{nn(!1)},Rr=()=>{!gn&&!Xn&&nr()},so=()=>{copyToClipboard(getReaderProfileUrl(At)),Sr.popToast(fi=>h(Toast,fn(qt({},fi),{text:"Link copied",Icon:Link})))};let eo;er("enable_all_author_handles")?eo=At.handleEditingEnabled:eo=!!er("handle_selection_enabled");const Cr=At.handle||Zt&&eo,Co=!!(At.rough_num_subscribers||er("enable_notes_following")),po=!!At.presubscriberCount&&At.presubscriberCount>0&&!Co;if(!(Cr||Co||po))return null;const vo=Cr&&(Co||po),Oo=Cr&&Co&&po,Lo=!!(Mn||Nn||Xn||!gn),So=(gn==null?void 0:gn.subs.map(fi=>fi.user))||[],Ci=At.presubscriberCount&&formatNumber(At.presubscriberCount),io=pluralize(At.presubscriberCount,"Subscriber",{just_word:!0}),li=h(FlexBox,{gap:4,alignItems:"center",className:cn(At.presubscriberCount&&css.stat)},h(Text.Digit,{color:"secondary"},Ci),h(Text.Meta,null,io));return h(FlexBox,{gap:8},Cr&&(At.handle?h(Text.Meta,{as:"a",onClick:so,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:Nn},`@${At.handle}`)):Zt&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle"))),vo&&h(Text.Meta,null," \xB7 "),Co&&h(Hr,{profile:At}),Oo&&h(Text.Meta,null," \xB7 "),po&&h(FlexBox,{onClick:Tr,onMouseEnter:Rr},Lo?li:h(ReactorsTooltip,{users:So},li),h(FacepileDetailModal,{isOpen:jt,onClose:br,modalLabel:io,totalCount:At.presubscriberCount,utmSource:"profile-subscribers-list",faces:So})))}function Hr({profile:At}){const Zt=useSiteConfigs().getConfigFor("enable_notes_following"),jt=At.rough_num_subscribers?`${At.rough_num_subscribers} of paid subscribers`:"0 subscribers";return Zt?h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(At,null,{noBase:!0}),decoration:"hover-underline"},jt):h(Text.Meta,null,jt)}const uo=({url:At,twitterText:Zt,onLinkClicked:jt,comment:nn})=>{const gn=(0,nt.pm)(),Mn=(0,L.xR)().getConfigFor("note-preview-image-enabled"),Xn=()=>{(0,Le.copyToClipboard)(At),gn.popToast(Sr=>(0,o.h)(nt.FN,fn(qt({},Sr),{text:"Link copied",Icon:y.Z}))),jt==null||jt("copy")},nr=()=>{window.open((0,_.pathWithQuery)("https://twitter.com/share",{url:At,text:Zt||""}),"_blank"),jt==null||jt("twitter")},er=()=>{window.open((0,_.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:At}),"_blank"),jt==null||jt("facebook")},Nn=()=>{gn.popToast(Sr=>(0,o.h)(nt.FN,fn(qt({},Sr),{text:"Downloading image...",Icon:w.Z}))),jt==null||jt("download")};return[(0,o.h)(Tt.sN,{icon:(0,o.h)(y.Z,null),onClick:Xn},"Copy link"),Mn&&nn?(0,o.h)(Tt.sN,{icon:(0,o.h)(w.Z,null),onClick:Nn,href:(0,C.IY)(nn.id),target:"_blank",download:!0},"Save as image"):(0,o.h)(o.Fragment,null),(0,o.h)(Tt.sN,{icon:(0,o.h)(N.Z,null),onClick:nr},"Share to Twitter"),(0,o.h)(Tt.sN,{icon:(0,o.h)(R.Z,null),onClick:er},"Share to Facebook")]},yo=({profile:At,primaryPublication:Zt,yourProfile:jt,setUp:nn,user:gn,showCTAs:Mn,subscriptionSource:Xn})=>{const nr=useMobile(),{getConfigFor:er}=useSiteConfigs(),Nn=useNavContextAndTitle("",{backAction:!0}),Sr=er("enable_notes_following"),Tr=!jt&&!Zt&&er("enable_presubscriptions")&&!At.presubscribes_disabled,br=useUserBlockMenuItems(At,"profile"),Rr=useFeedFollowMenuItems(At,"profile"),[so,eo]=useState(!1),[Cr,Co]=useState(!1),po=uo({url:getReaderProfileUrl(At,{utm_source:"substack_profile"}),twitterText:`Subscribe to ${At.name}${At.twitter_screen_name?`(@${At.twitter_screen_name})`:""}`,onLinkClicked:jo=>{track(EVENTS.PROFILE_SHARE_LINK_CLICKED,{type:jo,shared_user_id:At.id})}});return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:Cr,utmSource:"profile-page",onClose:()=>Co(!1)}),!jt&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},Rr,br,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>eo(!0)},"Report"),(gn==null?void 0:gn.is_global_admin)&&h(Fragment,null,h(Divider,{paddingX:8}),h(MenuItem,{icon:h(ExternalLink,null),onClick:()=>window.location.href=getUserUndergroundUrl(At.id)},"Open in Underground")),Sr&&Mn&&h(Fragment,null,h(Divider,{paddingX:8}),po)),Mn&&(Sr?gn&&h(ho,{profile:At}):h(Menu,{trigger:h(IconButton,{fill:"outline"},h(Share,{height:20,strokeWidth:2})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share"},po)),so&&h(ProfileReportModal,{userId:At.id,surface:"profile",onClose:()=>eo(!1),onReportSuccess:()=>{}})),Mn&&h(Fragment,null,Tr?h(PresubscribeCta,{profile:At,requireLogin:Nn.requireLogin,source:{type:"profile",utmSource:Xn}}):null,jt&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(gn!=null&&gn.has_publication)&&!nr&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),nn?h(Button,{onClick:()=>Co(!0),rounded:!0},"Invite friends"):h(Button,{href:Pn,localNavigation:!1,rounded:!0},"Set up profile"))))};function ho({profile:At}){const{isFollowing:Zt,buttonProps:jt,css:nn}=useFollowButtonState(At,"profile");return h(IconButton,qt({fill:"outline"},jt),Zt?h(Fragment,null,h(FollowedIcon,{className:nn.off}),h(UnfollowIcon,{className:nn.on})):h(FollowIcon,null))}const xo=({profile:At})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},At.bio)),Qo=({profile:At,primaryPublication:Zt,isMobile:jt})=>{const nn=useUser(),gn=!!nn,Mn=At.publicationUsers.filter(er=>er.publication.id!==(Zt==null?void 0:Zt.id)),Xn=At&&At.id===(nn==null?void 0:nn.id),nr=!Xn&&Zt&&(nn==null?void 0:nn.primary_publication);return h(FlexColumn,{gap:16},Zt&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:8,as:"a",href:getPubUrl(Zt,{signedIn:gn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(Zt,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:Zt,size:jt?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},Zt.name),h(PublicationAuthorText,{author:Zt.author,pub:Zt})),!jt&&nr&&h(jr,{user:nn,recommendedPublication:Zt,userPublication:nn==null?void 0:nn.primary_publication})),Zt.hero_text&&h(PublicationAbout,null,Zt.hero_text),jt&&nr&&h(jr,{user:nn,recommendedPublication:Zt,userPublication:nn==null?void 0:nn.primary_publication}),!Xn&&(nn==null?void 0:nn.is_author)&&(nn==null?void 0:nn.primary_publication)&&h(jr,{recommendedPublication:Zt,userPublication:nn==null?void 0:nn.primary_publication}))),At.publicationUsers.length>1&&h(Wr,null,Mn.map(er=>h(Ko,{key:er.id,pub:er.publication,subtitleType:"writer",signedIn:gn}))))};function Zo({subscriptions:At,profile:Zt}){const jt=useUser(),nn=Zt.id===(jt==null?void 0:jt.id);return At.length===0?h(FlexBox,{paddingY:64,flex:"grow"},nn?Zt.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${Zt.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},At.map(gn=>h(No,{key:gn.id,subscription:gn})))}function No({subscription:At}){const Zt=At.is_founding?"founder":At.membership_state==="subscribed"?"subscribed":null,{publication:jt}=At,{author:nn}=jt,gn=useSubscriptionController({publication:jt,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(jt),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:jt,size:40,badgeType:Zt}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(jt)},jt.name),nn&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",nn.name)),gn.isSubscribed?h(Ro,{onUnsubscribe:gn.unsubscribe,publication:jt}):h(Button,{fill:"outline",priority:"primary",size:"small",onClick:gn.subscribe},"Subscribe"))}function Ro({onUnsubscribe:At,publication:Zt}){return h(Menu,{trigger:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")},h(MenuItem,{icon:h(Settings,null),href:getPubAccountSettingsUrl(Zt,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:At,priority:"destructive"},"Unsubscribe"))}const Ko=({pub:At,subtitleType:Zt})=>{const jt=!!useUser(),nn=["subscribed","founder"].includes(Zt)?Zt:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(At,{signedIn:jt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(At,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:At,subtitle:Yr[Zt],badgeType:nn,surface:"profile"}))))},Yr={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},Jr=({profile:At})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(At),{json:!0,isScriptContext:!0})}}),jr=({recommendedPublication:At,userPublication:Zt})=>{const[jt,nn]=useState(!1),[gn,Mn]=useState(!1),Xn=useMobile(),{popToast:nr}=useToast(),{result:er,hasLoadedOnce:Nn}=useFetch({pathname:`/api/v1/recommendations/from/${Zt.id}/to/${At.id}`,auto:!0,deps:[Zt.id,At.id]});useEffect(()=>{const Tr=!!(er!=null&&er.recommended_publication_id);Mn(Tr),gn!==Tr&&Mn(Tr)},[Nn,er]);const Sr=Tr=>wn(void 0,null,function*(){nn(!0);try{Tr.preventDefault(),gn?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:At.id,recommending_publication_id:Zt.id,source:"profile"}),nr(br=>h(Toast,fn(qt({},br),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:At.id,recommending_publication_id:Zt.id,source:"profile",suggested:!1}),nr(br=>h(Toast,fn(qt({},br),{text:`Recommended ${At.name}`})))),Mn(!gn)}catch(br){nr(Rr=>h(Toast,fn(qt({},Rr),{text:"Something went wrong. Please try again.",Icon:X})))}nn(!1)});return gn?h(Button,{priority:"secondary",fill:"outline",onClick:Sr,disabled:jt,rounded:!Xn},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:Sr,disabled:jt||!Nn,rounded:!Xn},"Recommend")},Dr=({user:At,profile:Zt,primaryPublication:jt,subscriptionSource:nn})=>{const[gn,Mn]=useState(!1),[Xn,nr]=useState(Zt.isSubscribed),er=useOnboardingHandler("profile"),{popToast:Nn}=useToast(),Sr=Tr=>wn(void 0,null,function*(){At||Nn(br=>h(Toast,fn(qt({},br),{text:"Something went wrong. Please try again.",Icon:X}))),Mn(!0);try{Tr.preventDefault(),yield request.post("/api/v1/reader/signup/pub").send({publication_id:jt.id,email:At==null?void 0:At.email,visibility:"private",source:nn}),Nn(br=>h(Toast,fn(qt({},br),{text:`Subscribed to ${jt.name}`,Icon:Check}))),nr(!0),track(EVENTS.FEED_ONE_CLICK_SUBSCRIBE,{source:nn,publication_id:jt.id})}catch(br){Nn(Rr=>h(Toast,fn(qt({},Rr),{text:"There was an issue subscribing to this profile.",Icon:X})))}Mn(!1)});return Xn?h(Button,{priority:"secondary",href:getSubscribeUrl(jt,{user:At,addBase:!0,params:{next:document.location.href,utm_source:nn,utm_medium:"web",utm_campaign:"profile_page"}}),rounded:!0,onClick:()=>trackPublicationVisit(jt,"profile")},"Subscribed"):nn===jn&&At?h(Button,{priority:"primary",onClick:Sr,disabled:gn,rounded:!0},"Subscribe"):h(Button,{priority:"primary",href:getSubscribeUrl(jt,{user:At,addBase:!0,params:{next:document.location.href,utm_source:nn,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:er(jt,Zt),rounded:!0},"Subscribe")},Vt=({profile:At,includeTopPadding:Zt})=>{const jt=At.publicationUsers.filter(Mn=>Mn.public).length,nn=At.primaryPublication&&`Writes ${At.primaryPublication.name}
${jt>1?` and ${pluralize(jt-1,"other publication")}`:""}`,gn=At!=null&&At.handle?nn?`@${At.handle} \u2022 ${nn}`:`@${At.handle}`:nn;return h(FlexColumn,{paddingTop:Zt?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:At.bio?"start":"center",className:css.profileRow,padding:8,radius:8,onClick:()=>{window.location.href=getReaderProfileUrl(At)}},h(Avatar,{user:At,size:48}),h(FlexColumn,null,h(Text.H4,null,At.name||"<unset>"),gn&&h(Text.B4,{color:"secondary"},gn),h(Text.B4,{paddingTop:4},At.bio))))},Qt=null;function en(At){var Zt;const jt=(Zt=new URL(At,"https://monograph.dev").searchParams)==null?void 0:Zt.get("utm_source");return jt&&Qt.includes(jt)}function Rn({profile:At}){const[Zt,jt]=useState(!1),nn=getUserPhotoUrl(At),gn=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>jt(!0),className:css.avatar},h(Avatar,{size:gn?96:112,user:At}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:Mn=>Mn.ImageViewerModal,onRequest:()=>e.e(934).then(e.bind(e,55661)),showModal:Zt,modalContent:[{src:nn,attrs:{src:nn}}],onClose:()=>{jt(!1)},step:0,includeDownloadButton:!1}))}},68262:(z,s,e)=>{"use strict";e.d(s,{F:()=>v});var o=e(6400),m=e(94184),d=e.n(m),u=e(6378),g=e(64234),y=e(55886);const w={root:"frontend-reader2-PubIcon-module__root--jPSt4",custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function v({pub:b,logoUrl:D,publicationName:E,size:O=196,title:C,className:_,badgeType:a}){var l;return b&&!D&&(D=(0,u.getLogo)(b)),b&&!E&&(E=b.name||b.subdomain),(0,o.h)("div",{className:d()(w.root,_),title:C,style:{width:O,height:O}},D?(0,o.h)(y.t,{className:w.custom,src:D,size:O,alt:E}):(0,o.h)("span",{className:w.placeholder,style:{width:O,height:O,backgroundColor:b&&(b.is_www===!0?null:((l=b==null?void 0:b.theme)==null?void 0:l.background_pop_color)||(b==null?void 0:b.theme_var_background_pop)||null),color:null}},E==null?void 0:E[0]),a&&(0,o.h)(g.A,{className:"reader2-pub-badge",type:a,accentColor:b&&(b.is_www===!0?null:b.theme_var_background_pop)}))}},79167:(z,s,e)=>{"use strict";e.d(s,{i:()=>le});var o=e(6400),m=e(94184),d=e(15045),u=e(67963),g=e(3258),y=e(84606),w=e(51126),v=e(65919),b=e(50292),D=e(5131),E=e(33510),O=e(4263),C=e(68262),_=e(40172),a=e(72307);const l={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var P=Object.defineProperty,S=Object.defineProperties,M=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,A=(re,$,oe)=>$ in re?P(re,$,{enumerable:!0,configurable:!0,writable:!0,value:oe}):re[$]=oe,F=(re,$)=>{for(var oe in $||($={}))N.call($,oe)&&A(re,oe,$[oe]);if(R)for(var oe of R($))T.call($,oe)&&A(re,oe,$[oe]);return re},U=(re,$)=>S(re,M($)),G=(re,$)=>{var oe={};for(var se in re)N.call(re,se)&&$.indexOf(se)<0&&(oe[se]=re[se]);if(re!=null&&R)for(var se of R(re))$.indexOf(se)<0&&T.call(re,se)&&(oe[se]=re[se]);return oe};function J(re){var $=re,{pub:oe,subscribeButtonStyle:se,className:ce,onClick:de}=$,be=G($,["pub","subscribeButtonStyle","className","onClick"]);const pe=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",ce),href:getPubUrl(oe,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:pe}),newTab:se!=null,onClick:de},h(Q,U(F({},be),{pub:oe,subscribeButtonStyle:se})))}function Q({pub:re,author:$,subscribeButtonStyle:oe,surface:se,highlights:ce={},highlightedPost:de}){var be;const pe=($==null?void 0:$.name)||re.author_name||((be=re.author)==null?void 0:be.name)||re.name,we=!!useUser();return h(te,null,h(L,{className:"head",pub:re,subtitle:h("span",null,"By ",highlightText(pe,ce.author_name)),subscribeButtonStyle:oe,surface:se,highlights:ce}),(re.editorial_bio||re.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},re.editorial_bio||highlightText(re.hero_text,ce.hero_text)),de&&h("a",{target:"_blank",rel:"noreferrer",href:getPostUrl(re,de,{signedIn:we})},h(Box,{border:"detail",padding:12,radius:4,shadow:"md"},h(PostBody,{highlights:ce,post:de}))),re.rankingDetail&&h(Text.Meta,null,re.rankingDetailFreeSubscriberCount))}function te(re){return h(FlexBox,F({className:"reader2-pub-link",gap:12},re))}function ee({children:re}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},re)}function L({pub:re,subtitle:$,subscribeButtonStyle:oe=null,isSubscribed:se,className:ce,badgeType:de,surface:be,highlights:pe={}}){const we=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:ce},h(PubIcon,{className:"logo",pub:re,size:40,badgeType:de}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(re.name,pe.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},$)),se?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):oe&&h(V,{pub:re,user:we,buttonStyle:oe,surface:be}))}function V({pub:re,user:$,buttonStyle:oe,surface:se}){const ce=useSubscriptionsContext(),de=le(se)(re);return h(Button,{variant:"primary",look:oe==="big"?"round":"circle",size:"small",hasLeftIcon:oe==="big",newTab:!0,href:getSubscribeUrl(re,{addBase:!0,user:$,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:be=>{if(be.stopPropagation(),$){const pe="visibilitychange",we=()=>{document.visibilityState==="visible"&&(ce.refetch(),document.removeEventListener(pe,we))};document.addEventListener(pe,we)}de(be)}},oe==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function ne(re){var $;return re.author_name||(($=re.author)==null?void 0:$.name)}function ae({pub:re,author:$}){const oe=($==null?void 0:$.name)||ne(re);return h(Text.B4,null,"By ",oe)}function fe({className:re}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",re)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function le(re){const $=(0,u.aF)(),{onboardingModalRef:oe}=(0,b.SJ)();return(se,ce)=>de=>{var be,pe;if(!$){if(!oe.current)return;de.preventDefault(),ce?(be=oe.current)==null||be.openForPub(se,ce):(pe=oe.current)==null||pe.openToPubSignup(se);return}(0,g.x6)(se,re)}}},44695:(z,s,e)=>{"use strict";e.d(s,{GF:()=>fe,Sm:()=>Q,Sz:()=>ae});var o=e(6400),m=e(94184),d=e.n(m),u=e(25380),g=e(15045),y=e(83322),w=e(67963),v=e(3258),b=e(8479),D=e(17685),E=e(48960),O=e(51126),C=e(94016),_=e(65919),a=e(95297),l=e(10186),P=e(33510),S=e(68262),M=e(79167),R=e(27797),N=Object.defineProperty,T=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,U=(le,re,$)=>re in le?N(le,re,{enumerable:!0,configurable:!0,writable:!0,value:$}):le[re]=$,G=(le,re)=>{for(var $ in re||(re={}))A.call(re,$)&&U(le,$,re[$]);if(T)for(var $ of T(re))F.call(re,$)&&U(le,$,re[$]);return le},J=(le,re)=>{var $={};for(var oe in le)A.call(le,oe)&&re.indexOf(oe)<0&&($[oe]=le[oe]);if(le!=null&&T)for(var oe of T(le))re.indexOf(oe)<0&&F.call(le,oe)&&($[oe]=le[oe]);return $};const Q=le=>{var re=le,{publication_id:$,inline:oe,utmSource:se}=re,ce=J(re,["publication_id","inline","utmSource"]);const{result:de,refetch:be}=(0,b.ib)({pathname:`/api/v1/publication/public/${$}`,auto:!1,deps:[$]}),pe=(0,w.aF)();return(0,o.h)(C.z,G({className:d()(R.Z.publicationHoverCardTarget,oe&&R.Z.inline),content:de?(0,o.h)(te,{result:de,utmSource:se}):(0,o.h)(ne,null),onFetch:be,layerClassName:R.Z.publicationHoverCard},ce))};function te({result:le,utmSource:re}){const{pub:$}=le,oe=(0,w.aF)();(0,v.j)(v.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:$.id});let se=$.contributors,ce=null;se&&se.length>3&&(ce=`See all (${(0,y.numberToString)(se.length)})`,se=se.slice(0,3));const de=`${$.base_url}?utm_source=${re}`;return(0,o.h)(O.tu,{gap:16,padding:8},(0,o.h)(O.gq,null,(0,o.h)("a",{href:de},(0,o.h)(S.F,{pub:le.pub,size:56}))),(0,o.h)(O.tu,{gap:6},(0,o.h)(ae,{title:le.pub.name,handle:void 0,blurb:le.pub.hero_text,url:le.pub.base_url}),$.rankingDetail&&$.rankingDetailFreeSubscriberCount&&(0,o.h)(_.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},$.rankingDetailFreeSubscriberCount.toUpperCase())),(0,o.h)(O.tu,null,(0,o.h)(ee,{isContr:le.isContributor,isSubs:le.isSubscribed,pub:le.pub,user:oe,dashboardUrl:le.pub.base_url,utmSource:re})),(0,o.h)(E.i,null),(0,o.h)(O.tu,null,(0,o.h)(L,{contributors:se,seeAllLabel:ce,redirLink:le.pub.base_url,utmSource:re})))}function ee({isContr:le,isSubs:re,pub:$,user:oe,dashboardUrl:se,utmSource:ce}){const de=(0,M.i)("profile");return(0,o.h)(O.tu,null,le?(0,o.h)(o.Fragment,null,(0,o.h)(D.zx,{priority:"secondary",fill:"outline",href:`${se}/publish`},"Dashboard")):re?(0,o.h)(D.zx,{priority:"secondary",fill:"outline",href:(0,g.getSubscribeUrl)($,{user:oe,addBase:!0,utm_source:ce||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,o.h)(u.Z,null)},"Subscribed"):(0,o.h)(D.zx,{priority:"primary",href:(0,g.getSubscribeUrl)($,{user:oe,addBase:!0,utm_source:ce|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:de($)},"Subscribe"))}function L({contributors:le,seeAllLabel:re,redirLink:$,utmSource:oe}){return(0,o.h)(O.tu,null,(0,o.h)(fe,{sectionTitle:"Written by",seeAllLabel:re,link:`${$}/about?sort=people`}),(0,o.h)(O.tu,null,le.map(se=>(0,o.h)(V,{profile:se,utmSource:oe}))))}function V({profile:le,utmSource:re}){return(0,o.h)("a",{href:(0,g.getProfileUrlById)(le.user_id,le.name,{searchParams:{utm_source:re}}),className:R.Z.hoverCardAvatar},(0,o.h)(l.qE,{user:le,size:32}),(0,o.h)(_.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},le.name))}function ne(){return(0,o.h)(O.tu,{padding:8,gap:8},(0,o.h)(P.Vm,{size:56,style:{borderRadius:4}}),(0,o.h)(P.Vm,{type:"bar",width:"100%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"20%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"60%",height:20}))}function ae({title:le,handle:re,blurb:$,url:oe,themed:se,bestsellerTier:ce,userId:de}){return(0,o.h)(o.Fragment,null,(0,o.h)("a",{style:{textDecoration:"none"},href:oe},(0,o.h)(_.xv.H3,{color:se?"pub-primary-text":"primary",className:R.Z.hoverCardTitle},le,!!ce&&!!de&&(0,o.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,o.h)(a.s,{inline:!0,tier:ce,userId:de,tooltipOnHover:!0,size:"md"})))),re&&(0,o.h)(_.xv.Meta,null,`@${re}`),$&&(0,o.h)(_.xv.B3,{color:se?"pub-secondary-text":"secondary",clamp:4},$))}function fe({sectionTitle:le,seeAllLabel:re,link:$}){return(0,o.h)(O.gq,{justifyContent:"space-between"},(0,o.h)(_.xv.Meta,{color:"secondary"},le),re&&(0,o.h)("a",{className:R.Z.hoverCardSeeAll,href:$},(0,o.h)(_.xv.B4,{color:"accent-blue"},re)))}},74462:(z,s,e)=>{"use strict";e.d(s,{F:()=>u});var o=e(6400),m=e(92630),d=e(44396);function u({users:y,children:w}){const v=(0,d.XA)(),b=6;let D;y.length>b+1?D=y.slice(0,b).map(O=>{var C;return(C=O.name)!=null?C:"A reader"}).concat([`+ ${g.format(y.length-b)} others`]):D=y.map(O=>{var C;return(C=O.name)!=null?C:"A reader"});const E=D.join(`
`);return(0,o.h)(m.u,{text:E,disabled:v},w)}const g=Intl.NumberFormat(void 0,{maximumSignificantDigits:4})},40172:(z,s,e)=>{"use strict";var o=e(6400),m=e(65919);const d=(u,g,y)=>{if(!u)return"";if(!g)return u;const w=new RegExp(g.join("|"),"ig"),v=u.split(w),b=[...u.matchAll(w)];return v.map((E,O)=>h(Fragment,null,E,O!==v.length-1&&h(Text,{as:"span",weight:y||"bold",fontStyle:"italic"},b[O])))}},20533:(z,s,e)=>{"use strict";var o=e(6400),m=e(94184),d=e(17685),u=e(51126),g=e(65919);const y={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju"};var w=Object.defineProperty,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,E=(l,P,S)=>P in l?w(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,O=(l,P)=>{for(var S in P||(P={}))b.call(P,S)&&E(l,S,P[S]);if(v)for(var S of v(P))D.call(P,S)&&E(l,S,P[S]);return l},C=(l,P)=>{var S={};for(var M in l)b.call(l,M)&&P.indexOf(M)<0&&(S[M]=l[M]);if(l!=null&&v)for(var M of v(l))P.indexOf(M)<0&&D.call(l,M)&&(S[M]=l[M]);return S};function _(l){var P=l,{value:S,currentValue:M,children:R,onClick:N}=P,T=C(P,["value","currentValue","children","onClick"]);const A=S===M;return h(UnstyledButton,O({className:classnames(css.tab,A&&css.isActive),resetCss:!0,onClick:()=>N(S)},T),h(Text.Button,{color:A?"primary":"secondary"},R))}function a(l){return h(FlexBox,O({className:css.tabs,style:{height:40}},l))}},47585:(z,s,e)=>{"use strict";e.d(s,{Eb:()=>D,in:()=>E,r8:()=>v});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(21958),y=e(42332);const w={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function v(O,C=(0,o.h)(b,null)){const[_,a]=(0,m.eJ)(O);return[_&&C,()=>{a(!1)}]}function b(){return(0,o.h)(D,null)}function D({className:O}){const{isHovering:C,ref:_}=(0,y.aw)();return(0,o.h)(o.Fragment,null,(0,o.h)(E,{className:u()(O,"reader2-unread-dot"),ref:_}),C&&(0,o.h)(y.u,{tetherRef:_},"New since your last visit"))}const E=(0,g.L)(w.unreadDot)},16742:(z,s,e)=>{"use strict";e.d(s,{K:()=>V,y:()=>ne});var o=e(6400),m=e(30396),d=e(81108),u=e(74655),g=e(36250),y=e(70444),w=e(20501),v=e(31517),b=e(1706),D=e(67963),E=e(8479),O=e(39419),C=e.n(O),_=e(17685),a=e(51126),l=e(76235),P=e(62246),S=e(65919),M=e(75425),R=e(91870),N=e(10174),T=Object.defineProperty,A=Object.defineProperties,F=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(le,re,$)=>re in le?T(le,re,{enumerable:!0,configurable:!0,writable:!0,value:$}):le[re]=$,te=(le,re)=>{for(var $ in re||(re={}))G.call(re,$)&&Q(le,$,re[$]);if(U)for(var $ of U(re))J.call(re,$)&&Q(le,$,re[$]);return le},ee=(le,re)=>A(le,F(re)),L=(le,re,$)=>new Promise((oe,se)=>{var ce=pe=>{try{be($.next(pe))}catch(we){se(we)}},de=pe=>{try{be($.throw(pe))}catch(we){se(we)}},be=pe=>pe.done?oe(pe.value):Promise.resolve(pe.value).then(ce,de);be(($=$.apply(le,re)).next())});function V({pub:le,post:re,comment:$,feedItem:oe,onRestack:se,tabId:ce}){var de,be;const pe=(0,D.aF)(),we=(0,M.pm)(),xe=!!pe,Ue=!!((de=$||re)!=null&&de.restacked),De=((be=$||re)==null?void 0:be.restacks)||0,_e=(0,R.I0)(),ie=(0,N.i3)(),ve=(0,E.ib)({pathname:"/api/v1/restack/feed"}),{nuxModal:he,showRestackNux:Le}=ne($&&!$.post_id?"note":$?"comment":"post"),He=()=>L(this,null,function*(){const Tt=yield ve.refetch({method:"POST",json:{postId:$?null:re==null?void 0:re.id,commentId:($==null?void 0:$.id)||null,tabId:ce}});if(Tt instanceof Error){alert((0,O.getNetworkErrorMessage)(Tt));return}we.popToast(Fe=>(0,o.h)(M.FN,ee(te({},Fe),{text:`${Tt.comment?"Note":"Post"} restacked`,Icon:v.Z,cta:"View",href:(0,y.E2)()}))),Tt.comment?_e({type:"comment_restack",payload:{commentId:Tt.comment.id,isRestacked:!0}}):_e({type:"post_restack",payload:{postId:Tt.post.id,isRestacked:!0}}),Le(),se==null||se(!0)}),ht=()=>L(this,null,function*(){const Tt=yield ve.refetch({method:"DELETE",json:{postId:$?null:re==null?void 0:re.id,commentId:($==null?void 0:$.id)||null,tabId:ce}});if(Tt instanceof Error){alert((0,O.getNetworkErrorMessage)(Tt));return}we.popToast(Fe=>(0,o.h)(M.FN,ee(te({},Fe),{text:"Restack undone",Icon:d.Z}))),$?_e({type:"comment_restack",payload:{commentId:$.id,isRestacked:!1}}):re&&_e({type:"post_restack",payload:{postId:re.id,isRestacked:!1}}),se==null||se(!1)}),bt=Tt=>L(this,null,function*(){Tt.preventDefault();try{yield ie.open({feedItem:oe,restackUrl:$?(0,g.getCommentUrl)(re,$,le):(0,w.getPostUrl)(le,re),tabId:ce}),Le()}catch(Fe){}});return{canRestack:xe,isRestacked:Ue,restacks:De,nuxModal:he,menuItems:[Ue?(0,o.h)(l.sN,{icon:(0,o.h)(d.Z,null),onClick:ht},"Undo restack"):(0,o.h)(l.sN,{icon:(0,o.h)(v.Z,null),onClick:He},"Restack"),(0,o.h)(l.sN,{icon:(0,o.h)(b.Z,null),onClick:bt},"Restack with a note")]}}function ne(le){const re=ae({entityType:le}),$=(0,E.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),oe=()=>L(this,null,function*(){var se;const ce=(se=$.result)!=null?se:yield $.refetch();!(ce instanceof Error)&&(ce==null?void 0:ce.hasRestacked)===!1&&(re.open(),$.setResult({hasRestacked:!0}))});return{nuxModal:re.element,showRestackNux:oe}}function ae({entityType:le}){const[re,$]=(0,m.eJ)(!1),oe=()=>{$(!1)};return{open:()=>{$(!0)},element:(0,o.h)(P.u_,{isOpen:re,onClose:oe},(0,o.h)(fe,{onClose:oe,entityType:le}))}}function fe({onClose:le,entityType:re}){return(0,o.h)(a.tu,{paddingX:16},(0,o.h)(a.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,o.h)(u.Z,{size:40,stroke:"var(--color-primary)"})),(0,o.h)(a.tu,{gap:12},(0,o.h)(S.xv.H3,{align:"center"},"You restacked a ",re),(0,o.h)(S.xv.B3,{color:"secondary",align:"center"},"Restack ",re,"s that inspire you to share them with more people. Subscribers can see your restacks in the Notes tab and on your profile.")),(0,o.h)(a.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,o.h)(_.zx,{rounded:!0,href:(0,y.E2)()},"View now"),(0,o.h)(_.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:le},"OK")))}},70762:(z,s,e)=>{"use strict";e.d(s,{K:()=>N,_:()=>R});var o=e(6400),m=e(30396),d=e(86418),u=e(20501),g=e(63270),y=e(67963),w=e(8479),v=e(75425),b=e(72307),D=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(te,ee,L)=>ee in te?D(te,ee,{enumerable:!0,configurable:!0,writable:!0,value:L}):te[ee]=L,P=(te,ee)=>{for(var L in ee||(ee={}))_.call(ee,L)&&l(te,L,ee[L]);if(C)for(var L of C(ee))a.call(ee,L)&&l(te,L,ee[L]);return te},S=(te,ee)=>E(te,O(ee)),M=(te,ee,L)=>new Promise((V,ne)=>{var ae=re=>{try{le(L.next(re))}catch($){ne($)}},fe=re=>{try{le(L.throw(re))}catch($){ne($)}},le=re=>re.done?V(re.value):Promise.resolve(re.value).then(ae,fe);le((L=L.apply(te,ee)).next())});function R({publicationId:te,publication:ee,publicationName:L,user:V,allowSecondaryPublications:ne=!0,allowPresubscribe:ae,subscriptionSource:fe,sourceNoteId:le}){var re,$,oe;te=(oe=(re=ee==null?void 0:ee.id)!=null?re:te)!=null?oe:($=V==null?void 0:V.primary_publication)==null?void 0:$.id;const{getConfigFor:se}=(0,g.xR)(),ce=se("enable_presubscriptions"),de=(0,y.aF)(),be=(0,v.pm)(),pe=(0,b.Th)(),[we,xe]=(0,m.eJ)(!1),Ue=A(de,te,pe)||T(de,V,pe,{allowSecondaryPublications:ne}),[De,_e]=(0,m.eJ)(null),ie=!!(te||ae&&ce&&V),ve=pe.isLoading||!!De||!ie,he=ht=>M(this,null,function*(){var bt;if(ht&&(ht.preventDefault(),ht.stopPropagation()),ve||Ue||!ie)return;_e("subscribing");const Tt=te?yield U(te,fe,{publication:ee,user:de,sourceNoteId:le}):V?yield J(de,V,fe):{didAction:!1,errorMessage:"No subscription target"},Fe=`Subscribed to ${te?(bt=L!=null?L:ee==null?void 0:ee.name)!=null?bt:"publication":V?V.name:"profile"}`;if(Tt.didAction){if(xe(!0),be.popToast(nt=>(0,o.h)(v.FN,S(P({},nt),{text:Fe}))),de)try{yield pe.refetch()}catch(nt){console.error("Failed to reload subscriptions:",nt)}}else Tt.errorMessage&&be.popToast(nt=>{var ft;return(0,o.h)(v.FN,S(P({},nt),{text:(ft=Tt.errorMessage)!=null?ft:""}))});_e(null)}),Le=ht=>M(this,null,function*(){var bt;if(ht&&(ht.preventDefault(),ht.stopPropagation()),ve||!Ue||!ie)return;_e("unsubscribing");const Tt=te?yield G(te,fe):V?yield Q(de,V,fe):{didAction:!1,errorMessage:"No subscription target"},Fe=`Unsubscribed from ${te?(bt=L!=null?L:ee==null?void 0:ee.name)!=null?bt:"publication":V?V.name:"profile"}`;if(Tt.didAction){if(xe(!1),be.popToast(nt=>(0,o.h)(v.FN,S(P({},nt),{text:Fe}))),de)try{yield pe.refetch()}catch(nt){console.error("Failed to reload subscriptions:",nt)}}else Tt.errorMessage&&be.popToast(nt=>{var ft;return(0,o.h)(v.FN,S(P({},nt),{text:(ft=Tt.errorMessage)!=null?ft:""}))});_e(null)}),He=Ue&&!De||De==="subscribing";return{showCta:ie&&(!de||pe.hasLoadedOnce)&&!(de&&de.id===(V==null?void 0:V.id))&&(!Ue||we||De==="unsubscribing"),isSubscribed:He,hasPublication:!!te,subscribe:he,unsubscribe:Le,toggle:He?Le:he}}function N(te){var ee;const L=(0,b.Th)(),V=(0,y.aF)();if((V==null?void 0:V.id)===te)return"subscribed";const{result:ne}=L;if(!ne)return null;const{subscriptions:ae,publicationUsers:fe}=ne;for(const re of fe)if(["admin","contributor"].includes(re.role)&&F(te,re.publication_id,L))return"subscribed";let le=null;for(const re of ae)F(te,re.publication_id,L)&&(le=(ee=(0,d.P)(re.membership_state,le)?re.membership_state:le)!=null?ee:null);return le}function T(te,ee,L,{allowSecondaryPublications:V}={}){if(!te||!ee||!L.hasLoadedOnce||!L.result)return!1;const{presubscriptions:ne,subscriptions:ae,publicationUsers:fe}=L.result;if(ne.includes(ee.id))return!0;if(V){for(const le of ae)if(le.membership_state!=="unsubscribed"&&F(ee.id,le.publication_id,L))return!0;for(const le of fe)if(["admin","contributor"].includes(le.role)&&F(ee.id,le.publication_id,L))return!0}return!1}function A(te,ee,L){if(!te||!ee||!L.hasLoadedOnce||!L.result)return!1;const V=L.result.subscriptionMap.get(ee);if(V&&V.membership_state!=="unsubscribed")return!0;const ne=L.result.publicationUserMap.get(ee);return!!(ne&&["admin","contributor"].includes(ne.role))}function F(te,ee,L){if(L.isLoading||!L.result)return!1;const V=L.result.publicationMap.get(ee);if(V){if(V.author_id===te)return!0;for(const ne of V.contributors)if(ne.user_id===te)return!0}return!1}function U(te,ee){return M(this,arguments,function*(L,V,{publication:ne,user:ae,sourceNoteId:fe}={}){let le=!1,re;if(ae)try{(yield(0,w.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:L,email:ae.email,source:V,noWelcomeEmail:!0,sourceNoteId:fe}})).requires_confirmation?re="Check your email to confirm subscription":le=!0}catch($){console.error($),re="Failed to subscribe"}else if(!ae){if(!ne)try{ne=yield(0,w.rd)(`/api/v1/reader/publication/${L}`)}catch($){console.error($)}if(ne){const $=(0,u.getSubscribeUrl)(ne,{addBase:!0,user:ae!=null?ae:void 0});window.open($,"_blank")}}return{didAction:le,errorMessage:re}})}function G(te,ee){return M(this,null,function*(){let L=!1,V;try{yield(0,w.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:te,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:ee}}),L=!0}catch(ne){console.error(ne),V="Failed to unsubscribe"}return{didAction:L,errorMessage:V}})}function J(te,ee,L){return M(this,null,function*(){let V=!1,ne;try{yield(0,w.rd)((0,u.getPresubscribeUrl)(ee),{method:"POST",json:{source:L}}),V=!0}catch(ae){console.error(ae),ne="Failed to subscribe"}return{didAction:V,errorMessage:ne}})}function Q(te,ee,L){return M(this,null,function*(){let V=!1,ne;try{yield(0,w.rd)((0,u.getPresubscribeUrl)(ee),{method:"DELETE",json:{source:L}}),V=!0}catch(ae){console.error(ae),ne="Failed to unsubscribe"}return{didAction:V,errorMessage:ne}})}},81671:(z,s,e)=>{"use strict";e.d(s,{Z:()=>b});var o=e(6400),m=e(94184),d=e.n(m),u=e(15045),g=e(83322),y=e(31471);function w({href:D,linkify:E,children:O,openInNewTab:C}){return E?C?(0,o.h)("a",{href:D,target:"_blank"},O):(0,o.h)("a",{href:D,native:!0},O):O}const b=({pub:D,href:E="",logo_url:O,showHover:C=!1,byline:_=null,proof:a=null,size:l=196,linkify:P=!0,title:S=null,className:M="",noMargin:R=!1,openInNewTab:N=!1,isStatic:T=!1,belowTheFold:A=!1})=>{var F;return(0,o.h)("div",{className:d()("pub-icon",!R&&"pub-icon-margin",M),title:S},C&&(0,o.h)("div",{className:"logo-hover"},(0,o.h)("div",{className:"logo-hover-title"},(0,o.h)("a",{href:E||D.base_url,native:!0},(D.name||D.subdomain)+(_?` by ${_}`:""))),(0,o.h)("div",{className:"logo-hover-proof"},a),(0,o.h)("div",{className:"logo-hover-description"},D.hero_text)),(0,o.h)(w,{href:E||D.base_url,linkify:P,openInNewTab:N},O?T?(0,o.h)("img",{src:(0,u.imginary)(O,l*2,{height:l*2,crop:"fill"}),width:l,height:l,className:"custom",alt:D.name}):(0,o.h)(y.e,{className:"custom",alt:D.name,imageProps:{height:l*2,crop:"fill"},maxWidth:l*2,src:O,width:l,height:l,loading:A?"lazy":null}):(0,o.h)("span",{className:"placeholder",style:D.theme_var_background_pop?`border-color:${(0,g.colorLightness)(D.theme_var_background_pop,.7)} ${D.theme_var_background_pop} ${D.theme_var_background_pop} ${(0,g.colorLightness)(D.theme_var_background_pop,.7)}`:""},(F=D.name||D.subdomain)==null?void 0:F[0])))}},86804:(z,s,e)=>{"use strict";e.d(s,{Z:()=>g});var o=e(6400),m=(b,D,E)=>new Promise((O,C)=>{var _=P=>{try{l(E.next(P))}catch(S){C(S)}},a=P=>{try{l(E.throw(P))}catch(S){C(S)}},l=P=>P.done?O(P.value):Promise.resolve(P.value).then(_,a);l((E=E.apply(b,D)).next())});const d="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let u=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=w);class g extends o.Component{componentDidMount(){return m(this,null,function*(){yield v(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:D}){return(0,o.h)("div",{className:D})}}function y(){const b=document.getElementsByTagName("script")[0],D=document.createElement("script");D.type="text/javascript",D.async=!0,D.defer=!0,D.src=d,b.parentNode.insertBefore(D,b)}function w(){if(u){const b=u;u=!0;for(const D of b)D()}}function v(){return new Promise(b=>{u===!0?b():u===!1?(u=[b],y()):u.push(b)})}},19826:(z,s,e)=>{"use strict";e.d(s,{EJ:()=>v.E,Fx:()=>a,ZP:()=>_});var o=e(6400),m=e(94184),d=e.n(m),u=e(39419),g=e.n(u),y=e(7922),w=e(26059),v=e(22939),b=Object.defineProperty,D=(l,P,S)=>P in l?b(l,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):l[P]=S,E=(l,P,S)=>(D(l,typeof P!="symbol"?P+"":P,S),S);const O="active",C=.7;class _ extends o.Component{constructor(P,S){if(super(P,S),E(this,"onDocumentMouseUp",M=>{!(0,u.isRootOrChild)(M.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),E(this,"onDocumentKeyDown",M=>{M.key==="Escape"&&this.state.active&&this.close()}),E(this,"onWindowResize",()=>{this.placeDropdown()}),E(this,"placeDropdown",()=>{var M,R;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const N=this.base.getBoundingClientRect(),T=N.width/(this.state.active?1:C),A=N.right+(T-N.width)/2,F=N.left-(T-N.width)/2,U=typeof window!="undefined"&&window.innerWidth;if(T>=U)return;const G=typeof window!="undefined"&&window.getComputedStyle(this.base),J=!isNaN(parseFloat(G.left))&&parseFloat(G.left),Q=!isNaN(parseFloat(G.right))&&parseFloat(G.right),te=(M=this.state.originalLeft)!=null?M:G.left,ee=(R=this.state.originalRight)!=null?R:G.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:te}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:ee}),F<0?typeof this.state.left=="number"?this.setState({left:this.state.left-F,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+F}):typeof Q=="number"?this.setState({left:null,right:Q+F}):this.setState({left:(J||0)-F,right:null}):A>=U&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+U,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-U}):typeof J=="number"?this.setState({left:J-A+U,right:null}):this.setState({left:null,right:(Q||0)+A-U}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const M=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:M.matches};const R=N=>{this.setState({isMobileWidth:N.matches})};M.addEventListener?M.addEventListener("change",R):M.addListener&&M.addListener(R)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,u.stateTransaction)(this,S=>{P===null&&(P=!S.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[P?"add":"remove"]("modal-in"),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle({active:P})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:P,attachOnActive:S,noDrawerCloseButton:M},{active:R}){const N=(0,o.toChildArray)(this.props.children),T={},A={};typeof this.state.left=="number"?(T.left=`${this.state.left}px`,T.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(T.left="unset",T.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const F=this.useDrawerStyle();return(0,o.h)(o.Fragment,null,F&&(0,o.h)("div",{className:d()("dropdown-drawer-backdrop",{[O]:R}),onclick:()=>this.drawerBackdropClicked()}),(!S||R||F)&&(0,o.h)("ul",{className:d()("dropdown-menu",this.props.className,{[O]:R,"no-rect":this.props.noRectWhenClosed,drawer:F,tooltip:!F,"no-place":!!this.props.noPlace}),style:T},!P&&!this.useDrawerStyle()&&(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"dropdown-menu-tail",style:A}),(0,o.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),(0,o.h)("div",{className:d()("dropdown-menu-wrapper",this.props.wrapperClassName)},F&&!M&&(0,o.h)(y.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,o.h)(w.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?N:N.map(U=>(0,o.h)("li",null,U)))))}}class a extends o.Component{constructor(P){super(P),E(this,"onDocumentMouseUp",S=>{!(0,u.isRootOrChild)(S.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),E(this,"onDocumentKeyDown",S=>{S.key==="Escape"&&this.close()}),E(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,u.stateTransaction)(this,S=>{P===null&&(P=!S.active),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const P=(0,o.toChildArray)(this.props.children);return this.props.noList?(0,o.h)("div",{className:d()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},(0,o.h)("div",{className:"dropdown-menu-wrapper"},P)):(0,o.h)("ul",{className:d()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,o.h)("div",{className:"dropdown-menu-wrapper"},P.map(S=>(0,o.h)("li",null,S))))}}},93881:(z,s,e)=>{"use strict";e.d(s,{Z:()=>D});var o=e(6400),m=e(30396),d=e(19237),u=e(15045),g=e(39419),y=e.n(g),w=e(7922),v=(E,O,C)=>new Promise((_,a)=>{var l=M=>{try{S(C.next(M))}catch(R){a(R)}},P=M=>{try{S(C.throw(M))}catch(R){a(R)}},S=M=>M.done?_(M.value):Promise.resolve(M.value).then(l,P);S((C=C.apply(E,O)).next())});const D=({photoUrl:E,newPhotoUrl:O,newPhotoOrientation:C,updatePhoto:_})=>{const a=(0,m.sO)(null),l=()=>v(void 0,null,function*(){const P=a.current.files[0];if(a.current.value="",!P){_({newPhotoUrl:null,newPhotoOrientation:null});return}let S;try{S=yield(0,g.getDataUrlFromFile)(P)}catch(R){console.error("Failed to get data URL from file:",R),alert(R.message);return}let M;try{M=yield(0,g.getExifOrientationFromFile)(P)}catch(R){console.error("Failed to extract EXIF data from file:",R)}_({newPhotoUrl:S,newPhotoOrientation:M})});return(0,o.h)("div",{className:"profile-photo-wrap"},E&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${O||(0,u.imginary)(E,144)})`,transform:(0,g.transformExifOrientation)(C)}}),!E&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,u.imginary)(u.DEFAULT_PHOTO_URL,144)})`,transform:(0,g.transformExifOrientation)(C)}}),(0,o.h)(w.Z,{onClick:()=>{((0,g.isIE)()||(0,g.isFirefox)())&&a.current.click()}},(0,o.h)("input",{ref:a,type:"file",name:"photo",accept:"image/*",onChange:l}),(0,o.h)("div",{className:"add-photo-fab",onClick:P=>{P.preventDefault(),a.current.click()}},(0,o.h)(d.Z,{size:20,color:"var(--color-light-primary)"}))))}},23890:(z,s,e)=>{"use strict";e.d(s,{GP:()=>M,UD:()=>S,ZP:()=>A,ew:()=>T,lQ:()=>l});var o=e(6400),m=e(94184),d=e.n(m),u=e(80569),g=e.n(u),y=e(83322),w=e(3258),v=Object.defineProperty,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(F,U,G)=>U in F?v(F,U,{enumerable:!0,configurable:!0,writable:!0,value:G}):F[U]=G,C=(F,U)=>{for(var G in U||(U={}))D.call(U,G)&&O(F,G,U[G]);if(b)for(var G of b(U))E.call(U,G)&&O(F,G,U[G]);return F},_=(F,U)=>{var G={};for(var J in F)D.call(F,J)&&U.indexOf(J)<0&&(G[J]=F[J]);if(F!=null&&b)for(var J of b(F))U.indexOf(J)<0&&E.call(F,J)&&(G[J]=F[J]);return G},a=(F,U,G)=>new Promise((J,Q)=>{var te=V=>{try{L(G.next(V))}catch(ne){Q(ne)}},ee=V=>{try{L(G.throw(V))}catch(ne){Q(ne)}},L=V=>V.done?J(V.value):Promise.resolve(V.value).then(te,ee);L((G=G.apply(F,U)).next())});function l(F,U){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const G={};return U&&U.stripe_user_id?y.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(U.stripe_country)&&(G.stripeAccount=U.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(F,G)}function P(F,U){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(U!=null&&U.stripe_user_id))return null;const G={stripeAccount:U.stripe_user_id};return window.Stripe(F,G)}function S(F){return F.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class M extends o.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch(U){}}render({className:U,card:G}){if(G)return(0,o.h)("div",{className:`fancy-stripe ${U||""}`},(0,o.h)("div",{ref:J=>this.cardElement=J}))}}class R extends o.Component{constructor(U,G){if(super(U,G),U.stripe&&U.pub.stripe_country){(0,w.j)(w.FP.APPLE_PAY_SETUP_STARTED);try{const J=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),Q=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:J});this.state={paymentRequest:J,stripeButton:Q}}catch(J){console.error(J),(0,w.j)(w.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return a(this,null,function*(){let U=!1;if(this.state.paymentRequest){try{const G=yield this.state.paymentRequest.canMakePayment();G&&G.applePay&&(U=!0)}catch(G){console.error(G)}(0,w.j)(w.FP.APPLE_PAY_SETUP_FINISHED,{success:U})}yield this.setState({canMount:U}),U?(this.button||(yield new Promise(G=>setTimeout(G,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",G=>this.onTokenReceived(G)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(U){let G=!1;for(const J of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(U[J]!==this.props[J]||J==="coupon"&&U[J]&&U[J].loading&&(!this.props[J]||!this.props[J].loading)){G=!0;break}G&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(U){}}onTokenReceived(U){return a(this,null,function*(){(0,w.j)(w.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:U.payerEmail,name:U.payerName,stripe_token:U.token}),U.complete("success"),(0,w.j)(w.FP.APPLE_PAY_SUCCEEDED)}catch(G){console.error("Apple Pay submission failed:",U,G),U.complete("fail"),(0,w.j)(w.FP.APPLE_PAY_FAILED,{reason:G.message})}})}getPaymentTotal(){var U;const{pub:G,plan:J,quantity:Q,coupon:te,notRecurring:ee,variableAmount:L}=this.props;let V=0,ne=Math.max(0,J.trial_period_days||0,te&&!te.error&&!te.loading&&te.trial_period_days||0,G.trial_end_override&&Math.ceil((G.trial_end_override-Date.now()/1e3)/60/60/24));ee&&(ne=0);const fe=(((U=J.metadata)==null?void 0:U.founding)&&L||J.amount)*(Q||1);let le=fe;te&&!te.error&&!te.loading&&(te.percent_off?le=Math.round(le*(1-(te.percent_off_precise||te.percent_off)/100)):te.amount_off&&(le=Math.max(0,le-te.amount_off)),le<=0&&(le=fe,te.duration==="once"?J.interval==="year"?V+=12*J.interval_count:V+=J.interval_count:te.duration==="repeating"&&(V+=te.duration_in_months)));let re;return ee?re="one-time":(re=`${this.props.plan.interval}ly`,this.props.quantity>1&&(re+=" per person"),V?(ne>15&&(V+=parseInt(ne/30)),re+=` with ${V}-month trial`):ne&&(re+=` with ${ne}-day trial`)),{label:re,amount:le}}render({children:U,className:G,error:J},{canMount:Q}){if(!(typeof Q!="undefined"&&!Q&&typeof window!="undefined"))return(0,o.h)("div",{className:"apple-pay-parent-container"},Q?(0,o.h)("div",{className:`apple-pay-element ${G||""}`,ref:te=>this.button=te}):(0,o.h)("p",{className:`apple-pay-loader ${G||""}`},"Loading\u2026"),J&&(0,o.h)("div",{className:"error"},J),U)}}class N extends o.Component{render(U,G){var J=U,{children:Q,ref:te}=J,ee=_(J,["children","ref"]);return(0,o.h)("div",{className:"fancy-input"},(0,o.h)("input",C({ref:L=>this._input=L},ee)),Q)}blur(){this._input&&this._input.blur()}}class T extends Error{constructor(U){super(U),this.response={body:{error:this.message}}}}class A extends o.Component{constructor(U,G){super(U,G),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=l(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=S(this._stripe),this._connectedStripe=P(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const U=[];if(this.base){const G=Array.from(this.base.getElementsByTagName("*"));for(const J of G)["INPUT","TEXTAREA","SELECT"].includes(J.nodeName)&&J.getAttribute("name")&&U.push(J)}return U}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const U of this.getInputs())U.blur&&U.blur(),U.type==="checkbox"?U.checked=!1:U.type==="select"?U.selectedIndex=-1:U.type==="radio"?U.checked=!1:U.target?U.target.value="":U.value=""}handleStripeChange({error:U}){U?this.setState({_stripeError:U.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",U=>this.handleStripeChange(U))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur(U){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&U.target&&U.target.value&&!U.target._blurTracked&&((0,w.j)(`${this.props.analyticsName} Input Filled`,{name:U.target.name}),U.target._blurTracked=!0)}onPaymentRequestAttempt(U){return a(this,null,function*(){const G=yield this.handleSubmitAsync(null,U);if(G)throw G})}handleSubmit(U){U&&U.preventDefault(),this.handleSubmitAsync(U).catch(G=>{console.error(G)})}handleSubmitAsync(U){return a(this,arguments,function*(G,J={}){var Q,te;if(G&&G.preventDefault(),this.props.analyticsName&&(0,w.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const ee=this.props.method?this.props.method:"post";let L=null;if(this.stripeElement&&!J.stripe_token){const{token:fe,error:le}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(fe)L=fe;else{this.setState({loading:!1,_stripeError:le&&le.message}),this.props.analyticsName&&(console.log("error",le),(0,w.j)(`${this.props.analyticsName} Missing Payment`,{type:le&&le.type,code:le&&le.code,decline_code:le&&le.decline_code,reason:le&&le.message}));return}}let V={};for(const fe of this.getInputs())fe.blur&&fe.blur(),fe.type=="checkbox"?V[fe.name]=!!fe.checked:fe.type=="radio"?fe.checked&&(V[fe.name]=fe.value):fe.type==="select"?V[fe.name]=fe.options[fe.selectedIndex].value:V[fe.name]=fe.value;if(Object.keys(J).forEach(fe=>{!V[fe]&&J[fe]&&(V[fe]=J[fe])}),L&&(V.stripe_token=L),this.props.prepareData)try{const fe=yield this.props.prepareData(V,G);fe&&(V=fe)}catch(fe){throw this.setState({loading:!1}),fe}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let ne,ae;try{if(this.props.performSubmit)ne=yield this.props.performSubmit(V);else if(this.props.action){const fe=g()[ee](this.props.action);this.props.method&&this.props.method==="get"?ne=yield fe.query(V):ne=yield fe.send(V)}else this.props.onSubmit&&this.props.onSubmit(V)}catch(fe){ae=fe}if((Q=ne==null?void 0:ne.body)!=null&&Q.confirmPaymentUrl&&ne.body.clientSecret&&this._connectedStripe){(0,w.j)(w.FP.PAYMENT_CONFIRMATION_STARTED);const fe=yield this._connectedStripe.confirmCardPayment(ne.body.clientSecret);if(fe.error){(0,w.j)(w.FP.PAYMENT_CONFIRMATION_FAILED,{error:(te=fe.error)==null?void 0:te.message});const le={error:fe.error.message||"Failed to confirm payment"};ae={response:{body:le,text:JSON.stringify(le)}}}else(0,w.j)(w.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!ae)this.props.onSuccess&&this.props.onSuccess(ne,V);else if(this.processErrors(ae.response),this.props.onError&&this.props.onError(ae),!ae.response)throw ae;return ae})}processErrors(U){const G={},J=[];if(U&&U.body&&U.body.errors){const Q=this.getInputs();U.body.errors.forEach(te=>{this.props.noInlineErrors!==!0&&te.param&&Q.filter(ee=>ee.getAttribute("name")===te.param).length>0?G[te.param]?(console.log("Discarding repeated error"),console.log(te)):G[te.param]=te:J.push(te)})}else U&&U.body&&typeof U.body.error=="string"?J.push({msg:U.body.error}):J.push({msg:"Something went wrong"});this.setState({_paramErrors:G,_otherErrors:J}),this.props.analyticsName&&(0,w.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(G),otherErrors:JSON.stringify(J)})}render(U,G){const J=U.autoLock&&G.loading||U.loading;let Q=!1,te=!1;const ee=L=>{const V=[];return(0,o.toChildArray)(L).forEach(ne=>{if(!ne)return null;if((ne.type===N||ne.type==="input"||ne.type==="textarea"||ne.type==="select")&&ne.props&&ne.props.name){const ae=ne.props.name;if(V.push((0,o.cloneElement)(ne,{disabled:J||ne.props.disabled,onChange:fe=>{var le,re;const $=((le=ne.props)==null?void 0:le.onChange)||((re=ne.props)==null?void 0:re.onInput);$&&$(fe),this.props.onChange&&this.props.onChange(fe)},onInput:fe=>{ne.props&&ne.props.onInput&&ne.props.onInput(fe),this.props.onInput&&this.props.onInput(fe)},onBlur:fe=>{this.onInputBlur(fe),ne.props&&ne.props.onBlur&&ne.props.onBlur(fe)}})),G._paramErrors[ae]&&!J){const fe=G._paramErrors[ae];fe.msgHTML?V.push((0,o.h)("div",{className:"error",name:ae,dangerouslySetInnerHTML:{__html:fe.msgHTML}})):V.push((0,o.h)("div",{className:"error",name:ae},fe.msg||"Invalid"))}}else if(ne.props&&ne.props.type==="submit")V.push((0,o.cloneElement)(ne,{disabled:J||ne.props.disabled,onClick:ae=>{ne.props&&ne.props.onClick&&ne.props.onClick(ae)!==!1&&this.handleSubmit(ae)}}));else if(ne.props&&ne.props.id==="error-container"){if(G._otherErrors&&!J){const ae=G._otherErrors.map(fe=>fe.msgHTML?(0,o.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:fe.msgHTML}}):(0,o.h)("div",{className:"error other-error"},fe.msg)).concat(ne.props&&ne.props.children?(0,o.toChildArray)(ne.props.children):[]);V.push((0,o.cloneElement)(ne,{},ae))}}else if(ne.type===M){if(Q)throw new Error("Can only handle one stripe element");Q=!0,V.push((0,o.cloneElement)(ne,{ref:ae=>{ne.props&&ne.props.ref&&ne.props.ref(ae),this.stripeElement=ae},card:this._stripeCard})),(G._stripeError||!this._stripeCard)&&!J&&typeof window!="undefined"&&V.push((0,o.h)("div",{className:d()("error",U.stripeErrorClassName),role:"alert"},G._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(ne.type===R){if(te)throw new Error("Can only handle one stripe payment request button");te=!0,V.push((0,o.cloneElement)(ne,{ref:ae=>{ne.props&&ne.props.ref&&ne.props.ref(ae),this.stripePaymentRequestButton=ae},stripe:this._stripe,onSuccess:ae=>(ne.props&&ne.props.onSuccess&&ne.props.onSuccess(ae),this.onPaymentRequestAttempt(ae))}))}else ne.props&&ne.props.children?V.push((0,o.cloneElement)(ne,{},ee(ne.props.children))):V.push(ne)}),V};return(0,o.h)("form",C({className:`form ${U.className||""}`,action:U.noJsAction||U.action,method:U.method&&["get","post"].includes(U.method.toLowerCase())&&U.method.toLowerCase()||"post",autoComplete:U.autoComplete,onSubmit:L=>this.handleSubmit(L),noValidate:!0},U.enctype&&{enctype:U.enctype}),ee(U.children))}}},60074:(z,s,e)=>{"use strict";e.d(s,{Z:()=>de});var o=e(6400),m=e(94184),d=e.n(m),u=e(15045),g=e(83322),y=e(4190),w=e(1824),v=e(3258),b=e(72496),D=e(39419),E=e(30396),O=e(34875),C=e(92271),_=e(51126),a=e(65919);const l={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},P=({emailSuggestions:be,currentEmail:pe,onAccept:we,onReject:xe})=>{const Ue=(0,D.isMobileBrowser)(),[De,_e]=(0,E.eJ)(!1),[ie,ve]=(0,E.eJ)(null),he=(0,E.sO)(null),Le=bt=>{_e(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:pe,email_suggested:bt}),xe&&xe()},He=be&&pe&&be[pe]&&be[pe]!=pe.trim(),ht=bt=>{_e(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:pe,email_suggested:bt}),we(bt)};return(0,E.d4)(()=>{if(He){const bt=be[pe];(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:pe,email_suggested:bt}),ve(bt),_e(!0)}else _e(!1)},[He,be,pe]),(0,o.h)("div",{className:l.animationWrapper},(0,o.h)(O.u,{show:De,enter:"tw-transition-all tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:he},(0,o.h)(_.hs,{className:l.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,o.h)(_.tu,{className:l.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:4,alignItems:"start",gap:20},(0,o.h)(a.xv,{size:16,font:"display",className:l.secondaryText},"Did you mean",(0,o.h)("br",null),(0,o.h)(a.xv,{as:"span",weight:"semibold",className:l.primaryText},ie),"?"),(0,o.h)(_.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:l.buttonWrapper},(0,o.h)(C.z,{onClick:()=>ht(ie),className:l.buttonFill,variant:"themed-primary"},Ue?"Yes":"Yes, Subscribe with correction"),(0,o.h)(C.z,{className:l.buttonFill,variant:"secondary",onClick:()=>Le(ie)},"No"))))))};var S=e(23279),M=e.n(S),R=e(80569),N=e.n(R),T=e(83868),A=e.n(T),F=(be,pe,we)=>new Promise((xe,Ue)=>{var De=ve=>{try{ie(we.next(ve))}catch(he){Ue(he)}},_e=ve=>{try{ie(we.throw(ve))}catch(he){Ue(he)}},ie=ve=>ve.done?xe(ve.value):Promise.resolve(ve.value).then(De,_e);ie((we=we.apply(be,pe)).next())});const U=(be,pe)=>F(void 0,null,function*(){const we=yield N().get("/api/v1/check-email").query({email:be});pe([be,we.body])}),G=M()((be,pe)=>F(void 0,null,function*(){yield U(be,pe)}),200),J=be=>F(void 0,null,function*(){return A()(be)?new Promise((pe,we)=>{G(be,pe)}):[]});var Q=e(7922),te=e(23890),ee=e(26059),L=Object.defineProperty,V=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,re=(be,pe,we)=>pe in be?L(be,pe,{enumerable:!0,configurable:!0,writable:!0,value:we}):be[pe]=we,$=(be,pe)=>{for(var we in pe||(pe={}))fe.call(pe,we)&&re(be,we,pe[we]);if(ae)for(var we of ae(pe))le.call(pe,we)&&re(be,we,pe[we]);return be},oe=(be,pe)=>V(be,ne(pe)),se=(be,pe,we)=>(re(be,typeof pe!="symbol"?pe+"":pe,we),we),ce=(be,pe,we)=>new Promise((xe,Ue)=>{var De=ve=>{try{ie(we.next(ve))}catch(he){Ue(he)}},_e=ve=>{try{ie(we.throw(ve))}catch(he){Ue(he)}},ie=ve=>ve.done?xe(ve.value):Promise.resolve(ve.value).then(De,_e);ie((we=we.apply(be,pe)).next())});class de extends o.Component{constructor(pe){super(pe),se(this,"handleEmailChange",()=>{const we=this.emailInput.value;we&&(this.setState({currentEmail:we}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(we))&&J(we).then(xe=>{const[Ue,De]=xe;this.setState({emailSuggestions:oe($({},this.state.emailSuggestions),{[Ue]:De})})}))}),se(this,"_onSuccess",we=>ce(this,null,function*(){we.body.prompt_to_login||v.IU(),we.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(we):alert(`Confirmation required: we sent an email to ${we.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==we.body.email&&(0,w.a)({freeSignupEmail:we.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(we))})),se(this,"onSuccess",we=>ce(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,u.getQueryItem)("referralCode")?window.campaign.identify({email:we.body.email},()=>this._onSuccess(we)):yield this._onSuccess(we)})),se(this,"onAcceptSuggestion",we=>{this.emailInput.value=we,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return ce(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(pe){this.setState({loading:pe,requires_confirmation:!1})}onError(pe){pe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(pe)}render({pub:pe,className:we,referralCode:xe,submitButtonText:Ue,showArchives:De,hideLogin:_e,hideTerms:ie,contentLinks:ve,source:he,loginRedirect:Le,autoFocus:He,disabled:ht,onPrepareData:bt,children:Tt,onMaybeLater:Fe,useSubscribeLink:nt,user:ft,utm_campaign:Ye,next:rt},{loading:$t,requires_confirmation:sn}){var gt,Ne,We,st,ke,Be;const Se=he==="treatment_bold_fade",Ke=((We=(Ne=(gt=(0,u.getQueryItem)("referring_pub_ids"))==null?void 0:gt.split)==null?void 0:Ne.call(gt,","))==null?void 0:We[0])||void 0,ut=((Be=(ke=(st=(0,u.getQueryItem)("referring_pub_ids"))==null?void 0:st.split)==null?void 0:ke.call(st,","))==null?void 0:Be.slice(1))||void 0,Oe=this.getPrefilledEmail();return(0,o.h)(o.Fragment,null,(0,o.h)(te.ZP,{ref:K=>this.form=K,className:we,noInlineErrors:!0,action:(0,u.pathWithQuery)("/api/v1/free"),noJsAction:(0,u.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:K=>{sn&&(K.resend_confirmation=!0),bt&&bt(K)},onChangeLoadingState:this.onLoadingState.bind(this),onError:K=>this.onError(K),onSuccess:K=>this.onSuccess(K),typoFound:K=>this.setState({emailSuggestion:K}),disableSubmit:nt},(0,o.h)("input",{type:"hidden",name:"first_url",value:b.xY}),(0,o.h)("input",{type:"hidden",name:"first_referrer",value:b.ip}),(0,o.h)("input",{type:"hidden",name:"current_url",value:b.UE}),(0,o.h)("input",{type:"hidden",name:"current_referrer",value:b.xU}),(0,o.h)("input",{type:"hidden",name:"referral_code",value:xe}),(0,o.h)("input",{type:"hidden",name:"source",value:he}),(0,o.h)("input",{type:"hidden",name:"referring_pub_id",value:Ke}),(0,o.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:ut}),(0,o.h)("div",{className:"sideBySideWrap"},!!Oe&&(0,D.inputPrefillHack)(),(0,o.h)("input",{onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:K=>this.emailInput=K,type:"email",name:Se?"email-pop":"email",readOnly:!!(this.getSavedEmail()||$t||ht),disabled:!!($t||ht),autoFocus:He&&!(this.getPrefilledEmail()||ht)&&!(0,D.isMobileBrowser)(),placeholder:I`Type your email`}),(0,o.h)(Q.Z,{className:`rightButton ${Se?"pop":""} primary subscribe-btn`,type:"submit",disabled:!!($t||ht),onClick:K=>{nt&&(location.href=(0,u.getSubscribeUrl)(pe,{addBase:!0,user:ft,utm_source:"substack",utm_medium:"web",utm_campaign:Ye,next:rt}))}},(0,o.h)("b",{className:`button-text ${Se?"pop":""}`},Ue||(0,g.getSubscribeText)(pe)))),sn?(0,o.h)("div",null,(0,o.h)("div",{className:"error other-error"},"This email address is not confirmed yet.",(0,o.h)("br",null),(0,o.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,o.h)("div",{id:"error-container"}),ve&&(0,o.h)("div",{className:"welcome-links-mobile"},(0,o.h)("div",null,this.getSavedEmail()?(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getSigninUrl)({for_pub:pe.subdomain,redirect:Le}),native:!0},I`Login`),(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getAboutUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getArchiveUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`)),Fe&&(0,o.h)("button",{className:"button close-welcome-modal-mobile",onClick:K=>{K.preventDefault(),Fe()},"aria-label":"Close"},(0,o.h)(ee.Z,null))),(0,o.h)("div",{className:d()("subtle-help-text below-input",{"welcome-modal":ve})},!_e&&(this.getSavedEmail()?(0,o.h)("a",{className:"login-button",href:(0,u.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"login-button",href:(0,u.getSigninUrl)({for_pub:pe.subdomain,redirect:Le}),native:!0},I`Login`)),De&&(0,o.h)("a",{className:"legal",href:(0,u.getBaseArchiveUrl)(pe),native:!0},"Archives"),!ie&&[(0,o.h)("a",{className:"legal",href:(0,u.getPrivacyUrl)(pe),target:"_blank",native:!0},I`Privacy`),(0,o.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},I`Terms`),(0,o.h)("a",{className:"legal",href:`${(0,u.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},"Information collection notice")],ve&&[(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getArchiveUrl)(pe,{params:{sort:"top"}}),onClick:this.props.markWelcomePageAsHidden},I`Top posts`),(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getAboutUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getArchiveUrl)(pe),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`),(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getAboutUrl)(pe,{params:{sort:"people"}}),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Authors`),this.getSavedEmail()?(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getSignoutUrl)({for_pub:pe.subdomain}),native:!0},I`Not you?`):(0,o.h)("a",{className:"welcome-content-link",href:(0,u.getSigninUrl)({for_pub:pe.subdomain,redirect:Le}),native:!0},I`Login`)],Tt)),(0,o.h)(P,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}se(de,"contextType",y.kx)},89867:(z,s,e)=>{"use strict";e.d(s,{Z:()=>O});var o=e(6400),m=e(30396),d=e(46505),u=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,v=(C,_,a)=>_ in C?u(C,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):C[_]=a,b=(C,_)=>{for(var a in _||(_={}))y.call(_,a)&&v(C,a,_[a]);if(g)for(var a of g(_))w.call(_,a)&&v(C,a,_[a]);return C},D=(C,_)=>{var a={};for(var l in C)y.call(C,l)&&_.indexOf(l)<0&&(a[l]=C[l]);if(C!=null&&g)for(var l of g(C))_.indexOf(l)<0&&w.call(C,l)&&(a[l]=C[l]);return a};const O=C=>{const _=C,{ampProps:a}=_,l=D(_,["ampProps"]);return(0,m.qp)(d.E).isAmp?(0,o.h)("amp-img",b(b({},a),l)):(0,o.h)("img",b({},l))}},96789:(z,s,e)=>{"use strict";e.d(s,{Z:()=>l,p:()=>P});var o=e(6400),m=e(94184),d=e.n(m),u=e(71375),g=e(39419),y=e.n(g),w=e(17685),v=Object.defineProperty,b=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(S,M,R)=>M in S?v(S,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[M]=R,C=(S,M)=>{for(var R in M||(M={}))D.call(M,R)&&O(S,R,M[R]);if(b)for(var R of b(M))E.call(M,R)&&O(S,R,M[R]);return S},_=(S,M,R)=>(O(S,typeof M!="symbol"?M+"":M,R),R),a=(S,M,R)=>new Promise((N,T)=>{var A=G=>{try{U(R.next(G))}catch(J){T(J)}},F=G=>{try{U(R.throw(G))}catch(J){T(J)}},U=G=>G.done?N(G.value):Promise.resolve(G.value).then(A,F);U((R=R.apply(S,M)).next())});class l extends o.Component{constructor(M,R){super(M,R),_(this,"onDocumentKeyDown",N=>{N.key==="Escape"&&!this.props.noExit&&!(0,g.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(M){M&&(this._callback=M);const R=document.getElementsByTagName("html")[0];(0,g.hasClass)(R,"modal-in")||(0,g.addClass)(R,"modal-in"),this.setState({display:!0,open:!0})}open(M){return a(this,null,function*(){M&&(this._callback=M);const R=document.getElementsByTagName("html")[0];(0,g.hasClass)(R,"modal-in")||(0,g.addClass)(R,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(N=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),N()})},50)})})})}close(M){return a(this,null,function*(){this.isOpen()&&this.onBeforeClose(M)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(M)===!1||((0,g.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(R=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(M),this.props.onClose&&this.props.onClose(M),this._callback&&this._callback(M),R()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(M){var R,N;M.stopPropagation(),(N=(R=this.props).onClick)==null||N.call(R,M),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&M.target&&this.container&&this.close()}onClickInner(M){var R,N;M.stopPropagation(),(N=(R=this.props).onClick)==null||N.call(R,M)}render(){const M=this.state.open?"in":"out",R=this.state.display===!1?"gone":"",N=this.props.variant==="structured";return(0,o.h)("div",{className:d()("modal typography",M,R,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":N,popup:this.popup}),onClick:T=>this.onClickOuter(T),"data-testid":this.props.testID,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{ref:T=>this.content=T,className:d()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,o.h)("div",C({className:d()({container:!N}),ref:T=>this.container=T,onClick:T=>this.onClickInner(T)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,g.isMobileBrowser)())&&(N?(0,o.h)("div",{className:"structured-modal__close-button"},(0,o.h)(w.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,o.h)(u.Z,{size:20,color:"secondary"}))):(0,o.h)(w.hU,{"data-testid":"close-modal",className:d()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,o.h)(u.Z,{size:20,color:"secondary"}))),N?(0,o.h)("div",{className:"structured-modal__wrapper"},(0,o.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,o.h)("h3",null,this.props.modalTitle):(0,o.h)("h3",null,"\xA0")),(0,o.h)("div",{className:"structured-modal__body"},(0,o.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,o.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:M},R){return M}}class P extends l{constructor(M,R){super(M,R),this.popup=!0}}},50615:(z,s,e)=>{"use strict";e.d(s,{l:()=>N,y:()=>R});var o=e(6400),m=e(30396),d=e(50308),u=e.n(d),g=e(80569),y=e.n(g),w=e(15045),v=e(83322),b=e(3258),D=e(39419),E=e.n(D),O=e(19826),C=e(46595),_=e(22702),a=e(65726),l=Object.defineProperty,P=(T,A,F)=>A in T?l(T,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[A]=F,S=(T,A,F)=>(P(T,typeof A!="symbol"?A+"":A,F),F),M=(T,A,F)=>new Promise((U,G)=>{var J=ee=>{try{te(F.next(ee))}catch(L){G(L)}},Q=ee=>{try{te(F.throw(ee))}catch(L){G(L)}},te=ee=>ee.done?U(ee.value):Promise.resolve(ee.value).then(J,Q);te((F=F.apply(T,A)).next())});class R extends o.Component{constructor(){super(...arguments),S(this,"toggleTopExclusion",A=>(0,D.stateTransaction)(this,(F,U)=>M(this,[F,U],function*(G,{post:J,onChange:Q}){if(G.topExcluding)return;this.setState({topExcluding:A.id});const te=J.top_exclusions.includes(A.id),ee=`/api/v1/publication/${A.id}/exclusion/${J.id}`;try{te?(yield y().del(ee),J.top_exclusions.splice(0)):(yield y().post(ee),J.top_exclusions.splice(0),J.top_exclusions.push(A.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(L){console.error("Failed to exclude post:",L),alert((0,D.getNetworkErrorMessage)(L));return}finally{this.setState({topExcluding:null})}Q&&(yield Q({post:J}))}))),S(this,"toggleSectionPin",(A,F)=>(0,D.stateTransaction)(this,(U,G)=>M(this,[U,G],function*(J,{post:Q,onChange:te}){if(J.pinning)return;this.setState({sectionPinning:F});const ee=`/api/v1/publication/${A.id}/section/${F}/pin/${Q.id}`;try{Q.is_section_pinned?(yield y().del(ee),Q.is_section_pinned=!1):(yield y().post(ee),Q.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(L){console.error("Failed to pin post:",L),alert((0,D.getNetworkErrorMessage)(L));return}finally{this.setState({sectionPinning:null})}te&&(yield te({post:Q}))}))),S(this,"togglePin",A=>(0,D.stateTransaction)(this,(F,U)=>M(this,[F,U],function*(G,{post:J,onChange:Q}){if(G.pinning)return;this.setState({pinning:A.id});const te=J.pins.includes(A.id),ee=`/api/v1/publication/${A.id}/pin/${J.id}`;try{te?(yield y().del(ee),J.pins.splice(J.pins.indexOf(A.id),1)):(yield y().post(ee),A.multiple_pins||J.pins.splice(0),J.pins.push(A.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(L){console.error("Failed to pin post:",L),alert((0,D.getNetworkErrorMessage)(L));return}finally{this.setState({pinning:null})}Q&&(yield Q({post:J}))}))),S(this,"sendEmail",()=>M(this,null,function*(){const{post:A}=this.props,F={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[A.audience];if(!confirm(`Send this published post as an email to ${F}?`))return;const U=`/api/v1/drafts/${A.id}/publish`;try{yield y().post(U).send({send:!0,only_send:!0}),location.reload()}catch(G){console.error("Failed to send post:",G),alert((0,D.getNetworkErrorMessage)(G))}})),S(this,"clearCache",()=>M(this,null,function*(){const{post:A}=this.props;try{yield y().put(`/api/v1/posts/${A.id}/clear_cache`),location.reload()}catch(F){console.error("Failed to clear post from cache"),alert((0,D.getNetworkErrorMessage)(F))}})),S(this,"duplicatePost",()=>M(this,null,function*(){this.setState({duplicating:!0});const{pub:A,post:F}=this.props;try{const U=yield y().post(`/api/v1/posts/${F.id}/duplicate`);(0,D.redirect)((0,w.getEditPostUrlById)(A,U.body.id),{local_navigation:!1})}catch(U){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,D.getNetworkErrorMessage)(U))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:A,post:F,hidePinning:U,user:G,emailSent:J,allowSendEmail:Q,className:te,useDrawerOnMobile:ee,handleCrossPost:L},{pinning:V,sectionPinning:ne,topExcluding:ae,duplicating:fe}){let le=null;return F.section_id&&A.sections&&A.sections.length&&(le=A.sections.find(re=>re.id===F.section_id)),(0,o.h)(O.ZP,{attachOnActive:!0,ref:re=>this.editMenu=re,className:te,useDrawerOnMobile:ee},(0,o.h)(a.Z,{href:(0,w.getPostUrl)(A,F,{edit:!0}),onClick:u()},"Edit post"),!U&&F.slug&&[(0,v.isPinnable)(A)&&F.section_id&&(F.section_name||le.name)&&(0,o.h)(a.Z,{onClick:()=>this.toggleSectionPin(A,F.section_id)},[F.is_section_pinned^ne===F.section_id?"Unpin from":"Pin on",` ${F.section_name||le.name}`]),(0,v.isPinnable)(A)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(A)},[F.pins.includes(A.id)^V===A.id?"Unpin from":"Pin on",A.parent_publication_id||le?` ${A.name}`:" homepage"]),A.parent_publication&&(0,v.isPinnable)(A.parent_publication)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(A.parent_publication)},[F.pins.includes(A.parent_publication.id)^V===A.parent_publication.id?"Unpin from":"Pin on",` ${A.parent_publication.name}`])],F.slug&&F.type!=="adhoc_email"&&[(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(A)},[F.top_exclusions.includes(A.id)^ae===A.id?"Include in":"Exclude from"," Top",A.parent_publication_id&&` for ${A.name}`]),A.parent_publication&&(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(A.parent_publication)},[F.top_exclusions.includes(A.parent_publication.id)^ae===A.parent_publication.id?"Include in":"Exclude from"," Top",` for ${A.parent_publication.name}`])],(0,o.h)(a.Z,{disabled:fe,onClick:()=>this.duplicatePost()},fe?"Duplicating":"Duplicate"," to drafts"),!J&&Q&&F.is_published&&(0,o.h)(a.Z,{onClick:()=>this.sendEmail()},"Send as email"),(G==null?void 0:G.is_global_admin)&&(0,o.h)(a.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,o.h)(a.Z,{onClick:()=>{window.open(`${(0,w.getPostUrl)(A,F)}/media-assets`)}},"View media assets"),L&&(0,o.h)(a.Z,{onClick:L},"Cross post"))}}S(R,"state",{duplicating:!1});function N({pub:T,post:A,iconHeight:F,hidePinning:U,user:G,emailSent:J,allowSendEmail:Q,showUpdatedIcons:te,dropdownClassName:ee,iconClassName:L}){const V=(0,m.sO)();return(0,o.h)(o.Fragment,null,(0,o.h)(a.Z,{onClick:()=>{V.current.isOpen()||(0,b.j)(b.FP.EDIT_POST_DROPDOWN_MENU_OPENED),V.current.toggle()}},te?(0,o.h)(_.Z,{stroke:"#262626",height:F,className:L}):(0,o.h)(C.Z,{stroke:"#757575",height:F,className:L})),(0,o.h)(R,{ref:V,pub:T,post:A,hidePinning:U,user:G,emailSent:J,allowSendEmail:Q,className:ee}))}},34085:(z,s,e)=>{"use strict";e.d(s,{EB:()=>V,_0:()=>L});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(80569),y=e.n(g),w=e(15045),v=e(83322),b=e(3258),D=e(39419),E=e.n(D),O=e(35291),C=e(7922),_=e(93881),a=e(23890),l=e(96789),P=e(81671),S=Object.defineProperty,M=Object.defineProperties,R=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,F=(ae,fe,le)=>fe in ae?S(ae,fe,{enumerable:!0,configurable:!0,writable:!0,value:le}):ae[fe]=le,U=(ae,fe)=>{for(var le in fe||(fe={}))T.call(fe,le)&&F(ae,le,fe[le]);if(N)for(var le of N(fe))A.call(fe,le)&&F(ae,le,fe[le]);return ae},G=(ae,fe)=>M(ae,R(fe)),J=(ae,fe)=>{var le={};for(var re in ae)T.call(ae,re)&&fe.indexOf(re)<0&&(le[re]=ae[re]);if(ae!=null&&N)for(var re of N(ae))fe.indexOf(re)<0&&A.call(ae,re)&&(le[re]=ae[re]);return le},Q=(ae,fe,le)=>new Promise((re,$)=>{var oe=de=>{try{ce(le.next(de))}catch(be){$(be)}},se=de=>{try{ce(le.throw(de))}catch(be){$(be)}},ce=de=>de.done?re(de.value):Promise.resolve(de.value).then(oe,se);ce((le=le.apply(ae,fe)).next())});const te=({sub:ae,onSetVisibility:fe,source:le})=>{const re=ae.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:re,logo_url:re.logo_url||re.author_photo_url}),h("span",null,re.name)),h("div",{className:"right"},h(BigCheckbox,{checked:ae.visibility==="public",onChange:()=>fe(ae.visibility==="public"?"private":"public")})))},ee=({profile:ae,onFinalizeVisibility:fe,onSetVisibility:le,source:re})=>{if(!ae)return;const $=ae.subscriptions.every(({visibility:de})=>de==="public"),oe=()=>{le(ae.subscriptions.reduce((de,{publication:be})=>G(U({},de),{[be.id]:$?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:ae.subscriptions.length})},se=de=>be=>{le(ae.subscriptions.reduce((pe,{visibility:we,publication:xe})=>G(U({},pe),{[xe.id]:xe.id===de.id?be:we}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:be})},ce=h("button",{className:"small",onClick:oe},$?"Hide all":"Show all");return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},ce),h("div",{className:"edit-sub-visibility-frame"},ae.subscriptions.map(de=>h(te,{sub:de,onSetVisibility:se(de.publication),source:re}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:fe},"Done")))};class L extends o.Component{constructor(fe,le){var re;super(fe,le),this.formRef=(0,o.createRef)(),this.state={newName:null,newBio:null,newEmail:fe.user&&fe.user.is_magic?fe.user.email:null},fe.isPostInvite&&!((re=fe.user)!=null&&re.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var fe,le,re;this.props.autoSubmit&&(this.isComplete()?(fe=this.formRef.current)==null||fe.handleSubmit():(re=(le=this.props).onAutoSubmitFailed)==null||re.call(le))}isComplete(){const{user:fe,needsPhoto:le}=this.props;return fe&&!fe.is_magic&&fe.name&&(!le||fe.photo_url)}onFileInputChanged(){return Q(this,null,function*(){const fe=this.fileInput.files[0];if(this.fileInput.value="",!fe){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let le;try{le=yield(0,D.getDataUrlFromFile)(fe)}catch($){console.error("Failed to get data URL from file:",$),alert($.message);return}let re;try{re=yield(0,D.getExifOrientationFromFile)(fe)}catch($){console.error("Failed to extract EXIF data from file:",$)}this.setState({newPhotoUrl:le,newPhotoOrientation:re})})}onError(fe){var le,re;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(re=(le=this.props).onAutoSubmitFailed)==null||re.call(le)),this.setState({sentLoginEmail:!1}),fe.status===401&&this.sendLoginEmail()}createDefaultPublication(fe,le){return Q(this,null,function*(){try{const re=yield y().get("/api/v1/publication/suggestion"),$=le||`${fe} on Substack`;yield y().post("/api/v1/publication").send({name:fe,subdomain:re.body.subdomain,hero_text:$,tos:!0})}catch(re){(0,b.j)(b.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",re)}})}sendLoginEmail(){return Q(this,null,function*(){const fe=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!fe)){this.setState({loading:!0});try{yield y().post("/api/v1/email-login").send({email:fe,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(le){console.error("Failed send login email:",le)}this.setState({loading:!1})}})}render({className:fe,user:le,numVisibleSubscriptions:re,numSubscriptions:$,freeSignup:oe,freeSignupEmail:se,initialPhotoUrl:ce,needsPhoto:de,optionalPhoto:be,token:pe,text:we,onSuccess:xe,prepareData:Ue,pageTitle:De,primaryEligiblePublications:_e,isPostInvite:ie,complete:ve,profileExists:he,onSkip:Le,onEditReadVisibility:He,barebones:ht,onEditRecommendations:bt,numRecommendationsToMake:Tt,noSubscribeCta:Fe,style:nt},{newPhotoUrl:ft,newPhotoOrientation:Ye,newName:rt,newEmail:$t,loading:sn,sentLoginEmail:gt,newBio:Ne,createPublication:We}){const st=ft||ce||(0,w.getUserPhotoUrl)(le,{noFallbackToSignedOut:!0}),ke=typeof De=="string"?De:`${this.isComplete()?"Update":"Create"} your profile`,Be=rt||le&&le.name||"",Se=typeof Ne=="string"?Ne:le&&le.bio||"",Ke=(ut,Oe)=>Q(this,null,function*(){We&&(yield this.createDefaultPublication(Be,Se)),xe(ut,Oe)});return(0,o.h)("div",{className:u()("profile-updater",fe),style:nt},(0,o.h)("h2",{className:"page-title profile-updater-title"},ke),(st||de||be)&&(0,o.h)(_.Z,{photoUrl:st,newPhotoUrl:ft,newPhotoOrientation:Ye,updatePhoto:({newPhotoOrientation:ut,newPhotoUrl:Oe})=>this.setState({newPhotoOrientation:ut,newPhotoUrl:Oe}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,o.h)(a.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:Ue,onSuccess:Ke,onError:ut=>this.onError(ut),noInlineErrors:!0,loading:sn,autoLock:!0},(0,o.h)("label",{htmlFor:"name"},"Name (Required)"),(0,o.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:Be,onInput:ut=>this.setState({newName:ut.target.value})}),!ht&&(0,o.h)("label",{htmlFor:"bio"},"Bio"),!ht&&(0,o.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:Se,onInput:ut=>this.setState({newBio:ut.target.value})}),ie&&(0,o.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),ie&&(0,o.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),ie&&_e&&(le==null?void 0:le.has_publication)&&_e.length>1&&(0,o.h)(o.Fragment,null,(0,o.h)("label",null,"Publication to display"),(0,o.h)("div",{className:"primary-publication-selector"},_e.map((ut,Oe)=>(0,o.h)("label",{className:"publication-selector-row",for:`primary-radio-${ut.id}`},(0,o.h)("input",{id:`primary-radio-${ut.id}`,type:"radio",name:"primary_publication_user_id",value:ut.id,checked:Oe===0}),(0,o.h)(P.Z,{pub:ut.publication,logo_url:(0,w.imginary)(ut.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:ut.publication.name}),(0,o.h)("div",{className:"primary-publication-name"},ut.publication.name))))),(!le||le.is_magic)&&!se&&!ie&&(0,o.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:$t,onInput:ut=>this.setState({newEmail:ut.target.value})}),!Fe&&!(le&&(le.is_subscribed||le.is_free_subscribed)||oe)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),ie&&!(le!=null&&le.has_publication)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:We,onChange:ut=>this.setState({createPublication:ut.target.checked})}),"Create a Substack publication for me"),(0,o.h)("input",{type:"hidden",name:"photo_url",value:st}),(0,o.h)("input",{type:"hidden",name:"user_id",value:(le==null?void 0:le.id)||""}),(0,o.h)("input",{type:"hidden",name:"needs_photo",value:!!de}),(0,o.h)("input",{type:"hidden",name:"token",value:pe}),ve&&(0,o.h)("input",{type:"hidden",name:"complete",value:!0}),(0,o.h)("div",{id:"error-container"},gt&&(0,o.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,o.h)("b",null,$t)," with a link that you can use to sign in.")),(0,o.h)("p",{className:u()("left",{hidden:!(typeof re=="number"&&$>0&&He)})},(0,v.pluralize)(re||0,"subscription")," ",he?"are":"will be"," displayed on your profile (",(0,o.h)("a",{onClick:He},"edit"),")"),!he&&bt&&Tt>0&&(0,o.h)("p",{className:"left second"},(0,v.pluralize)(Tt||0,"recommendation")," will be made on your publication (",(0,o.h)("a",{onClick:bt},"edit"),")"),(0,o.h)("div",{className:"modal-ctas"},(0,o.h)("p",{className:u()("skip",{hidden:!Le})},(0,o.h)("a",{className:"small",onClick:Le||(()=>{})},"Skip for now")),(0,o.h)(C.Z,{className:"primary",type:"submit"},we||"Save"),ie&&(0,o.h)(o.Fragment,null,(0,o.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,o.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,o.h)("a",{href:`${(0,w.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class V extends l.p{renderChildren(){const fe=this.props,{ref:le,onBeforeClose:re,contributor:$}=fe,oe=J(fe,["ref","onBeforeClose","contributor"]);return(0,o.h)("div",{className:"profile-updater-modal"},$?(0,o.h)(ne,G(U({},oe),{onSuccess:()=>this.close(!0)})):(0,o.h)(L,G(U({},oe),{onSuccess:()=>this.close(!0)})))}}const ne=({profile:ae,user:fe,pub:le,onSuccess:re,isOwnProfile:$})=>{const oe=(0,m.sO)(),[se,ce]=(0,m.eJ)(null),[de,be]=(0,m.eJ)(null),pe=se||ae&&ae.photo_url,[we,xe]=(0,m.eJ)(ae.name),[Ue,De]=(0,m.eJ)(ae.bio),_e=()=>Q(void 0,null,function*(){var ie;const ve=(ie=oe.current)!=null&&ie.files?oe.current.files[0]:null;if(oe.value="",!ve){ce(null),be(null);return}let he;try{he=yield(0,D.getDataUrlFromFile)(ve)}catch(He){console.error("Failed to get data URL from file:",He),alert(He.message);return}let Le;try{Le=yield(0,D.getExifOrientationFromFile)(ve)}catch(He){console.error("Failed to extract EXIF data from file:",He)}ce(he),be(Le)});return(0,o.h)("div",{className:"profile-updater"},(0,o.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,o.h)("div",{className:"profile-photo-wrap"},pe&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${se||(0,w.imginary)(ae.photo_url,144)})`,transform:(0,D.transformExifOrientation)(de)}}),(0,o.h)(C.Z,{onClick:()=>{((0,D.isIE)()||(0,D.isFirefox)())&&oe.click()}},!pe&&"Set photo",(0,o.h)("input",{ref:oe,type:"file",name:"photo",accept:"image/*",onChange:()=>_e()}))),(0,o.h)(a.ZP,{method:"patch",action:`/api/v1/publication/users/${ae.id}`,onSuccess:re,autoLock:!0},(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:we,onInput:ie=>xe(ie.target.value)}),(0,o.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Ue,onInput:ie=>De(ie.target.value)}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:pe}),(0,o.h)("span",{className:"notice"},(0,o.h)("p",null,(0,o.h)("b",null,"Note:")," This is a contributor profile, viewable by ",le.name,"'s readers."),$&&(0,o.h)("p",null,"You may also edit your"," ",(0,o.h)("a",{native:!0,href:`${(0,w.getReaderProfileUrl)(fe)}`},"personal profile"),".")),(0,o.h)(C.Z,{className:"primary",type:"submit"},"Update profile")))}},31533:(z,s,e)=>{"use strict";e.d(s,{E6:()=>te,dJ:()=>ae,fS:()=>ee,oq:()=>fe,xl:()=>ne});var o=e(6400),m=e(94184),d=e.n(m),u=e(12297),g=e.n(u),y=e(80569),w=e.n(y),v=e(82626),b=e(15045),D=e(83322),E=e(1824),O=e(3258),C=e(39419),_=e.n(C),a=e(51126),l=e(65919),P=e(60074),S=e(12650),M=e(96789),R=Object.defineProperty,N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,F=(le,re,$)=>re in le?R(le,re,{enumerable:!0,configurable:!0,writable:!0,value:$}):le[re]=$,U=(le,re)=>{for(var $ in re||(re={}))T.call(re,$)&&F(le,$,re[$]);if(N)for(var $ of N(re))A.call(re,$)&&F(le,$,re[$]);return le},G=(le,re,$)=>(F(le,typeof re!="symbol"?re+"":re,$),$),J=(le,re,$)=>new Promise((oe,se)=>{var ce=pe=>{try{be($.next(pe))}catch(we){se(we)}},de=pe=>{try{be($.throw(pe))}catch(we){se(we)}},be=pe=>pe.done?oe(pe.value):Promise.resolve(pe.value).then(ce,de);be(($=$.apply(le,re)).next())});const Q="\u2764",te=(le,re,$)=>{const{reaction:oe,reactions:se,reactor_names:ce}=L(le,re,$);V(re,oe,se,ce)},ee=(le,re)=>L(le,re,!re.reaction),L=(le,re,$)=>{let{reaction:oe,reactions:se={},reactor_names:ce=[]}=re;return se=U({},se),ce=[...ce],$&&!oe?(oe=Q,se[oe]=se[oe]?se[oe]+1:1,le&&le.is_public_admin&&ce.push(le.name||"author")):!$&&oe&&(se[Q]=se[Q]?se[Q]-1:0,le&&le.is_public_admin&&(ce=ce.filter(de=>de!==(le.name||"author"))),oe=null),{reaction:oe,reactions:se,reactor_names:ce}},V=(le,re,$,oe)=>{le.reaction=re,le.reactions=$,le.reactor_names=oe};function ne(le,re,$,oe){const se=(0,b.pathWithQuery)(`/api/v1/${re?"comment":"post"}/${le.id}/reaction`,{token:oe});return $?w().post(se).send({reaction:Q}):w().delete(se)}class ae extends o.Component{constructor(){super(...arguments),G(this,"state",{includeModal:!1}),G(this,"modalRef",(0,o.createRef)(null)),G(this,"react",re=>J(this,null,function*(){if(this.props.isStatic)return;re&&re.stopPropagation();const oe=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(oe),this.props.noSelfUpdate)return;const se=yield(0,C.stateLock)(this,"locked",(ce,de)=>J(this,null,function*(){const be=de.comment||de.post,pe=ne(be,!!de.comment,oe,de.token),{reaction:we,reactions:xe,reactor_names:Ue}=ee(de.user,be);this.notifyParent({reactions:xe,reaction:we,reactor_names:Ue});let De;try{yield pe}catch(_e){De=_e,this.notifyParent(be)}return{error:De,reaction:we}}));return se&&se.error&&(se.error.response&&se.error.response.statusCode===401?yield this.reactionRejected(se.reaction):alert((0,C.getNetworkErrorMessage)(se.error))),!!se&&!se.error}))}notifyParent({reaction:re,reactions:$,reactor_names:oe}){const se=U({},this.props.post),ce=this.props.comment&&U({},this.props.comment);V(ce||se,re,$,oe),this.props.onChange&&this.props.onChange({post:se,comment:ce})}reactionRejected(re){return J(this,null,function*(){(0,O.j)(O.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!re}),yield new Promise($=>{this.state.includeModal?this.modalRef.current.open($):this.setState({includeModal:!0},()=>this.modalRef.current.open($))})})}render({className:re,user:$,pub:oe,comment:se,height:ce,isStatic:de,post:be,buttonStyle:pe,hideReactionCount:we,countInParenthesesStyle:xe}){const Ue=se||be,De=Ue.reaction,_e=Ue.reactions||{},ie=g()(Object.values(_e));let ve;return be&&be.reaction_url_override?ve=be.reaction_url_override:de?ve=v.Substitutions.REACTION_URL:ve="javascript:void(0)",(0,o.h)(l.xv,{as:"span",decoration:"hover-underline",color:De?"accent-red":"pub-secondary-text",className:re},this.props.render?this.props.render({liked:De,numReactions:ie>0?(0,D.numberToString)(ie):null,onClick:he=>{this.react(he)}}):(0,o.h)("a",{href:ve,className:d()("like-button",{button:pe,"post-meta-button":pe,liked:De}),onClick:he=>this.react(he)},(0,o.h)(a.hs,{gap:6,alignItems:"center",className:re},de?(0,o.h)(S.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:ce,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,o.h)(a.hs,{className:"reaction-container"},(0,o.h)(S.Z,{className:"animation"}),!De&&(0,o.h)(S.Z,{strokeWidth:2,height:ce,fill:"transparent",stroke:"var(--color-secondary-themed)"}),De&&(0,o.h)(S.Z,{height:ce,strokeWidth:2})),xe?(0,o.h)(l.xv.Meta,{color:De?"accent-red":"pub-secondary-text",className:"like-count"},De?"Liked":"Like",!we&&ie>0?` (${(0,D.numberToString)(ie)})`:""):!we&&ie>0?(0,o.h)("span",{className:"like-count"},(0,D.numberToString)(ie)):pe?(0,o.h)("span",{className:"like-count"},"Like"):null)),!de&&this.state.includeModal&&(0,o.h)(fe,{modalRef:this.modalRef,user:$,pub:oe,comment:se,react:this.react}))}}function fe({comment:le,pub:re,user:$,modalRef:oe,onClose:se,react:ce}){return(0,o.h)(M.Z,{className:"modal-free-signup",ref:oe,onClose:se},(0,o.h)("h2",{className:"page-title"},"Subscribe to like this ",le?"comment":"post"),(0,o.h)(P.Z,{user:$,pub:re,source:"like_button",onSuccess:de=>J(this,null,function*(){const be=de&&de.body&&de.body.email;de&&de.body&&de.body.prompt_to_login||!(yield ce())?window.location.href=(0,b.getSigninUrl)({for_pub:re.subdomain,email:be}):oe!=null&&oe.current&&((0,E.a)({freeSignup:!0,freeSignupEmail:be}),yield oe.current.close())})}))}},49715:(z,s,e)=>{"use strict";e.d(s,{J:()=>ae});var o=e(6400),m=e(30396),d=e(80569),u=e.n(d),g=e(82626),y=e(85928),w=e.n(y),v=e(6385),b=e(15045),D=e(83322),E=e(66399),O=e(63270),C=e(3258),_=e(39419),a=e(17685),l=e(51126),P=e(62246),S=e(65919),M=e(75425),R=e(96427),N=e(81671),T=e(61152);const A={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var F=Object.defineProperty,U=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(fe,le,re)=>le in fe?F(fe,le,{enumerable:!0,configurable:!0,writable:!0,value:re}):fe[le]=re,te=(fe,le)=>{for(var re in le||(le={}))G.call(le,re)&&Q(fe,re,le[re]);if(U)for(var re of U(le))J.call(le,re)&&Q(fe,re,le[re]);return fe},ee=(fe,le,re)=>new Promise(($,oe)=>{var se=be=>{try{de(re.next(be))}catch(pe){oe(pe)}},ce=be=>{try{de(re.throw(be))}catch(pe){oe(pe)}},de=be=>be.done?$(be.value):Promise.resolve(be.value).then(se,ce);de((re=re.apply(fe,le)).next())});const L={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},V={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},ne={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},ae=({pub:fe,post:le,user:re,open:$,setOpen:oe,placeholderText:se=""})=>{const ce=w()().add(2,"minutes"),[de,be]=(0,m.eJ)(null),[pe,we]=(0,m.eJ)(se),[xe,Ue]=(0,m.eJ)(!1),[De,_e]=(0,m.eJ)(!0),[ie,ve]=(0,m.eJ)(L.PREAMBLE),[he,Le]=(0,m.eJ)(null),[He,ht]=(0,m.eJ)(null),[bt,Tt]=(0,m.eJ)(!0),[Fe,nt]=(0,m.eJ)(!0),[ft,Ye]=(0,m.eJ)(!1),[rt,$t]=(0,m.eJ)(w()().add(1,"day").toDate()),[sn,gt]=(0,m.eJ)(""),{getConfigFor:Ne}=(0,O.xR)(),We={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[He],st=bt?"Send":"Publish",ke=ft&&rt?w()(rt).max(ce).fromNow():"",Se=`${st} cross-post ${bt?We:""} ${ke}`,Ke=de==null?void 0:de.find(Y=>Y.id===he),ut=(0,M.pm)();(0,m.d4)(()=>{$&&!de&&De&&(()=>ee(void 0,null,function*(){var me;try{const Ie=yield u().get("/api/v1/restack/restackable-pubs"),je=((me=Ie==null?void 0:Ie.body)==null?void 0:me.publications)||[];be(je),_e(!1),je.length>0&&(Le(je[0].id),ht("everyone"))}catch(Ie){console.error("Failed to load user profile for restacking: ",Ie)}}))()},[$,re,De,_e,de,be]),(0,m.d4)(()=>{$&&de&&de.length===0&&!De&&(0,_.redirect)((0,b.getStartPublishingUrl)())},[$,de,De]);const Oe=(Y,me)=>{oe(!$,me),ve(L.PREAMBLE),gt(null),_e(!1),me&&(we(""),(0,C.j)(C.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:fe.id,restacked_post_id:le.id,restacking_user_id:re.id,restacking_publication_id:Ke.id,restacking_blurb:pe}),ut.popToast(Ie=>(0,o.h)(M.FN,te({text:ft?`This post is scheduled to cross-post ${ke}`:"This post was cross-posted to your subscribers"},Ie)))),(0,C.j)(C.FP.CROSS_POST_MODAL_CLOSED,{didRestack:me})},K=()=>ee(void 0,null,function*(){(0,C.j)(C.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),_e(!0);try{if(ft){const Y=w()(rt).max(ce).toDate();yield u().post(`/api/v1/restack/${le.id}/schedule`).send({audience:He,restackingPubId:Ke.id,introText:pe,sendEmail:bt,publishToWeb:Fe,scheduledAt:Y})}else yield u().post(`/api/v1/restack/${le.id}`).send({audience:He,restackingPubId:Ke.id,introText:pe,sendEmail:Ne("cross_post_extended_publish_options")?bt:null,publishToWeb:Ne("cross_post_extended_publish_options")?Fe:null});(0,C.j)(C.FP.CROSS_POST_MODAL_SUBMITTED),Oe({},!0);return}catch(Y){if((0,C.j)(C.FP.CROSS_POST_MODAL_SUBMIT_FAILED),Y instanceof TypeError)throw gt("An unknown error ocurred. This post was not recommended."),_e(!1),Y;gt((0,_.getNetworkErrorMessage)(Y,"This post could not be recommended.")),_e(!1)}});return(0,o.h)(P.u_,{isOpen:$,onClose:Oe},(0,o.h)(P.xB,{includeClose:!0,onClose:Oe,title:"Cross-post to your Substack"}),(0,o.h)("div",{"data-testid":"modal-ref-id",className:A.modalWrap},ie===L.PREAMBLE?(0,o.h)(l.tu,{gap:24,paddingTop:12},(0,o.h)(l.tu,{gap:16},(0,o.h)("textarea",te({className:A.textarea,placeholder:"Say why this post is worth reading...",onChange:Y=>{xe||(Ue(!0),(0,C.j)(C.FP.CROSS_POST_MODAL_TYPING_STARTED)),we(Y.target.value)},value:pe,maxLength:"800"},T.J)),(0,o.h)(l.tu,{gap:12,className:A.postPreview,paddingX:16,paddingY:16},(0,o.h)(l.gq,{alignItems:"center",gap:8},(0,o.h)(N.Z,{pub:fe,size:24,logo_url:fe.logo_url,linkify:!1,className:A.pubIcon,noMargin:!0}),(0,o.h)(S.xv.B4,{color:"primary",weight:"semibold",size:14},fe.name)),(0,o.h)(l.tu,{gap:4},(0,o.h)(S.xv.H4,{weight:"semibold"},le.title),(0,o.h)(S.xv.B3,{color:"secondary"},(0,D.formatEllipsis)(((le.truncated_body_text||"").replace(g.Substitutions.PUBLICATION_NAME,fe.name)||le.subtitle||"").substring(0,100)))))),sn&&(0,o.h)(S.xv.B4,{color:"accent-red"},sn),(0,o.h)(a.zx,{priority:"primary-theme",onClick:()=>{if((0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!pe){gt("Please write something to your subscribers to continue"),(0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}gt(""),ve(L.AUDIENCE_SELECTION),(0,C.j)(C.FP.CROSS_POST_MODAL_CONTINUED)},disabled:De||!pe,className:"restack-modal-button "},Ne("cross_post_extended_publish_options")?"Continue":"Choose audience")):(0,o.h)(l.tu,{gap:24,paddingTop:12},(0,o.h)(l.tu,{gap:20},(0,o.h)(l.tu,{gap:8},(0,o.h)(S.xv.B3,null,"Post to"),(0,o.h)(R.P,{value:Ke.id,onChange:Y=>{ht("everyone"),Le(Number(Y))},className:A.select},de.map(Y=>(0,o.h)("option",{value:Y.id},Y.name)))),(0,o.h)(l.tu,{gap:8},(0,o.h)(S.xv.B3,null,"Send to"),(0,o.h)(R.P,{value:He,onChange:Y=>ht(Y),className:A.select},((Ke==null?void 0:Ke.payments_state)==="enabled"?(0,v.getAudiencesForPublicListing)():["everyone"]).map(Y=>(0,o.h)("option",{value:Y},V[Y]))))),Ne("cross_post_extended_publish_options")?(0,o.h)(l.tu,{gap:12},(0,o.h)(S.xv.B3,null,"Delivery"),(0,o.h)(E.ji,{value:bt,label:"Send cross-post via email",onChange:Y=>Tt(Y)}),(0,o.h)(E.ji,{value:Fe,label:"Publish cross-post to web",onChange:Y=>nt(Y)}),(0,o.h)(E.ji,{value:ft,label:"Schedule time to publish cross-post",onChange:Y=>Ye(Y),contentBelow:(0,o.h)(E.HZ,{expanded:ft},(0,o.h)(l.tu,{paddingTop:8},(0,o.h)(E.Tz,{value:rt!=null?rt:new Date,max:w()().add(92,"days").toDate(),onChange:Y=>{$t(new Date(Y.currentTarget.value))}})))})):null,sn&&(0,o.h)(S.xv.B4,{color:"accent-red"},sn),(0,o.h)(a.zx,{priority:Ne("cross_post_extended_publish_options")&&!bt&&!Fe?"secondary":"primary-theme",onClick:K,disabled:De||Ne("cross_post_extended_publish_options")&&!bt&&!Fe,className:"restack-modal-button "},Ne("cross_post_extended_publish_options")?Se:ne[He]))))}},69427:(z,s,e)=>{"use strict";e.d(s,{ZP:()=>we});var o=e(6400),m=e(98661),d=e(91004),u=e(15045),g=e(4190),y=e(3258),w=e(58884),v=e(39419),b=e.n(v),D=e(51126),E=e(76235),O=e(65919),C=e(7922),_=e(46595),a=e(51889),l=e(54813),P=e(64484),S=e(73416),M=e(21302),R=e(65665),N=e(7775),T=e(74957),A=e(41874),F=e(95950),U=e(96789),G=e(31471),J=e(38441),Q=Object.defineProperty,te=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,fe=Reflect.get,le=(Ue,De,_e)=>De in Ue?Q(Ue,De,{enumerable:!0,configurable:!0,writable:!0,value:_e}):Ue[De]=_e,re=(Ue,De)=>{for(var _e in De||(De={}))ne.call(De,_e)&&le(Ue,_e,De[_e]);if(L)for(var _e of L(De))ae.call(De,_e)&&le(Ue,_e,De[_e]);return Ue},$=(Ue,De)=>te(Ue,ee(De)),oe=(Ue,De,_e)=>(le(Ue,typeof De!="symbol"?De+"":De,_e),_e),se=(Ue,De,_e)=>fe(V(Ue),_e,De),ce=(Ue,De,_e)=>new Promise((ie,ve)=>{var he=ht=>{try{He(_e.next(ht))}catch(bt){ve(bt)}},Le=ht=>{try{He(_e.throw(ht))}catch(bt){ve(bt)}},He=ht=>ht.done?ie(ht.value):Promise.resolve(ht.value).then(he,Le);He((_e=_e.apply(Ue,De)).next())});const de=(0,m.forwardRef)((Ue,De)=>(0,o.h)(C.Z,$(re({},Ue),{className:"share-action",forwardedRef:De}),(0,o.h)("div",{className:"action-icon"},(0,o.h)(_.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Other"))),be=({pub:Ue,post:De,profile:_e})=>{let ie=typeof document!="undefined"?document.title:"",ve="",he="";const Le=(0,u.getBaseUrl)(Ue).replace(/^https?:\/\//,"").replace(/\/$/);return De?(ie=De.title||De.draft_title,ve=Le,he=De.cover_image||null):Ue?(ie=Ue.name,ve=Le,he=Ue.logo_url):_e&&(ie=_e.name,ve=_e.bio,he=(0,u.getUserPhotoUrl)(_e)),(0,o.h)(D.gq,{className:`social-preview-box ${De?"post":Ue?"pub":"user"}`,radius:8,border:"detail",padding:8},(0,o.h)("div",{className:"social-image-box"},(De||Ue)&&he&&(0,o.h)(G.e,{className:"social-image",src:he,alt:"",maxWidth:120,loading:"lazy"}),!De&&!Ue&&he&&(0,o.h)(J.cy,{className:"social-image",imageUrl:he,size:52}),!he&&(0,o.h)(l.Z,{className:"social-image-default"})),(0,o.h)(D.tu,{paddingLeft:12,paddingY:8},(0,o.h)(O.xv.H4,null,ie),(0,o.h)(O.xv.B4,{color:"secondary"},ve)))},pe=class extends U.p{constructor(Ue,De){super(Ue,De),this.noFullscreen=!0}open(){return ce(this,null,function*(){const Ue="direct",De={title:(0,d.B8)(re({},this.props)),url:(0,d.O1)(Ue,re({medium:this.state.medium},this.props))};if((0,v.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(De))try{yield navigator.share(De),(0,y.j)(y.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),(0,w.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(_e){if(_e.name==="AbortError")return;(0,y.j)(y.FP.NATIVE_SHARE_FAILED,{errorName:_e.name,errorMessage:_e.message})}se(pe.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){this.props.source==="share-dialog-experiment"&&this.context.exposeExperiment("share_dialog_modal_or_dropdown"),(0,y.j)(y.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:Ue,pub:De,profile:_e}){const ie=Ue?"post":De?"publication":_e?"profile":null,ve=ie?`Share this ${ie}`:"Share";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"share-dialog-title"},ve),(0,o.h)(D.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(Ue||De||_e)&&(0,o.h)(be,{post:Ue,pub:De,profile:_e}),(0,o.h)(xe,$(re({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,d.B8)(re({},this.props)),shareUrl:(0,d.O1)(null,re({medium:this.state.medium},this.props)),variant:this.context.getExperimentVariant("share_modal_platforms")}))))}};let we=pe;oe(we,"contextType",g.kx);class xe extends o.Component{maybeOnChange(){const{onChange:De}=this.props;De&&De()}render({}){const De=this.props.variant||"control";return(0,o.h)(D.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,o.h)(C.Z,{onClick:()=>{(0,d.Ui)(re({},this.props)),this.maybeOnChange()},className:"share-action"},(0,o.h)("div",{className:"action-icon"},(0,o.h)(N.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Copy link")),(0,o.h)(C.Z,{className:"share-action",onClick:()=>{(0,d.Po)(re({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(A.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Facebook")),(0,o.h)(C.Z,{className:"share-action",onClick:()=>{(0,d.WZ)(re({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(T.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Email")),(0,o.h)(C.Z,{className:"share-action",onClick:()=>{(0,d.BZ)(re({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(S.Z,null)),(0,o.h)(O.xv.B4,{color:"secondary"},"Notes")),(0,o.h)(E.v2,{layerOptions:{triggerOffset:-20},trigger:(0,o.h)(de,null),onOpen:()=>{(0,y.j)(y.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}},(0,o.h)(E.sN,{onClick:()=>{(0,d.lc)(re({},this.props)),this.maybeOnChange()},icon:(0,o.h)(P.Z,null)},"Linkedin"),(0,o.h)(E.sN,{onClick:()=>{(0,d.sn)(re({},this.props)),this.maybeOnChange()},icon:(0,o.h)(R.Z,null)},"Reddit"),(0,o.h)(E.sN,{onClick:()=>{(0,d.b6)(re({},this.props)),this.maybeOnChange()},icon:(0,o.h)(a.Z,null)},"Hacker News"),(0,o.h)(E.sN,{onClick:()=>{(0,d.Vn)(re({},this.props)),this.maybeOnChange()},icon:(0,o.h)(M.Z,null)},"Pinterest"),(0,o.h)(E.sN,{onClick:()=>{(0,d.Wn)(re({},this.props)),this.maybeOnChange()},icon:(0,o.h)(F.Z,null)},"Twitter")))}}},61152:(z,s,e)=>{"use strict";e.d(s,{J:()=>C,Z:()=>_});var o=e(6400),m=e(83322),d=e(39419),u=e.n(d),g=Object.defineProperty,y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(a,l,P)=>l in a?g(a,l,{enumerable:!0,configurable:!0,writable:!0,value:P}):a[l]=P,D=(a,l)=>{for(var P in l||(l={}))w.call(l,P)&&b(a,P,l[P]);if(y)for(var P of y(l))v.call(l,P)&&b(a,P,l[P]);return a},E=(a,l)=>{var P={};for(var S in a)w.call(a,S)&&l.indexOf(S)<0&&(P[S]=a[S]);if(a!=null&&y)for(var S of y(a))l.indexOf(S)<0&&v.call(a,S)&&(P[S]=a[S]);return P},O=(a,l,P)=>(b(a,typeof l!="symbol"?l+"":l,P),P);const C={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class _ extends o.Component{constructor(){super(...arguments),O(this,"onWindowResize",l=>{this.setAutoHeight()}),O(this,"onKeyDown",l=>(this.props.inline&&l.key==="Enter"&&l.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(l))),O(this,"onInput",l=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(l))),O(this,"onBlur",()=>{var l;if(this.props.inline){const P=(l=this.base)==null?void 0:l.value,S=(0,m.sanitizeInlineText)(P);P&&P!==S&&(this.base.value=S,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(l,P,S){l.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,d.stateTransaction)(this,l=>{this.base.style.height="";const P=window.getComputedStyle(this.base),S=parseInt(P.getPropertyValue("height")),M=parseInt(P.getPropertyValue("padding-top"))+parseInt(P.getPropertyValue("padding-bottom")),R=parseInt(P.getPropertyValue("line-height")),N=Math.min(Math.round((this.base.scrollHeight-M)/R),this.props.maxLines||1/0);this.base.style.height=`${Math.max(N*R+M,S)}px`,this.base.style.height!==l.height&&this.setState({height:this.base.style.height})}))}render(l,{height:P}){var S=l,{children:M,ref:R,style:N,onKeyDown:T,onInput:A,inline:F,autoHeight:U,maxLines:G}=S,J=E(S,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return U&&(N=Object.assign({},N,{height:P})),(0,o.h)("textarea",D(D({style:N,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},C),J),M)}}},4605:(z,s,e)=>{"use strict";e.d(s,{ZP:()=>a,g1:()=>O});var o=e(6400),m=e(30396),d=e(80569),u=e.n(d),g=e(85928),y=e.n(g),w=e(83322),v=e(3258),b=e(66141);const D=(l,{timeout:P=5e3,className:S="",dismissable:M=!1,beforeDismiss:R=null}={},N=document.body)=>{const T=document.createElement("div");T.setAttribute("id","toast"),T.setAttribute("role","alert"),S&&T.classList.add(S),N.appendChild(T);const A=()=>{R&&R(),T.classList.remove("in"),setTimeout(()=>{T.remove()},500)};(0,o.render)([(0,o.h)("p",null,l),M&&(0,o.h)("a",{className:"dismiss",onClick:A},"Dismiss")],T),setTimeout(()=>{T.classList.add("in")}),!M&&setTimeout(A,P)},E=({children:l,className:P,dismissKey:S,dismissDurationInSeconds:M,beforeDismiss:R,container:N})=>{const[T,A]=(0,b.Z)(S,M,R);if(!T)return D(l,{className:P,beforeDismiss:A,dismissable:!0},N)},O=({user:l,pub:P,container:S})=>{if(!(!l||!P||!l.is_subscribed))return(0,o.h)(_,{pub:P,container:S})},C=l=>{if(l&&l.cardExpiresAt){const P=y()(l.expiry).subtract(w.GRACE_PERIOD_DAYS,"day"),S=y()(l.cardExpiresAt),M=y()().add(12,"day");return S.isBefore(P)&&P.isBefore(M)}return!1},_=({pub:l,container:P})=>{const[S,M]=(0,m.eJ)(null);if((0,m.d4)(()=>{u().get("/api/v1/subscription").then(R=>M(R.body)).catch(R=>{console.error("Failed to fetch subscription data: ",R)})},[]),C(S))return(0,o.h)(E,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*w.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,v.j)(v.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:P},"Your credit card is expiring soon."," ",(0,o.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,v.j)(v.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${l.name}`,".")},a=D},71708:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(30396);const m=({root:d=null,threshold:u=0,rootMargin:g}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[y,w]=(0,o.eJ)(null),[v,b]=(0,o.eJ)(null),D=(0,o.sO)(new IntersectionObserver(([E])=>w(E),{root:d,threshold:u,rootMargin:g}));return(0,o.d4)(()=>{var E;const O=(E=v==null?void 0:v.base)!=null&&E.addEventListener?v.base:v!=null&&v.addEventListener?v:null,{current:C}=D;return C.disconnect(),O&&C.observe(O),()=>C.disconnect()},[v]),[b,y]}},38441:(z,s,e)=>{"use strict";e.d(s,{ZP:()=>F,cy:()=>ee,m1:()=>U});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(15045),y=e(3258),w=e(11688),v=e(32127),b=e(1782),D=e(36377),E=e(89867),O=e(34085),C=e(31471),_=e(71708),a=e(84017),l=Object.defineProperty,P=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,R=(L,V,ne)=>V in L?l(L,V,{enumerable:!0,configurable:!0,writable:!0,value:ne}):L[V]=ne,N=(L,V)=>{for(var ne in V||(V={}))S.call(V,ne)&&R(L,ne,V[ne]);if(P)for(var ne of P(V))M.call(V,ne)&&R(L,ne,V[ne]);return L},T=(L,V,ne)=>(R(L,typeof V!="symbol"?V+"":V,ne),ne);const A=33;class F extends o.Component{constructor(){super(...arguments),T(this,"onClick",V=>{if(this.props.onClick)this.props.onClick(V);else if(this.props.modalProfile)V.preventDefault(),V.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,y.j)(y.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(V){return V?V.author_id?{id:V.author_id,name:V.author_name,photo_url:(0,g.getUserPhotoUrl)(V,{preferAuthorPhoto:!0}),publications:V.subdomain?[V]:[]}:V.user_id?{id:V.user_id,name:V.name,photo_url:(0,g.getUserPhotoUrl)(V),publications:[]}:{id:V.id,name:V.name,photo_url:(0,g.getUserPhotoUrl)(V),publications:[]}:{id:null,name:null,photo_url:g.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(V){return!!F.getSubject(V).photo_url}isSelf(){return this.props.user&&this.props.user.id===F.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,g.getProfileUrl)(F.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,g.getReaderProfileUrl)(F.getSubject(this.props.subject))}onBeforeProfileClose(V){if(V)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:V,pub:ne,user:ae,badge:fe,freeSignup:le,freeSignupEmail:re,token:$,isStatic:oe,size:se,modalProfile:ce,isBanned:de,lazy:be,tooltip:pe,noLink:we,className:xe}){se=se||A;const Ue=F.getSubject(V);return(0,o.h)("div",{className:u()("user-head",{banned:de},xe)},we?(0,o.h)(U,{photo_url:Ue.photo_url,size:se,isStatic:oe,isBanned:de,lazy:be,badge:fe,tooltip:pe,className:"default-pointer"}):(0,o.h)("a",{href:oe||!ce?this.profileUrl():null,onClick:this.onClick},(0,o.h)(U,{photo_url:Ue.photo_url,size:se,isStatic:oe,isBanned:de,lazy:be,badge:fe,tooltip:pe})),this.props.modalProfile&&!oe&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,o.h)(O.EB,{ref:De=>this.profile=De,user:ae,freeSignup:le,freeSignupEmail:re,needsPhoto:!0,token:$,onBeforeClose:De=>this.onBeforeProfileClose(De)}):(0,o.h)(a.FI,{ref:De=>this.profile=De,profileUser:Ue,pub:ne,isBanned:de})))}}const U=({photo_url:L,size:V,isStatic:ne,isBanned:ae,lazy:fe,badge:le,tooltip:re,style:$,expandable:oe,children:se,className:ce})=>{const[de,be]=(0,m.eJ)(!1),pe=!L&&!!se,we={founding:D.Z,author:v.Z}[le];return(0,o.h)("div",{onClick:()=>{oe&&be(!0)},className:u()("profile-img-wrap",ce)},pe?se:fe?(0,o.h)(J,N({},{photo_url:L,size:V,isStatic:ne,badge:le,style:$})):(0,o.h)(Q,N({},{photo_url:L,size:V,isStatic:ne,badge:le,style:$})),we&&(0,o.h)("div",{className:"profile-img-badge",title:re},(0,o.h)(we,{height:14,width:14,stroke:"var(--print_on_pop)",title:re})),ae&&(0,o.h)(b.Z,null),(0,o.h)(w.cr,{module:"./ImageViewerModal",resolve:xe=>xe.ImageViewerModal,onRequest:()=>Promise.all([e.e(28),e.e(661)]).then(e.bind(e,55661)),showModal:de,modalContent:[{src:pe?se:L,attrs:{src:pe?se:L}}],onClose:()=>{be(!1)},step:0,includeDownloadButton:!1}))},G=(L,V)=>(0,g.imginary)(L,V*2,{height:V*2,crop:"fill"}),J=({photo_url:L,size:V,isStatic:ne,badge:ae,style:fe})=>{const[le,re]=(0,_.Z)({}),$=!re||re.isIntersecting?L:g.DEFAULT_PHOTO_URL;return(0,o.h)(te,{url:G($,V),size:V,ref:le,badge:ae,isStatic:ne,style:fe})},Q=({photo_url:L,size:V,isStatic:ne,badge:ae,style:fe})=>(0,o.h)(te,{url:G(L,V),size:V,badge:ae,isStatic:ne,style:fe}),te=({url:L,size:V,isStatic:ne,ref:ae,badge:fe,className:le})=>ne?(0,o.h)(E.Z,{className:le,src:(0,g.imginary)(L,V*2,{height:V*2,crop:"fill"}),ref:ae,height:V,width:V,alt:fe||""}):(0,o.h)(C.e,{className:le,src:L,imageProps:{height:V*2,crop:"fill"},maxWidth:V*2,ref:ae,alt:fe||""}),ee=({imageUrl:L,alt:V,size:ne,className:ae})=>(0,o.h)(te,{className:`user-photo ${ae||""}`,url:L,badge:V,size:ne})},84017:(z,s,e)=>{"use strict";e.d(s,{FI:()=>T,fi:()=>F});var o=e(6400),m=e(94184),d=e.n(m),u=e(80569),g=e.n(u),y=e(85928),w=e.n(y),v=e(15045),b=e(83322),D=e(1782),E=e(96789),O=Object.defineProperty,C=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(U,G,J)=>G in U?O(U,G,{enumerable:!0,configurable:!0,writable:!0,value:J}):U[G]=J,P=(U,G)=>{for(var J in G||(G={}))_.call(G,J)&&l(U,J,G[J]);if(C)for(var J of C(G))a.call(G,J)&&l(U,J,G[J]);return U},S=(U,G)=>{var J={};for(var Q in U)_.call(U,Q)&&G.indexOf(Q)<0&&(J[Q]=U[Q]);if(U!=null&&C)for(var Q of C(U))G.indexOf(Q)<0&&a.call(U,Q)&&(J[Q]=U[Q]);return J},M=(U,G,J)=>new Promise((Q,te)=>{var ee=ne=>{try{V(J.next(ne))}catch(ae){te(ae)}},L=ne=>{try{V(J.throw(ne))}catch(ae){te(ae)}},V=ne=>ne.done?Q(ne.value):Promise.resolve(ne.value).then(ee,L);V((J=J.apply(U,G)).next())});const R=92;class N extends o.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(G){!this.props.manualLoad&&G.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return M(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const G=yield g().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:G.body})}catch(G){console.error("Failed to load profile:",G)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:G}){var J;const Q=((J=this.getProfileUser().publications)==null?void 0:J.filter(te=>te.id!==G.id))||[];return(0,o.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,o.h)(F,{photo_url:(0,v.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:G}),(0,o.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,o.h)("div",{className:"user-profile-status"},this.getProfileUser().id===G.author_id?(0,o.h)("b",null,"Author of ",G.name):this.getProfileUser().subscribed_at?`Subscriber to ${G.name} since ${w()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),Q.length>0&&(0,o.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,b.oxfordComma)(Q.map(te=>(0,o.h)("a",{href:te.base_url,native:!0},te.name)))),this.props.isBanned&&(0,o.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",G.name))}}class T extends E.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const G=this.props,{ref:J}=G,Q=S(G,["ref"]);return(0,o.h)("div",{className:"user-profile-modal"},(0,o.h)(N,P({ref:te=>this.profile=te,manualLoad:!0},Q)))}}const A=({children:U,email:G,pub:J})=>(0,o.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(J,G)},U),F=({photo_url:U,size:G=R,banned:J=!1,email:Q="",className:te="",pub:ee=null,children:L=void 0})=>{const V=(0,o.h)("img",{className:"user-profile-head",height:G,width:G,src:(0,v.imginary)(U,G*2,{height:G*2,crop:"fill"})});return(0,o.h)("div",{className:d()(te,"profile-image-wrapper")},Q&&ee?(0,o.h)(A,{email:Q,pub:ee},V):V,J&&(0,o.h)(D.Z,{height:G}),L)}},1824:(z,s,e)=>{"use strict";e.d(s,{Z:()=>a,a:()=>l});var o=e(98661),m=e(87367),d=e(6400),u=e(36808),g=e.n(u),y=e(15045),w=e(3258),v=e(39419),b=e.n(v),D=e(37888),E=e(33291);e(14369);const O="entry",C="ajs_anonymous_id";let _;function a(T){var A,F;if(_)throw new Error("Cannot re-render the things");_=T,window._preloads&&(window._preloads.original_url=window.location.href),(0,w.uF)(),(0,D.j0)((F=(A=window._preloads)==null?void 0:A.user)==null?void 0:F.id),R(),P(),S(),M(),N()}function l(T){let A=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const F in T)(typeof T[F]=="object"&&T[F]!==null||T[F]!==window._preloads[F])&&(window._preloads[F]=T[F],A=!0);A&&M()}function P(){const T=(0,y.parseQuery)(window.location.href);if(!T.token&&!T.lli||!window.history.replaceState)return;delete T.token,delete T.lli;const A=`${(0,y.pathWithQuery)(window.location.pathname,T)}${window.location.hash}`;window.history.replaceState({},document.title,A)}function S(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const T=window.history.pushState;history.pushState=function(A,F,U){const G=T.apply(history,arguments);return U.indexOf("#")===-1&&window.scrollTo(0,0),G}}function M(){if(!_)return;const T=document.getElementById(O);(0,d.render)((0,d.h)(_,{initialData:window._preloads}),T||document.body)}function R(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let T;try{T=JSON.parse(u.get(C))}catch(A){}T||(T=(0,v.uuidV4)(),u.set(C,JSON.stringify(T),{expires:365})),window._analyticsConfig.anonymousId=T}}function N(){var T;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(T=window._preloads.user)!=null&&T.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:z=>{"use strict";z.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,m=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,m]),this}once(e,o){return this.on(e,o,!0)}off(e,o){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(m=>m[0]!==o))}emit(e,o){const m=this.callbacks[e];if(m){for(const[d,u]of m)if(u&&this.off(e,d),d(o)===!1)return!1;return!0}}}},63503:(z,s,e)=>{"use strict";e.d(s,{Z:()=>d});var o=e(30396);const d=(u,g)=>{const y=(0,o.sO)();(0,o.d4)(()=>{y.current=u},[u]),(0,o.d4)(()=>{function w(){y.current()}if(g!==null){const v=setInterval(w,g);return()=>clearInterval(v)}},[g])}},89018:z=>{"use strict";z.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(z,s,e)=>{"use strict";e.d(s,{UE:()=>b,ip:()=>v,xU:()=>D,xY:()=>w});var o=e(79546),m=e.n(o);const d="substack_ref_url",u="substack_ref";let g,y;typeof window!="undefined"&&window.location&&window.location.href&&(g=window.location.href,y=document.referrer,m().get(d)||(m().set(d,g),m().set(u,y)));const w=m().get(d),v=m().get(u),b=g,D=y},58884:(z,s,e)=>{"use strict";var o;const m=e(79546);s.mM=(d,u=null)=>typeof window!="undefined"?m.get(d,u):u,s.ex=(d,u)=>{if(typeof window!="undefined")return m.set(d,u)},o=d=>{if(typeof window!="undefined")return m.remove(d)}},39419:function(z,s,e){"use strict";var o=Object.defineProperty,m=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=($,oe,se)=>oe in $?o($,oe,{enumerable:!0,configurable:!0,writable:!0,value:se}):$[oe]=se,v=($,oe)=>{for(var se in oe||(oe={}))g.call(oe,se)&&w($,se,oe[se]);if(u)for(var se of u(oe))y.call(oe,se)&&w($,se,oe[se]);return $},b=($,oe)=>m($,d(oe)),D=($,oe,se)=>new Promise((ce,de)=>{var be=xe=>{try{we(se.next(xe))}catch(Ue){de(Ue)}},pe=xe=>{try{we(se.throw(xe))}catch(Ue){de(Ue)}},we=xe=>xe.done?ce(xe.value):Promise.resolve(xe.value).then(be,pe);we((se=se.apply($,oe)).next())});const{h:E}=e(6400),{route:O}=e(20042),{getQueryItem:C,pathWithQuery:_,parseQuery:a,getGlobalAccountSettingsUrl:l,getPubAccountSettingsUrl:P,getCurrentUrlForLoginRedirect:S}=e(15045),{centsToPriceString:M,toTitleCase:R,pluralize:N,isZeroDecimalCurrency:T}=e(83322),A=e(8826),{isMobileUserAgent:F,getIosVersion:U}=e(76193),{validatePledgePrices:G}=e(48971),J=e(27484),{Metadata:Q}=e(35442),{getPodcastEpisodeImageUrl:te}=e(63030);s.getPodcastEpisodeImageUrl=te;const ee=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let L=typeof window=="undefined"||!window.addEventListener;L||window.addEventListener("load",()=>{L=!0},!1),typeof window!="undefined"&&window._preloads,s.globalPlaybackNotifier=typeof window!="undefined"?new A:null,s.windowReady=$=>{L?$():window.addEventListener("load",$,!1)},s.debounce=function($,oe,se=this){let ce=null;return function(){clearTimeout(ce),ce=setTimeout(()=>$.apply(se,arguments),oe)}},s.planToString=function($,{totalAmount:oe=null,discount:se=null,quantity:ce=1,trial_end_override:de=null,noTrial:be=!1,recurring:pe=!0,intervalPostfix:we=null}={}){const xe=oe===null?$.amount*(ce||1):oe,Ue=M(xe,$.currency);let De;$.is_bitcoin?De=N($.interval_count,$.interval):$.interval_count===1&&pe?De=`per ${$.interval}`:De=`${pe?"per":"for"} ${N($.interval_count,$.interval)}`,we&&(De+=` ${we}`);let _e="";const ie=Math.max(0,$.trial_period_days||0,se&&se.trial_period_days||0,de&&Math.ceil((de-Date.now()/1e3)/60/60/24));!be&&ie>0&&(_e=E("span",{className:"trial"},` ${ie} day free trial`));let ve;if(se){if(se.loading)_e=E("span",{className:"discount-price"}," (coupon loading)");else if(se.error)_e=E("span",{className:"discount-price error"}," (coupon invalid or expired)");else if(se.percent_off||se.amount_off){let he;if(se.percent_off?he=Math.round(xe*(1-(se.percent_off_precise||se.percent_off)/100)):se.amount_off&&(he=Math.max(0,xe-se.amount_off)),ve=M(he,$.currency),pe){if(he===0&&(De=""),se.duration==="once")De+=` for first ${$.interval}`;else if(se.duration==="repeating"){const Le=se.duration_in_months/($.interval==="year"?12:1)*$.interval_count;Le>1?De+=` for first ${Le} ${$.interval}s`:De+=` for first ${$.interval}`}}}}return ve?[E("span",{className:"crossed-out"},Ue)," ",E("span",{className:"discount-price"},ve," ",De," ",_e)]:[`${Ue}${$.is_bitcoin?"/":" "}${De}`,_e]},s.couponToString=($,oe)=>{if(!$||$.loading||$.error)return;let se;return $.trial_period_days?se=`${$.trial_period_days} day free trial`:($.percent_off?se=`${Math.round($.percent_off_precise||$.percent_off)}% off`:$.amount_off&&(se=`${M($.amount_off,oe.currency)} off`),$.duration==="once"?oe?se+=` first ${oe.interval}`:se+=" first payment":$.duration==="repeating"?$.duration_in_months%12===0?se+=` for ${N($.duration_in_months/12,"year")}`:se+=` for ${N($.duration_in_months,"month")}`:se+=" forever"),se},s.preloadImage=function($,oe){const se=new Image;se.onload=()=>{se.onload=se.onerror=null,oe&&oe(se)},se.onerror=se.onload,se.src=$},s.getHostname=$=>{const oe=document.createElement("a");return oe.href=$,(oe.hostname||"").replace(/\.localhost$/,"")},s.getPathname=$=>{const oe=document.createElement("a");return oe.href=$,oe.pathname||""},s.getPath=$=>{const oe=document.createElement("a");return oe.href=$,(oe.pathname||"")+(oe.search||"")+(oe.hash||"")},s.getNetworkErrorMessage=($,oe)=>{var se;return s.getNetworkErrorMessageFromResponse(($==null?void 0:$.body)||((se=$==null?void 0:$.response)==null?void 0:se.body),oe)},s.getNetworkErrorBody=$=>{var oe;const se=($==null?void 0:$.body)||((oe=$==null?void 0:$.response)==null?void 0:oe.body);if(se&&se.error)return{msg:se.error};if(se&&se.errors&&se.errors.length>0)return{html:se.errors[se.errors.length-1].msgHTML,msg:se.errors[se.errors.length-1].msg}},s.getNetworkErrorMessageFromXhr=($,oe)=>{let se;try{se=JSON.parse($&&$.responseText)}catch(ce){}return s.getNetworkErrorMessageFromResponse(se,oe)},s.getNetworkErrorMessageFromResponse=($,oe)=>(oe=oe||"Something went wrong",$&&$.error?$.error:$&&$.errors&&$.errors.length>0&&$.errors[$.errors.length-1].msg||oe),s.inputPrefillHack=function(){return[E("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),E("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},s.isBrowser=function(){return typeof window!="undefined"},s.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const $=navigator.userAgent||navigator.vendor||window.opera;if(F($,{checkFirst4:!0}))return!0}return!1},s.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),s.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),s.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),s.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),s.isIOs=()=>!!s.iosVersion(),s.isMac=($=window.navigator)=>$?$.userAgentData&&$.userAgentData.platform?/macOS/.test($.userAgentData.platform):/Mac/.test($.platform):!1,s.isSafari=()=>{var $;return typeof window=="undefined"||!(($=window.navigator)!=null&&$.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},s.getModKeyLabel=($=s.isMac())=>$?"\u2318":"^",s.iosVersion=()=>typeof window=="undefined"?null:U(),s.fixSmsUrl=$=>{const oe=s.iosVersion();return oe?oe>=9?$.replace("?body=","&body="):$.replace("?body=",";body="):$};const V=$=>((oe,se)=>{let ce;const de=()=>se.userAgent.match(/ipad|iphone/i),be=Ue=>{ce=oe.createElement("textArea"),ce.value=Ue,oe.body.appendChild(ce)},pe=()=>{let Ue,De;de()?(Ue=oe.createRange(),Ue.selectNodeContents(ce),De=$.getSelection(),De.removeAllRanges(),De.addRange(Ue),ce.setSelectionRange(0,999999)):ce.select()},we=()=>{oe.execCommand("copy"),oe.body.removeChild(ce)};return{copy:Ue=>{be(Ue),pe(),we()}}})(document,navigator);s.copyToClipboard=$=>{if(typeof window=="undefined")return;V(window).copy($);const oe=se=>{se&&se.clipboardData?(se.clipboardData.setData("text/plain",$),se.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",$)};s.iosVersion()||window.addEventListener("copy",oe),setTimeout(()=>{try{const se=document.createElement("input");se.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(se),se.value=$,se.contentEditable=!0,se.readOnly=!1;const ce=document.createRange();ce.selectNodeContents(se);const de=window.getSelection();de.removeAllRanges(),de.addRange(ce),se.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(se)}catch(se){}window.removeEventListener("copy",oe)},0)},s.copyNodeToClipboard=$=>{try{s.selectNode($),document.execCommand("copy")}catch(oe){console.error("Failed to copy text:",oe)}},s.selectNode=$=>{try{if(["INPUT","TEXTAREA"].includes($.nodeName)&&$.select)$.select();else if(document.body.createTextRange){const oe=document.body.createTextRange();oe.moveToElementText($),oe.select()}else if(window.getSelection){const oe=window.getSelection(),se=document.createRange();se.selectNodeContents($),oe.removeAllRanges(),oe.addRange(se)}else console.warn("Could not select text in node: Unsupported browser")}catch(oe){console.error("Failed to select node:",oe)}},s.deselectNode=$=>{try{const oe=window.getSelection?window.getSelection():document.selection;oe&&oe.anchorNode===$&&(oe.empty?oe.empty():oe.removeAllRanges&&oe.removeAllRanges())}catch(oe){console.error("Failed to deselect node:",oe)}},s.setMetaData=function($){return E(Q,v({},$))},s.getBodyOffset=($,oe)=>{const se=`offset${R(oe)}`;let ce=0;for(;$&&$!==document.body;)ce+=$[se],$=$.offsetParent||$.parentNode;return ce},s.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),s.scrollToHash=function($){const oe=s.getUrlHash();if(!oe)return;const se=document.getElementById(oe);se&&(typeof $!="number"&&($=-122),document.documentElement.scrollTop=Math.max(0,s.getBodyOffset(se,"top")+$))},s.mightSupportApplePay=$=>!(!$||!$.stripe_country||$.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),s.addClass=($,oe)=>{$.className+=` ${oe}`},s.removeClass=($,oe)=>{$.className=$.className.replace(new RegExp(`\\b${oe}\\b`,"g"),"").trim()},s.hasClass=($,oe)=>new RegExp(`\\b${oe}\\b`,"g").test($.className),s.isFocused=(...$)=>s.isRootOrChild(document.activeElement,...$),s.isRootOrChild=($,...oe)=>{for(;$;){for(const se of oe)if(typeof se=="function"?se($):$===se)return!0;$=$.parentNode}return!1},s.getRootOrChild=($,oe,{maxDepth:se}={})=>{const ce=[$];let de=0;for(;ce.length>0;){de++;const be=ce.splice(0);for(const pe of be)if(pe){if(oe(pe))return pe;(!se||de<se)&&pe.children&&ce.push(...pe.children)}}return null},s.getRootOrParent=($,oe)=>$?oe($)?$:s.getRootOrParent($.parentNode,oe):null,s.getVisibilityApi=()=>{let $,oe;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?($="visibilitychange",oe="hidden"):typeof document.msHidden!="undefined"?($="msvisibilitychange",oe="msHidden"):typeof document.webkitHidden!="undefined"&&($="webkitvisibilitychange",oe="webkitHidden")),{visibilityChange:$,hidden:oe}},s.isWindowVisible=()=>{const{hidden:$}=s.getVisibilityApi();return $?!document[$]:!0},s.onWindowVisibilityChange=$=>{const{visibilityChange:oe}=s.getVisibilityApi();oe&&document.addEventListener(oe,$,!1)},s.offWindowVisibilityChange=$=>{const{visibilityChange:oe}=s.getVisibilityApi();oe&&document.removeEventListener(oe,$,!1)},s.disableBackspaceNavigation=()=>{document.addEventListener("keydown",ne,!1)},s.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",ne,!1)};function ne($){if($.keyCode!==8)return;const oe=$.srcElement||$.target;if(!oe.readonly&&!oe.disabled){if(oe.isContentEditable)return;if(oe.nodeName==="TEXTAREA")return;if(oe.nodeName==="INPUT"&&ee.indexOf((oe.getAttribute("type")||"").toLowerCase())>-1)return}return $.preventDefault(),!1}s.getBlob=$=>new Promise((oe,se)=>{const ce=new XMLHttpRequest;ce.open("GET",$,!0),ce.responseType="blob",ce.onerror=se,ce.onload=de=>{ce.status==200?oe(ce.response):se(new Error("Failed to fetch blob"))},ce.send()}),s.getDataUrlFromFile=$=>new Promise((oe,se)=>{if(!window.FileReader){se(new TypeError("File reader API not found"));return}const ce=new FileReader;ce.onerror=se,ce.onload=()=>{oe(ce.result)},ce.readAsDataURL($)}),s.getExifOrientationFromFile=$=>new Promise((oe,se)=>{if(!window.FileReader){se(new TypeError("File reader API not found"));return}if(!window.DataView){se(new TypeError("DataView API not found"));return}const ce=new FileReader;ce.onerror=se,ce.onload=()=>{const de=new DataView(ce.result);if(de.getUint16(0,!1)!=65496)return oe(-2);const be=de.byteLength;let pe=2;for(;pe<be;){if(de.getUint16(pe+2,!1)<=8)return oe(-1);const we=de.getUint16(pe,!1);if(pe+=2,we==65505){if(de.getUint32(pe+=2,!1)!=1165519206)return oe(-1);const xe=de.getUint16(pe+=6,!1)==18761;pe+=de.getUint32(pe+4,xe);const Ue=de.getUint16(pe,xe);pe+=2;for(let De=0;De<Ue;De++)if(de.getUint16(pe+De*12,xe)==274)return oe(de.getUint16(pe+De*12+8,xe))}else{if((we&65280)!=65280)break;pe+=de.getUint16(pe,!1)}}oe(-1)},ce.readAsArrayBuffer($)}),s.getImageDataFromFileInput=$=>D(this,null,function*(){let oe,se;const ce=$!=null&&$.files?$.files[0]:null;if($.value="",ce){try{oe=yield s.getDataUrlFromFile(ce)}catch(de){console.error("Failed to get data URL from file:",de),alert(de.message);return}try{se=yield s.getExifOrientationFromFile(ce)}catch(de){console.error("Failed to extract EXIF data from file:",de)}}return{url:oe,orientation:se}}),s.transformExifOrientation=$=>{switch($){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},s.canScroll=()=>s.maxScroll()>0,s.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,s.getLoginRedirect=({redirect:$,email:oe,justTrying:se,with_password:ce=!1,useOriginalUrl:de=!1}={})=>(typeof $!="string"&&($=S({useOriginalUrl:de})),_("/account/login",{redirect:$||"",email:oe||"",with_password:ce?"1":"",justTrying:se||""})),s.redirectToLogin=($={})=>{document.location.href=s.getLoginRedirect($)},s.redirectToAccount=$=>{window.location.assign(P($))},s.redirectToAccountSettings=()=>{document.location.href=l()},s.base64encode=$=>{const oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let se="",ce,de,be,pe,we,xe,Ue,De=0;for($=s.utf8Encode($);De<$.length;)ce=$.charCodeAt(De++),de=$.charCodeAt(De++),be=$.charCodeAt(De++),pe=ce>>2,we=(ce&3)<<4|de>>4,xe=(de&15)<<2|be>>6,Ue=be&63,isNaN(de)?xe=Ue=64:isNaN(be)&&(Ue=64),se=se+oe.charAt(pe)+oe.charAt(we)+oe.charAt(xe)+oe.charAt(Ue);return se},s.utf8Encode=$=>{let oe="";for(let se=0;se<$.length;se++){const ce=$.charCodeAt(se);ce<128?oe+=String.fromCharCode(ce):ce>127&&ce<2048?(oe+=String.fromCharCode(ce>>6|192),oe+=String.fromCharCode(ce&63|128)):(oe+=String.fromCharCode(ce>>12|224),oe+=String.fromCharCode(ce>>6&63|128),oe+=String.fromCharCode(ce&63|128))}return oe},s.redirectNoScroll=$=>{const oe=[window.scrollX,window.scrollY];s.redirect($),window.scrollTo(...oe)},s.redirect=($,{event:oe=null,local_navigation:se=!0,replace:ce=!1,newTab:de=!1}={})=>{var be;if(oe&&oe.preventDefault(),!$.trim().startsWith("javascript:")){if($.startsWith("#")&&se){window.location.hash!==$&&(ce&&((be=window.history)!=null&&be.replaceState)?window.history.replaceState(null,null,$):window.location.hash=$),s.scrollToHash();return}if(se&&s.getHostname($)&&s.getHostname($)!==s.getHostname(window.location.href)&&(se=!1),de||oe&&(oe.metaKey||oe.ctrlKey)){window.open($,"_blank");return}if(se&&O(s.getPath($),ce)){setTimeout(()=>s.scrollToHash(),0);return}window.location.href=$}},s.setState=($,oe)=>new Promise(se=>{$.setState(oe,se)}),s.stateTransaction=($,oe)=>new Promise((se,ce)=>{$.setState((...de)=>D(this,null,function*(){try{se(yield oe.apply($,de))}catch(be){ce(be)}}))}),s.stateLock=($,oe,se,...ce)=>D(this,[$,oe,se,...ce],function*(de,be,pe,{force:we}={}){return typeof be=="function"&&(pe=be,be="lock"),yield s.stateTransaction(de,(xe,...Ue)=>D(this,null,function*(){if(xe[be]&&!we)return;yield s.setState(de,{[be]:!0});const De=yield pe.call(de,xe,...Ue);return yield s.setState(de,{[be]:!1}),De}))}),s.getsMessageQuery=$=>oe=>{const se=a(document.location.href),ce=C("message");if(ce){delete se.message;const de=`${_(document.location.pathname,se)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,de)}return E($,v({message:ce},oe))},s.uuidV4=()=>{const $=window.crypto||window.msCrypto;if(typeof($==null?void 0:$.randomUUID)=="function")return $.randomUUID();if($)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,oe=>(oe^$.getRandomValues(new Uint8Array(1))[0]&15>>oe/4).toString(16));{let oe=new Date().getTime(),se=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ce){let de=Math.random()*16;return oe>0?(de=(oe+de)%16|0,oe=Math.floor(oe/16)):(de=(se+de)%16|0,se=Math.floor(se/16)),(ce==="x"?de:de&3|8).toString(16)})}},s.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,s.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",s.focusElement=$=>{$.focus&&$.focus(),$.select&&$.select()},s.getRoleOrOwner=($,oe)=>$?$.user_id===oe.author_id?"owner":$.role:"byline",s.hexWithOpacity=($,oe)=>{if(!$)return $;$=$.replace("#","");const se=parseInt($.substring(0,2),16),ce=parseInt($.substring(2,4),16),de=parseInt($.substring(4,6),16);return`rgba(${se},${ce},${de},${oe/100})`},s.getSelectTheme=({primary:$,neutral0:oe="#f8f8f8",neutral20:se="#d8d8d8",danger:ce="var(--color-accent-red)",dangerLight:de="var(--color-bg-accent-red)"})=>be=>b(v({},be),{colors:b(v({},be.colors),{primary:$,primary25:s.hexWithOpacity($,25),primary50:s.hexWithOpacity($,50),primary75:s.hexWithOpacity($,75),neutral0:oe,neutral20:se,danger:ce,dangerLight:de})}),s.removeQueryParam=($,{stripHash:oe=!1}={})=>{var se;if(typeof window!="undefined"&&((se=window.history)!=null&&se.replaceState)){const ce=a(window.location.href);if(!Array.isArray($))delete ce[$];else for(const be of $)delete ce[be];const de=`${_(window.location.pathname,ce)}${oe?"":window.location.hash}`;window.history.replaceState({},document.title,de)}},s.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,s.goFullscreen=$=>typeof window=="undefined"?!1:$.requestFullScreen?($.requestFullScreen(),!0):$.webkitRequestFullScreen?($.webkitRequestFullScreen(),!0):$.mozRequestFullScreen?($.mozRequestFullScreen(),!0):!1,s.exitFullscreen=()=>{if(!s.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},s.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),s.getVideoBlobDuration=($,...oe)=>D(this,[$,...oe],function*(se,{timeout:ce=5e3}={}){const de=document.createElement("video");de.volume=0;const be=Promise.race([new Promise((pe,we)=>{de.onloadedmetadata=()=>{de.onloadedmetadata=null,de.duration===1/0?(de.currentTime=Number.MAX_SAFE_INTEGER,de.ontimeupdate=()=>{de.ontimeupdate=null,pe(de.duration),de.currentTime=0}):pe(de.duration)},de.onerror=xe=>we(xe.target.error)}),new Promise((pe,we)=>{setTimeout(()=>{we(new Error("Blob duration fetching timed out"))},ce)})]);return de.src=typeof se=="string"||se instanceof String?se:window.URL.createObjectURL(se),be}),s.downloadSrc=$=>{const oe=document.createElement("a");document.body.appendChild(oe),oe.href=$,oe.target="_blank",oe.click(),document.body.removeChild(oe)},s.getCurrencyFormattedPledgePlans=($,{skipFoundingPlan:oe=!1}={})=>{if(!($!=null&&$.length))return[];const se=[];for(const ce of $)oe&&ce.is_founding?se.push(v({},ce)):ce.amount?se.push(b(v({},ce),{amount:ce.amount})):se.push(v({},ce));return se},s.validatePledgePlanValues=($,oe,se,ce)=>{if(se<=oe)return"Your founding price must be greater than your yearly price";const de=G({value:$,interval:"month",is_founding:!1,currency:ce});if(de)return de;const be=G({value:oe,interval:"year",is_founding:!1,currency:ce});if(be)return be;const pe=G({value:se,interval:"year",is_founding:!0,currency:ce});return pe||null},s.decimalToPercentString=$=>{let oe=$;return typeof $=="string"&&(oe=parseFloat($)),`${Math.round(oe*100)}%`};const ae=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),fe=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),le=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),re=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});s.formatPostDate=($,{includeTime:oe}={})=>{const se=J($),ce=J();return se.isBefore(ce.startOf("year"))?le.format(se.toDate())+(oe?` at ${ae.format(se.toDate())}`:""):se.isBefore(ce.startOf("day"))?fe.format(se.toDate())+(oe?` at ${ae.format(se.toDate())}`:""):se.isAfter(ce.endOf("year"))?re.format(se.toDate())+(oe?` at ${ae.format(se.toDate())}`:""):se.isAfter(ce.endOf("day"))?fe.format(se.toDate())+(oe?` at ${ae.format(se.toDate())}`:""):ae.format(se.toDate())}},702:(z,s,e)=>{"use strict";e.d(s,{Z:()=>M});var o=e(6400),m=e(30396),d=e(94184),u=e.n(d),g=e(80569),y=e.n(g),w=e(7922),v=e(1138),b=e(96789),D=e(61152),E=e(89018),O=e.n(E),C=e(39419),_=e.n(C),a=(R,N,T)=>new Promise((A,F)=>{var U=Q=>{try{J(T.next(Q))}catch(te){F(te)}},G=Q=>{try{J(T.throw(Q))}catch(te){F(te)}},J=Q=>Q.done?A(Q.value):Promise.resolve(Q.value).then(U,G);J((T=T.apply(R,N)).next())});const l=({className:R,pub:N,comment:T,onClose:A,onReportSuccess:F})=>{const U=(0,m.sO)(null),[G,J]=(0,m.eJ)(!1),Q={Report:0,Confirm:1},[te,ee]=(0,m.eJ)(Q.Report),L=ne=>a(void 0,null,function*(){if(ne===""){alert("Please enter a reason!");return}J(!0);try{yield y().post(`/api/v1/comment/${T.id}/report`).send({publication_id:N==null?void 0:N.id,reason:ne}),F(),ee(Q.Confirm)}catch(ae){alert((0,C.getNetworkErrorMessage)(ae))}finally{J(!1)}}),V=()=>{var ne;(ne=U==null?void 0:U.current)==null||ne.close()};return(0,m.d4)(()=>{var ne;(ne=U==null?void 0:U.current)==null||ne.open()},[]),(0,o.h)(b.p,{className:u()("report-comment-modal",R),ref:U,onClose:A},te===Q.Report?(0,o.h)(P,{pub:N,reportComment:L,reporting:G,closeModal:V}):(0,o.h)(S,{pub:N,closeModal:V}))},P=({pub:R,reportComment:N,reporting:T,closeModal:A})=>{const[F,U]=(0,m.eJ)("");return(0,o.h)(o.Fragment,null,(0,o.h)("h4",null,"Report ",R?`to ${R.name} admins`:"note"),(0,o.h)("p",null,"Thanks for reporting this ",R?"comment":"note","."," ",R?(0,o.h)(o.Fragment,null,"Only the admins of ",(0,o.h)("span",{className:"weight"},R.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,o.h)(D.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:F,onInput:G=>U(G.target.value)}),(0,o.h)("div",{className:"buttons"},(0,o.h)(w.Z,{className:"secondary",onClick:A},(0,o.h)("span",null,"Cancel")),(0,o.h)(w.Z,{className:"primary",onClick:()=>N(F),disabled:F===""||T},(0,o.h)("span",null,T?"Loading...":"Submit"))))},S=({pub:R,closeModal:N})=>(0,o.h)(o.Fragment,null,(0,o.h)(v.Z,{stroke:(R==null?void 0:R.theme_var_background_pop)||E.substack_color}),(0,o.h)("h4",null,"Thanks for your report"),R?(0,o.h)("p",null,"The admins of ",(0,o.h)("span",{className:"weight"},R.name)," will review this comment."):(0,o.h)("p",null,"We will review this note."),(0,o.h)("div",{className:"buttons"},(0,o.h)(w.Z,{className:"primary",onClick:N},(0,o.h)("span",null,"Done")))),M=l},37888:(z,s,e)=>{"use strict";e.d(s,{j0:()=>fe});var o=e(7436),m=e.n(o),d=e(62195),u=e.n(d),g=e(39627),y=e.n(g),w=e(8728),v=e.n(w),b=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,a=(re,$,oe)=>$ in re?b(re,$,{enumerable:!0,configurable:!0,writable:!0,value:oe}):re[$]=oe,l=(re,$)=>{for(var oe in $||($={}))C.call($,oe)&&a(re,oe,$[oe]);if(O)for(var oe of O($))_.call($,oe)&&a(re,oe,$[oe]);return re},P=(re,$)=>D(re,E($));const S=u().createStore([y(),v()],[]),M=".buffer",R="ss-version-backups-local",N=32,T=4,A=null,F=re=>{var $,oe,se,ce;return(oe=($=window._preloads)==null?void 0:$.pub)!=null&&oe.id?(ce=(se=window._preloads)==null?void 0:se.user)!=null&&ce.id?G().filter(de=>!(de.publication_id!==window._preloads.pub.id||de.user_id&&de.user_id!==window._preloads.user.id||de.post_id!==re||de.local_version_saved_at&&Date.now()-new Date(de.local_version_saved_at)>A)):[]:[]},U=re=>{if(!(re!=null&&re.post_id)||!(re!=null&&re.draft_updated_at)||!(re!=null&&re.draft_body))return;const $=G();if($.filter(ce=>ce.post_id===re.post_id).length>=T){const ce=findLastIndex($,de=>de.post_id===re.post_id);ce>=0&&$.splice(ce,1)}const se=[re].concat($.filter(ce=>ce.post_id!==re.post_id||ce.draft_updated_at!==re.draft_updated_at&&ce.draft_body&&ce.draft_body!==re.draft_body)).slice(0,N);le(R,se)},G=()=>S.get(R,[]).filter(Boolean),J=()=>S.get(R+M,{}),Q=re=>{var $,oe;($=window._preloads.pub)!=null&&$.id&&(oe=window._preloads.user)!=null&&oe.id&&re!=null&&re.post_id&&re!=null&&re.draft_updated_at&&re!=null&&re.draft_body&&le(R+M,P(l({},re),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},te=()=>{S.remove(R+M)},ee=re=>{if(!(re!=null&&re.post_id)||!(re!=null&&re.draft_updated_at))return;const oe=G().filter(se=>se.post_id!==re.post_id||se.draft_updated_at!==re.draft_updated_at);le(R,oe)},L=({postId:re,editorId:$})=>!!G().find(se=>se.post_id===re&&se.editor_id&&se.editor_id!==$),V=({postId:re,editorId:$})=>{const se=G().filter(ce=>ce.editor_id?ce.post_id!==re||ce.editor_id!==$:!1);le(R,se)},ne=()=>{const re=J();re!=null&&re.draft_body&&(U(re),te())},ae=()=>{te(),S.remove(R)},fe=re=>{(!re||G().find($=>$.user_id&&$.user_id!==re))&&ae()},le=(re,$)=>{try{if(S.set(re,$),JSON.stringify(S.get(re))!==JSON.stringify($))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",re)}catch(oe){console.error("localStorage.setItem failed:",oe),ae()}}},56242:(z,s,e)=>{"use strict";var o;const{TASTEMAKER_CATEGORY_NAME:m,COMMUNITY_PICKS_CATEGORY_NAME:d}=e(83322);o=(u,g)=>{if(!u)return"featured";if(u==="featured"||u==="twitter"||u==="podcast"||u===d||u===m)return u;const y=g.find(w=>w.slug===u);return y?y.id:"featured"}},87251:(z,s)=>{"use strict";s.cleanSlug=(e,{hashIfEmpty:o=!1,allowUnicode:m=!1}={})=>{const d=(e||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(m?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return e&&typeof e=="string"&&!d&&o?Array.from(e).map(u=>u.codePointAt(0)).map(u=>u.toString(16)).join("").substring(0,12):d}},94930:(z,s)=>{"use strict";s.isCouponValid=(e,{is_group:o,is_gift:m,paywallFreeTrialEnabled:d})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!o||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!d||m||o)),s.isCouponValidForPlan=(e,o)=>!(!e||!o||o.metadata.no_coupons||o.metadata.unlimited_group||o.interval==="forever"||e.yearly_only&&o.interval!=="year"||e.monthly_only&&o.interval!=="month"||e.duration==="repeating"&&(o.interval==="month"&&e.duration_in_months%o.interval_count!==0||o.interval==="year"&&e.duration_in_months%(o.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==o.currency),s.isEmailValidEdu=(e,o)=>{const m=o.filter(g=>g.is_suffix);return o.filter(g=>!g.is_suffix).find(g=>e.split("@").pop().startsWith(g.pattern))||m.find(g=>e.endsWith(g.pattern))},s.isCouponValidForEmail=(e,o,m)=>!(e.edu_only&&!s.isEmailValidEdu(o,m)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(u=>o.toLowerCase().endsWith(u.toLowerCase()))),s.getDiscountedAmount=(e,o)=>{let m=e.amount;return o&&s.isCouponValidForPlan(o,e)&&(o.percent_off?m=Math.round(m*(1-(o.percent_off_precise||o.percent_off)/100)):o.amount_off&&(m=Math.max(0,m-o.amount_off))),m}},85928:(z,s,e)=>{"use strict";var o=Object.defineProperty,m=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(O,C,_)=>C in O?o(O,C,{enumerable:!0,configurable:!0,writable:!0,value:_}):O[C]=_,v=(O,C)=>{for(var _ in C||(C={}))g.call(C,_)&&w(O,_,C[_]);if(u)for(var _ of u(C))y.call(C,_)&&w(O,_,C[_]);return O},b=(O,C)=>m(O,d(C));const D=e(27484);z.exports=D,D.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(E);function E(O,C,_){C.prototype.standardDateOrTime=function({long:S=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const{secondsToLargestUnit:M}=e(83322),R=_().diff(this,"seconds");return R<60?"just now":`${M(R,{long:S})} ago`}},C.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},C.prototype.readerDateTime=function(){const S=this.diff(_(),"day");let M;return S===0?M=this.format("h:mm a"):S===-1?M="Yesterday":S>-7?M=this.standardDate():M=this.standardDate(),M},C.prototype.standardDate=function({full:S=!1}={}){return!S&&this.isSame(_(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},C.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},C.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===_().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},C.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},C.prototype.standardDatetimeWithYear=function(){const S=_().year();return this.year()!=S?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},C.prototype.min=function(...S){let M=this;for(let R of S)R=_(R),M.isAfter(R)&&(M=R);return M},C.prototype.max=function(...S){let M=this;for(let R of S)R=_(R),M.isBefore(R)&&(M=R);return M},C.prototype.minNow=function(){return this.min(_())},C.prototype.maxNow=function(){return this.max(_())},C.prototype.isBeforeNow=function(S){return this.isBefore(_(),S)},C.prototype.isAfterNow=function(S){return this.isAfter(_(),S)},C.prototype.isSameNow=function(S){return this.isSame(_(),S)};const a=_.en,l=b(v({},a),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),P=_.locale();_.locale("enshort",l),_.locale(P),C.prototype.fromNowShort=function(){return a?this.locale("enshort").fromNow():this.fromNow()}}},42395:z=>{"use strict";z.exports=s=>(s||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},6378:(z,s)=>{"use strict";s.isMultiPub=u=>u?u.child_publications&&u.child_publications.length>0:!1,s.isSectionedPub=u=>{var g;return!!(u!=null&&u.sections)&&((g=u.sections)==null?void 0:g.length)>0},s.canAddSections=u=>{var g;return!(!u||(g=u.child_publications)!=null&&g.length||u.parent_publication_id||u.parent_publication)},s.canEditNavigationBar=u=>{var g;return!(!u||(g=u.child_publications)!=null&&g.length||u.parent_publication_id||u.parent_publication)},s.hasMultiplePodcasts=u=>e(u)>1;const e=u=>{let g=[];return s.isMultiPub(u)&&(g=s.getMultiPubChildPodcasts(u)),s.isSectionedPub(u)&&(g=s.getSectionPodcasts(u)),(u.podcast_enabled?1:0)+g.length};s.hasPodcast=u=>e(u)>0,s.hasOnePodcast=u=>e(u)===1,s.getMultiPubChildPodcasts=u=>s.isMultiPub(u)?u.child_publications.filter(g=>g.type==="podcast"):[],s.getSectionPodcasts=u=>s.isSectionedPub(u)?u.sections.filter(g=>g.is_podcast):[];const o=u=>u&&!u.includes("substack");s.pubCouldHavePublicPodcastUrl=u=>o(u.podcast_feed_url),s.sectionCouldHavePublicPodcastUrl=u=>{var g;return o((g=u.podcastSettings)==null?void 0:g.podcast_feed_url)},s.userCouldSeePublicPodcastUrls=u=>{if(s.pubCouldHavePublicPodcastUrl(u))return!0;if(s.hasMultiplePodcasts(u)){if(s.isMultiPub(u)){const g=s.getMultiPubChildPodcasts(u);for(const y of g)if(s.pubCouldHavePublicPodcastUrl(y))return!0}if(s.isSectionedPub(u)){const g=s.getSectionPodcasts(u);for(const y of g)if(s.sectionCouldHavePublicPodcastUrl(y))return!0}}return!1},s.userCouldSubscribeToPodcast=(u,g)=>g?s.isMultiPub(g)?!0:!s.hasPodcast(g)||g.hide_podcast_feed_link?!1:g.has_free_podcast?!0:g.has_subscriber_only_podcast?s.userIsPaidSubscriber(u):!1:!1,s.userIsFreeOnly=u=>u?!!(u.is_free_subscribed&&!u.is_subscribed):!1,s.userIsPaidSubscriber=u=>u?!!u.is_subscribed:!1,s.paymentsAreEnabled=u=>u?u.payments_state==="enabled":!1;const m=(u,{usePreview:g=!1,useDraft:y=!1}={})=>{switch(u==null?void 0:u.type){case"newsletter":return y?u.draftVoiceoverUpload:u.voiceoverUpload;case"podcast":return g?y?u.draftPodcastPreviewUpload:u.podcastPreviewUpload:y?u.draftPodcastUpload:u.podcastUpload;case"video":return y?u.draftVideoUpload:u.videoUpload;default:return null}};s.getMediaDuration=(u,{usePreview:g=!1,useDraft:y=!1}={})=>{var w;const v=m(u,{usePreview:g,useDraft:y});if(v)return(w=v.duration)!=null?w:null;if((u==null?void 0:u.type)==="podcast"&&!g){const b=y?u.draft_podcast_duration:u.podcast_duration;return b!=null?b:null}return null},s.getMediaFileSize=(u,{usePreview:g=!1,useDraft:y=!1}={})=>{var w,v;const b=m(u,{usePreview:g,useDraft:y});return b?(w=b.primary_file_size)!=null?w:null:(u==null?void 0:u.type)==="podcast"&&!g&&!y&&(v=u.legacy_podcast_file_size)!=null?v:null},s.podcastPostIsFreePreview=u=>!u||u.type!=="podcast"||!u.podcastUpload?!1:!!u.podcastUpload.is_free_preview,s.hasPodcastPreview=u=>!!u&&!!u.podcast_preview_upload_id,s.getLogo=u=>{var g;return u.logo_url||u.cover_photo_url||u.author_photo_url||((g=u.author)==null?void 0:g.photo_url)},s.getFoundingTierPlan=u=>{var g;return Array.isArray(u==null?void 0:u.plans)&&(g=u.plans.find(y=>{var w;return((w=y.metadata)==null?void 0:w.founding)==="yes"}))!=null?g:null},s.getFoundingTierName=u=>{var g,y;const w=s.getFoundingTierPlan(u);return(y=(g=w==null?void 0:w.metadata)==null?void 0:g.short_description)!=null?y:null},s.mediaUploadHasProblem=u=>!u||!u.state?!1:u.state==="error"||u.state==="cancelled",s.getPaidOrFoundingTierNameForPost=(u,g)=>(g==null?void 0:g.audience)==="founding"&&s.getFoundingTierName(u)||"paid",s.hasVoiceover=u=>!!u&&!!u.voiceover_upload_id,s.canSyndicateVoiceoverDraft=(u,g)=>!u||!g||!s.hasPodcast(u)?!1:!!g.draft_voiceover_upload_id;const d=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;s.getAspectRatioFromBucketeerUrl=u=>{const g=u.match(d);return g?parseInt(g[1])/parseInt(g[2]):null},s.isBulwarkPub=(u,{checkParent:g=!0}={})=>{var y;return g&&u.subdomain==="thebulwark"||((y=u.parent_publication)==null?void 0:y.subdomain)==="thebulwark"}},8221:(z,s)=>{"use strict";var e;let o="";s.S=o},87367:(z,s,e)=>{"use strict";var o;const m=e(70709),d="en";let u=!1;const g=[];if(o=v,typeof window!="undefined"){let O=y();window.document.location.pathname==="/subscribe"&&["fr","es","de","pt"].includes(O)&&(O=d),window.I=v(O,{omitKeys:["ca","de","es","fr","it","pt"].includes(O)?null:["Subscribe","Subscribe now"]})}else e.g.I=(...O)=>{const C=w();return v(C,{omitKeys:["ca","de","es","fr","it","pt"].includes(C)?null:["Subscribe","Subscribe now"]})(...O)};function y(){var O,C;return typeof window=="undefined"?d:(O=window._preloads)!=null&&O.language?(C=window._preloads)==null?void 0:C.language:navigator!=null&&navigator.language?navigator.language.split("-")[0].toLowerCase():d}function w(){var O;return typeof jsdom=="undefined"||typeof jsdom.window=="undefined"?d:(O=jsdom.window.navigator)!=null&&O.language?jsdom.window.navigator.language:d}function v(O,{omitKeys:C}={}){function _(a,...l){return Array.isArray(a)&&(a=(a[0]||"")+a.slice(1).map((P,S)=>`\${${S}}${P}`).join("")),C!=null&&C.includes(a.toString())?a.toString():b(a.toString(),l,O)}for(const a in m)_[a]=(...l)=>b(a,l,O);return _}function b(O,C,_){_=(_||d).split(/[-_]/g)[0];let a=O;return m[O]?m[O][_]&&(a=m[O][_],D(O,_)):void 0,C.forEach((l,P)=>a=a.replace(new RegExp(`\\$\\{${P}\\}`,"g"),l.toString())),a}function D(O,C){typeof window!="undefined"&&(u||(u=!0,document.documentElement.lang=C))}function E(O){}},15045:(z,s,e)=>{"use strict";var o=Object.defineProperty,m=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=(ie,ve,he)=>ve in ie?o(ie,ve,{enumerable:!0,configurable:!0,writable:!0,value:he}):ie[ve]=he,v=(ie,ve)=>{for(var he in ve||(ve={}))g.call(ve,he)&&w(ie,he,ve[he]);if(u)for(var he of u(ve))y.call(ve,he)&&w(ie,he,ve[he]);return ie},b=(ie,ve)=>m(ie,d(ve)),D=(ie,ve)=>{var he={};for(var Le in ie)g.call(ie,Le)&&ve.indexOf(Le)<0&&(he[Le]=ie[Le]);if(ie!=null&&u)for(var Le of u(ie))ve.indexOf(Le)<0&&y.call(ie,Le)&&(he[Le]=ie[Le]);return he};const{cleanSlug:E}=e(87251),{substack_color:O}=e(89018),{CDN_URL:C,substackDomain:_,getSubscribeUrl:a,serializeQuery:l,pathWithQuery:P,getBaseUrl:S,getSubstackUrl:M,getHostname:R,_getUrl:N,getBaseAppLinkUrl:T,getLikelyLoggedInParam:A,getPubAccountSettingsUrl:F,getPostDashboardUrl:U,getDashboardHomeUrl:G,getSubscriberDashboardUrl:J,getProfileUrlById:Q,getReaderProfileUrl:te,imginary:ee,unimginary:L,extractDimensionsFromImageUrl:V,getPodcastRssUrlFromIds:ne,parseUrl:ae,getPublishBaseUrl:fe,getPublishSettingsUrl:le,getDonateSubscriptionUrl:re,stripeBaseUrl:$,getPostUrl:oe,getPostUrlBySlug:se,getEditPostUrlById:ce,getGroupManagementUrl:de,getConnectTwitterUrl:be,getPubConnectTwitterUrl:pe,getCancelOrUncancelUrl:we,getSubstackUrlWithDomain:xe}=e(20501),{getPostCommentsUrl:Ue}=e(36250),De=[/\/embed\/podcast\//];s.TWITTER_CARD_WIDTH=504,s.TWITTER_CARD_HEIGHT=264,s.TWITTER_CARD_LOGO_SIZE=70,s.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",s.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=8613857127700&request_from_search=true",s.getBaseUrl=S,s.getSubstackUrl=M,s.getSubstackUrlWithDomain=xe,s.getBaseAppLinkUrl=T,s.getHostname=R,s.serializeQuery=l,s.getSubscribeUrl=a,s.pathWithQuery=P,s.getLikelyLoggedInParam=A,s.getPubAccountSettingsUrl=F,s.getPostDashboardUrl=U,s.getSubscriberDashboardUrl=J,s.getProfileUrlById=Q,s.getReaderProfileUrl=te,s.imginary=ee,s.unimginary=L,s.extractDimensionsFromImageUrl=V,s.parseUrl=ae,s.getPublishBaseUrl=fe,s.getPublishSettingsUrl=le,s.getDonateSubscriptionUrl=re,s.stripeBaseUrl=$,s.getPostUrl=oe,s.getPostUrlBySlug=se,s.getEditPostUrlById=ce,s.getGroupManagementUrl=de,s.getDashboardHomeUrl=G,s.getConnectTwitterUrl=be,s.getPubConnectTwitterUrl=pe,s.getCancelOrUncancelUrl=we,s.getPostCommentsUrl=Ue,s.getPodcastRssUrlFromIds=ne,s.updateQuery=function(ie,ve,{skipHash:he=!1}={}){typeof ie=="object"&&(ve=ie,ie=document.location.pathname+document.location.search+document.location.hash);let Le=s.pathWithQuery(ie.split("?")[0].split("#")[0],Object.assign(s.parseQuery(ie),ve));return ie.indexOf("#")!==-1&&!he&&(Le+=ie.substr(ie.indexOf("#"))),Le},s.parseQuery=function(ie){const ve={},he=((ie==null?void 0:ie.split("?")[1])||"").split("#")[0].trim();if(he){const Le=he.split("&");for(let He=0;He<Le.length;He++){const ht=Le[He].split("=");ve[decodeURIComponent(ht[0])]=decodeURIComponent(ht.slice(1).join("="))}}return ve},s.getQueryItem=(ie,ve)=>{if(typeof ve!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;ve=ie,ie=window.location.href}const he=s.parseQuery(ie);if(ve in he)return he[ve]},s.getPubUrl=(ie,{params:ve={},signedIn:he=!1}={})=>{const Le=A(he,ie);return s.pathWithQuery(`${s.getBaseUrl(ie)}/`,v({lli:Le},ve))},s.DEFAULT_PHOTO_URL=`${s.getSubstackUrl()}/img/avatars/logged-out.png`,s.getCallbackUrl=ie=>`${s.getBaseUrl({subdomain:"callback"})}${ie}`,s.getTld=ie=>{try{return new URL(ie).hostname.split(".").slice(-2).join(".")}catch(ve){return null}},s.cdnSvg=ie=>!ie||!ie.startsWith("/")||ie.startsWith("//")||!/\.svg(\?|#|$)/.test(ie)?ie:`${C}/${ie}`,s.stripProtocol=ie=>(ie||"").replace(/^(\w+:)?\/\//g,""),s.getUserPhotoUrl=(ie,{preferAuthorPhoto:ve,noFallbackToSignedOut:he}={})=>{if(ve&&(ie!=null&&ie.author_photo_url)&&ee(ie.author_photo_url))return ee(ie.author_photo_url);if(ie!=null&&ie.photo_url&&ee(ie.photo_url))return ee(ie.photo_url);if((ie==null?void 0:ie.id)!==void 0)return s.getDefaultUserPhotoById(ie.id);if(!he)return s.DEFAULT_PHOTO_URL},s.getDefaultUserPhotoById=ie=>{const ve=["purple","yellow","orange","green","black"];return`${s.getSubstackUrl()}/img/avatars/${ve[ie%5]}.png`},s.getUndergroundUrl=ie=>{const he=N(`admin.${_}`);return ie?`${he}/publications/${ie}`:he},s.getStockLandingUrl=ie=>`${N(`${_}`)}/discover/stocks/${ie}`,s.getUserUndergroundUrl=ie=>{const he=N(`admin.${_}`);return ie?`${he}/users/${ie}`:he},s.getBaseReaderUrl=({utm_source:ie}={})=>{const ve=_,he="reader";return s.pathWithQuery(N(`${he}.${ve}`),{utm_source:ie})},s.getReaderSignupUrl=ie=>s.pathWithQuery(`${N(_)}/browse`,b(v({},ie),{action:"signup"})),s.getReaderUrl=(ie,{query:ve}={})=>{const he=_;return s.pathWithQuery(`${N(he)}${ie}`,ve)},s.getNotificationsUrl=ie=>s.getReaderUrl("/activity",{query:ie}),s.getLibraryUrl=ie=>s.getReaderUrl("/library",{query:ie}),s.getFeedUrl=ie=>s.getReaderUrl("/feed",{query:ie}),s.getChatUrl=ie=>s.getReaderUrl("/chat",{query:ie}),s.getSavedPostsUrl=ie=>s.getReaderUrl("/saved",ie),s.getDeprecatedPostAppLinkUrl=(ie,ve,{params:he={},redirect:Le=null,source:He=null,postUuid:ht=null}={})=>{const bt=ht?`${s.getSubstackUrl()}/app-link/publications/${ie}/drafts/${ht}`:`${s.getSubstackUrl()}/app-link/post`,Tt=v({publication_id:ie,post_id:ve,utm_source:He,redirect:Le},he);return s.pathWithQuery(bt,Tt)},s.getPostAppLinkUrl=(ie,ve,{params:he={},redirect:Le=null,source:He=null,postUuid:ht=null,inbox:bt=null}={})=>{if(!ie||!ve)return"";const Tt=ht?`${s.getBaseAppLinkUrl()}/pub/${ie}/drafts/${ht}`:`${s.getBaseAppLinkUrl()}/pub/${ie}/p/${ve}`,Fe=v({utm_source:He,redirect:Le,inbox:bt},he);return s.pathWithQuery(Tt,Fe)},s.getPostCommentInContextUrl=function(ie,ve,he,Le=3){if(!he.ancestor_path)return s.getPostCommentsUrl(ie,ve,he);const He=he==null?void 0:he.ancestor_path.split("."),ht=He.length<Le?0:He.length-Le;return s.getPostUrl(ie,ve,{comments:!0,commentId:he.id,commentContextId:He[ht]})},s.getPodcastLandingUrl=({pub:ie,section:ve,addBase:he=!0})=>{ve=ve||ie.section;const Le=he?s.getBaseUrl(ie):"";return ve?`${Le}/listen/${ve.slug||ve.id}`:`${Le}/podcast`},s.getEditSectionUrl=(ie,{addBase:ve,type:he,id:Le}={})=>`${ve?s.getBaseUrl(ie):""}/publish/settings/${he}/${Le}`,s.getArchiveUrl=(ie,{params:ve}={})=>{const he=ie.section?`/s/${ie.section.slug||ie.section.id}`:"";return s.pathWithQuery(`${he}/archive`,ve)},s.getBaseArchiveUrl=(ie,{addBase:ve,params:he}={})=>{const Le=ve?s.getBaseUrl(ie):"";return s.pathWithQuery(`${Le}/archive`,he)},s.getAboutUrl=(ie,{addBase:ve,params:he}={})=>{const Le=ve?s.getBaseUrl(ie):"";return s.pathWithQuery(`${Le}/about`,he)},s.getSitemapUrl=(ie,{addBase:ve,params:he}={})=>{const Le=ve?s.getBaseUrl(ie):"";return s.pathWithQuery(`${Le}/sitemap`,he)},s.getDashboardUrlForSubdomain=(ie,{params:ve}={})=>{const he=`${s.getBaseUrl({subdomain:ie})}/publish/home`;return s.pathWithQuery(he,ve)},s.getFindTwitterPubsUrl=ie=>s.pathWithQuery(`${s.getSubstackUrl()}/twitter/find-pubs`,ie),s.getPodcastingUrl=(ie,{addBase:ve,params:he,slug:Le,isSection:He}={})=>{let bt=`${ve?s.getBaseUrl(ie):""}/publish/podcasting`;return Le&&(He?bt=`${bt}/s/${Le}`:bt=`${bt}/${Le}`),he?s.pathWithQuery(bt,he):bt},s.getCreatePostUrl=(ie,ve={})=>{var he=ve,{baseUrl:Le=null}=he,He=D(he,["baseUrl"]);return s.pathWithQuery(`${Le!=null?Le:s.getBaseUrl(ie)}/publish/post`,He)},s.getCreateCollabPostUrl=(ie,ve={})=>{var he=ve,{baseUrl:Le=null}=he,He=D(he,["baseUrl"]);return s.pathWithQuery(`${Le!=null?Le:s.getBaseUrl(ie)}/publish/collab`,He)},s.getCreateMarketingPostUrl=(ie,ve)=>s.pathWithQuery(`${s.getBaseUrl(ie)}/publish/post/marketing`,ve),s.getSubscriberStatsUrl=(ie,{addBase:ve,params:he}={})=>{const Le=ve?s.getBaseUrl(ie):"";return s.pathWithQuery(`${Le}/publish/subscribers`,he)},s.getAddSubscriberUrl=ie=>"/publish/subscribers/add",s.getDomainConfigUrl=(ie,{payment:ve}={})=>`/publish/domain${ve?"/pay":""}`,s.getDomainMigrateUrl=ie=>"/publish/domain/migrate",s.getDomainStatusUrl=()=>"/publish/domain/status",s.getSubscriberDetailsUrl=(ie,ve,{addBase:he,tab:Le}={})=>{const He=he?s.getBaseUrl(ie):"";return s.pathWithQuery(`${He}/publish/subscribers/legacy`,{email:ve,tab:Le})},s.getGroupDetailsUrl=ie=>`/publish/groups/${ie}`,s.getManageGroupsUrl=()=>"/publish/groups",s.getCheckoutUrl=function(ie,ve={}){const he=s.pathWithQuery(`${s.getBaseUrl(ie)}/subscribe`,ve);return he.indexOf("?")===-1?`${he}?`:he},s.getFoundingCheckoutUrl=function(ie){return`${s.getBaseUrl(ie)}/subscribe?plan=founding&`},s.getLoginUrl=(ie={})=>s.pathWithQuery("/account/login",ie),s.getMfaUrl=(ie={})=>s.pathWithQuery(`${s.getSubstackUrl()}/sign-in/mfa`,ie),s.getGlobalAccountRedirectForPub=(ie,ve,he)=>{const Le=ie==null?void 0:ie.subdomain;return s.pathWithQuery(`${s.getSubstackUrl()}${ve}`,{redirect:he,for_pub:Le})},s.getWriterReferralUrl=(ie,ve={})=>{if(ie)return s.pathWithQuery(`${s.getSubstackUrl()}/refer/${ie}`,ve)},s.getWriterReferralSettingsUrl=({utm_source:ie,utm_context:ve,utm_content:he}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/referral`,{utm_source:ie,utm_context:ve,utm_content:he}),s.getGlobalAccountSettingsUrl=({utm_source:ie,section:ve,highlightNotification:he}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/settings`,{utm_source:ie,section:ve,highlightNotification:he}),s.getGlobalNotificationSettingsUrl=({highlight:ie,utm_source:ve}={})=>s.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:ie,utm_source:ve}),s.getManageSubscriptionsUrl=({utm_source:ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/settings/subscriptions`,{utm_source:ie}),s.getSharePubUrl=ie=>`${s.getBaseUrl(ie)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,s.getPodcatcherSetupUrlForAllPodcasts=(ie,ve)=>{var he=ve,{startAtSubscribeFlow:Le}=he,He=D(he,["startAtSubscribeFlow"]);let ht=`${s.getBaseUrl(ie)}/listen`;if(He){const bt=s.serializeQuery(He);bt&&(ht+=`?${bt}`)}return Le?s.getSubscribeUrl(ie,v({addBase:!0,next:ht,skipPodcastSetupPage:!0},He)):ht},s.getPodcatcherSetupUrl=(ie,{addBase:ve,params:he,noSection:Le,section:He,user:ht,startAtSubscribeFlow:bt}={})=>{let Tt="";if(ve&&(Tt+=s.getBaseUrl(ie)),He=He||(ie==null?void 0:ie.section),He&&!Le&&(Tt+=`/s/${He.slug||He.id}`),Tt+="/account/add-podcast",ht&&ht.email&&(he=b(v({},he),{email:ht.email}),Tt+="/email"),he){const Fe=s.serializeQuery(he);Fe&&(Tt+=`?${Fe}`)}return bt?s.getSubscribeUrl(ie,v({addBase:!0,next:Tt,skipPodcastSetupPage:!0},he)):Tt},s.getCdnUrl=(ie,{cdnUrl:ve=C}={})=>ie==null?void 0:ie.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,ve);const _e="https://chrt.fm/track";s.getAsChartableUrl=(ie,ve)=>ie?`${_e}/${encodeURIComponent(ie)}/${s.stripProtocol(ve)}`:ve,s.getCdnUrlForAudio=(ie,ve,{token:he}={})=>(ve=s.getCdnUrl(ve),ie!=null&&ie.id&&(ve=s.updateQuery(ve,{post_id:ie.id})),he&&(ve=s.updateQuery(ve,{podcast_rss_token:he})),ve),s.getClientReadyPodcastUrl=(ie,ve,{rssToken:he})=>{if(ve.podcast_upload_id){let Le=s.updateQuery(`${s.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${ve.podcast_upload_id}/src`,{token:he});return ie!=null&&ie.chartable_token&&(Le=s.getAsChartableUrl(ie.chartable_token,Le)),Le}if(ve.podcast_url){let Le=s.getCdnUrlForAudio(ve,ve.podcast_url,{token:he});return ie!=null&&ie.chartable_token&&(Le=s.getAsChartableUrl(ie.chartable_token,Le)),Le}return null},s.urlIsRegularlyShownInIframe=ie=>{for(let ve=0;ve<De.length;ve++)if(De[ve].test(ie))return!0;return!1},s.getCurrentUrlForLoginRedirect=({useOriginalUrl:ie})=>{if(ie&&typeof window!="undefined"&&window._preloads.original_url)try{const ve=new URL(window._preloads.original_url);return`${ve.pathname}${ve.search}${ve.hash}`}catch(ve){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},s.getSigninUrl=(ie={})=>{const{for_pub:ve,email:he,with_password:Le,error:He,message:ht,change_user:bt,justTrying:Tt,useOriginalUrl:Fe}=ie;let{redirect:nt}=ie;return typeof nt!="string"&&(nt=s.getCurrentUrlForLoginRedirect({useOriginalUrl:Fe})),s.pathWithQuery(`${s.getSubstackUrl()}/sign-in`,{redirect:nt,for_pub:ve,email:he,with_password:Le,error:He,message:ht,change_user:bt,justTrying:Tt})},s.getTermsUrl=({utm_source:ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/tos`,{utm_source:ie}),s.getGoingPaidUrl=()=>`${s.getSubstackUrl()}/going-paid`,s.getInfoCollectionUrl=({utm_source:ie}={})=>`${s.pathWithQuery(`${s.getSubstackUrl()}/ccpa`,{utm_source:ie})}#personal-data-collected`,s.getHomeUrl=({utm_source:ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/home`,{utm_source:ie}),s.getPrivacyUrl=({pub:ie,utm_source:ve,hash:he=null}={})=>{const Le=ie?`${s.getBaseUrl(ie)}`:s.getSubstackUrl(),He=he?`#${he}`:"";return`${s.pathWithQuery(`${Le}/privacy`,{utm_source:ve})}${He}`},s.getLegalUrls=()=>({infoCollection:s.getInfoCollectionUrl(),privacy:s.getPrivacyUrl(),terms:s.getTermsUrl()}),s.getEditProfileUrl=({params:ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/profile/edit`,ie),s.getReaderOnboardingUrl=(ie,{isAbbreviated:ve,redirect:he,postRedirectToast:Le,pubId:He=null}={})=>{let ht=null;if(he)try{ht=new URL(he),Le&&ht.searchParams.set("profile-setup-message",Le)}catch(bt){ht=new URL(s.getSubstackUrl())}return s.pathWithQuery(`${s.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:ve,redirect:ht?ht.toString():null,pubId:He})},s.getProfileSetupUrl=({utm_source:ie}={})=>s.pathWithQuery(`${s.getSubstackUrl()}/profile/start`,{utm_source:ie}),s.getDiscoverCategoryUrl=(ie,ve)=>`${s.getSubstackUrl()}/discover${ie?`/category/${ie.slug}`:""}${ve==="all"?"/all":""}`,s.getDiscoverSearchUrl=({query:ie,params:ve={}}={})=>{let he=`${s.getSubstackUrl()}/search`;return ie&&(he=`${s.getSubstackUrl()}/search/${encodeURIComponent(ie)}`),s.updateQuery(he,ve)},s.getSubscribeUrl=(ie,ve={})=>{var he=ve,{signedIn:Le=!1,addBase:He=!1,root:ht=void 0,user:bt=void 0}=he,Tt=D(he,["signedIn","addBase","root","user"]);const Fe=A(Le,ie);return a(ie,{root:ht,user:bt,addBase:He,params:v({lli:Fe},Tt)})},s.getRecommendationsPageUrl=(ie,ve={})=>s.pathWithQuery(`${s.getBaseUrl(ie)}/recommendations`,ve),s.getStartPublishingUrl=(ie={})=>s.updateQuery(`${s.getSubstackUrl()}/signup`,ie),s.getMigrateFromTwitterUrl=(ie={})=>s.updateQuery(`${s.getSubstackUrl()}/twitter-quitter`,ie),s.getImportUrl=(ie={})=>s.updateQuery(`${s.getSubstackUrl()}/signup/import`,ie),s.getPublishStripeAccountImportUrl=(ie,{addBase:ve=!1,baseUrlOptions:he={},params:Le=void 0}={})=>s.pathWithQuery(`${fe(ie,{addBase:ve,baseUrlOptions:he})}/stripe-import`,Le),s.getPublishStatsUrl=(ie,{addBase:ve,baseUrlOptions:he,params:Le}={})=>{const He=ve?s.getBaseUrl(ie,he):"";return s.pathWithQuery(`${He}/publish/stats`,Le)},s.getPublishSettingsRecommendationsUrl=(ie,{addBase:ve,baseUrlOptions:he,params:Le}={})=>{const He=ve?s.getBaseUrl(ie,he):"";return s.pathWithQuery(`${He}/publish/settings/recommendations`,Le)},s.getPublishStatsRecommendationsUrl=(ie,{addBase:ve,baseUrlOptions:he,params:Le}={})=>{const He=ve?s.getBaseUrl(ie,he):"";return s.pathWithQuery(`${He}/publish/recommendations`,Le)},s.getManageBlurbsUrl=(ie,{addBase:ve,baseUrlOptions:he,params:Le}={})=>{const He=ve?s.getBaseUrl(ie,he):"";return s.pathWithQuery(`${He}/publish/settings/blurbs`,Le)},s.getManageReaderReferralSettingsUrl=ie=>{const ve=s.getBaseUrl(ie);return s.pathWithQuery(`${ve}/publish/settings/`,{search:"referral"})},s.getPublishModerationUrl=(ie,{addBase:ve=!1,baseUrlOptions:he={}}={})=>`${fe(ie,{addBase:ve,baseUrlOptions:he})}/moderation`,s.getPublicationPodcastUrl=ie=>"/publish/settings/podcast/edit",s.getInviteUrl=ie=>`${s.getBaseUrl(ie)}/invite`,s.getProfileSlug=ie=>{let ve=`${ie.author_id||ie.id}`;const he=E(ie.author_id?ie.author_name:ie.name,{hashIfEmpty:!0});return he&&(ve+=`-${he}`),ve},s.getProfileUrl=(ie,ve,{utm_source:he}={})=>s.getReaderProfileUrl(ie,{utm_source:he}),s.getPodcastRssUrl=({pub:ie,token:ve=null})=>{var he;if(ie.section){const{section:He}=ie;if((he=He.podcastSettings)!=null&&he.podcast_feed_url)return He.podcastSettings.podcast_feed_url;let ht=`${s.getBaseUrl({subdomain:"api"})}/feed/podcast/${ie.id}/s/`;return ve?ht+=`${He.id}/private/${ve}.rss`:ht+=`${He.id}.rss`,ht}else if(ie.podcast_feed_url)return ie.podcast_feed_url;let Le=`${s.getBaseUrl({subdomain:"api"})}/feed/podcast/${ie.id}`;return ve?Le+=`/private/${ve}.rss`:Le+=".rss",Le},s.getSupportEmail=(ie,{noOverride:ve}={})=>{if(ie){if(ie.support_email&&!ve)return ie.support_email}else return"support@substack.com";return`support+${ie.subdomain}@substack.com`},s.getSupportUrl=(ie,ve)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(s.getSupportEmail(ie,ve))}`,s.getPostSelectionPreviewUrl=(ie,ve,he)=>s.imginary(`${s.getPostSelectionPreviewSvgUrl(ie,ve,he)}`,s.TWITTER_CARD_WIDTH*2,{height:s.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),s.getPostSelectionPreviewSvgUrl=(ie,ve,he)=>`${s.getBaseUrl(ie)}/api/v1/post_selection_image/${ve.id}/${he}.svg`,s.getTwitterAccountUrl=ie=>`https://twitter.com/${ie}`,s.getInstagramAccountUrl=ie=>`https://instagram.com/${ie}`,s.getTiktokAccountUrl=ie=>`https://tiktok.com/@${ie}`,s.getYoutubeAccountUrl=ie=>`https://youtube.com/channel/${ie}`,s.getTwitterSubscribeCardUrl=ie=>s.imginary(`${s.getTwitterSubscribeCardSvgUrl(ie)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),s.getTwitterSubscribeCardSvgUrl=ie=>{const{hashString:ve}=e(83322);let he=`${s.getBaseUrl(ie,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Le=`${ie.logo_url}:${ie.hero_text}:${ie.name}:${ie.author_name}:${ie.subdomain}`,He=ve(Le);return He?he+=`?v=${He}`:he+="?v=bust",he},s.getPressKitUrl=(ie,ve,he)=>{const Le=s.getPressKitImageUrl(ie,ve,he);return s.imginary(Le,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getPressKitImageUrl=(ie,ve,he)=>{const{hashString:Le}=e(83322),He=Le(`${ve.social_title+ve.title+ve.description+ve.cover_image}`);return s.pathWithQuery(`${s.getBaseUrl(ie,{forceSubdomain:!0})}/api/v1/press_kit/${ve.id}.jpg`,b(v({},he),{isDraft:ve.is_draft,hash:He}))},s.getLatexUrl=ie=>{const ve=s.getLatexImageUrl(ie);return s.imginary(ve,null,{quality:"auto:best",version:9})},s.getLatexImageUrl=ie=>s.pathWithQuery("/api/v1/latex/jpeg",{expression:ie}),s.getBestsellerAssetUrl=ie=>{const ve=`${s.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ie.id}-bestseller.jpg`;return s.imginary(ve,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getBestsellerShareCardUrl=ie=>{const ve=`${s.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${ie.id}-bestseller-share-card.jpg`;return s.imginary(ve,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},s.getThreadDeepLinkUrl=ie=>`substack://publications/${ie.id}/threads`,s.isPublishPath=(ie,ve)=>ie.startsWith("/publish"),s.looksLikePostUrl=ie=>{const ve=s.parseUrl(ie);return ve?ve.pathname.startsWith("/p/"):!1},s.getPostSlug=ie=>s.looksLikePostUrl(ie)?s.parseUrl(ie).pathname.split("/")[2]:null,s.looksLikePostCommentsUrl=ie=>{if(!s.looksLikePostUrl(ie))return!1;const he=s.parseUrl(ie).pathname.split("/");return he.length===4&&he[3]==="comments"},s.getSignoutUrl=({redirect:ie,for_pub:ve,utm_source:he}={})=>(ie=ie||"",s.pathWithQuery(`${s.getSubstackUrl()}/sign-out`,{redirect:ie,for_pub:ve,utm_source:he})),s.getPodcastOnboardingUrl=ie=>`/publish/podcast/new?referrer=${encodeURIComponent(ie)}`,s.getUrlExtension=ie=>{try{const he=new URL(ie).pathname.match(/\.(\w+)$/);return he?he[0]:null}catch(ve){return null}},s.EMAIL_CONTENT_WIDTH=550,s.WEB_CONTENT_WIDTH=728,s.WEB_CONTENT_WIDTH_MOBILE=424,s.WEB_RESPONSIVE_IMAGE_WIDTHS=[s.WEB_CONTENT_WIDTH_MOBILE,s.WEB_CONTENT_WIDTH_MOBILE*2,s.WEB_CONTENT_WIDTH_MOBILE*3,s.WEB_CONTENT_WIDTH*2],s.LARGE_IMAGE_WIDTH=1200,s.MAX_REASONABLE_SCREEN_WIDTH=2880,s.MIN_GIF_WIDTH=320,s.MAX_GIF_WIDTH=550,s.getMediaUploadThumbnailUrl=ie=>{var ve;return ie?`https://substack-video.s3.amazonaws.com/video_upload/post/${ie.post_id}/${ie.id}/transcoded-${((ve=ie.thumbnail_id)!=null?ve:1).toString().padStart(5,"0")}.png`:void 0},s.getMediaUploadThumbnailUrlForPlayer=(ie,{pub:ve,isStatic:he}={})=>{var Le;const{colorLuma:He,videoPlayerDimensions:ht}=e(83322),{height:bt,width:Tt}=ht(ie,{isStatic:he}),Fe=Tt/bt<1920/1080?"pad":"fill",nt=((Le=ve==null?void 0:ve.theme)==null?void 0:Le.background_pop_color)||(ve==null?void 0:ve.theme_var_background_pop)||O,ft=He(nt)>.6?"#1a1a1a":"#ffffff";return s.imginary(s.getMediaUploadThumbnailUrl(ie),Tt*2,{crop:Fe,height:bt*2,trailingSegments:he?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${nt.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${ft.slice(1)}`]:[]})},s.getPreviewInAppUrl=(ie,ve,he={})=>s.pathWithQuery(`https://substack.com/app-link/publications/${ie.id}/drafts/${ve}`,he),s.getLinkRedirectUrl=(ie,{userIdJwt:ve,domain:he}={})=>`${he?s.getSubstackUrlWithDomain(he):s.getSubstackUrl()}/redirect/${ie}?j=${ve||""}`,s.getLoginChallengeDeepUrl=ie=>s.pathWithQuery("substack://sign-in/challenge",{token:ie}),s.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",s.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",s.getSubstackMarketingUrl=(ie={})=>s.pathWithQuery(`${s.getSubstackUrl()}/home`),s.getAppMarketingUrl=(ie={})=>s.pathWithQuery(`${s.getSubstackUrl()}/app`,ie),s.getAppWriterFaqUrl=(ie={})=>s.pathWithQuery("https://on.substack.com/p/writerfaq",ie),s.getAppStoreRedirectUrl=ie=>s.pathWithQuery(`${s.getSubstackUrl()}/app/app-store-redirect`,ie),s.getAppStoreUrl=ie=>s.pathWithQuery(`${s.getSubstackUrl()}/app/get-ios`,ie),s.getPlayStoreUrl=ie=>s.pathWithQuery(`${s.getSubstackUrl()}/app/get-android`,ie),s.getDefaultPodcastArtUrl=({pathOnly:ie=!1}={})=>{const ve="/img/podcast/generic.png";return ie?ve:`${s.getSubstackUrl()}${ve}`},s.getDefaultPodcastArtUrlCDN=()=>{const ie=s.getDefaultPodcastArtUrl({pathOnly:!0});return s.imginary(ie,1400)}},17187:z=>{function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}z.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(u){if(!o(u)||u<0||isNaN(u))throw TypeError("n must be a positive number");return this._maxListeners=u,this},s.prototype.emit=function(u){var g,y,w,v,b,D;if(this._events||(this._events={}),u==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var E=new Error('Uncaught, unspecified "error" event. ('+g+")");throw E.context=g,E}if(y=this._events[u],d(y))return!1;if(e(y))switch(arguments.length){case 1:y.call(this);break;case 2:y.call(this,arguments[1]);break;case 3:y.call(this,arguments[1],arguments[2]);break;default:v=Array.prototype.slice.call(arguments,1),y.apply(this,v)}else if(m(y))for(v=Array.prototype.slice.call(arguments,1),D=y.slice(),w=D.length,b=0;b<w;b++)D[b].apply(this,v);return!0},s.prototype.addListener=function(u,g){var y;if(!e(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",u,e(g.listener)?g.listener:g),this._events[u]?m(this._events[u])?this._events[u].push(g):this._events[u]=[this._events[u],g]:this._events[u]=g,m(this._events[u])&&!this._events[u].warned&&(d(this._maxListeners)?y=s.defaultMaxListeners:y=this._maxListeners,y&&y>0&&this._events[u].length>y&&(this._events[u].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[u].length),typeof console.trace=="function"&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(u,g){if(!e(g))throw TypeError("listener must be a function");var y=!1;function w(){this.removeListener(u,w),y||(y=!0,g.apply(this,arguments))}return w.listener=g,this.on(u,w),this},s.prototype.removeListener=function(u,g){var y,w,v,b;if(!e(g))throw TypeError("listener must be a function");if(!this._events||!this._events[u])return this;if(y=this._events[u],v=y.length,w=-1,y===g||e(y.listener)&&y.listener===g)delete this._events[u],this._events.removeListener&&this.emit("removeListener",u,g);else if(m(y)){for(b=v;b-- >0;)if(y[b]===g||y[b].listener&&y[b].listener===g){w=b;break}if(w<0)return this;y.length===1?(y.length=0,delete this._events[u]):y.splice(w,1),this._events.removeListener&&this.emit("removeListener",u,g)}return this},s.prototype.removeAllListeners=function(u){var g,y;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[u]&&delete this._events[u],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(y=this._events[u],e(y))this.removeListener(u,y);else if(y)for(;y.length;)this.removeListener(u,y[y.length-1]);return delete this._events[u],this},s.prototype.listeners=function(u){var g;return!this._events||!this._events[u]?g=[]:e(this._events[u])?g=[this._events[u]]:g=this._events[u].slice(),g},s.prototype.listenerCount=function(u){if(this._events){var g=this._events[u];if(e(g))return 1;if(g)return g.length}return 0},s.listenerCount=function(u,g){return u.listenerCount(g)};function e(u){return typeof u=="function"}function o(u){return typeof u=="number"}function m(u){return typeof u=="object"&&u!==null}function d(u){return u===void 0}},4445:z=>{z.exports=u,u.default=u,u.stable=v,u.stableStringify=v;var s="[...]",e="[Circular]",o=[],m=[];function d(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function u(E,O,C,_){typeof _=="undefined"&&(_=d()),y(E,"",0,[],void 0,0,_);var a;try{m.length===0?a=JSON.stringify(E,O,C):a=JSON.stringify(E,D(O),C)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var l=o.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return a}function g(E,O,C,_){var a=Object.getOwnPropertyDescriptor(_,C);a.get!==void 0?a.configurable?(Object.defineProperty(_,C,{value:E}),o.push([_,C,O,a])):m.push([O,C,E]):(_[C]=E,o.push([_,C,O]))}function y(E,O,C,_,a,l,P){l+=1;var S;if(typeof E=="object"&&E!==null){for(S=0;S<_.length;S++)if(_[S]===E){g(e,E,O,a);return}if(typeof P.depthLimit!="undefined"&&l>P.depthLimit){g(s,E,O,a);return}if(typeof P.edgesLimit!="undefined"&&C+1>P.edgesLimit){g(s,E,O,a);return}if(_.push(E),Array.isArray(E))for(S=0;S<E.length;S++)y(E[S],S,S,_,E,l,P);else{var M=Object.keys(E);for(S=0;S<M.length;S++){var R=M[S];y(E[R],R,S,_,E,l,P)}}_.pop()}}function w(E,O){return E<O?-1:E>O?1:0}function v(E,O,C,_){typeof _=="undefined"&&(_=d());var a=b(E,"",0,[],void 0,0,_)||E,l;try{m.length===0?l=JSON.stringify(a,O,C):l=JSON.stringify(a,D(O),C)}catch(S){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var P=o.pop();P.length===4?Object.defineProperty(P[0],P[1],P[3]):P[0][P[1]]=P[2]}}return l}function b(E,O,C,_,a,l,P){l+=1;var S;if(typeof E=="object"&&E!==null){for(S=0;S<_.length;S++)if(_[S]===E){g(e,E,O,a);return}try{if(typeof E.toJSON=="function")return}catch(T){return}if(typeof P.depthLimit!="undefined"&&l>P.depthLimit){g(s,E,O,a);return}if(typeof P.edgesLimit!="undefined"&&C+1>P.edgesLimit){g(s,E,O,a);return}if(_.push(E),Array.isArray(E))for(S=0;S<E.length;S++)b(E[S],S,S,_,E,l,P);else{var M={},R=Object.keys(E).sort(w);for(S=0;S<R.length;S++){var N=R[S];b(E[N],N,S,_,E,l,P),M[N]=E[N]}if(typeof a!="undefined")o.push([a,O,E]),a[O]=M;else return M}_.pop()}}function D(E){return E=typeof E!="undefined"?E:function(O,C){return C},function(O,C){if(m.length>0)for(var _=0;_<m.length;_++){var a=m[_];if(a[1]===O&&a[0]===C){C=a[2],m.splice(_,1);break}}return E.call(this,O,C)}}},17648:z=>{"use strict";var s="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,o=Object.prototype.toString,m="[object Function]";z.exports=function(u){var g=this;if(typeof g!="function"||o.call(g)!==m)throw new TypeError(s+g);for(var y=e.call(arguments,1),w,v=function(){if(this instanceof w){var C=g.apply(this,y.concat(e.call(arguments)));return Object(C)===C?C:this}else return g.apply(u,y.concat(e.call(arguments)))},b=Math.max(0,g.length-y.length),D=[],E=0;E<b;E++)D.push("$"+E);if(w=Function("binder","return function ("+D.join(",")+"){ return binder.apply(this,arguments); }")(v),g.prototype){var O=function(){};O.prototype=g.prototype,w.prototype=new O,O.prototype=null}return w}},58612:(z,s,e)=>{"use strict";var o=e(17648);z.exports=Function.prototype.bind||o},40210:(z,s,e)=>{"use strict";var o,m=SyntaxError,d=Function,u=TypeError,g=function(Q){try{return d('"use strict"; return ('+Q+").constructor;")()}catch(te){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(Q){y=null}var w=function(){throw new u},v=y?function(){try{return arguments.callee,w}catch(Q){try{return y(arguments,"callee").get}catch(te){return w}}}():w,b=e(41405)(),D=Object.getPrototypeOf||function(Q){return Q.__proto__},E={},O=typeof Uint8Array=="undefined"?o:D(Uint8Array),C={"%AggregateError%":typeof AggregateError=="undefined"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?o:ArrayBuffer,"%ArrayIteratorPrototype%":b?D([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics=="undefined"?o:Atomics,"%BigInt%":typeof BigInt=="undefined"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?o:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array=="undefined"?o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b?D(D([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map=="undefined"?o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!b?o:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?o:Promise,"%Proxy%":typeof Proxy=="undefined"?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!b?o:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b?D(""[Symbol.iterator]()):o,"%Symbol%":b?Symbol:o,"%SyntaxError%":m,"%ThrowTypeError%":v,"%TypedArray%":O,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array=="undefined"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?o:WeakSet};try{null.error}catch(Q){var _=D(D(Q));C["%Error.prototype%"]=_}var a=function Q(te){var ee;if(te==="%AsyncFunction%")ee=g("async function () {}");else if(te==="%GeneratorFunction%")ee=g("function* () {}");else if(te==="%AsyncGeneratorFunction%")ee=g("async function* () {}");else if(te==="%AsyncGenerator%"){var L=Q("%AsyncGeneratorFunction%");L&&(ee=L.prototype)}else if(te==="%AsyncIteratorPrototype%"){var V=Q("%AsyncGenerator%");V&&(ee=D(V.prototype))}return C[te]=ee,ee},l={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=e(58612),S=e(17642),M=P.call(Function.call,Array.prototype.concat),R=P.call(Function.apply,Array.prototype.splice),N=P.call(Function.call,String.prototype.replace),T=P.call(Function.call,String.prototype.slice),A=P.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,G=function(te){var ee=T(te,0,1),L=T(te,-1);if(ee==="%"&&L!=="%")throw new m("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&ee!=="%")throw new m("invalid intrinsic syntax, expected opening `%`");var V=[];return N(te,F,function(ne,ae,fe,le){V[V.length]=fe?N(le,U,"$1"):ae||ne}),V},J=function(te,ee){var L=te,V;if(S(l,L)&&(V=l[L],L="%"+V[0]+"%"),S(C,L)){var ne=C[L];if(ne===E&&(ne=a(L)),typeof ne=="undefined"&&!ee)throw new u("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:V,name:L,value:ne}}throw new m("intrinsic "+te+" does not exist!")};z.exports=function(te,ee){if(typeof te!="string"||te.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new u('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,te)===null)throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=G(te),V=L.length>0?L[0]:"",ne=J("%"+V+"%",ee),ae=ne.name,fe=ne.value,le=!1,re=ne.alias;re&&(V=re[0],R(L,M([0,1],re)));for(var $=1,oe=!0;$<L.length;$+=1){var se=L[$],ce=T(se,0,1),de=T(se,-1);if((ce==='"'||ce==="'"||ce==="`"||de==='"'||de==="'"||de==="`")&&ce!==de)throw new m("property names with quotes must have matching quotes");if((se==="constructor"||!oe)&&(le=!0),V+="."+se,ae="%"+V+"%",S(C,ae))fe=C[ae];else if(fe!=null){if(!(se in fe)){if(!ee)throw new u("base intrinsic for "+te+" exists, but the property is not available.");return}if(y&&$+1>=L.length){var be=y(fe,se);oe=!!be,oe&&"get"in be&&!("originalValue"in be.get)?fe=be.get:fe=fe[se]}else oe=S(fe,se),fe=fe[se];oe&&!le&&(C[ae]=fe)}}return fe}},41405:(z,s,e)=>{"use strict";var o=typeof Symbol!="undefined"&&Symbol,m=e(55419);z.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:m()}},55419:z=>{"use strict";z.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),m=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;var d=42;e[o]=d;for(o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var u=Object.getOwnPropertySymbols(e);if(u.length!==1||u[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var g=Object.getOwnPropertyDescriptor(e,o);if(g.value!==d||g.enumerable!==!0)return!1}return!0}},17642:(z,s,e)=>{"use strict";var o=e(58612);z.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},36808:(z,s,e)=>{var o,m;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(d){var u=!1;if(o=d,m=typeof o=="function"?o.call(s,e,s,z):o,m!==void 0&&(z.exports=m),u=!0,z.exports=d(),u=!0,!u){var g=window.Cookies,y=window.Cookies=d();y.noConflict=function(){return window.Cookies=g,y}}})(function(){function d(){for(var g=0,y={};g<arguments.length;g++){var w=arguments[g];for(var v in w)y[v]=w[v]}return y}function u(g){function y(w,v,b){var D;if(typeof document!="undefined"){if(arguments.length>1){if(b=d({path:"/"},y.defaults,b),typeof b.expires=="number"){var E=new Date;E.setMilliseconds(E.getMilliseconds()+b.expires*864e5),b.expires=E}b.expires=b.expires?b.expires.toUTCString():"";try{D=JSON.stringify(v),/^[\{\[]/.test(D)&&(v=D)}catch(R){}g.write?v=g.write(v,w):v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),w=encodeURIComponent(String(w)),w=w.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),w=w.replace(/[\(\)]/g,escape);var O="";for(var C in b)b[C]&&(O+="; "+C,b[C]!==!0&&(O+="="+b[C]));return document.cookie=w+"="+v+O}w||(D={});for(var _=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,l=0;l<_.length;l++){var P=_[l].split("="),S=P.slice(1).join("=");!this.json&&S.charAt(0)==='"'&&(S=S.slice(1,-1));try{var M=P[0].replace(a,decodeURIComponent);if(S=g.read?g.read(S,M):g(S,M)||S.replace(a,decodeURIComponent),this.json)try{S=JSON.parse(S)}catch(R){}if(w===M){D=S;break}w||(D[M]=S)}catch(R){}}return D}}return y.set=y,y.get=function(w){return y.call(y,w)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(w,v){y(w,"",d(v,{expires:-1}))},y.withConverter=u,y}return u(function(){})})},3312:z=>{"use strict";const s={},e=s.hasOwnProperty,o=(T,A)=>{for(const F in T)e.call(T,F)&&A(F,T[F])},m=(T,A)=>(A&&o(A,(F,U)=>{T[F]=U}),T),d=(T,A)=>{const F=T.length;let U=-1;for(;++U<F;)A(T[U])},u=T=>"\\u"+("0000"+T).slice(-4),g=(T,A)=>{let F=T.toString(16);return A?F:F.toUpperCase()},y=s.toString,w=Array.isArray,v=T=>typeof Buffer=="function"&&Buffer.isBuffer(T),b=T=>y.call(T)=="[object Object]",D=T=>typeof T=="string"||y.call(T)=="[object String]",E=T=>typeof T=="number"||y.call(T)=="[object Number]",O=T=>typeof T=="function",C=T=>y.call(T)=="[object Map]",_=T=>y.call(T)=="[object Set]",a={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},l=/[\\\b\f\n\r\t]/,P=/[0-9]/,S=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,M=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,R=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(T,A)=>{const F=()=>{L=ee,++A.indentLevel,ee=A.indent.repeat(A.indentLevel)},U={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},G=A&&A.json;G&&(U.quotes="double",U.wrap=!0),A=m(U,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const J=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",Q=A.compact,te=A.lowercaseHex;let ee=A.indent.repeat(A.indentLevel),L="";const V=A.__inline1__,ne=A.__inline2__,ae=Q?"":`
`;let fe,le=!0;const re=A.numbers=="binary",$=A.numbers=="octal",oe=A.numbers=="decimal",se=A.numbers=="hexadecimal";if(G&&T&&O(T.toJSON)&&(T=T.toJSON()),!D(T)){if(C(T))return T.size==0?"new Map()":(Q||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+N(Array.from(T),A)+")");if(_(T))return T.size==0?"new Set()":"new Set("+N(Array.from(T),A)+")";if(v(T))return T.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(T),A)+")";if(w(T))return fe=[],A.wrap=!0,V&&(A.__inline1__=!1,A.__inline2__=!0),ne||F(),d(T,de=>{le=!1,ne&&(A.__inline2__=!1),fe.push((Q||ne?"":ee)+N(de,A))}),le?"[]":ne?"["+fe.join(", ")+"]":"["+ae+fe.join(","+ae)+ae+(Q?"":L)+"]";if(E(T)){if(G)return JSON.stringify(T);if(oe)return String(T);if(se){let de=T.toString(16);return te||(de=de.toUpperCase()),"0x"+de}if(re)return"0b"+T.toString(2);if($)return"0o"+T.toString(8)}else return b(T)?(fe=[],A.wrap=!0,F(),o(T,(de,be)=>{le=!1,fe.push((Q?"":ee)+N(de,A)+":"+(Q?"":" ")+N(be,A))}),le?"{}":"{"+ae+fe.join(","+ae)+ae+(Q?"":L)+"}"):G?JSON.stringify(T)||"null":String(T)}const ce=A.escapeEverything?M:R;return fe=T.replace(ce,(de,be,pe,we,xe,Ue)=>{if(be){if(A.minimal)return be;const _e=be.charCodeAt(0),ie=be.charCodeAt(1);if(A.es6){const ve=(_e-55296)*1024+ie-56320+65536;return"\\u{"+g(ve,te)+"}"}return u(g(_e,te))+u(g(ie,te))}if(pe)return u(g(pe.charCodeAt(0),te));if(de=="\0"&&!G&&!P.test(Ue.charAt(xe+1)))return"\\0";if(we)return we==J||A.escapeEverything?"\\"+we:we;if(l.test(de))return a[de];if(A.minimal&&!S.test(de))return de;const De=g(de.charCodeAt(0),te);return G||De.length>2?u(De):"\\x"+("00"+De).slice(-2)}),J=="`"&&(fe=fe.replace(/\$\{/g,"\\${")),A.isScriptContext&&(fe=fe.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,G?"\\u003C!--":"\\x3C!--")),A.wrap&&(fe=J+fe+J),fe};N.version="3.0.2",z.exports=N},23059:(z,s)=>{function e(o){if(typeof o!="object")return o;var m,d,u=Object.prototype.toString.call(o);if(u==="[object Object]"){if(o.constructor!==Object&&typeof o.constructor=="function"){d=new o.constructor;for(m in o)o.hasOwnProperty(m)&&d[m]!==o[m]&&(d[m]=e(o[m]))}else{d={};for(m in o)m==="__proto__"?Object.defineProperty(d,m,{value:e(o[m]),configurable:!0,enumerable:!0,writable:!0}):d[m]=e(o[m])}return d}if(u==="[object Array]"){for(m=o.length,d=Array(m);m--;)d[m]=e(o[m]);return d}return u==="[object Set]"?(d=new Set,o.forEach(function(g){d.add(e(g))}),d):u==="[object Map]"?(d=new Map,o.forEach(function(g,y){d.set(e(y),e(g))}),d):u==="[object Date]"?new Date(+o):u==="[object RegExp]"?(d=new RegExp(o.source,o.flags),d.lastIndex=o.lastIndex,d):u==="[object DataView]"?new o.constructor(e(o.buffer)):u==="[object ArrayBuffer]"?o.slice(0):u.slice(-6)==="Array]"?new o.constructor(o):o}s.klona=e},25235:(z,s,e)=>{z.exports=e(8425)},87100:(z,s,e)=>{"use strict";var o;o=!0;var m=e(98661),d=w(m),u=e(8425),g=y(u);function y(l){if(l&&l.__esModule)return l;var P={};if(l!=null)for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(P[S]=l[S]);return P.default=l,P}function w(l){return l&&l.__esModule?l:{default:l}}function v(l,P){if(!(l instanceof P))throw new TypeError("Cannot call a class as a function")}function b(l,P){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:l}function D(l,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);l.prototype=Object.create(P&&P.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(l,P):l.__proto__=P)}var E=g.options,O=E.Options;function C(l,P){for(var S=g.tokenize(l),M=[],R=0,N=0;N<S.length;N++){var T=S[N];if(T.type==="nl"&&P.nl2br){M.push(d.default.createElement("br",{key:"linkified-"+ ++R}));continue}else if(!T.isLink||!P.check(T)){M.push(T.toString());continue}var A=P.resolve(T),F=A.formatted,U=A.formattedHref,G=A.tagName,J=A.className,Q=A.target,te=A.attributes,ee={key:"linkified-"+ ++R,href:U};if(J&&(ee.className=J),Q&&(ee.target=Q),te)for(var L in te)ee[L]=te[L];M.push(d.default.createElement(G,ee,F))}return M}function _(l,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(d.default.Children.count(l.props.children)===0)return l;var M=[];d.default.Children.forEach(l.props.children,function(T){typeof T=="string"?(S=S+1,M.push.apply(M,C(T,P))):d.default.isValidElement(T)?typeof T.type=="string"&&E.contains(P.ignoreTags,T.type.toUpperCase())?M.push(T):M.push(_(T,P,++S)):M.push(T)});var R={key:"linkified-element-"+S};for(var N in l.props)R[N]=l.props[N];return d.default.cloneElement(l,R,M)}var a=function(l){D(P,l);function P(){return v(this,P),b(this,l.apply(this,arguments))}return P.prototype.render=function(){var M={key:"linkified-element-0"};for(var R in this.props)R!=="options"&&R!=="tagName"&&(M[R]=this.props[R]);var N=new O(this.props.options),T=this.props.tagName||"span",A=d.default.createElement(T,M);return _(A,N,0)},P}(d.default.Component);s.default=a},8425:(z,s,e)=>{"use strict";s.__esModule=!0,s.tokenize=s.test=s.scanner=s.parser=s.options=s.inherits=s.find=void 0;var o=e(72227),m=e(47951),d=v(m),u=e(6417),g=v(u),y=e(45788),w=v(y);function v(O){if(O&&O.__esModule)return O;var C={};if(O!=null)for(var _ in O)Object.prototype.hasOwnProperty.call(O,_)&&(C[_]=O[_]);return C.default=O,C}Array.isArray||(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"});var b=function(C){return w.run(g.run(C))},D=function(C){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=b(C),l=[],P=0;P<a.length;P++){var S=a[P];S.isLink&&(!_||S.type===_)&&l.push(S.toObject())}return l},E=function(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=b(C);return a.length===1&&a[0].isLink&&(!_||a[0].type===_)};s.find=D,s.inherits=o.inherits,s.options=d,s.parser=w,s.scanner=g,s.test=E,s.tokenize=b},45788:(z,s,e)=>{"use strict";s.__esModule=!0,s.start=s.run=s.TOKENS=s.State=void 0;var o=e(25439),m=e(23370),d=g(m),u=e(63333);function g(xe){if(xe&&xe.__esModule)return xe;var Ue={};if(xe!=null)for(var De in xe)Object.prototype.hasOwnProperty.call(xe,De)&&(Ue[De]=xe[De]);return Ue.default=xe,Ue}var y=function(Ue){return new o.TokenState(Ue)},w=y(),v=y(),b=y(),D=y(),E=y(),O=y(),C=y(),_=y(m.URL),a=y(),l=y(m.URL),P=y(m.URL),S=y(),M=y(),R=y(),N=y(),T=y(),A=y(m.URL),F=y(m.URL),U=y(m.URL),G=y(m.URL),J=y(),Q=y(),te=y(),ee=y(),L=y(),V=y(),ne=y(m.EMAIL),ae=y(),fe=y(m.EMAIL),le=y(m.MAILTOEMAIL),re=y(),$=y(),oe=y(),se=y(),ce=y(m.NL);w.on(u.NL,ce).on(u.PROTOCOL,v).on(u.MAILTO,b).on(u.SLASH,D),v.on(u.SLASH,D),D.on(u.SLASH,E),w.on(u.TLD,O).on(u.DOMAIN,O).on(u.LOCALHOST,_).on(u.NUM,O),E.on(u.TLD,P).on(u.DOMAIN,P).on(u.NUM,P).on(u.LOCALHOST,P),O.on(u.DOT,C),L.on(u.DOT,V),C.on(u.TLD,_).on(u.DOMAIN,O).on(u.NUM,O).on(u.LOCALHOST,O),V.on(u.TLD,ne).on(u.DOMAIN,L).on(u.NUM,L).on(u.LOCALHOST,L),_.on(u.DOT,C),ne.on(u.DOT,V),_.on(u.COLON,a).on(u.SLASH,P),a.on(u.NUM,l),l.on(u.SLASH,P),ne.on(u.COLON,ae),ae.on(u.NUM,fe);var de=[u.DOMAIN,u.AT,u.LOCALHOST,u.NUM,u.PLUS,u.POUND,u.PROTOCOL,u.SLASH,u.TLD,u.UNDERSCORE,u.SYM,u.AMPERSAND],be=[u.COLON,u.DOT,u.QUERY,u.PUNCTUATION,u.CLOSEBRACE,u.CLOSEBRACKET,u.CLOSEANGLEBRACKET,u.CLOSEPAREN,u.OPENBRACE,u.OPENBRACKET,u.OPENANGLEBRACKET,u.OPENPAREN];P.on(u.OPENBRACE,M).on(u.OPENBRACKET,R).on(u.OPENANGLEBRACKET,N).on(u.OPENPAREN,T),S.on(u.OPENBRACE,M).on(u.OPENBRACKET,R).on(u.OPENANGLEBRACKET,N).on(u.OPENPAREN,T),M.on(u.CLOSEBRACE,P),R.on(u.CLOSEBRACKET,P),N.on(u.CLOSEANGLEBRACKET,P),T.on(u.CLOSEPAREN,P),A.on(u.CLOSEBRACE,P),F.on(u.CLOSEBRACKET,P),U.on(u.CLOSEANGLEBRACKET,P),G.on(u.CLOSEPAREN,P),J.on(u.CLOSEBRACE,P),Q.on(u.CLOSEBRACKET,P),te.on(u.CLOSEANGLEBRACKET,P),ee.on(u.CLOSEPAREN,P),M.on(de,A),R.on(de,F),N.on(de,U),T.on(de,G),M.on(be,J),R.on(be,Q),N.on(be,te),T.on(be,ee),A.on(de,A),F.on(de,F),U.on(de,U),G.on(de,G),A.on(be,A),F.on(be,F),U.on(be,U),G.on(be,G),J.on(de,A),Q.on(de,F),te.on(de,U),ee.on(de,G),J.on(be,J),Q.on(be,Q),te.on(be,te),ee.on(be,ee),P.on(de,P),S.on(de,P),P.on(be,S),S.on(be,S),b.on(u.TLD,le).on(u.DOMAIN,le).on(u.NUM,le).on(u.LOCALHOST,le),le.on(de,le).on(be,re),re.on(de,le).on(be,re);var pe=[u.DOMAIN,u.NUM,u.PLUS,u.POUND,u.QUERY,u.UNDERSCORE,u.SYM,u.AMPERSAND,u.TLD];O.on(pe,$).on(u.AT,oe),_.on(pe,$).on(u.AT,oe),C.on(pe,$),$.on(pe,$).on(u.AT,oe).on(u.DOT,se),se.on(pe,$),oe.on(u.TLD,L).on(u.DOMAIN,L).on(u.LOCALHOST,ne);var we=function(Ue){for(var De=Ue.length,_e=0,ie=[],ve=[];_e<De;){for(var he=w,Le=null,He=null,ht=0,bt=null,Tt=-1;_e<De&&!(Le=he.next(Ue[_e]));)ve.push(Ue[_e++]);for(;_e<De&&(He=Le||he.next(Ue[_e]));)Le=null,he=He,he.accepts()?(Tt=0,bt=he):Tt>=0&&Tt++,_e++,ht++;if(Tt<0)for(var Fe=_e-ht;Fe<_e;Fe++)ve.push(Ue[Fe]);else{ve.length>0&&(ie.push(new m.TEXT(ve)),ve=[]),_e-=Tt,ht-=Tt;var nt=bt.emit();ie.push(new nt(Ue.slice(_e-ht,_e)))}}return ve.length>0&&ie.push(new m.TEXT(ve)),ie};s.State=o.TokenState,s.TOKENS=d,s.run=we,s.start=w},6417:(z,s,e)=>{"use strict";s.__esModule=!0,s.start=s.run=s.TOKENS=s.State=void 0;var o=e(25439),m=e(63333),d=u(m);function u(ne){if(ne&&ne.__esModule)return ne;var ae={};if(ne!=null)for(var fe in ne)Object.prototype.hasOwnProperty.call(ne,fe)&&(ae[fe]=ne[fe]);return ae.default=ne,ae}var g="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),y="0123456789".split(""),w="0123456789abcdefghijklmnopqrstuvwxyz".split(""),v=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],b=[],D=function(ae){return new o.CharacterState(ae)},E=D(),O=D(m.NUM),C=D(m.DOMAIN),_=D(),a=D(m.WS);E.on("@",D(m.AT)).on(".",D(m.DOT)).on("+",D(m.PLUS)).on("#",D(m.POUND)).on("?",D(m.QUERY)).on("/",D(m.SLASH)).on("_",D(m.UNDERSCORE)).on(":",D(m.COLON)).on("{",D(m.OPENBRACE)).on("[",D(m.OPENBRACKET)).on("<",D(m.OPENANGLEBRACKET)).on("(",D(m.OPENPAREN)).on("}",D(m.CLOSEBRACE)).on("]",D(m.CLOSEBRACKET)).on(">",D(m.CLOSEANGLEBRACKET)).on(")",D(m.CLOSEPAREN)).on("&",D(m.AMPERSAND)).on([",",";","!",'"',"'"],D(m.PUNCTUATION)),E.on(`
`,D(m.NL)).on(v,a),a.on(v,a);for(var l=0;l<g.length;l++){var P=(0,o.stateify)(g[l],E,m.TLD,m.DOMAIN);b.push.apply(b,P)}var S=(0,o.stateify)("file",E,m.DOMAIN,m.DOMAIN),M=(0,o.stateify)("ftp",E,m.DOMAIN,m.DOMAIN),R=(0,o.stateify)("http",E,m.DOMAIN,m.DOMAIN),N=(0,o.stateify)("mailto",E,m.DOMAIN,m.DOMAIN);b.push.apply(b,S),b.push.apply(b,M),b.push.apply(b,R),b.push.apply(b,N);var T=S.pop(),A=M.pop(),F=R.pop(),U=N.pop(),G=D(m.DOMAIN),J=D(m.PROTOCOL),Q=D(m.MAILTO);A.on("s",G).on(":",J),F.on("s",G).on(":",J),b.push(G),T.on(":",J),G.on(":",J),U.on(":",Q);var te=(0,o.stateify)("localhost",E,m.LOCALHOST,m.DOMAIN);b.push.apply(b,te),E.on(y,O),O.on("-",_).on(y,O).on(w,C),C.on("-",_).on(w,C);for(var ee=0;ee<b.length;ee++)b[ee].on("-",_).on(w,C);_.on("-",_).on(y,C).on(w,C),E.defaultTransition=D(m.SYM);var L=function(ae){for(var fe=ae.replace(/[A-Z]/g,function(we){return we.toLowerCase()}),le=ae.length,re=[],$=0;$<le;){for(var oe=E,se=null,ce=0,de=null,be=-1;$<le&&(se=oe.next(fe[$]));)oe=se,oe.accepts()?(be=0,de=oe):be>=0&&be++,ce++,$++;if(!(be<0)){$-=be,ce-=be;var pe=de.emit();re.push(new pe(ae.substr($-ce,ce)))}}return re},V=E;s.State=o.CharacterState,s.TOKENS=d,s.run=L,s.start=V},25439:(z,s,e)=>{"use strict";s.__esModule=!0,s.stateify=s.TokenState=s.CharacterState=void 0;var o=e(72227);function m(){return function(w){this.j=[],this.T=w||null}}var d=m();d.prototype={defaultTransition:!1,on:function(v,b){if(v instanceof Array){for(var D=0;D<v.length;D++)this.j.push([v[D],b]);return this}return this.j.push([v,b]),this},next:function(v){for(var b=0;b<this.j.length;b++){var D=this.j[b],E=D[0],O=D[1];if(this.test(v,E))return O}return this.defaultTransition},accepts:function(){return!!this.T},test:function(v,b){return v===b},emit:function(){return this.T}};var u=(0,o.inherits)(d,m(),{test:function(v,b){return v===b||b instanceof RegExp&&b.test(v)}}),g=(0,o.inherits)(d,m(),{jump:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,D=this.next(new v(""));return D===this.defaultTransition?(D=new this.constructor(b),this.on(v,D)):b&&(D.T=b),D},test:function(v,b){return v instanceof b}});function y(w,v,b,D){for(var E=0,O=w.length,C=v,_=[],a=void 0;E<O&&(a=C.next(w[E]));)C=a,E++;if(E>=O)return[];for(;E<O-1;)a=new u(D),_.push(a),C.on(w[E],a),C=a,E++;return a=new u(b),_.push(a),C.on(w[O-1],a),_}s.CharacterState=u,s.TokenState=g,s.stateify=y},9770:(z,s)=>{"use strict";s.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}s.createTokenClass=e},23370:(z,s,e)=>{"use strict";s.__esModule=!0,s.URL=s.TEXT=s.NL=s.EMAIL=s.MAILTOEMAIL=s.Base=void 0;var o=e(9770),m=e(72227),d=e(63333);function u(E){return E instanceof d.DOMAIN||E instanceof d.TLD}var g=(0,o.createTokenClass)();g.prototype={type:"token",isLink:!1,toString:function(){for(var O=[],C=0;C<this.v.length;C++)O.push(this.v[C].toString());return O.join("")},toHref:function(){return this.toString()},toObject:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(O)}}};var y=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0}),w=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),v=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"text"}),b=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"nl"}),D=(0,m.inherits)(g,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",C=!1,_=!1,a=this.v,l=[],P=0;a[P]instanceof d.PROTOCOL;)C=!0,l.push(a[P].toString().toLowerCase()),P++;for(;a[P]instanceof d.SLASH;)_=!0,l.push(a[P].toString()),P++;for(;u(a[P]);)l.push(a[P].toString().toLowerCase()),P++;for(;P<a.length;P++)l.push(a[P].toString());return l=l.join(""),C||_||(l=O+"://"+l),l},hasProtocol:function(){return this.v[0]instanceof d.PROTOCOL}});s.Base=g,s.MAILTOEMAIL=y,s.EMAIL=w,s.NL=b,s.TEXT=v,s.URL=D},63333:(z,s,e)=>{"use strict";s.__esModule=!0,s.AMPERSAND=s.CLOSEPAREN=s.CLOSEANGLEBRACKET=s.CLOSEBRACKET=s.CLOSEBRACE=s.OPENPAREN=s.OPENANGLEBRACKET=s.OPENBRACKET=s.OPENBRACE=s.WS=s.TLD=s.SYM=s.UNDERSCORE=s.SLASH=s.MAILTO=s.PROTOCOL=s.QUERY=s.POUND=s.PLUS=s.NUM=s.NL=s.LOCALHOST=s.PUNCTUATION=s.DOT=s.COLON=s.AT=s.DOMAIN=s.Base=void 0;var o=e(9770),m=e(72227),d=(0,o.createTokenClass)();d.prototype={toString:function(){return this.v+""}};function u(V){var ne=V?{v:V}:{};return(0,m.inherits)(d,(0,o.createTokenClass)(),ne)}var g=u(),y=u("@"),w=u(":"),v=u("."),b=u(),D=u(),E=u(`
`),O=u(),C=u("+"),_=u("#"),a=u(),l=u("mailto:"),P=u("?"),S=u("/"),M=u("_"),R=u(),N=u(),T=u(),A=u("{"),F=u("["),U=u("<"),G=u("("),J=u("}"),Q=u("]"),te=u(">"),ee=u(")"),L=u("&");s.Base=d,s.DOMAIN=g,s.AT=y,s.COLON=w,s.DOT=v,s.PUNCTUATION=b,s.LOCALHOST=D,s.NL=E,s.NUM=O,s.PLUS=C,s.POUND=_,s.QUERY=P,s.PROTOCOL=a,s.MAILTO=l,s.SLASH=S,s.UNDERSCORE=M,s.SYM=R,s.TLD=N,s.WS=T,s.OPENBRACE=A,s.OPENBRACKET=F,s.OPENANGLEBRACKET=U,s.OPENPAREN=G,s.CLOSEBRACE=J,s.CLOSEBRACKET=Q,s.CLOSEANGLEBRACKET=te,s.CLOSEPAREN=ee,s.AMPERSAND=L},72227:(z,s)=>{"use strict";s.__esModule=!0,s.inherits=e;function e(o,m){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=Object.create(o.prototype);for(var g in d)u[g]=d[g];return u.constructor=m,m.prototype=u,m}},47951:(z,s)=>{"use strict";s.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o={defaultProtocol:"http",events:null,format:u,formatHref:u,nl2br:!1,tagName:"a",target:g,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};s.defaults=o,s.Options=m,s.contains=d;function m(y){y=y||{},this.defaultProtocol=y.hasOwnProperty("defaultProtocol")?y.defaultProtocol:o.defaultProtocol,this.events=y.hasOwnProperty("events")?y.events:o.events,this.format=y.hasOwnProperty("format")?y.format:o.format,this.formatHref=y.hasOwnProperty("formatHref")?y.formatHref:o.formatHref,this.nl2br=y.hasOwnProperty("nl2br")?y.nl2br:o.nl2br,this.tagName=y.hasOwnProperty("tagName")?y.tagName:o.tagName,this.target=y.hasOwnProperty("target")?y.target:o.target,this.validate=y.hasOwnProperty("validate")?y.validate:o.validate,this.ignoreTags=[],this.attributes=y.attributes||y.linkAttributes||o.attributes,this.className=y.hasOwnProperty("className")?y.className:y.linkClass||o.className;for(var w=y.hasOwnProperty("ignoreTags")?y.ignoreTags:o.ignoreTags,v=0;v<w.length;v++)this.ignoreTags.push(w[v].toUpperCase())}m.prototype={resolve:function(w){var v=w.toHref(this.defaultProtocol);return{formatted:this.get("format",w.toString(),w),formattedHref:this.get("formatHref",v,w),tagName:this.get("tagName",v,w),className:this.get("className",v,w),target:this.get("target",v,w),events:this.getObject("events",v,w),attributes:this.getObject("attributes",v,w)}},check:function(w){return this.get("validate",w.toString(),w)},get:function(w,v,b){var D=void 0,E=this[w];if(!E)return E;switch(typeof E=="undefined"?"undefined":e(E)){case"function":return E(v,b.type);case"object":return D=E.hasOwnProperty(b.type)?E[b.type]:o[w],typeof D=="function"?D(v,b.type):D}return E},getObject:function(w,v,b){var D=this[w];return typeof D=="function"?D(v,b.type):D}};function d(y,w){for(var v=0;v<y.length;v++)if(y[v]===w)return!0;return!1}function u(y){return y}function g(y,w){return w==="url"?"_blank":null}},28175:(z,s,e)=>{z.exports=e(87100).default},18552:(z,s,e)=>{var o=e(10852),m=e(55639),d=o(m,"DataView");z.exports=d},1989:(z,s,e)=>{var o=e(51789),m=e(80401),d=e(57667),u=e(21327),g=e(81866);function y(w){var v=-1,b=w==null?0:w.length;for(this.clear();++v<b;){var D=w[v];this.set(D[0],D[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=d,y.prototype.has=u,y.prototype.set=g,z.exports=y},38407:(z,s,e)=>{var o=e(27040),m=e(14125),d=e(82117),u=e(67518),g=e(54705);function y(w){var v=-1,b=w==null?0:w.length;for(this.clear();++v<b;){var D=w[v];this.set(D[0],D[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=d,y.prototype.has=u,y.prototype.set=g,z.exports=y},57071:(z,s,e)=>{var o=e(10852),m=e(55639),d=o(m,"Map");z.exports=d},83369:(z,s,e)=>{var o=e(24785),m=e(11285),d=e(96e3),u=e(49916),g=e(95265);function y(w){var v=-1,b=w==null?0:w.length;for(this.clear();++v<b;){var D=w[v];this.set(D[0],D[1])}}y.prototype.clear=o,y.prototype.delete=m,y.prototype.get=d,y.prototype.has=u,y.prototype.set=g,z.exports=y},53818:(z,s,e)=>{var o=e(10852),m=e(55639),d=o(m,"Promise");z.exports=d},58525:(z,s,e)=>{var o=e(10852),m=e(55639),d=o(m,"Set");z.exports=d},88668:(z,s,e)=>{var o=e(83369),m=e(90619),d=e(72385);function u(g){var y=-1,w=g==null?0:g.length;for(this.__data__=new o;++y<w;)this.add(g[y])}u.prototype.add=u.prototype.push=m,u.prototype.has=d,z.exports=u},46384:(z,s,e)=>{var o=e(38407),m=e(37465),d=e(63779),u=e(67599),g=e(44758),y=e(34309);function w(v){var b=this.__data__=new o(v);this.size=b.size}w.prototype.clear=m,w.prototype.delete=d,w.prototype.get=u,w.prototype.has=g,w.prototype.set=y,z.exports=w},62705:(z,s,e)=>{var o=e(55639),m=o.Symbol;z.exports=m},11149:(z,s,e)=>{var o=e(55639),m=o.Uint8Array;z.exports=m},70577:(z,s,e)=>{var o=e(10852),m=e(55639),d=o(m,"WeakMap");z.exports=d},96874:z=>{function s(e,o,m){switch(m.length){case 0:return e.call(o);case 1:return e.call(o,m[0]);case 2:return e.call(o,m[0],m[1]);case 3:return e.call(o,m[0],m[1],m[2])}return e.apply(o,m)}z.exports=s},44174:z=>{function s(e,o,m,d){for(var u=-1,g=e==null?0:e.length;++u<g;){var y=e[u];o(d,y,m(y),e)}return d}z.exports=s},34963:z=>{function s(e,o){for(var m=-1,d=e==null?0:e.length,u=0,g=[];++m<d;){var y=e[m];o(y,m,e)&&(g[u++]=y)}return g}z.exports=s},47443:(z,s,e)=>{var o=e(42118);function m(d,u){var g=d==null?0:d.length;return!!g&&o(d,u,0)>-1}z.exports=m},1196:z=>{function s(e,o,m){for(var d=-1,u=e==null?0:e.length;++d<u;)if(m(o,e[d]))return!0;return!1}z.exports=s},14636:(z,s,e)=>{var o=e(22545),m=e(35694),d=e(1469),u=e(44144),g=e(65776),y=e(36719),w=Object.prototype,v=w.hasOwnProperty;function b(D,E){var O=d(D),C=!O&&m(D),_=!O&&!C&&u(D),a=!O&&!C&&!_&&y(D),l=O||C||_||a,P=l?o(D.length,String):[],S=P.length;for(var M in D)(E||v.call(D,M))&&!(l&&(M=="length"||_&&(M=="offset"||M=="parent")||a&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||g(M,S)))&&P.push(M);return P}z.exports=b},29932:z=>{function s(e,o){for(var m=-1,d=e==null?0:e.length,u=Array(d);++m<d;)u[m]=o(e[m],m,e);return u}z.exports=s},62488:z=>{function s(e,o){for(var m=-1,d=o.length,u=e.length;++m<d;)e[u+m]=o[m];return e}z.exports=s},82908:z=>{function s(e,o){for(var m=-1,d=e==null?0:e.length;++m<d;)if(o(e[m],m,e))return!0;return!1}z.exports=s},34865:(z,s,e)=>{var o=e(89465),m=e(77813),d=Object.prototype,u=d.hasOwnProperty;function g(y,w,v){var b=y[w];(!(u.call(y,w)&&m(b,v))||v===void 0&&!(w in y))&&o(y,w,v)}z.exports=g},18470:(z,s,e)=>{var o=e(77813);function m(d,u){for(var g=d.length;g--;)if(o(d[g][0],u))return g;return-1}z.exports=m},81119:(z,s,e)=>{var o=e(89881);function m(d,u,g,y){return o(d,function(w,v,b){u(y,w,g(w),b)}),y}z.exports=m},89465:(z,s,e)=>{var o=e(38777);function m(d,u,g){u=="__proto__"&&o?o(d,u,{configurable:!0,enumerable:!0,value:g,writable:!0}):d[u]=g}z.exports=m},20731:(z,s,e)=>{var o=e(88668),m=e(47443),d=e(1196),u=e(29932),g=e(7518),y=e(74757),w=200;function v(b,D,E,O){var C=-1,_=m,a=!0,l=b.length,P=[],S=D.length;if(!l)return P;E&&(D=u(D,g(E))),O?(_=d,a=!1):D.length>=w&&(_=y,a=!1,D=new o(D));e:for(;++C<l;){var M=b[C],R=E==null?M:E(M);if(M=O||M!==0?M:0,a&&R===R){for(var N=S;N--;)if(D[N]===R)continue e;P.push(M)}else _(D,R,O)||P.push(M)}return P}z.exports=v},89881:(z,s,e)=>{var o=e(47816),m=e(99291),d=m(o);z.exports=d},56029:(z,s,e)=>{var o=e(33448);function m(d,u,g){for(var y=-1,w=d.length;++y<w;){var v=d[y],b=u(v);if(b!=null&&(D===void 0?b===b&&!o(b):g(b,D)))var D=b,E=v}return E}z.exports=m},41848:z=>{function s(e,o,m,d){for(var u=e.length,g=m+(d?1:-1);d?g--:++g<u;)if(o(e[g],g,e))return g;return-1}z.exports=s},21078:(z,s,e)=>{var o=e(62488),m=e(37285);function d(u,g,y,w,v){var b=-1,D=u.length;for(y||(y=m),v||(v=[]);++b<D;){var E=u[b];g>0&&y(E)?g>1?d(E,g-1,y,w,v):o(v,E):w||(v[v.length]=E)}return v}z.exports=d},28483:(z,s,e)=>{var o=e(25063),m=o();z.exports=m},47816:(z,s,e)=>{var o=e(28483),m=e(3674);function d(u,g){return u&&o(u,g,m)}z.exports=d},97786:(z,s,e)=>{var o=e(71811),m=e(40327);function d(u,g){g=o(g,u);for(var y=0,w=g.length;u!=null&&y<w;)u=u[m(g[y++])];return y&&y==w?u:void 0}z.exports=d},68866:(z,s,e)=>{var o=e(62488),m=e(1469);function d(u,g,y){var w=g(u);return m(u)?w:o(w,y(u))}z.exports=d},44239:(z,s,e)=>{var o=e(62705),m=e(89607),d=e(2333),u="[object Null]",g="[object Undefined]",y=o?o.toStringTag:void 0;function w(v){return v==null?v===void 0?g:u:y&&y in Object(v)?m(v):d(v)}z.exports=w},53325:z=>{function s(e,o){return e>o}z.exports=s},13:z=>{function s(e,o){return e!=null&&o in Object(e)}z.exports=s},42118:(z,s,e)=>{var o=e(41848),m=e(62722),d=e(42351);function u(g,y,w){return y===y?d(g,y,w):o(g,m,w)}z.exports=u},9454:(z,s,e)=>{var o=e(44239),m=e(37005),d="[object Arguments]";function u(g){return m(g)&&o(g)==d}z.exports=u},90939:(z,s,e)=>{var o=e(2492),m=e(37005);function d(u,g,y,w,v){return u===g?!0:u==null||g==null||!m(u)&&!m(g)?u!==u&&g!==g:o(u,g,y,w,d,v)}z.exports=d},2492:(z,s,e)=>{var o=e(46384),m=e(67114),d=e(18351),u=e(16096),g=e(64160),y=e(1469),w=e(44144),v=e(36719),b=1,D="[object Arguments]",E="[object Array]",O="[object Object]",C=Object.prototype,_=C.hasOwnProperty;function a(l,P,S,M,R,N){var T=y(l),A=y(P),F=T?E:g(l),U=A?E:g(P);F=F==D?O:F,U=U==D?O:U;var G=F==O,J=U==O,Q=F==U;if(Q&&w(l)){if(!w(P))return!1;T=!0,G=!1}if(Q&&!G)return N||(N=new o),T||v(l)?m(l,P,S,M,R,N):d(l,P,F,S,M,R,N);if(!(S&b)){var te=G&&_.call(l,"__wrapped__"),ee=J&&_.call(P,"__wrapped__");if(te||ee){var L=te?l.value():l,V=ee?P.value():P;return N||(N=new o),R(L,V,S,M,N)}}return Q?(N||(N=new o),u(l,P,S,M,R,N)):!1}z.exports=a},2958:(z,s,e)=>{var o=e(46384),m=e(90939),d=1,u=2;function g(y,w,v,b){var D=v.length,E=D,O=!b;if(y==null)return!E;for(y=Object(y);D--;){var C=v[D];if(O&&C[2]?C[1]!==y[C[0]]:!(C[0]in y))return!1}for(;++D<E;){C=v[D];var _=C[0],a=y[_],l=C[1];if(O&&C[2]){if(a===void 0&&!(_ in y))return!1}else{var P=new o;if(b)var S=b(a,l,_,y,w,P);if(!(S===void 0?m(l,a,d|u,b,P):S))return!1}}return!0}z.exports=g},62722:z=>{function s(e){return e!==e}z.exports=s},28458:(z,s,e)=>{var o=e(23560),m=e(15346),d=e(13218),u=e(80346),g=/[\\^$.*+?()[\]{}|]/g,y=/^\[object .+?Constructor\]$/,w=Function.prototype,v=Object.prototype,b=w.toString,D=v.hasOwnProperty,E=RegExp("^"+b.call(D).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O(C){if(!d(C)||m(C))return!1;var _=o(C)?E:y;return _.test(u(C))}z.exports=O},38749:(z,s,e)=>{var o=e(44239),m=e(41780),d=e(37005),u="[object Arguments]",g="[object Array]",y="[object Boolean]",w="[object Date]",v="[object Error]",b="[object Function]",D="[object Map]",E="[object Number]",O="[object Object]",C="[object RegExp]",_="[object Set]",a="[object String]",l="[object WeakMap]",P="[object ArrayBuffer]",S="[object DataView]",M="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",G="[object Uint16Array]",J="[object Uint32Array]",Q={};Q[M]=Q[R]=Q[N]=Q[T]=Q[A]=Q[F]=Q[U]=Q[G]=Q[J]=!0,Q[u]=Q[g]=Q[P]=Q[y]=Q[S]=Q[w]=Q[v]=Q[b]=Q[D]=Q[E]=Q[O]=Q[C]=Q[_]=Q[a]=Q[l]=!1;function te(ee){return d(ee)&&m(ee.length)&&!!Q[o(ee)]}z.exports=te},67206:(z,s,e)=>{var o=e(91573),m=e(16432),d=e(6557),u=e(1469),g=e(39601);function y(w){return typeof w=="function"?w:w==null?d:typeof w=="object"?u(w)?m(w[0],w[1]):o(w):g(w)}z.exports=y},280:(z,s,e)=>{var o=e(25726),m=e(86916),d=Object.prototype,u=d.hasOwnProperty;function g(y){if(!o(y))return m(y);var w=[];for(var v in Object(y))u.call(y,v)&&v!="constructor"&&w.push(v);return w}z.exports=g},69199:(z,s,e)=>{var o=e(89881),m=e(98612);function d(u,g){var y=-1,w=m(u)?Array(u.length):[];return o(u,function(v,b,D){w[++y]=g(v,b,D)}),w}z.exports=d},91573:(z,s,e)=>{var o=e(2958),m=e(1499),d=e(42634);function u(g){var y=m(g);return y.length==1&&y[0][2]?d(y[0][0],y[0][1]):function(w){return w===g||o(w,g,y)}}z.exports=u},16432:(z,s,e)=>{var o=e(90939),m=e(27361),d=e(79095),u=e(15403),g=e(89162),y=e(42634),w=e(40327),v=1,b=2;function D(E,O){return u(E)&&g(O)?y(w(E),O):function(C){var _=m(C,E);return _===void 0&&_===O?d(C,E):o(O,_,v|b)}}z.exports=D},82689:(z,s,e)=>{var o=e(29932),m=e(97786),d=e(67206),u=e(69199),g=e(71131),y=e(7518),w=e(85022),v=e(6557),b=e(1469);function D(E,O,C){O.length?O=o(O,function(l){return b(l)?function(P){return m(P,l.length===1?l[0]:l)}:l}):O=[v];var _=-1;O=o(O,y(d));var a=u(E,function(l,P,S){var M=o(O,function(R){return R(l)});return{criteria:M,index:++_,value:l}});return g(a,function(l,P){return w(l,P,C)})}z.exports=D},25970:(z,s,e)=>{var o=e(63012),m=e(79095);function d(u,g){return o(u,g,function(y,w){return m(u,w)})}z.exports=d},63012:(z,s,e)=>{var o=e(97786),m=e(10611),d=e(71811);function u(g,y,w){for(var v=-1,b=y.length,D={};++v<b;){var E=y[v],O=o(g,E);w(O,E)&&m(D,d(E,g),O)}return D}z.exports=u},40371:z=>{function s(e){return function(o){return o==null?void 0:o[e]}}z.exports=s},79152:(z,s,e)=>{var o=e(97786);function m(d){return function(u){return o(u,d)}}z.exports=m},5976:(z,s,e)=>{var o=e(6557),m=e(45357),d=e(30061);function u(g,y){return d(m(g,y,o),g+"")}z.exports=u},10611:(z,s,e)=>{var o=e(34865),m=e(71811),d=e(65776),u=e(13218),g=e(40327);function y(w,v,b,D){if(!u(w))return w;v=m(v,w);for(var E=-1,O=v.length,C=O-1,_=w;_!=null&&++E<O;){var a=g(v[E]),l=b;if(a==="__proto__"||a==="constructor"||a==="prototype")return w;if(E!=C){var P=_[a];l=D?D(P,a,_):void 0,l===void 0&&(l=u(P)?P:d(v[E+1])?[]:{})}o(_,a,l),_=_[a]}return w}z.exports=y},56560:(z,s,e)=>{var o=e(75703),m=e(38777),d=e(6557),u=m?function(g,y){return m(g,"toString",{configurable:!0,enumerable:!1,value:o(y),writable:!0})}:d;z.exports=u},71131:z=>{function s(e,o){var m=e.length;for(e.sort(o);m--;)e[m]=e[m].value;return e}z.exports=s},67762:z=>{function s(e,o){for(var m,d=-1,u=e.length;++d<u;){var g=o(e[d]);g!==void 0&&(m=m===void 0?g:m+g)}return m}z.exports=s},22545:z=>{function s(e,o){for(var m=-1,d=Array(e);++m<e;)d[m]=o(m);return d}z.exports=s},80531:(z,s,e)=>{var o=e(62705),m=e(29932),d=e(1469),u=e(33448),g=1/0,y=o?o.prototype:void 0,w=y?y.toString:void 0;function v(b){if(typeof b=="string")return b;if(d(b))return m(b,v)+"";if(u(b))return w?w.call(b):"";var D=b+"";return D=="0"&&1/b==-g?"-0":D}z.exports=v},27561:(z,s,e)=>{var o=e(67990),m=/^\s+/;function d(u){return u&&u.slice(0,o(u)+1).replace(m,"")}z.exports=d},7518:z=>{function s(e){return function(o){return e(o)}}z.exports=s},45652:(z,s,e)=>{var o=e(88668),m=e(47443),d=e(1196),u=e(74757),g=e(23593),y=e(21814),w=200;function v(b,D,E){var O=-1,C=m,_=b.length,a=!0,l=[],P=l;if(E)a=!1,C=d;else if(_>=w){var S=D?null:g(b);if(S)return y(S);a=!1,C=u,P=new o}else P=D?[]:l;e:for(;++O<_;){var M=b[O],R=D?D(M):M;if(M=E||M!==0?M:0,a&&R===R){for(var N=P.length;N--;)if(P[N]===R)continue e;D&&P.push(R),l.push(M)}else C(P,R,E)||(P!==l&&P.push(R),l.push(M))}return l}z.exports=v},74757:z=>{function s(e,o){return e.has(o)}z.exports=s},54290:(z,s,e)=>{var o=e(6557);function m(d){return typeof d=="function"?d:o}z.exports=m},71811:(z,s,e)=>{var o=e(1469),m=e(15403),d=e(55514),u=e(79833);function g(y,w){return o(y)?y:m(y,w)?[y]:d(u(y))}z.exports=g},26393:(z,s,e)=>{var o=e(33448);function m(d,u){if(d!==u){var g=d!==void 0,y=d===null,w=d===d,v=o(d),b=u!==void 0,D=u===null,E=u===u,O=o(u);if(!D&&!O&&!v&&d>u||v&&b&&E&&!D&&!O||y&&b&&E||!g&&E||!w)return 1;if(!y&&!v&&!O&&d<u||O&&g&&w&&!y&&!v||D&&g&&w||!b&&w||!E)return-1}return 0}z.exports=m},85022:(z,s,e)=>{var o=e(26393);function m(d,u,g){for(var y=-1,w=d.criteria,v=u.criteria,b=w.length,D=g.length;++y<b;){var E=o(w[y],v[y]);if(E){if(y>=D)return E;var O=g[y];return E*(O=="desc"?-1:1)}}return d.index-u.index}z.exports=m},14429:(z,s,e)=>{var o=e(55639),m=o["__core-js_shared__"];z.exports=m},55189:(z,s,e)=>{var o=e(44174),m=e(81119),d=e(67206),u=e(1469);function g(y,w){return function(v,b){var D=u(v)?o:m,E=w?w():{};return D(v,y,d(b,2),E)}}z.exports=g},99291:(z,s,e)=>{var o=e(98612);function m(d,u){return function(g,y){if(g==null)return g;if(!o(g))return d(g,y);for(var w=g.length,v=u?w:-1,b=Object(g);(u?v--:++v<w)&&y(b[v],v,b)!==!1;);return g}}z.exports=m},25063:z=>{function s(e){return function(o,m,d){for(var u=-1,g=Object(o),y=d(o),w=y.length;w--;){var v=y[e?w:++u];if(m(g[v],v,g)===!1)break}return o}}z.exports=s},23593:(z,s,e)=>{var o=e(58525),m=e(50308),d=e(21814),u=1/0,g=o&&1/d(new o([,-0]))[1]==u?function(y){return new o(y)}:m;z.exports=g},38777:(z,s,e)=>{var o=e(10852),m=function(){try{var d=o(Object,"defineProperty");return d({},"",{}),d}catch(u){}}();z.exports=m},67114:(z,s,e)=>{var o=e(88668),m=e(82908),d=e(74757),u=1,g=2;function y(w,v,b,D,E,O){var C=b&u,_=w.length,a=v.length;if(_!=a&&!(C&&a>_))return!1;var l=O.get(w),P=O.get(v);if(l&&P)return l==v&&P==w;var S=-1,M=!0,R=b&g?new o:void 0;for(O.set(w,v),O.set(v,w);++S<_;){var N=w[S],T=v[S];if(D)var A=C?D(T,N,S,v,w,O):D(N,T,S,w,v,O);if(A!==void 0){if(A)continue;M=!1;break}if(R){if(!m(v,function(F,U){if(!d(R,U)&&(N===F||E(N,F,b,D,O)))return R.push(U)})){M=!1;break}}else if(!(N===T||E(N,T,b,D,O))){M=!1;break}}return O.delete(w),O.delete(v),M}z.exports=y},18351:(z,s,e)=>{var o=e(62705),m=e(11149),d=e(77813),u=e(67114),g=e(68776),y=e(21814),w=1,v=2,b="[object Boolean]",D="[object Date]",E="[object Error]",O="[object Map]",C="[object Number]",_="[object RegExp]",a="[object Set]",l="[object String]",P="[object Symbol]",S="[object ArrayBuffer]",M="[object DataView]",R=o?o.prototype:void 0,N=R?R.valueOf:void 0;function T(A,F,U,G,J,Q,te){switch(U){case M:if(A.byteLength!=F.byteLength||A.byteOffset!=F.byteOffset)return!1;A=A.buffer,F=F.buffer;case S:return!(A.byteLength!=F.byteLength||!Q(new m(A),new m(F)));case b:case D:case C:return d(+A,+F);case E:return A.name==F.name&&A.message==F.message;case _:case l:return A==F+"";case O:var ee=g;case a:var L=G&w;if(ee||(ee=y),A.size!=F.size&&!L)return!1;var V=te.get(A);if(V)return V==F;G|=v,te.set(A,F);var ne=u(ee(A),ee(F),G,J,Q,te);return te.delete(A),ne;case P:if(N)return N.call(A)==N.call(F)}return!1}z.exports=T},16096:(z,s,e)=>{var o=e(58234),m=1,d=Object.prototype,u=d.hasOwnProperty;function g(y,w,v,b,D,E){var O=v&m,C=o(y),_=C.length,a=o(w),l=a.length;if(_!=l&&!O)return!1;for(var P=_;P--;){var S=C[P];if(!(O?S in w:u.call(w,S)))return!1}var M=E.get(y),R=E.get(w);if(M&&R)return M==w&&R==y;var N=!0;E.set(y,w),E.set(w,y);for(var T=O;++P<_;){S=C[P];var A=y[S],F=w[S];if(b)var U=O?b(F,A,S,w,y,E):b(A,F,S,y,w,E);if(!(U===void 0?A===F||D(A,F,v,b,E):U)){N=!1;break}T||(T=S=="constructor")}if(N&&!T){var G=y.constructor,J=w.constructor;G!=J&&"constructor"in y&&"constructor"in w&&!(typeof G=="function"&&G instanceof G&&typeof J=="function"&&J instanceof J)&&(N=!1)}return E.delete(y),E.delete(w),N}z.exports=g},99021:(z,s,e)=>{var o=e(85564),m=e(45357),d=e(30061);function u(g){return d(m(g,void 0,o),g+"")}z.exports=u},31957:(z,s,e)=>{var o=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;z.exports=o},58234:(z,s,e)=>{var o=e(68866),m=e(99551),d=e(3674);function u(g){return o(g,d,m)}z.exports=u},45050:(z,s,e)=>{var o=e(37019);function m(d,u){var g=d.__data__;return o(u)?g[typeof u=="string"?"string":"hash"]:g.map}z.exports=m},1499:(z,s,e)=>{var o=e(89162),m=e(3674);function d(u){for(var g=m(u),y=g.length;y--;){var w=g[y],v=u[w];g[y]=[w,v,o(v)]}return g}z.exports=d},10852:(z,s,e)=>{var o=e(28458),m=e(47801);function d(u,g){var y=m(u,g);return o(y)?y:void 0}z.exports=d},89607:(z,s,e)=>{var o=e(62705),m=Object.prototype,d=m.hasOwnProperty,u=m.toString,g=o?o.toStringTag:void 0;function y(w){var v=d.call(w,g),b=w[g];try{w[g]=void 0;var D=!0}catch(O){}var E=u.call(w);return D&&(v?w[g]=b:delete w[g]),E}z.exports=y},99551:(z,s,e)=>{var o=e(34963),m=e(70479),d=Object.prototype,u=d.propertyIsEnumerable,g=Object.getOwnPropertySymbols,y=g?function(w){return w==null?[]:(w=Object(w),o(g(w),function(v){return u.call(w,v)}))}:m;z.exports=y},64160:(z,s,e)=>{var o=e(18552),m=e(57071),d=e(53818),u=e(58525),g=e(70577),y=e(44239),w=e(80346),v="[object Map]",b="[object Object]",D="[object Promise]",E="[object Set]",O="[object WeakMap]",C="[object DataView]",_=w(o),a=w(m),l=w(d),P=w(u),S=w(g),M=y;(o&&M(new o(new ArrayBuffer(1)))!=C||m&&M(new m)!=v||d&&M(d.resolve())!=D||u&&M(new u)!=E||g&&M(new g)!=O)&&(M=function(R){var N=y(R),T=N==b?R.constructor:void 0,A=T?w(T):"";if(A)switch(A){case _:return C;case a:return v;case l:return D;case P:return E;case S:return O}return N}),z.exports=M},47801:z=>{function s(e,o){return e==null?void 0:e[o]}z.exports=s},222:(z,s,e)=>{var o=e(71811),m=e(35694),d=e(1469),u=e(65776),g=e(41780),y=e(40327);function w(v,b,D){b=o(b,v);for(var E=-1,O=b.length,C=!1;++E<O;){var _=y(b[E]);if(!(C=v!=null&&D(v,_)))break;v=v[_]}return C||++E!=O?C:(O=v==null?0:v.length,!!O&&g(O)&&u(_,O)&&(d(v)||m(v)))}z.exports=w},51789:(z,s,e)=>{var o=e(94536);function m(){this.__data__=o?o(null):{},this.size=0}z.exports=m},80401:z=>{function s(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}z.exports=s},57667:(z,s,e)=>{var o=e(94536),m="__lodash_hash_undefined__",d=Object.prototype,u=d.hasOwnProperty;function g(y){var w=this.__data__;if(o){var v=w[y];return v===m?void 0:v}return u.call(w,y)?w[y]:void 0}z.exports=g},21327:(z,s,e)=>{var o=e(94536),m=Object.prototype,d=m.hasOwnProperty;function u(g){var y=this.__data__;return o?y[g]!==void 0:d.call(y,g)}z.exports=u},81866:(z,s,e)=>{var o=e(94536),m="__lodash_hash_undefined__";function d(u,g){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=o&&g===void 0?m:g,this}z.exports=d},37285:(z,s,e)=>{var o=e(62705),m=e(35694),d=e(1469),u=o?o.isConcatSpreadable:void 0;function g(y){return d(y)||m(y)||!!(u&&y&&y[u])}z.exports=g},65776:z=>{var s=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(m,d){var u=typeof m;return d=d==null?s:d,!!d&&(u=="number"||u!="symbol"&&e.test(m))&&m>-1&&m%1==0&&m<d}z.exports=o},16612:(z,s,e)=>{var o=e(77813),m=e(98612),d=e(65776),u=e(13218);function g(y,w,v){if(!u(v))return!1;var b=typeof w;return(b=="number"?m(v)&&d(w,v.length):b=="string"&&w in v)?o(v[w],y):!1}z.exports=g},15403:(z,s,e)=>{var o=e(1469),m=e(33448),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;function g(y,w){if(o(y))return!1;var v=typeof y;return v=="number"||v=="symbol"||v=="boolean"||y==null||m(y)?!0:u.test(y)||!d.test(y)||w!=null&&y in Object(w)}z.exports=g},37019:z=>{function s(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}z.exports=s},15346:(z,s,e)=>{var o=e(14429),m=function(){var u=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();function d(u){return!!m&&m in u}z.exports=d},25726:z=>{var s=Object.prototype;function e(o){var m=o&&o.constructor,d=typeof m=="function"&&m.prototype||s;return o===d}z.exports=e},89162:(z,s,e)=>{var o=e(13218);function m(d){return d===d&&!o(d)}z.exports=m},27040:z=>{function s(){this.__data__=[],this.size=0}z.exports=s},14125:(z,s,e)=>{var o=e(18470),m=Array.prototype,d=m.splice;function u(g){var y=this.__data__,w=o(y,g);if(w<0)return!1;var v=y.length-1;return w==v?y.pop():d.call(y,w,1),--this.size,!0}z.exports=u},82117:(z,s,e)=>{var o=e(18470);function m(d){var u=this.__data__,g=o(u,d);return g<0?void 0:u[g][1]}z.exports=m},67518:(z,s,e)=>{var o=e(18470);function m(d){return o(this.__data__,d)>-1}z.exports=m},54705:(z,s,e)=>{var o=e(18470);function m(d,u){var g=this.__data__,y=o(g,d);return y<0?(++this.size,g.push([d,u])):g[y][1]=u,this}z.exports=m},24785:(z,s,e)=>{var o=e(1989),m=e(38407),d=e(57071);function u(){this.size=0,this.__data__={hash:new o,map:new(d||m),string:new o}}z.exports=u},11285:(z,s,e)=>{var o=e(45050);function m(d){var u=o(this,d).delete(d);return this.size-=u?1:0,u}z.exports=m},96e3:(z,s,e)=>{var o=e(45050);function m(d){return o(this,d).get(d)}z.exports=m},49916:(z,s,e)=>{var o=e(45050);function m(d){return o(this,d).has(d)}z.exports=m},95265:(z,s,e)=>{var o=e(45050);function m(d,u){var g=o(this,d),y=g.size;return g.set(d,u),this.size+=g.size==y?0:1,this}z.exports=m},68776:z=>{function s(e){var o=-1,m=Array(e.size);return e.forEach(function(d,u){m[++o]=[u,d]}),m}z.exports=s},42634:z=>{function s(e,o){return function(m){return m==null?!1:m[e]===o&&(o!==void 0||e in Object(m))}}z.exports=s},24523:(z,s,e)=>{var o=e(88306),m=500;function d(u){var g=o(u,function(w){return y.size===m&&y.clear(),w}),y=g.cache;return g}z.exports=d},94536:(z,s,e)=>{var o=e(10852),m=o(Object,"create");z.exports=m},86916:(z,s,e)=>{var o=e(5569),m=o(Object.keys,Object);z.exports=m},31167:(z,s,e)=>{z=e.nmd(z);var o=e(31957),m=s&&!s.nodeType&&s,d=m&&!0&&z&&!z.nodeType&&z,u=d&&d.exports===m,g=u&&o.process,y=function(){try{var w=d&&d.require&&d.require("util").types;return w||g&&g.binding&&g.binding("util")}catch(v){}}();z.exports=y},2333:z=>{var s=Object.prototype,e=s.toString;function o(m){return e.call(m)}z.exports=o},5569:z=>{function s(e,o){return function(m){return e(o(m))}}z.exports=s},45357:(z,s,e)=>{var o=e(96874),m=Math.max;function d(u,g,y){return g=m(g===void 0?u.length-1:g,0),function(){for(var w=arguments,v=-1,b=m(w.length-g,0),D=Array(b);++v<b;)D[v]=w[g+v];v=-1;for(var E=Array(g+1);++v<g;)E[v]=w[v];return E[g]=y(D),o(u,this,E)}}z.exports=d},55639:(z,s,e)=>{var o=e(31957),m=typeof self=="object"&&self&&self.Object===Object&&self,d=o||m||Function("return this")();z.exports=d},90619:z=>{var s="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,s),this}z.exports=e},72385:z=>{function s(e){return this.__data__.has(e)}z.exports=s},21814:z=>{function s(e){var o=-1,m=Array(e.size);return e.forEach(function(d){m[++o]=d}),m}z.exports=s},30061:(z,s,e)=>{var o=e(56560),m=e(21275),d=m(o);z.exports=d},21275:z=>{var s=800,e=16,o=Date.now;function m(d){var u=0,g=0;return function(){var y=o(),w=e-(y-g);if(g=y,w>0){if(++u>=s)return arguments[0]}else u=0;return d.apply(void 0,arguments)}}z.exports=m},37465:(z,s,e)=>{var o=e(38407);function m(){this.__data__=new o,this.size=0}z.exports=m},63779:z=>{function s(e){var o=this.__data__,m=o.delete(e);return this.size=o.size,m}z.exports=s},67599:z=>{function s(e){return this.__data__.get(e)}z.exports=s},44758:z=>{function s(e){return this.__data__.has(e)}z.exports=s},34309:(z,s,e)=>{var o=e(38407),m=e(57071),d=e(83369),u=200;function g(y,w){var v=this.__data__;if(v instanceof o){var b=v.__data__;if(!m||b.length<u-1)return b.push([y,w]),this.size=++v.size,this;v=this.__data__=new d(b)}return v.set(y,w),this.size=v.size,this}z.exports=g},42351:z=>{function s(e,o,m){for(var d=m-1,u=e.length;++d<u;)if(e[d]===o)return d;return-1}z.exports=s},55514:(z,s,e)=>{var o=e(24523),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,u=o(function(g){var y=[];return g.charCodeAt(0)===46&&y.push(""),g.replace(m,function(w,v,b,D){y.push(b?D.replace(d,"$1"):v||w)}),y});z.exports=u},40327:(z,s,e)=>{var o=e(33448),m=1/0;function d(u){if(typeof u=="string"||o(u))return u;var g=u+"";return g=="0"&&1/u==-m?"-0":g}z.exports=d},80346:z=>{var s=Function.prototype,e=s.toString;function o(m){if(m!=null){try{return e.call(m)}catch(d){}try{return m+""}catch(d){}}return""}z.exports=o},67990:z=>{var s=/\s/;function e(o){for(var m=o.length;m--&&s.test(o.charAt(m)););return m}z.exports=e},39693:z=>{function s(e){for(var o=-1,m=e==null?0:e.length,d=0,u=[];++o<m;){var g=e[o];g&&(u[d++]=g)}return u}z.exports=s},75703:z=>{function s(e){return function(){return e}}z.exports=s},23279:(z,s,e)=>{var o=e(13218),m=e(7771),d=e(14841),u="Expected a function",g=Math.max,y=Math.min;function w(v,b,D){var E,O,C,_,a,l,P=0,S=!1,M=!1,R=!0;if(typeof v!="function")throw new TypeError(u);b=d(b)||0,o(D)&&(S=!!D.leading,M="maxWait"in D,C=M?g(d(D.maxWait)||0,b):C,R="trailing"in D?!!D.trailing:R);function N(ee){var L=E,V=O;return E=O=void 0,P=ee,_=v.apply(V,L),_}function T(ee){return P=ee,a=setTimeout(U,b),S?N(ee):_}function A(ee){var L=ee-l,V=ee-P,ne=b-L;return M?y(ne,C-V):ne}function F(ee){var L=ee-l,V=ee-P;return l===void 0||L>=b||L<0||M&&V>=C}function U(){var ee=m();if(F(ee))return G(ee);a=setTimeout(U,A(ee))}function G(ee){return a=void 0,R&&E?N(ee):(E=O=void 0,_)}function J(){a!==void 0&&clearTimeout(a),P=0,E=l=O=a=void 0}function Q(){return a===void 0?_:G(m())}function te(){var ee=m(),L=F(ee);if(E=arguments,O=this,l=ee,L){if(a===void 0)return T(l);if(M)return clearTimeout(a),a=setTimeout(U,b),N(l)}return a===void 0&&(a=setTimeout(U,b)),_}return te.cancel=J,te.flush=Q,te}z.exports=w},77813:z=>{function s(e,o){return e===o||e!==e&&o!==o}z.exports=s},7436:(z,s,e)=>{var o=e(41848),m=e(67206),d=e(40554),u=Math.max,g=Math.min;function y(w,v,b){var D=w==null?0:w.length;if(!D)return-1;var E=D-1;return b!==void 0&&(E=d(b),E=b<0?u(D+E,0):g(E,D-1)),o(w,m(v,3),E,!0)}z.exports=y},85564:(z,s,e)=>{var o=e(21078);function m(d){var u=d==null?0:d.length;return u?o(d,1):[]}z.exports=m},27361:(z,s,e)=>{var o=e(97786);function m(d,u,g){var y=d==null?void 0:o(d,u);return y===void 0?g:y}z.exports=m},7739:(z,s,e)=>{var o=e(89465),m=e(55189),d=Object.prototype,u=d.hasOwnProperty,g=m(function(y,w,v){u.call(y,v)?y[v].push(w):o(y,v,[w])});z.exports=g},79095:(z,s,e)=>{var o=e(13),m=e(222);function d(u,g){return u!=null&&m(u,g,o)}z.exports=d},6557:z=>{function s(e){return e}z.exports=s},35694:(z,s,e)=>{var o=e(9454),m=e(37005),d=Object.prototype,u=d.hasOwnProperty,g=d.propertyIsEnumerable,y=o(function(){return arguments}())?o:function(w){return m(w)&&u.call(w,"callee")&&!g.call(w,"callee")};z.exports=y},1469:z=>{var s=Array.isArray;z.exports=s},98612:(z,s,e)=>{var o=e(23560),m=e(41780);function d(u){return u!=null&&m(u.length)&&!o(u)}z.exports=d},29246:(z,s,e)=>{var o=e(98612),m=e(37005);function d(u){return m(u)&&o(u)}z.exports=d},44144:(z,s,e)=>{z=e.nmd(z);var o=e(55639),m=e(95062),d=s&&!s.nodeType&&s,u=d&&!0&&z&&!z.nodeType&&z,g=u&&u.exports===d,y=g?o.Buffer:void 0,w=y?y.isBuffer:void 0,v=w||m;z.exports=v},18446:(z,s,e)=>{var o=e(90939);function m(d,u){return o(d,u)}z.exports=m},23560:(z,s,e)=>{var o=e(44239),m=e(13218),d="[object AsyncFunction]",u="[object Function]",g="[object GeneratorFunction]",y="[object Proxy]";function w(v){if(!m(v))return!1;var b=o(v);return b==u||b==g||b==d||b==y}z.exports=w},41780:z=>{var s=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=s}z.exports=e},13218:z=>{function s(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}z.exports=s},37005:z=>{function s(e){return e!=null&&typeof e=="object"}z.exports=s},33448:(z,s,e)=>{var o=e(44239),m=e(37005),d="[object Symbol]";function u(g){return typeof g=="symbol"||m(g)&&o(g)==d}z.exports=u},36719:(z,s,e)=>{var o=e(38749),m=e(7518),d=e(31167),u=d&&d.isTypedArray,g=u?m(u):o;z.exports=g},3674:(z,s,e)=>{var o=e(14636),m=e(280),d=e(98612);function u(g){return d(g)?o(g):m(g)}z.exports=u},10928:z=>{function s(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}z.exports=s},84753:(z,s,e)=>{var o=e(56029),m=e(53325),d=e(67206);function u(g,y){return g&&g.length?o(g,d(y,2),m):void 0}z.exports=u},88306:(z,s,e)=>{var o=e(83369),m="Expected a function";function d(u,g){if(typeof u!="function"||g!=null&&typeof g!="function")throw new TypeError(m);var y=function(){var w=arguments,v=g?g.apply(this,w):w[0],b=y.cache;if(b.has(v))return b.get(v);var D=u.apply(this,w);return y.cache=b.set(v,D)||b,D};return y.cache=new(d.Cache||o),y}d.Cache=o,z.exports=d},50308:z=>{function s(){}z.exports=s},7771:(z,s,e)=>{var o=e(55639),m=function(){return o.Date.now()};z.exports=m},43174:(z,s,e)=>{var o=e(55189),m=o(function(d,u,g){d[g?0:1].push(u)},function(){return[[],[]]});z.exports=m},78718:(z,s,e)=>{var o=e(25970),m=e(99021),d=m(function(u,g){return u==null?{}:o(u,g)});z.exports=d},39601:(z,s,e)=>{var o=e(40371),m=e(79152),d=e(15403),u=e(40327);function g(y){return d(y)?o(u(y)):m(y)}z.exports=g},89734:(z,s,e)=>{var o=e(21078),m=e(82689),d=e(5976),u=e(16612),g=d(function(y,w){if(y==null)return[];var v=w.length;return v>1&&u(y,w[0],w[1])?w=[]:v>2&&u(w[0],w[1],w[2])&&(w=[w[0]]),m(y,o(w,1),[])});z.exports=g},70479:z=>{function s(){return[]}z.exports=s},95062:z=>{function s(){return!1}z.exports=s},12297:(z,s,e)=>{var o=e(67762),m=e(6557);function d(u){return u&&u.length?o(u,m):0}z.exports=d},23493:(z,s,e)=>{var o=e(23279),m=e(13218),d="Expected a function";function u(g,y,w){var v=!0,b=!0;if(typeof g!="function")throw new TypeError(d);return m(w)&&(v="leading"in w?!!w.leading:v,b="trailing"in w?!!w.trailing:b),o(g,y,{leading:v,maxWait:y,trailing:b})}z.exports=u},98913:(z,s,e)=>{var o=e(22545),m=e(54290),d=e(40554),u=9007199254740991,g=4294967295,y=Math.min;function w(v,b){if(v=d(v),v<1||v>u)return[];var D=g,E=y(v,g);b=m(b),v-=g;for(var O=o(E,b);++D<v;)b(D);return O}z.exports=w},18601:(z,s,e)=>{var o=e(14841),m=1/0,d=17976931348623157e292;function u(g){if(!g)return g===0?g:0;if(g=o(g),g===m||g===-m){var y=g<0?-1:1;return y*d}return g===g?g:0}z.exports=u},40554:(z,s,e)=>{var o=e(18601);function m(d){var u=o(d),g=u%1;return u===u?g?u-g:u:0}z.exports=m},14841:(z,s,e)=>{var o=e(27561),m=e(13218),d=e(33448),u=0/0,g=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,w=/^0o[0-7]+$/i,v=parseInt;function b(D){if(typeof D=="number")return D;if(d(D))return u;if(m(D)){var E=typeof D.valueOf=="function"?D.valueOf():D;D=m(E)?E+"":E}if(typeof D!="string")return D===0?D:+D;D=o(D);var O=y.test(D);return O||w.test(D)?v(D.slice(2),O?2:8):g.test(D)?u:+D}z.exports=b},79833:(z,s,e)=>{var o=e(80531);function m(d){return d==null?"":o(d)}z.exports=m},44908:(z,s,e)=>{var o=e(45652);function m(d){return d&&d.length?o(d):[]}z.exports=m},45578:(z,s,e)=>{var o=e(67206),m=e(45652);function d(u,g){return u&&u.length?m(u,o(g,2)):[]}z.exports=d},73955:(z,s,e)=>{var o=e(79833),m=0;function d(u){var g=++m;return o(u)+g}z.exports=d},82569:(z,s,e)=>{var o=e(20731),m=e(5976),d=e(29246),u=m(function(g,y){return d(g)?o(g,y):[]});z.exports=u},87021:(z,s,e)=>{"use strict";e.d(s,{Z:()=>u});var o=e(6400),m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const d=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u=(g,y)=>{const w=_=>{var a=_,{color:v="currentColor",size:b=24,strokeWidth:D=2,absoluteStrokeWidth:E,children:O}=a,C=Zi(a,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,o.h)("svg",or(Fo(or({},m),{width:String(b),height:b,stroke:v,["stroke-width"]:E?Number(D)*24/Number(b):D,class:`lucide lucide-${d(g)}`}),C),[...y.map(([l,P])=>(0,o.h)(l,P)),...(0,o.toChildArray)(O)])};return w.displayName=`${g}`,w}},4675:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},88812:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},67747:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5149:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},80587:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},74655:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},28596:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},66440:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},17048:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(z,s,e)=>{"use strict";e.d(s,{Z:()=>m});var o=e(87021);const m=(0,o.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},61864:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},61247:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={img:"frontend-components-responsive_img-module__img--Pgjj2"}},19206:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-radius-2":"frontend-pencraft-Box-module__border-radius-2--BBVt6","border-radius-4":"frontend-pencraft-Box-module__border-radius-4--c3laC","border-radius-8":"frontend-pencraft-Box-module__border-radius-8--GFpXQ","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--AmQy9","border-radius-16":"frontend-pencraft-Box-module__border-radius-16--FezDp","border-radius-20":"frontend-pencraft-Box-module__border-radius-20--b5MP2","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},28614:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",header1:"frontend-pencraft-Text-module__header1--fN7A4",header2:"frontend-pencraft-Text-module__header2--nd98e",header3:"frontend-pencraft-Text-module__header3--nDAx7",header4:"frontend-pencraft-Text-module__header4--hH3cg",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(z,s,e)=>{"use strict";e.d(s,{Z:()=>o});const o={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--J_wFE",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var z={}},57824:z=>{var s=1e3,e=s*60,o=e*60,m=o*24,d=m*7,u=m*365.25;z.exports=function(b,D){D=D||{};var E=typeof b;if(E==="string"&&b.length>0)return g(b);if(E==="number"&&isFinite(b))return D.long?w(b):y(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function g(b){if(b=String(b),!(b.length>100)){var D=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(D){var E=parseFloat(D[1]),O=(D[2]||"ms").toLowerCase();switch(O){case"years":case"year":case"yrs":case"yr":case"y":return E*u;case"weeks":case"week":case"w":return E*d;case"days":case"day":case"d":return E*m;case"hours":case"hour":case"hrs":case"hr":case"h":return E*o;case"minutes":case"minute":case"mins":case"min":case"m":return E*e;case"seconds":case"second":case"secs":case"sec":case"s":return E*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function y(b){var D=Math.abs(b);return D>=m?Math.round(b/m)+"d":D>=o?Math.round(b/o)+"h":D>=e?Math.round(b/e)+"m":D>=s?Math.round(b/s)+"s":b+"ms"}function w(b){var D=Math.abs(b);return D>=m?v(b,D,m,"day"):D>=o?v(b,D,o,"hour"):D>=e?v(b,D,e,"minute"):D>=s?v(b,D,s,"second"):b+" ms"}function v(b,D,E,O){var C=D>=E*1.5;return Math.round(b/E)+" "+O+(C?"s":"")}},54125:z=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var s,e;s=this,e=function(){return function(){var o={80:function(u,g,y){u.exports=y(728).default},728:function(u,g,y){"use strict";y.d(g,{default:function(){return ai}});var w=y(48),v=y.n(w),b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(it){var $e=16*Math.random()|0;return(it==="x"?$e:3&$e|8).toString(16)})},D=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},E=function(it){return it&&it.nodeName!==void 0?(it.muxId||(it.muxId=it.id||D()),it.muxId):it},O=function(it){var $e;it&&it.nodeName!==void 0?it=E($e=it):$e=document.querySelector(it);var Qe=$e&&$e.nodeName?$e.nodeName.toLowerCase():"";return[$e,it,Qe]},C=y(640),_=y.n(C),a=_().methodFactory;_().methodFactory=function(it,$e,Qe){var mt=a(it,$e,Qe);return function(){for(var yt=["[mux]"],Ut=0;Ut<arguments.length;Ut++)yt.push(arguments[Ut]);mt.apply(void 0,yt)}},_().setLevel(_().getLevel());var l=_();function P(){return(v().doNotTrack||v().navigator&&v().navigator.doNotTrack)==="1"}var S={now:function(){var it=v().performance,$e=it&&it.timing,Qe=$e&&$e.navigationStart,mt=typeof Qe=="number"&&typeof it.now=="function"?Qe+it.now():Date.now();return Math.round(mt)}},M=function(it){return R(it)[0]},R=function(it){if(typeof it!="string"||it==="")return["localhost"];var $e,Qe=(it.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return Qe&&($e=(Qe.match(/[^\.]+\.[^\.]+$/)||[])[0]),[Qe,$e]},N={exists:function(){var it=v().performance;return(it&&it.timing)!==void 0},domContentLoadedEventEnd:function(){var it=v().performance,$e=it&&it.timing;return $e&&$e.domContentLoadedEventEnd},navigationStart:function(){var it=v().performance,$e=it&&it.timing;return $e&&$e.navigationStart}};function T(it,$e,Qe){Qe=Qe===void 0?1:Qe,it[$e]=it[$e]||0,it[$e]+=Qe}var A=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],F=["x-cdn","content-type"].concat(A);function U(it){var $e={};return(it=it||"").trim().split(/[\r\n]+/).forEach(function(Qe){if(Qe){var mt=Qe.split(": "),yt=mt.shift();yt&&(F.indexOf(yt.toLowerCase())>=0||yt.toLowerCase().indexOf("x-litix-")===0)&&($e[yt]=mt.join(": "))}}),$e}function G(it){if(it){var $e=A.find(function(Qe){return it[Qe]!==void 0});return $e?it[$e]:void 0}}var J=function(it){var $e={};for(var Qe in it){var mt=it[Qe];mt["DATA-ID"].search("io.litix.data.")!==-1&&($e[mt["DATA-ID"].replace("io.litix.data.","")]=mt.VALUE)}return $e};function Q(it,$e){var Qe=Object.keys(it);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(it);$e&&(mt=mt.filter(function(yt){return Object.getOwnPropertyDescriptor(it,yt).enumerable})),Qe.push.apply(Qe,mt)}return Qe}function te(it){for(var $e=1;$e<arguments.length;$e++){var Qe=arguments[$e]!=null?arguments[$e]:{};$e%2?Q(Object(Qe),!0).forEach(function(mt){ee(it,mt,Qe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(Qe)):Q(Object(Qe)).forEach(function(mt){Object.defineProperty(it,mt,Object.getOwnPropertyDescriptor(Qe,mt))})}return it}function ee(it,$e,Qe){return $e in it?Object.defineProperty(it,$e,{value:Qe,enumerable:!0,configurable:!0,writable:!0}):it[$e]=Qe,it}var L=function(it){if(!it)return{};var $e=N.navigationStart(),Qe=it.loading,mt=Qe?Qe.start:it.trequest,yt=Qe?Qe.first:it.tfirst,Ut=Qe?Qe.end:it.tload;return{bytesLoaded:it.total,requestStart:Math.round($e+mt),responseStart:Math.round($e+yt),responseEnd:Math.round($e+Ut)}},V=function(it){if(it&&typeof it.getAllResponseHeaders=="function")return U(it.getAllResponseHeaders())};function ne(it,$e){var Qe=Object.keys(it);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(it);$e&&(mt=mt.filter(function(yt){return Object.getOwnPropertyDescriptor(it,yt).enumerable})),Qe.push.apply(Qe,mt)}return Qe}function ae(it){for(var $e=1;$e<arguments.length;$e++){var Qe=arguments[$e]!=null?arguments[$e]:{};$e%2?ne(Object(Qe),!0).forEach(function(mt){fe(it,mt,Qe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(Qe)):ne(Object(Qe)).forEach(function(mt){Object.defineProperty(it,mt,Object.getOwnPropertyDescriptor(Qe,mt))})}return it}function fe(it,$e,Qe){return $e in it?Object.defineProperty(it,$e,{value:Qe,enumerable:!0,configurable:!0,writable:!0}):it[$e]=Qe,it}var le=function(it,$e){if(!it||typeof it.getRequests!="function")return{};var Qe=it.getRequests({state:"executed"});if(Qe.length===0)return{};var mt,yt=Qe[Qe.length-1],Ut=M(yt.url),Lt=yt.url,Te=yt.bytesLoaded,ge=new Date(yt.requestStartDate).getTime(),Pe=new Date(yt.firstByteDate).getTime(),Ve=new Date(yt.requestEndDate).getTime(),vt=isNaN(yt.duration)?0:yt.duration,Pt=typeof $e.getMetricsFor=="function"?$e.getMetricsFor(yt.mediaType).HttpList:$e.getDashMetrics().getHttpRequests(yt.mediaType);return Pt.length>0&&(mt=U(Pt[Pt.length-1]._responseHeaders||"")),{requestStart:ge,requestResponseStart:Pe,requestResponseEnd:Ve,requestBytesLoaded:Te,requestResponseHeaders:mt,requestMediaDuration:vt,requestHostname:Ut,requestUrl:Lt,requestId:mt?G(mt):void 0}},re=function(it,$e){var Qe=$e.getQualityFor(it),mt=$e.getCurrentTrackFor(it).bitrateList;return mt?{currentLevel:Qe,renditionWidth:mt[Qe].width||null,renditionHeight:mt[Qe].height||null,renditionBitrate:mt[Qe].bandwidth}:{}},$=function(it){var $e;return($e=it.match(/.*codecs\*?="(.*)"/))===null||$e===void 0?void 0:$e[1]};function oe(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var se=0,ce=function(){function it(){(function(yt,Ut){if(!(yt instanceof Ut))throw new TypeError("Cannot call a class as a function")})(this,it)}var $e,Qe,mt;return $e=it,Qe=[{key:"on",value:function(yt,Ut,Lt){return Ut._eventEmitterGuid=Ut._eventEmitterGuid||++se,this._listeners=this._listeners||{},this._listeners[yt]=this._listeners[yt]||[],Lt&&(Ut=Ut.bind(Lt)),this._listeners[yt].push(Ut),Ut}},{key:"off",value:function(yt,Ut){var Lt=this._listeners&&this._listeners[yt];Lt&&Lt.forEach(function(Te,ge){Te._eventEmitterGuid===Ut._eventEmitterGuid&&Lt.splice(ge,1)})}},{key:"one",value:function(yt,Ut,Lt){var Te=this;Ut._eventEmitterGuid=Ut._eventEmitterGuid||++se;var ge=function Pe(){Te.off(yt,Pe),Ut.apply(Lt||this,arguments)};ge._eventEmitterGuid=Ut._eventEmitterGuid,this.on(yt,ge)}},{key:"emit",value:function(yt,Ut){var Lt=this;if(this._listeners){Ut=Ut||{};var Te=this._listeners["before*"]||[],ge=this._listeners[yt]||[],Pe=this._listeners["after"+yt]||[],Ve=function(vt,Pt){(vt=vt.slice()).forEach(function(Ot){Ot.call(Lt,{type:yt},Pt)})};Ve(Te,Ut),Ve(ge,Ut),Ve(Pe,Ut)}}}],Qe&&oe($e.prototype,Qe),mt&&oe($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}(),de=ce;function be(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var pe=function(){function it(yt){var Ut=this;(function(Lt,Te){if(!(Lt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,yt.on("playing",function(){Ut._playheadShouldBeProgressing=!0}),yt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),yt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),yt.on("seeked",function(){yt.data.player_is_paused?Ut._stopPlaybackHeartbeatInterval():Ut._startPlaybackHeartbeatInterval()}),yt.on("timeupdate",function(){Ut._playbackHeartbeatInterval!==null&&yt.emit("playbackheartbeat")}),yt.on("devicesleep",function(Lt,Te){Ut._playbackHeartbeatInterval!==null&&(v().clearInterval(Ut._playbackHeartbeatInterval),yt.emit("playbackheartbeatend",{viewer_time:Te.viewer_time}),Ut._playbackHeartbeatInterval=null)})}var $e,Qe,mt;return $e=it,(Qe=[{key:"_startPlaybackHeartbeatInterval",value:function(){var yt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=v().setInterval(function(){yt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(v().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&be($e.prototype,Qe),mt&&be($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function we(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function xe(it,$e,Qe){return $e&&we(it.prototype,$e),Qe&&we(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var Ue=xe(function it($e){var Qe=this;(function(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,it),$e.on("viewinit",function(){Qe.viewErrored=!1}),$e.on("error",function(mt,yt){try{var Ut=$e.errorTranslator({player_error_code:yt.player_error_code,player_error_message:yt.player_error_message,player_error_context:yt.player_error_context});Ut?($e.data.player_error_code=Ut.player_error_code||yt.player_error_code,$e.data.player_error_message=Ut.player_error_message||yt.player_error_message,$e.data.player_error_context=Ut.player_error_context||yt.player_error_context,Qe.viewErrored=!0):(delete $e.data.player_error_code,delete $e.data.player_error_message,delete $e.data.player_error_context)}catch(Lt){$e.mux.log.warn("Exception in error translator callback.",Lt),Qe.viewErrored=!0}})});function De(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var _e=function(){function it(yt){(function(Ut,Lt){if(!(Ut instanceof Lt))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,this._watchTimeTrackerLastCheckedTime=null,yt.on("playbackheartbeat",this._updateWatchTime.bind(this)),yt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var $e,Qe,mt;return $e=it,(Qe=[{key:"_updateWatchTime",value:function(yt,Ut){var Lt=Ut.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=Lt),T(this.pm.data,"view_watch_time",Lt-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=Lt}},{key:"_clearWatchTimeState",value:function(yt,Ut){this._updateWatchTime(yt,Ut),this._watchTimeTrackerLastCheckedTime=null}}])&&De($e.prototype,Qe),mt&&De($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function ie(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var ve=function(){function it(yt){var Ut=this;(function(Lt,Te){if(!(Lt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=S.now(),this._isAdPlaying=!1,yt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),yt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),yt.on("seeking",this._clearPlaybackTimeState.bind(this)),yt.on("adplaying",function(){Ut._isAdPlaying=!0}),yt.on("adended",function(){Ut._isAdPlaying=!1}),yt.on("adpause",function(){Ut._isAdPlaying=!1}),yt.on("adbreakstart",function(){Ut._isAdPlaying=!1}),yt.on("adbreakend",function(){Ut._isAdPlaying=!1}),yt.on("adplay",function(){Ut._isAdPlaying=!1})}var $e,Qe,mt;return $e=it,(Qe=[{key:"_updatePlaybackTime",value:function(){var yt=this.pm.data.player_playhead_time,Ut=S.now(),Lt=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&yt>this._playbackTimeTrackerLastPlayheadPosition?Lt=yt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(Lt=Ut-this._lastTime),Lt>0&&Lt<=1e3&&T(this.pm.data,"view_content_playback_time",Lt),this._playbackTimeTrackerLastPlayheadPosition=yt,this._lastTime=Ut}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&ie($e.prototype,Qe),mt&&ie($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function he(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var Le=function(){function it(yt){(function(Lt,Te){if(!(Lt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt;var Ut=this._updatePlayheadTime.bind(this);yt.on("playbackheartbeat",Ut),yt.on("playbackheartbeatend",Ut),yt.on("timeupdate",Ut),yt.on("destroy",function(){yt.off("timeupdate",Ut)})}var $e,Qe,mt;return $e=it,(Qe=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(yt,Ut){var Lt=this,Te=function(){Lt.pm.currentFragmentPDT&&Lt.pm.currentFragmentStart&&(Lt.pm.data.player_program_time=Lt.pm.currentFragmentPDT+Lt.pm.data.player_playhead_time-Lt.pm.currentFragmentStart)};if(Ut&&Ut.player_playhead_time)this.pm.data.player_playhead_time=Ut.player_playhead_time,Te(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var ge=this.pm.getPlayheadTime();ge!==void 0&&(this.pm.data.player_playhead_time=ge,Te(),this._updateMaxPlayheadPosition())}}}])&&he($e.prototype,Qe),mt&&he($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function He(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function ht(it,$e,Qe){return $e&&He(it.prototype,$e),Qe&&He(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var bt=3e5,Tt=ht(function it($e){if(function(Ut,Lt){if(!(Ut instanceof Lt))throw new TypeError("Cannot call a class as a function")}(this,it),!$e.disableRebufferTracking){var Qe,mt=function(Ut,Lt){yt(Lt),Qe=void 0},yt=function(Ut){if(Qe){var Lt=Ut.viewer_time-Qe;T($e.data,"view_rebuffer_duration",Lt),Qe=Ut.viewer_time,$e.data.view_rebuffer_duration>bt&&($e.emit("viewend"),$e.send("viewend"),$e.mux.log.warn("Ending view after rebuffering for longer than ".concat(bt,"ms, future events will be ignored unless a programchange or videochange occurs.")))}$e.data.view_watch_time>=0&&$e.data.view_rebuffer_count>0&&($e.data.view_rebuffer_frequency=$e.data.view_rebuffer_count/$e.data.view_watch_time,$e.data.view_rebuffer_percentage=$e.data.view_rebuffer_duration/$e.data.view_watch_time)};$e.on("playbackheartbeat",function(Ut,Lt){return yt(Lt)}),$e.on("rebufferstart",function(Ut,Lt){Qe||(T($e.data,"view_rebuffer_count",1),Qe=Lt.viewer_time,$e.one("rebufferend",mt))}),$e.on("viewinit",function(){Qe=void 0,$e.off("rebufferend",mt)})}});function Fe(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var nt=function(){function it(yt){var Ut=this;(function(Lt,Te){if(!(Lt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,yt.disableRebufferTracking||yt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,yt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),yt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),yt.on("seeking",function(){Ut._cleanupRebufferTracker(null,{viewer_time:S.now()})}))}var $e,Qe,mt;return $e=it,Qe=[{key:"_checkIfRebuffering",value:function(yt,Ut){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(yt,Ut);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var Lt=Ut.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&Lt>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=Ut.viewer_time}else this._cleanupRebufferTracker(yt,Ut,!0);else this._prepareRebufferTrackerState(Ut.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(yt){this._lastCheckedTime=yt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=yt}},{key:"_cleanupRebufferTracker",value:function(yt,Ut){var Lt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:Ut.viewer_time});else{if(this._lastCheckedTime===null)return;var Te=this.pm.data.player_playhead_time-this._lastPlayheadTime,ge=Ut.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Te>0&&ge-Te>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+ge-Te}))}Lt?this._prepareRebufferTrackerState(Ut.viewer_time):this._clearRebufferTrackerState()}}],Qe&&Fe($e.prototype,Qe),mt&&Fe($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}(),ft=nt;function Ye(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var rt=function(){function it(yt){var Ut=this;(function(Lt,Te){if(!(Lt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,yt.on("viewinit",function(){var Lt=yt.data,Te=Lt.view_id;if(!Lt.view_program_changed){var ge=function(Pe,Ve){var vt=Ve.viewer_time;Pe.type==="playing"&&yt.data.view_time_to_first_frame===void 0?Ut.calculateTimeToFirstFrame(vt||S.now(),Te):Pe.type!=="adplaying"||yt.data.view_time_to_first_frame!==void 0&&!Ut._inPrerollPosition()||Ut.calculateTimeToFirstFrame(vt||S.now(),Te)};yt.one("playing",ge),yt.one("adplaying",ge),yt.one("viewend",function(){yt.off("playing",ge),yt.off("adplaying",ge)})}})}var $e,Qe,mt;return $e=it,(Qe=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(yt,Ut){Ut===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:yt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&Ye($e.prototype,Qe),mt&&Ye($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function $t(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function sn(it,$e,Qe){return $e&&$t(it.prototype,$e),Qe&&$t(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var gt=sn(function it($e){var Qe=this;(function(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,it),$e.on("viewinit",function(){Qe._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(mt){$e.on(mt,function(){if(Qe._lastPlayheadPosition>=0&&$e.data.player_playhead_time>=0&&Qe._lastPlayerWidth>=0&&Qe._lastSourceWidth>0&&Qe._lastPlayerHeight>=0&&Qe._lastSourceHeight>0){var yt=$e.data.player_playhead_time-Qe._lastPlayheadPosition;if(yt<0)return void(Qe._lastPlayheadPosition=-1);var Ut=Math.min(Qe._lastPlayerWidth/Qe._lastSourceWidth,Qe._lastPlayerHeight/Qe._lastSourceHeight),Lt=Math.max(0,Ut-1),Te=Math.max(0,1-Ut);$e.data.view_max_upscale_percentage=Math.max($e.data.view_max_upscale_percentage||0,Lt),$e.data.view_max_downscale_percentage=Math.max($e.data.view_max_downscale_percentage||0,Te),T($e.data,"view_total_content_playback_time",yt),T($e.data,"view_total_upscaling",Lt*yt),T($e.data,"view_total_downscaling",Te*yt)}Qe._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(mt){$e.on(mt,function(){Qe._lastPlayheadPosition=$e.data.player_playhead_time,Qe._lastPlayerWidth=$e.data.player_width,Qe._lastPlayerHeight=$e.data.player_height,Qe._lastSourceWidth=$e.data.video_source_width,Qe._lastSourceHeight=$e.data.video_source_height})})});function Ne(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function We(it,$e,Qe){return $e&&Ne(it.prototype,$e),Qe&&Ne(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var st=We(function it($e){var Qe=this;(function(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,it),this.isSeeking=!1,$e.on("seeking",function(mt,yt){Object.assign($e.data,yt),Qe._lastSeekingTime=S.now(),Qe.isSeeking===!1&&(Qe.isSeeking=!0,$e.send("seeking"))}),$e.on("seeked",function(){Qe.isSeeking=!1;var mt=Qe._lastSeekingTime||S.now(),yt=S.now()-mt;T($e.data,"view_seek_count",1),T($e.data,"view_seek_duration",yt);var Ut=$e.data.view_max_seek_time||0;$e.data.view_max_seek_time=Math.max(Ut,yt)}),$e.on("viewend",function(){Qe.isSeeking=!1})});function ke(it,$e){return function(Qe){if(Array.isArray(Qe))return Qe}(it)||function(Qe,mt){var yt=Qe==null?null:typeof Symbol!="undefined"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(yt!=null){var Ut,Lt,Te=[],ge=!0,Pe=!1;try{for(yt=yt.call(Qe);!(ge=(Ut=yt.next()).done)&&(Te.push(Ut.value),!mt||Te.length!==mt);ge=!0);}catch(Ve){Pe=!0,Lt=Ve}finally{try{ge||yt.return==null||yt.return()}finally{if(Pe)throw Lt}}return Te}}(it,$e)||function(Qe,mt){if(Qe){if(typeof Qe=="string")return Be(Qe,mt);var yt=Object.prototype.toString.call(Qe).slice(8,-1);return yt==="Object"&&Qe.constructor&&(yt=Qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(Qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?Be(Qe,mt):void 0}}(it,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(it,$e){($e==null||$e>it.length)&&($e=it.length);for(var Qe=0,mt=new Array($e);Qe<$e;Qe++)mt[Qe]=it[Qe];return mt}function Se(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}var Ke=function(it,$e){it.push($e),it.sort(function(Qe,mt){return Qe.viewer_time-mt.viewer_time})},ut=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Oe=function(){function it(yt){var Ut=this;(function(Te,ge){if(!(Te instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,it),this.pm=yt,yt.on("viewinit",function(){Ut.isAdBreak=!1,Ut._currentAdRequestNumber=0,Ut._currentAdResponseNumber=0,Ut._adRequests=[],Ut._adResponses=[],Ut._adHasPlayed=!1,Ut._wouldBeNewAdPlay=!0,Ut._prerollPlayTime=void 0}),ut.forEach(function(Te){return yt.on(Te,Ut._updateAdData.bind(Ut))});var Lt=function(){Ut.isAdBreak=!1};yt.on("adbreakstart",function(){Ut.isAdBreak=!0}),yt.on("play",Lt),yt.on("playing",Lt),yt.on("viewend",Lt),yt.on("adrequest",function(Te,ge){ge=Object.assign({ad_request_id:"generatedAdRequestId"+Ut._currentAdRequestNumber++},ge),Ke(Ut._adRequests,ge),T(yt.data,"view_ad_request_count"),Ut.inPrerollPosition()&&(yt.data.view_preroll_requested=!0,Ut._adHasPlayed||T(yt.data,"view_preroll_request_count"))}),yt.on("adresponse",function(Te,ge){ge=Object.assign({ad_request_id:"generatedAdRequestId"+Ut._currentAdResponseNumber++},ge),Ke(Ut._adResponses,ge);var Pe=Ut.findAdRequest(ge.ad_request_id);Pe&&T(yt.data,"view_ad_request_time",Math.max(0,ge.viewer_time-Pe.viewer_time))}),yt.on("adplay",function(Te,ge){Ut._adHasPlayed=!0,Ut._wouldBeNewAdPlay&&(Ut._wouldBeNewAdPlay=!1,T(yt.data,"view_ad_played_count")),Ut.inPrerollPosition()&&!yt.data.view_preroll_played&&(yt.data.view_preroll_played=!0,Ut._adRequests.length>0&&(yt.data.view_preroll_request_time=Math.max(0,ge.viewer_time-Ut._adRequests[0].viewer_time)),yt.data.view_start&&(yt.data.view_startup_preroll_request_time=Math.max(0,ge.viewer_time-yt.data.view_start)),Ut._prerollPlayTime=ge.viewer_time)}),yt.on("adplaying",function(Te,ge){Ut.inPrerollPosition()&&yt.data.view_preroll_load_time===void 0&&Ut._prerollPlayTime!==void 0&&(yt.data.view_preroll_load_time=ge.viewer_time-Ut._prerollPlayTime,yt.data.view_startup_preroll_load_time=ge.viewer_time-Ut._prerollPlayTime)}),yt.on("adended",function(){Ut._wouldBeNewAdPlay=!0}),yt.on("aderror",function(){Ut._wouldBeNewAdPlay=!0})}var $e,Qe,mt;return $e=it,(Qe=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(yt){for(var Ut=0;Ut<this._adRequests.length;Ut++)if(this._adRequests[Ut].ad_request_id===yt)return this._adRequests[Ut]}},{key:"_updateAdData",value:function(yt,Ut){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&Ut.ad_tag_url){var Lt=ke(R(Ut.ad_tag_url),2),Te=Lt[0],ge=Lt[1];this.pm.data.view_preroll_ad_tag_domain=ge,this.pm.data.view_preroll_ad_tag_hostname=Te}if(!this.pm.data.view_preroll_ad_asset_hostname&&Ut.ad_asset_url){var Pe=ke(R(Ut.ad_asset_url),2),Ve=Pe[0],vt=Pe[1];this.pm.data.view_preroll_ad_asset_domain=vt,this.pm.data.view_preroll_ad_asset_hostname=Ve}}this.pm.data.ad_asset_url=Ut==null?void 0:Ut.ad_asset_url,this.pm.data.ad_tag_url=Ut==null?void 0:Ut.ad_tag_url,this.pm.data.ad_creative_id=Ut==null?void 0:Ut.ad_creative_id,this.pm.data.ad_id=Ut==null?void 0:Ut.ad_id,this.pm.data.ad_universal_id=Ut==null?void 0:Ut.ad_universal_id}}])&&Se($e.prototype,Qe),mt&&Se($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function K(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function Y(it,$e,Qe){return $e&&K(it.prototype,$e),Qe&&K(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var me=Y(function it($e){var Qe,mt;(function(Te,ge){if(!(Te instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,it);var yt=function(){$e.disableRebufferTracking||Qe&&(T($e.data,"view_waiting_rebuffer_duration",S.now()-Qe),Qe=!1,v().clearInterval(mt))},Ut=!1,Lt=function(){Ut=!1,yt()};$e.on("waiting",function(){Ut&&($e.disableRebufferTracking||(T($e.data,"view_waiting_rebuffer_count",1),Qe=S.now(),mt=v().setInterval(function(){if(Qe){var Te=S.now();T($e.data,"view_waiting_rebuffer_duration",Te-Qe),Qe=Te}},250)))}),$e.on("playing",function(){yt(),Ut=!0}),$e.on("pause",Lt),$e.on("seeking",Lt)});function Ie(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function je(it,$e,Qe){return $e&&Ie(it.prototype,$e),Qe&&Ie(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var Xe=je(function it($e){var Qe=this;(function(Ut,Lt){if(!(Ut instanceof Lt))throw new TypeError("Cannot call a class as a function")})(this,it);var mt=function(){Qe.lastWallClockTime=S.now(),$e.on("before*",yt)},yt=function(Ut){var Lt=S.now(),Te=Qe.lastWallClockTime;Qe.lastWallClockTime=Lt,Lt-Te>3e4&&($e.emit("devicesleep",{viewer_time:Te}),Object.assign($e.data,{viewer_time:Te}),$e.send("devicesleep"),$e.emit("devicewake",{viewer_time:Lt}),Object.assign($e.data,{viewer_time:Lt}),$e.send("devicewake"))};$e.one("playbackheartbeat",mt),$e.on("playbackheartbeatend",function(){$e.off("before*",yt),$e.one("playbackheartbeat",mt)})}),_t=y(375),pt=y(655),Ge=y.n(pt),at="muxData",It=function(){var it;try{it=_t.parse(Ge().get(at)||"")}catch($e){it={}}return it},zt=function(it){try{Ge().set(at,_t.stringify(it),{expires:7300})}catch($e){}},Xt=function(){var it=It();return it.mux_viewer_id=it.mux_viewer_id||b(),it.msn=it.msn||Math.random(),zt(it),{mux_viewer_id:it.mux_viewer_id,mux_sample_number:it.msn}};function Dt(it,$e){var Qe=$e.beaconCollectionDomain,mt=$e.beaconDomain;if(Qe)return"https://"+Qe;var yt=mt||"litix.io";return(it=it||"inferred").match(/^[a-z0-9]+$/)?"https://"+it+"."+yt:"https://img.litix.io/a.gif"}var ln=function(){var it;switch(qt()){case"cellular":it="cellular";break;case"ethernet":it="wired";break;case"wifi":it="wifi";break;case void 0:break;default:it="other"}return it},qt=function(){var it=v().navigator,$e=it&&(it.connection||it.mozConnection||it.webkitConnection);return $e&&$e.type};ln.getConnectionFromAPI=qt;var fn=ln,Sn=Pn({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),wn=Pn({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Pn(it){var $e={};for(var Qe in it)it.hasOwnProperty(Qe)&&($e[it[Qe]]=Qe);return $e}function jn(it){var $e={},Qe={};return Object.keys(it).forEach(function(mt){var yt=!1;if(it.hasOwnProperty(mt)&&it[mt]!==void 0){var Ut=mt.split("_"),Lt=Ut[0],Te=Sn[Lt];Te||(l.info("Data key word `"+Ut[0]+"` not expected in "+mt),Te=Lt+"_"),Ut.splice(1).forEach(function(ge){ge==="url"&&(yt=!0),wn[ge]?Te+=wn[ge]:Number(ge)&&Math.floor(Number(ge))===Number(ge)?Te+=ge:(l.info("Data key word `"+ge+"` not expected in "+mt),Te+="_"+ge+"_")}),yt?Qe[Te]=it[mt]:$e[Te]=it[mt]}}),Object.assign($e,Qe)}var sr={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},_r=["hb","requestcompleted","requestfailed","requestcanceled"],hr="https://img.litix.io",Bn=function(it){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=it||hr,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},sr,$e)};Bn.prototype.queueEvent=function(it,$e){var Qe=Object.assign({},$e);return(this._eventQueue.length<=this._options.maxQueueLength||it==="eventrateexceeded")&&(this._eventQueue.push(Qe),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Bn.prototype.flushEvents=function(){var it=arguments.length>0&&arguments[0]!==void 0&&arguments[0];it&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Bn.prototype.destroy=function(){var it=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,it?this._clearBeaconQueue():this.flushEvents(),v().clearTimeout(this._sendTimeout)},Bn.prototype._clearBeaconQueue=function(){var it=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,$e=this._eventQueue.slice(it);it>0&&Object.assign($e[$e.length-1],jn({mux_view_message:"event queue truncated"}));var Qe=this._createPayload($e);oo(this._beaconUrl,Qe,!0,function(){})},Bn.prototype._sendBeaconQueue=function(){var it=this;if(!this._postInFlight){var $e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var Qe=this._createPayload($e),mt=S.now();oo(this._beaconUrl,Qe,!1,function(yt,Ut){Ut?(it._eventQueue=$e.concat(it._eventQueue),it._failureCount+=1,l.info("Error sending beacon: "+Ut)):it._failureCount=0,it._roundTripTime=S.now()-mt,it._postInFlight=!1})}},Bn.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var it=Math.pow(2,this._failureCount-1);return(1+(it*=Math.random()))*this._options.baseTimeBetweenBeacons},Bn.prototype._startBeaconSending=function(){var it=this;v().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=v().setTimeout(function(){it._eventQueue.length&&it._sendBeaconQueue(),it._startBeaconSending()},this._getNextBeaconTime()))},Bn.prototype._createPayload=function(it){var $e,Qe,mt,yt=this,Ut={transmission_timestamp:Math.round(S.now())};this._roundTripTime&&(Ut.rtt_ms=Math.round(this._roundTripTime));var Lt=function(){$e=JSON.stringify({metadata:Ut,events:Qe||it}),mt=$e.length/1024},Te=function(){return mt<=yt._options.maxPayloadKBSize};return Lt(),Te()||(l.info("Payload size is too big ("+mt+" kb). Removing unnecessary events."),Qe=it.filter(function(ge){return _r.indexOf(ge.e)===-1}),Lt()),Te()||(l.info("Payload size still too big ("+mt+" kb). Cropping fields.."),Qe.forEach(function(ge){for(var Pe in ge){var Ve=ge[Pe];typeof Ve=="string"&&Ve.length>51200&&(ge[Pe]=Ve.substring(0,51200))}}),Lt()),$e};var yr=function(it){return it.length<=57344},oo=function(it,$e,Qe,mt){if(Qe&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(it,$e))mt();else if(v().fetch)v().fetch(it,{method:"POST",body:$e,headers:{"Content-Type":"text/plain"},keepalive:yr($e)}).then(function(Ut){return mt(null,Ut.ok?null:"Error")}).catch(function(Ut){return mt(null,Ut)});else{if(v().XMLHttpRequest){var yt=new(v()).XMLHttpRequest;return yt.onreadystatechange=function(){if(yt.readyState===4)return mt(null,yt.status!==200?"error":void 0)},yt.open("POST",it),yt.setRequestHeader("Content-Type","text/plain"),void yt.send($e)}mt()}},Wr=Bn;function Zr(it,$e){return function(Qe){if(Array.isArray(Qe))return Qe}(it)||function(Qe,mt){var yt=Qe==null?null:typeof Symbol!="undefined"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(yt!=null){var Ut,Lt,Te=[],ge=!0,Pe=!1;try{for(yt=yt.call(Qe);!(ge=(Ut=yt.next()).done)&&(Te.push(Ut.value),!mt||Te.length!==mt);ge=!0);}catch(Ve){Pe=!0,Lt=Ve}finally{try{ge||yt.return==null||yt.return()}finally{if(Pe)throw Lt}}return Te}}(it,$e)||function(Qe,mt){if(Qe){if(typeof Qe=="string")return Vr(Qe,mt);var yt=Object.prototype.toString.call(Qe).slice(8,-1);return yt==="Object"&&Qe.constructor&&(yt=Qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(Qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?Vr(Qe,mt):void 0}}(it,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vr(it,$e){($e==null||$e>it.length)&&($e=it.length);for(var Qe=0,mt=new Array($e);Qe<$e;Qe++)mt[Qe]=it[Qe];return mt}function Ur(it,$e){var Qe=Object.keys(it);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(it);$e&&(mt=mt.filter(function(yt){return Object.getOwnPropertyDescriptor(it,yt).enumerable})),Qe.push.apply(Qe,mt)}return Qe}function co(it){for(var $e=1;$e<arguments.length;$e++){var Qe=arguments[$e]!=null?arguments[$e]:{};$e%2?Ur(Object(Qe),!0).forEach(function(mt){yo(it,mt,Qe[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(Qe)):Ur(Object(Qe)).forEach(function(mt){Object.defineProperty(it,mt,Object.getOwnPropertyDescriptor(Qe,mt))})}return it}function no(it){return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},no(it)}function Hr(it,$e){if(!(it instanceof $e))throw new TypeError("Cannot call a class as a function")}function uo(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function yo(it,$e,Qe){return $e in it?Object.defineProperty(it,$e,{value:Qe,enumerable:!0,configurable:!0,writable:!0}):it[$e]=Qe,it}var ho=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],xo=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],Qo=["viewstart","error","ended","viewend"],Zo=function(){function it(yt,Ut){var Lt,Te,ge,Pe,Ve,vt,Pt,Ot,Mt,Ft,Wt,un,tn,dn,Dn,Wn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Hr(this,it),yo(this,"previousBeaconData",null),yo(this,"lastEventTime",0),yo(this,"rateLimited",!1),this.mux=yt,this.envKey=Ut,this.options=Wn,this.eventQueue=new Wr(Dt(this.envKey,this.options)),this.sampleRate=(Lt=this.options.sampleRate)!==null&&Lt!==void 0?Lt:1,this.disableCookies=(Te=this.options.disableCookies)!==null&&Te!==void 0&&Te,this.respectDoNotTrack=(ge=this.options.respectDoNotTrack)!==null&&ge!==void 0&&ge,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Pe=this.options.platform)===null||Pe===void 0?void 0:Pe.name,viewer_application_version:(Ve=this.options.platform)===null||Ve===void 0?void 0:Ve.version,viewer_application_engine:(vt=this.options.platform)===null||vt===void 0?void 0:vt.layout,viewer_device_name:(Pt=this.options.platform)===null||Pt===void 0?void 0:Pt.product,viewer_device_category:"",viewer_device_manufacturer:(Ot=this.options.platform)===null||Ot===void 0?void 0:Ot.manufacturer,viewer_os_family:(Mt=this.options.platform)===null||Mt===void 0||(Ft=Mt.os)===null||Ft===void 0?void 0:Ft.family,viewer_os_architecture:(Wt=this.options.platform)===null||Wt===void 0||(un=Wt.os)===null||un===void 0?void 0:un.architecture,viewer_os_version:(tn=this.options.platform)===null||tn===void 0||(dn=tn.os)===null||dn===void 0?void 0:dn.version,viewer_connection_type:fn(),page_url:v()===null||v()===void 0||(Dn=v().location)===null||Dn===void 0?void 0:Dn.href},this.viewerData=this.disableCookies?{}:Xt()}var $e,Qe,mt;return $e=it,(Qe=[{key:"send",value:function(yt,Ut){var Lt;if(yt&&Ut!=null&&Ut.view_id){if(this.respectDoNotTrack&&P())return l.info("Not sending `"+yt+"` because Do Not Track is enabled");if(!Ut||no(Ut)!=="object")return l.error("A data object was expected in send() but was not provided");var Te,ge,Pe=this.disableCookies?{}:(Te=It(),ge=S.now(),Te.session_start&&(Te.sst=Te.session_start,delete Te.session_start),Te.session_id&&(Te.sid=Te.session_id,delete Te.session_id),Te.session_expires&&(Te.sex=Te.session_expires,delete Te.session_expires),(!Te.sex||Te.sex<ge)&&(Te.sid=b(),Te.sst=ge),Te.sex=ge+15e5,zt(Te),{session_id:Te.sid,session_start:Te.sst,session_expires:Te.sex}),Ve=co(co(co(co(co({},this.pageLevelData),Ut),Pe),this.viewerData),{},{event:yt,env_key:this.envKey});Ve.user_id&&(Ve.viewer_user_id=Ve.user_id,delete Ve.user_id);var vt=((Lt=Ve.mux_sample_number)!==null&&Lt!==void 0?Lt:0)>=this.sampleRate,Pt=jn(this._deduplicateBeaconData(yt,Ve));if(this.lastEventTime=this.mux.utils.now(),vt)return l.info("Not sending event due to sample rate restriction",yt,Ve,Pt);if(this.envKey||l.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",yt,Ve,Pt),!this.rateLimited){if(l.info("Sending event",yt,Ve,Pt),this.rateLimited=!this.eventQueue.queueEvent(yt,Pt),this.mux.WINDOW_UNLOADING&&yt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&yt==="hb"?this.eventQueue.flushEvents(!0):Qo.indexOf(yt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Ve.event="eventrateexceeded",Pt=jn(Ve),this.eventQueue.queueEvent(Ve.event,Pt),l.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(yt,Ut){var Lt=this,Te={},ge=Ut.view_id;if(ge==="-1"||yt==="viewstart"||yt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Te=co({},Ut),ge&&(this.previousBeaconData=Te),ge&&yt==="viewend"&&(this.previousBeaconData=null);else{var Pe=yt.indexOf("request")===0;Object.entries(Ut).forEach(function(Ve){var vt=Zr(Ve,2),Pt=vt[0],Ot=vt[1];Lt.previousBeaconData&&(Ot!==Lt.previousBeaconData[Pt]||ho.indexOf(Pt)>-1||Lt.objectHasChanged(Pe,Pt,Ot,Lt.previousBeaconData[Pt])||Lt.eventRequiresKey(yt,Pt))&&(Te[Pt]=Ot,Lt.previousBeaconData[Pt]=Ot)})}return Te}},{key:"objectHasChanged",value:function(yt,Ut,Lt,Te){return!(!yt||Ut.indexOf("request_")!==0||Ut!=="request_response_headers"&&no(Lt)==="object"&&no(Te)==="object"&&Object.keys(Lt||{}).length===Object.keys(Te||{}).length)}},{key:"eventRequiresKey",value:function(yt,Ut){return yt==="renditionchange"&&Ut.indexOf("video_source_")===0||!(Ut.indexOf("ad_id")!==0||!xo.includes(yt))}}])&&uo($e.prototype,Qe),mt&&uo($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),it}();function No(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function Ro(it,$e,Qe){return $e&&No(it.prototype,$e),Qe&&No(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var Ko=Ro(function it($e){(function(Pe,Ve){if(!(Pe instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,it);var Qe=0,mt=0,yt=0,Ut=0,Lt=0,Te=0,ge=0;$e.on("requestcompleted",function(Pe,Ve){var vt,Pt,Ot=Ve.request_start,Mt=Ve.request_response_start,Ft=Ve.request_response_end,Wt=Ve.request_bytes_loaded;if(Ut++,Mt?(vt=Mt-(Ot!=null?Ot:0),Pt=(Ft!=null?Ft:0)-Mt):Pt=(Ft!=null?Ft:0)-(Ot!=null?Ot:0),Pt>0&&Wt&&Wt>0){var un=Wt/Pt*8e3;Lt++,mt+=Wt,yt+=Pt,$e.data.view_min_request_throughput=Math.min($e.data.view_min_request_throughput||1/0,un),$e.data.view_average_request_throughput=mt/yt*8e3,$e.data.view_request_count=Ut,vt>0&&(Qe+=vt,$e.data.view_max_request_latency=Math.max($e.data.view_max_request_latency||0,vt),$e.data.view_average_request_latency=Qe/Lt)}}),$e.on("requestfailed",function(Pe,Ve){Ut++,Te++,$e.data.view_request_count=Ut,$e.data.view_request_failed_count=Te}),$e.on("requestcanceled",function(Pe,Ve){Ut++,ge++,$e.data.view_request_count=Ut,$e.data.view_request_canceled_count=ge})});function Yr(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function Jr(it,$e,Qe){return $e&&Yr(it.prototype,$e),Qe&&Yr(it,Qe),Object.defineProperty(it,"prototype",{writable:!1}),it}var jr=Jr(function it($e){var Qe=this;(function(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,it),$e.on("before*",function(mt,yt){var Ut=yt.viewer_time,Lt=S.now(),Te=Qe._lastEventTime;if(Qe._lastEventTime=Lt,Te&&Lt-Te>36e5){var ge=Object.keys($e.data).reduce(function(Pe,Ve){return Ve.indexOf("video_")===0?Object.assign(Pe,function(vt,Pt,Ot){return Pt in vt?Object.defineProperty(vt,Pt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):vt[Pt]=Ot,vt}({},Ve,$e.data[Ve])):Pe},{});$e.mux.log.info("Received event after at least an hour inactivity, creating a new view"),$e.emit("viewinit",Object.assign({viewer_time:Ut},ge)),$e.playbackHeartbeat._playheadShouldBeProgressing&&mt.type!=="play"&&mt.type!=="adbreakstart"&&($e.emit("play",{viewer_time:Ut}),mt.type!=="playing"&&$e.emit("playing",{viewer_time:Ut}))}})});function Dr(it){return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},Dr(it)}function Vt(it,$e){return function(Qe){if(Array.isArray(Qe))return Qe}(it)||function(Qe,mt){var yt=Qe==null?null:typeof Symbol!="undefined"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(yt!=null){var Ut,Lt,Te=[],ge=!0,Pe=!1;try{for(yt=yt.call(Qe);!(ge=(Ut=yt.next()).done)&&(Te.push(Ut.value),!mt||Te.length!==mt);ge=!0);}catch(Ve){Pe=!0,Lt=Ve}finally{try{ge||yt.return==null||yt.return()}finally{if(Pe)throw Lt}}return Te}}(it,$e)||function(Qe,mt){if(Qe){if(typeof Qe=="string")return Qt(Qe,mt);var yt=Object.prototype.toString.call(Qe).slice(8,-1);return yt==="Object"&&Qe.constructor&&(yt=Qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(Qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?Qt(Qe,mt):void 0}}(it,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qt(it,$e){($e==null||$e>it.length)&&($e=it.length);for(var Qe=0,mt=new Array($e);Qe<$e;Qe++)mt[Qe]=it[Qe];return mt}function en(it,$e){for(var Qe=0;Qe<$e.length;Qe++){var mt=$e[Qe];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(it,mt.key,mt)}}function Rn(it,$e){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Qe,mt){return Qe.__proto__=mt,Qe},Rn(it,$e)}function At(it){var $e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Qe){return!1}}();return function(){var Qe,mt=nn(it);if($e){var yt=nn(this).constructor;Qe=Reflect.construct(mt,arguments,yt)}else Qe=mt.apply(this,arguments);return Zt(this,Qe)}}function Zt(it,$e){if($e&&(Dr($e)==="object"||typeof $e=="function"))return $e;if($e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jt(it)}function jt(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}function nn(it){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},nn(it)}var gn=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Mn=function(it){(function(Lt,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(Te&&Te.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),Object.defineProperty(Lt,"prototype",{writable:!1}),Te&&Rn(Lt,Te)})(Ut,it);var $e,Qe,mt,yt=At(Ut);function Ut(Lt,Te,ge){var Pe;(function(Mt,Ft){if(!(Mt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,Ut),(Pe=yt.call(this)).DOM_CONTENT_LOADED_EVENT_END=N.domContentLoadedEventEnd(),Pe.NAVIGATION_START=N.navigationStart(),Pe.mux=Lt,Pe.id=Te,(ge=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(Mt){return Mt}},ge)).data=ge.data||{},ge.data.property_key&&(ge.data.env_key=ge.data.property_key,delete ge.data.property_key),l.setLevel(ge.debug?"debug":"warn"),Pe.getPlayheadTime=ge.getPlayheadTime,Pe.getStateData=ge.getStateData||function(){return{}},Pe.getAdData=ge.getAdData||function(){},Pe.minimumRebufferDuration=ge.minimumRebufferDuration,Pe.sustainedRebufferThreshold=ge.sustainedRebufferThreshold,Pe.playbackHeartbeatTime=ge.playbackHeartbeatTime,Pe.disableRebufferTracking=ge.disableRebufferTracking,Pe.disableRebufferTracking&&Pe.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Pe.disablePlayheadRebufferTracking=ge.disablePlayheadRebufferTracking,Pe.errorTranslator=ge.errorTranslator,Pe.playbackEventDispatcher=new Zo(Lt,ge.data.env_key,ge),Pe.data={player_instance_id:b(),mux_sample_rate:ge.sampleRate,beacon_domain:ge.beaconCollectionDomain?ge.beaconCollectionDomain:ge.beaconDomain},Pe.data.view_sequence_number=1,Pe.data.player_sequence_number=1,Pe.oldEmit=Pe.emit,Pe.emit=function(Mt,Ft){Ft=Object.assign({viewer_time:this.mux.utils.now()},Ft),this.oldEmit(Mt,Ft)};var Ve=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(jt(Pe));Pe.on("viewinit",function(Mt,Ft){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Ft),this._initializeViewData(),this.one("play",Ve),this.one("adbreakstart",Ve)});var vt=function(Mt){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",Mt)}.bind(jt(Pe));if(Pe.on("videochange",function(Mt,Ft){vt(Ft)}),Pe.on("programchange",function(Mt,Ft){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),vt(Object.assign(Ft,{view_program_changed:!0})),Ve(),this.emit("play"),this.emit("playing")}),Pe.on("fragmentchange",function(Mt,Ft){this.currentFragmentPDT=Ft.currentFragmentPDT,this.currentFragmentStart=Ft.currentFragmentStart}),Pe.on("destroy",Pe.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var Pt=function(){var Mt=Pe.data.view_start!==void 0;Pe.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",Mt&&Pe.mux.WINDOW_HIDDEN&&(Pe.data.player_is_paused||Pe.emit("hb"))};window.addEventListener("visibilitychange",Pt,!1);var Ot=function(Mt){Mt.persisted||Pe.destroy()};window.addEventListener("pagehide",Ot,!1),Pe.on("destroy",function(){window.removeEventListener("visibilitychange",Pt),window.removeEventListener("pagehide",Ot)})}return Pe.on("playerready",function(Mt,Ft){Object.assign(this.data,Ft)}),gn.forEach(function(Mt){Pe.on(Mt,function(Ft,Wt){Mt.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Wt),this._sanitizeData()}),Pe.on("after"+Mt,function(){(Mt!=="error"||this.errorTracker.viewErrored)&&this.send(Mt)})}),Pe.on("viewend",function(Mt,Ft){Object.assign(Pe.data,Ft)}),Pe.one("playerready",function(Mt){var Ft=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Ft-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Pe.longResumeTracker=new jr(jt(Pe)),Pe.errorTracker=new Ue(jt(Pe)),new Xe(jt(Pe)),Pe.seekingTracker=new st(jt(Pe)),Pe.playheadTime=new Le(jt(Pe)),Pe.playbackHeartbeat=new pe(jt(Pe)),new gt(jt(Pe)),Pe.watchTimeTracker=new _e(jt(Pe)),new ve(jt(Pe)),Pe.adTracker=new Oe(jt(Pe)),new ft(jt(Pe)),new Tt(jt(Pe)),new rt(jt(Pe)),new me(jt(Pe)),new Ko(jt(Pe)),ge.hlsjs&&Pe.addHLSJS(ge),ge.dashjs&&Pe.addDashJS(ge),Pe.emit("viewinit",ge.data),Pe}return $e=Ut,Qe=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(Lt){if(this.data.view_id){var Te=Object.assign({},this.data);if(Te.video_source_is_live===void 0&&(Te.player_source_duration===1/0||Te.video_source_duration===1/0?Te.video_source_is_live=!0:(Te.player_source_duration>0||Te.video_source_duration>0)&&(Te.video_source_is_live=!1)),Te.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(vt){Te[vt]=void 0}),Te.video_source_url=Te.video_source_url||Te.player_source_url,Te.video_source_url){var ge=Vt(R(Te.video_source_url),2),Pe=ge[0],Ve=ge[1];Te.video_source_domain=Ve,Te.video_source_hostname=Pe}delete Te.ad_request_id,this.playbackEventDispatcher.send(Lt,Te),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),Lt==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var Lt=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Te){var ge=parseInt(Lt.data[Te],10);Lt.data[Te]=isNaN(ge)?void 0:ge}),["player_source_url","video_source_url"].forEach(function(Te){if(Lt.data[Te]){var ge=Lt.data[Te].toLowerCase();ge.indexOf("data:")!==0&&ge.indexOf("blob:")!==0||(Lt.data[Te]="MSE style URL")}})}},{key:"_resetVideoData",value:function(Lt,Te){var ge=this;Object.keys(this.data).forEach(function(Pe){Pe.indexOf("video_")===0&&delete ge.data[Pe]})}},{key:"_resetViewData",value:function(){var Lt=this;Object.keys(this.data).forEach(function(Te){Te.indexOf("view_")===0&&delete Lt.data[Te]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(Lt,Te){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var Lt=this,Te=this.data.view_id=b(),ge=function(){Te===Lt.data.view_id&&T(Lt.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",ge):ge()}},{key:"_restartHeartBeat",value:function(){var Lt=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){Lt.data.player_is_paused||Lt.emit("hb")},1e4))}},{key:"addHLSJS",value:function(Lt){Lt.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=Lt.hlsjs,function(Te,ge,Pe){var Ve=arguments.length>4?arguments[4]:void 0,vt=Te.log,Pt=Te.utils.secondsToMs,Ot=function(rr){var Cn,Gn=parseInt(Ve.version);return Gn===1&&rr.programDateTime!==null&&(Cn=rr.programDateTime),Gn===0&&rr.pdt!==null&&(Cn=rr.pdt),Cn};if(N.exists()){var Mt=function(rr,Cn){return Te.emit(ge,rr,Cn)},Ft=function(rr,Cn){var Gn=Cn.levels,ar=Cn.audioTracks,Er=Cn.url,Pr=Cn.stats,ao=Cn.networkDetails,_o=Cn.sessionData,To={},ei={};Gn.forEach(function(ko,lt){To[lt]={width:ko.width,height:ko.height,bitrate:ko.bitrate,attrs:ko.attrs}}),ar.forEach(function(ko,lt){ei[lt]={name:ko.name,language:ko.lang,bitrate:ko.bitrate}});var Bo=L(Pr),$o=Bo.bytesLoaded,Oi=Bo.requestStart,Ai=Bo.responseStart,_i=Bo.responseEnd;Mt("requestcompleted",te(te({},J(_o)),{},{request_event_type:rr,request_bytes_loaded:$o,request_start:Oi,request_response_start:Ai,request_response_end:_i,request_type:"manifest",request_hostname:M(Er),request_response_headers:V(ao),request_rendition_lists:{media:To,audio:ei,video:{}}}))};Pe.on(Ve.Events.MANIFEST_LOADED,Ft);var Wt=function(rr,Cn){var Gn=Cn.details,ar=Cn.level,Er=Cn.networkDetails,Pr=Cn.stats,ao=L(Pr),_o=ao.bytesLoaded,To=ao.requestStart,ei=ao.responseStart,Bo=ao.responseEnd,$o=Gn.fragments[Gn.fragments.length-1],Oi=Ot($o)+Pt($o.duration);Mt("requestcompleted",{request_event_type:rr,request_bytes_loaded:_o,request_start:To,request_response_start:ei,request_response_end:Bo,request_current_level:ar,request_type:"manifest",request_hostname:M(Gn.url),request_response_headers:V(Er),video_holdback:Gn.holdBack&&Pt(Gn.holdBack),video_part_holdback:Gn.partHoldBack&&Pt(Gn.partHoldBack),video_part_target_duration:Gn.partTarget&&Pt(Gn.partTarget),video_target_duration:Gn.targetduration&&Pt(Gn.targetduration),video_source_is_live:Gn.live,player_manifest_newest_program_time:isNaN(Oi)?void 0:Oi})};Pe.on(Ve.Events.LEVEL_LOADED,Wt);var un=function(rr,Cn){var Gn=Cn.details,ar=Cn.networkDetails,Er=Cn.stats,Pr=L(Er),ao=Pr.bytesLoaded,_o=Pr.requestStart,To=Pr.responseStart,ei=Pr.responseEnd;Mt("requestcompleted",{request_event_type:rr,request_bytes_loaded:ao,request_start:_o,request_response_start:To,request_response_end:ei,request_type:"manifest",request_hostname:M(Gn.url),request_response_headers:V(ar)})};Pe.on(Ve.Events.AUDIO_TRACK_LOADED,un);var tn=function(rr,Cn){var Gn=Cn.stats,ar=Cn.networkDetails,Er=Cn.frag;Gn=Gn||Er.stats;var Pr=L(Gn),ao=Pr.bytesLoaded,_o=Pr.requestStart,To=Pr.responseStart,ei=Pr.responseEnd,Bo=ar?V(ar):void 0,$o={request_event_type:rr,request_bytes_loaded:ao,request_start:_o,request_response_start:To,request_response_end:ei,request_hostname:ar?M(ar.responseURL):void 0,request_id:Bo?G(Bo):void 0,request_response_headers:Bo,request_media_duration:Er.duration,request_url:ar==null?void 0:ar.responseURL};Er.type==="main"?($o.request_type="media",$o.request_current_level=Er.level,$o.request_video_width=(Pe.levels[Er.level]||{}).width,$o.request_video_height=(Pe.levels[Er.level]||{}).height,$o.request_labeled_bitrate=(Pe.levels[Er.level]||{}).bitrate):$o.request_type=Er.type,Mt("requestcompleted",$o)};Pe.on(Ve.Events.FRAG_LOADED,tn);var dn=function(rr,Cn){var Gn=Cn.frag,ar=Gn.start,Er={currentFragmentPDT:Ot(Gn),currentFragmentStart:Pt(ar)};Mt("fragmentchange",Er)};Pe.on(Ve.Events.FRAG_CHANGED,dn);var Dn=function(rr,Cn){var Gn=Cn.type,ar=Cn.details,Er=Cn.response,Pr=Cn.fatal,ao=Cn.frag,_o=Cn.networkDetails,To=(ao==null?void 0:ao.url)||Cn.url||"",ei=_o?V(_o):void 0;if(ar!==Ve.ErrorDetails.MANIFEST_LOAD_ERROR&&ar!==Ve.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&ar!==Ve.ErrorDetails.FRAG_LOAD_ERROR&&ar!==Ve.ErrorDetails.FRAG_LOAD_TIMEOUT&&ar!==Ve.ErrorDetails.LEVEL_LOAD_ERROR&&ar!==Ve.ErrorDetails.LEVEL_LOAD_TIMEOUT&&ar!==Ve.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&ar!==Ve.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&ar!==Ve.ErrorDetails.SUBTITLE_LOAD_ERROR&&ar!==Ve.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&ar!==Ve.ErrorDetails.KEY_LOAD_ERROR&&ar!==Ve.ErrorDetails.KEY_LOAD_TIMEOUT||Mt("requestfailed",{request_error:ar,request_url:To,request_hostname:M(To),request_id:ei?G(ei):void 0,request_type:ar===Ve.ErrorDetails.FRAG_LOAD_ERROR||ar===Ve.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":ar===Ve.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||ar===Ve.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":ar===Ve.ErrorDetails.SUBTITLE_LOAD_ERROR||ar===Ve.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":ar===Ve.ErrorDetails.KEY_LOAD_ERROR||ar===Ve.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:Er==null?void 0:Er.code,request_error_text:Er==null?void 0:Er.text}),Pr){var Bo,$o="".concat(To?"url: ".concat(To,`
`):"")+"".concat(Er&&(Er.code||Er.text)?"response: ".concat(Er.code,", ").concat(Er.text,`
`):"")+"".concat(Cn.reason?"failure reason: ".concat(Cn.reason,`
`):"")+"".concat(Cn.level?"level: ".concat(Cn.level,`
`):"")+"".concat(Cn.parent?"parent stream controller: ".concat(Cn.parent,`
`):"")+"".concat(Cn.buffer?"buffer length: ".concat(Cn.buffer,`
`):"")+"".concat(Cn.error?"error: ".concat(Cn.error,`
`):"")+"".concat(Cn.event?"event: ".concat(Cn.event,`
`):"")+"".concat(Cn.err?"error message: ".concat((Bo=Cn.err)===null||Bo===void 0?void 0:Bo.message,`
`):"");Mt("error",{player_error_code:Gn,player_error_message:ar,player_error_context:$o})}};Pe.on(Ve.Events.ERROR,Dn);var Wn=function(rr,Cn){var Gn=Cn.frag,ar=Gn&&Gn._url||"";Mt("requestcanceled",{request_event_type:rr,request_url:ar,request_type:"media",request_hostname:M(ar)})};Pe.on(Ve.Events.FRAG_LOAD_EMERGENCY_ABORTED,Wn);var fr=function(rr,Cn){var Gn=Cn.level,ar=Pe.levels[Gn];if(ar&&ar.attrs&&ar.attrs.BANDWIDTH){var Er,Pr=ar.attrs.BANDWIDTH,ao=parseFloat(ar.attrs["FRAME-RATE"]);isNaN(ao)||(Er=ao),Pr?Mt("renditionchange",{video_source_fps:Er,video_source_bitrate:Pr,video_source_width:ar.width,video_source_height:ar.height,video_source_rendition_name:ar.name,video_source_codec:ar==null?void 0:ar.videoCodec}):vt.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Pe.on(Ve.Events.LEVEL_SWITCHED,fr),Pe._stopMuxMonitor=function(){Pe.off(Ve.Events.MANIFEST_LOADED,Ft),Pe.off(Ve.Events.LEVEL_LOADED,Wt),Pe.off(Ve.Events.AUDIO_TRACK_LOADED,un),Pe.off(Ve.Events.FRAG_LOADED,tn),Pe.off(Ve.Events.FRAG_CHANGED,dn),Pe.off(Ve.Events.ERROR,Dn),Pe.off(Ve.Events.FRAG_LOAD_EMERGENCY_ABORTED,Wn),Pe.off(Ve.Events.LEVEL_SWITCHED,fr),Pe.off(Ve.Events.DESTROYING,Pe._stopMuxMonitor),delete Pe._stopMuxMonitor},Pe.on(Ve.Events.DESTROYING,Pe._stopMuxMonitor)}else vt.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,Lt.hlsjs,{},Lt.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var Lt;this.hlsjs&&((Lt=this.hlsjs)&&typeof Lt._stopMuxMonitor=="function"&&Lt._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(Lt){Lt.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=Lt.dashjs,function(Te,ge,Pe){var Ve=Te.log;if(Pe&&Pe.on){var vt=function(Wn,fr){return Te.emit(ge,Wn,fr)},Pt=function(Wn){var fr=Wn.type,rr=(Wn.data||{}).url;vt("requestcompleted",{request_event_type:fr,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:M(rr),request_url:rr})};Pe.on("manifestLoaded",Pt);var Ot={},Mt=function(Wn){var fr=Wn.type,rr=Wn.fragmentModel,Cn=(Wn.chunk||{}).mediaInfo||{},Gn=Cn.type,ar=Cn.bitrateList,Er={};(ar=ar||[]).forEach(function(_i,ko){Er[ko]={},Er[ko].width=_i.width,Er[ko].height=_i.height,Er[ko].bitrate=_i.bandwidth,Er[ko].attrs={}}),Gn==="video"?Ot.video=Er:Gn==="audio"?Ot.audio=Er:Ot.media=Er;var Pr=le(rr,Pe),ao=Pr.requestStart,_o=Pr.requestResponseStart,To=Pr.requestResponseEnd,ei=Pr.requestResponseHeaders,Bo=Pr.requestMediaDuration,$o=Pr.requestHostname,Oi=Pr.requestUrl,Ai=Pr.requestId;vt("requestcompleted",{request_event_type:fr,request_start:ao,request_response_start:_o,request_response_end:To,request_bytes_loaded:-1,request_type:Gn+"_init",request_response_headers:ei,request_hostname:$o,request_id:Ai,request_url:Oi,request_media_duration:Bo,request_rendition_lists:Ot})};Pe.on("initFragmentLoaded",Mt);var Ft=function(Wn){var fr=Wn.type,rr=Wn.fragmentModel,Cn=Wn.chunk||{},Gn=Cn.mediaInfo,ar=Cn.start,Er=(Gn||{}).type,Pr=le(rr,Pe),ao=Pr.requestStart,_o=Pr.requestResponseStart,To=Pr.requestResponseEnd,ei=Pr.requestBytesLoaded,Bo=Pr.requestResponseHeaders,$o=Pr.requestMediaDuration,Oi=Pr.requestHostname,Ai=Pr.requestUrl,_i=Pr.requestId,ko=re(Er,Pe),lt=ko.currentLevel,ct=ko.renditionWidth,Ct=ko.renditionHeight,Gt=ko.renditionBitrate;vt("requestcompleted",{request_event_type:fr,request_start:ao,request_response_start:_o,request_response_end:To,request_bytes_loaded:ei,request_type:Er,request_response_headers:Bo,request_hostname:Oi,request_id:_i,request_url:Ai,request_media_start_time:ar,request_media_duration:$o,request_current_level:lt,request_labeled_bitrate:Gt,request_video_width:ct,request_video_height:Ct})};Pe.on("mediaFragmentLoaded",Ft);var Wt={video:void 0,audio:void 0,totalBitrate:void 0},un=function(){if(Wt.video&&typeof Wt.video.bitrate=="number"){if(Wt.video.width&&Wt.video.height){var Wn=Wt.video.bitrate;return Wt.audio&&typeof Wt.audio.bitrate=="number"&&(Wn+=Wt.audio.bitrate),Wn!==Wt.totalBitrate?(Wt.totalBitrate=Wn,{video_source_bitrate:Wn,video_source_height:Wt.video.height,video_source_width:Wt.video.width,video_source_codec:$(Wt.video.codec)}):void 0}Ve.warn("have bitrate info for video but missing width/height")}},tn=function(Wn,fr,rr){if(typeof Wn.newQuality=="number"){var Cn=Wn.mediaType;if(Cn==="audio"||Cn==="video"){var Gn=Pe.getBitrateInfoListFor(Cn).find(function(Er){return Er.qualityIndex===Wn.newQuality});if(Gn&&typeof Gn.bitrate=="number"){Wt[Cn]=ae(ae({},Gn),{},{codec:Pe.getCurrentTrackFor(Cn).codec});var ar=un();ar&&vt("renditionchange",ar)}else Ve.warn("missing bitrate info for ".concat(Cn))}}else Ve.warn("missing evt.newQuality in qualityChangeRendered event",Wn)};Pe.on("qualityChangeRendered",tn);var dn=function(Wn){var fr=Wn.request,rr=Wn.mediaType;vt("requestcanceled",{request_event_type:(fr=fr||{}).type+"_"+fr.action,request_url:fr.url,request_type:rr,request_hostname:M(fr.url)})};Pe.on("fragmentLoadingAbandoned",dn);var Dn=function(Wn){var fr,rr,Cn=Wn.error,Gn=(Cn==null||(fr=Cn.data)===null||fr===void 0?void 0:fr.request)||{},ar=(Cn==null||(rr=Cn.data)===null||rr===void 0?void 0:rr.response)||{};(Cn==null?void 0:Cn.code)===27&&vt("requestfailed",{request_error:Gn.type+"_"+Gn.action,request_url:Gn.url,request_hostname:M(Gn.url),request_type:Gn.mediaType,request_error_code:ar.status,request_error_text:ar.statusText});var Er="".concat(Gn!=null&&Gn.url?"url: ".concat(Gn.url,`
`):"")+"".concat(ar!=null&&ar.status||ar!=null&&ar.statusText?"response: ".concat(ar==null?void 0:ar.status,", ").concat(ar==null?void 0:ar.statusText,`
`):"");vt("error",{player_error_code:Cn==null?void 0:Cn.code,player_error_message:Cn==null?void 0:Cn.message,player_error_context:Er})};Pe.on("error",Dn),Pe._stopMuxMonitor=function(){Pe.off("manifestLoaded",Pt),Pe.off("initFragmentLoaded",Mt),Pe.off("mediaFragmentLoaded",Ft),Pe.off("qualityChangeRendered",tn),Pe.off("error",Dn),Pe.off("fragmentLoadingAbandoned",dn),delete Pe._stopMuxMonitor}}else Ve.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,Lt.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var Lt;this.dashjs&&((Lt=this.dashjs)&&typeof Lt._stopMuxMonitor=="function"&&Lt._stopMuxMonitor(),this.dashjs=void 0)}}],Qe&&en($e.prototype,Qe),mt&&en($e,mt),Object.defineProperty($e,"prototype",{writable:!1}),Ut}(de),Xn=Mn,nr=y(153),er=y.n(nr);function Nn(it){return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},Nn(it)}function Sr(it,$e){return function(Qe){if(Array.isArray(Qe))return Qe}(it)||function(Qe,mt){var yt=Qe==null?null:typeof Symbol!="undefined"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(yt!=null){var Ut,Lt,Te=[],ge=!0,Pe=!1;try{for(yt=yt.call(Qe);!(ge=(Ut=yt.next()).done)&&(Te.push(Ut.value),!mt||Te.length!==mt);ge=!0);}catch(Ve){Pe=!0,Lt=Ve}finally{try{ge||yt.return==null||yt.return()}finally{if(Pe)throw Lt}}return Te}}(it,$e)||function(Qe,mt){if(Qe){if(typeof Qe=="string")return Tr(Qe,mt);var yt=Object.prototype.toString.call(Qe).slice(8,-1);return yt==="Object"&&Qe.constructor&&(yt=Qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(Qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?Tr(Qe,mt):void 0}}(it,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tr(it,$e){($e==null||$e>it.length)&&($e=it.length);for(var Qe=0,mt=new Array($e);Qe<$e;Qe++)mt[Qe]=it[Qe];return mt}var br,Rr=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],so={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};v()&&v().WeakMap&&(br=new WeakMap);var eo="#EXT-X-TARGETDURATION",Cr="#EXT-X-PART-INF",Co="#EXT-X-SERVER-CONTROL",po="#EXTINF",jo="#EXT-X-PROGRAM-DATE-TIME",vo="#EXT-X-VERSION",Oo="#EXT-X-SESSION-DATA",Lo=function(it){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(it),this.manifest};Lo.prototype.process=function(it){var $e;for(this.buffer+=it,$e=this.buffer.indexOf(`
`);$e>-1;$e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,$e)),this.buffer=this.buffer.substring($e+1)},Lo.prototype.processLine=function(it){var $e=it.indexOf(":"),Qe=pi(it,$e),mt=Qe[0],yt=Qe.length===2?io(Qe[1]):void 0;if(mt[0]!=="#")this.currentUri.uri=mt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(mt){case eo:if(!isFinite(yt)||yt<0)return;this.manifest.targetDuration=yt,this.setHoldBack();break;case Cr:So(this.manifest,Qe),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case Co:So(this.manifest,Qe),this.setHoldBack();break;case po:yt===0?this.currentUri.duration=.01:yt>0&&(this.currentUri.duration=yt);break;case jo:var Ut=yt,Lt=new Date(Ut);this.manifest.dateTimeString||(this.manifest.dateTimeString=Ut,this.manifest.dateTimeObject=Lt),this.currentUri.dateTimeString=Ut,this.currentUri.dateTimeObject=Lt;break;case vo:So(this.manifest,Qe);break;case Oo:var Te=Li(Qe[1]),ge=J(Te);Object.assign(this.manifest.sessionData,ge)}},Lo.prototype.setHoldBack=function(){var it=this.manifest,$e=it.serverControl,Qe=it.targetDuration,mt=it.partTargetDuration;if($e){var yt="holdBack",Ut="partHoldBack",Lt=Qe&&3*Qe,Te=mt&&2*mt;Qe&&!$e.hasOwnProperty(yt)&&($e[yt]=Lt),Lt&&$e[yt]<Lt&&($e[yt]=Lt),mt&&!$e.hasOwnProperty(Ut)&&($e[Ut]=3*mt),mt&&$e[Ut]<Te&&($e[Ut]=Te)}};var So=function(it,$e){var Qe,mt=Ci($e[0].replace("#EXT-X-",""));Mi($e[1])?(Qe={},Qe=Object.assign(fi($e[1]),Qe)):Qe=io($e[1]),it[mt]=Qe},Ci=function(it){return it.toLowerCase().replace(/-(\w)/g,function($e){return $e[1].toUpperCase()})},io=function(it){if(it.toLowerCase()==="yes"||it.toLowerCase()==="no")return it.toLowerCase()==="yes";var $e=it.indexOf(":")!==-1?it:parseFloat(it);return isNaN($e)?it:$e},li=function(it){var $e={},Qe=it.split("=");return Qe.length>1&&($e[Ci(Qe[0])]=io(Qe[1])),$e},fi=function(it){for(var $e=it.split(","),Qe={},mt=0;$e.length>mt;mt++){var yt=$e[mt],Ut=li(yt);Qe=Object.assign(Ut,Qe)}return Qe},Mi=function(it){return it.indexOf("=")>-1},pi=function(it,$e){return $e===-1?[it]:[it.substring(0,$e),it.substring($e+1)]},Li=function(it){var $e={};if(it){var Qe=it.search(",");return[it.slice(0,Qe),it.slice(Qe+1)].forEach(function(mt,yt){for(var Ut=mt.replace(/['"]+/g,"").split("="),Lt=0;Lt<Ut.length;Lt++)Ut[Lt]==="DATA-ID"&&($e["DATA-ID"]=Ut[1-Lt]),Ut[Lt]==="VALUE"&&($e.VALUE=Ut[1-Lt])}),{data:$e}}},Bi=Lo,ki={safeCall:function(it,$e,Qe,mt){var yt=mt;if(it&&typeof it[$e]=="function")try{yt=it[$e].apply(it,Qe)}catch(Ut){l.info("safeCall error",Ut)}return yt},safeIncrement:T,getComputedStyle:function(it,$e){var Qe;if(it&&$e&&v()&&typeof v().getComputedStyle=="function")return br&&br.has(it)&&(Qe=br.get(it)),Qe||(Qe=v().getComputedStyle(it,null),br&&br.set(it,Qe)),Qe.getPropertyValue($e)},secondsToMs:function(it){return Math.floor(1e3*it)},assign:Object.assign,headersStringToObject:U,cdnHeadersToRequestId:G,extractHostnameAndDomain:R,extractHostname:M,manifestParser:Bi,generateShortID:D,generateUUID:b,now:S.now},ra={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function Xo(it,$e){return function(Qe){if(Array.isArray(Qe))return Qe}(it)||function(Qe,mt){var yt=Qe==null?null:typeof Symbol!="undefined"&&Qe[Symbol.iterator]||Qe["@@iterator"];if(yt!=null){var Ut,Lt,Te=[],ge=!0,Pe=!1;try{for(yt=yt.call(Qe);!(ge=(Ut=yt.next()).done)&&(Te.push(Ut.value),!mt||Te.length!==mt);ge=!0);}catch(Ve){Pe=!0,Lt=Ve}finally{try{ge||yt.return==null||yt.return()}finally{if(Pe)throw Lt}}return Te}}(it,$e)||function(Qe,mt){if(Qe){if(typeof Qe=="string")return ci(Qe,mt);var yt=Object.prototype.toString.call(Qe).slice(8,-1);return yt==="Object"&&Qe.constructor&&(yt=Qe.constructor.name),yt==="Map"||yt==="Set"?Array.from(Qe):yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt)?ci(Qe,mt):void 0}}(it,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ci(it,$e){($e==null||$e>it.length)&&($e=it.length);for(var Qe=0,mt=new Array($e);Qe<$e;Qe++)mt[Qe]=it[Qe];return mt}var bo={},ii=function it($e){var Qe=arguments;typeof $e=="string"?it.hasOwnProperty($e)?v().setTimeout(function(){Qe=Array.prototype.splice.call(Qe,1),it[$e].apply(null,Qe)},0):l.warn("`"+$e+"` is an unknown task"):typeof $e=="function"?v().setTimeout(function(){$e(it)},0):l.warn("`"+$e+"` is invalid.")},di={loaded:S.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(it,$e){return function(Qe,mt,yt){var Ut=Sr(O(mt),3),Lt=Ut[0],Te=Ut[1],ge=Ut[2],Pe=Qe.log,Ve=Qe.utils.getComputedStyle,vt=Qe.utils.secondsToMs;if(!Lt)return Pe.error("No element was found with the `"+Te+"` query selector.");if(ge!=="video"&&ge!=="audio")return Pe.error("The element of `"+Te+"` was not a media element.");Lt.mux&&(Lt.mux.destroy(),delete Lt.mux,Pe.warn("Already monitoring this video element, replacing existing event listeners")),(yt=Object.assign({automaticErrorTracking:!0},yt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:Qe.VERSION},yt.data),yt.getPlayheadTime=function(){return vt(Lt.currentTime)},yt.getStateData=function(){var Ot,Mt,Ft=this.hlsjs&&this.hlsjs.url,Wt=this.dashjs&&Nn(this.dashjs.getSource==="function")&&this.dashjs.getSource(),un={player_is_paused:Lt.paused,player_playhead_time:vt(Lt.currentTime),player_width:parseInt(Ve(Lt,"width")),player_height:parseInt(Ve(Lt,"height")),player_autoplay_on:Lt.autoplay,player_preload_on:Lt.preload,player_language_code:Lt.lang,player_is_fullscreen:er()&&!!(er().fullscreenElement||er().webkitFullscreenElement||er().mozFullScreenElement||er().msFullscreenElement),video_poster_url:Lt.poster,video_source_url:Ft||Wt||Lt.currentSrc,video_source_duration:vt(Lt.duration),video_source_height:Lt.videoHeight,video_source_width:Lt.videoWidth,view_dropped_frame_count:(Ot=Lt)===null||Ot===void 0||(Mt=Ot.getVideoPlaybackQuality)===null||Mt===void 0?void 0:Mt.call(Ot).droppedVideoFrames},tn=yt.getPlayheadTime();if(Lt.getStartDate&&tn>0){var dn=Lt.getStartDate();if(dn&&typeof dn.getTime=="function"&&dn.getTime()){var Dn=dn.getTime();if(un.player_program_time=Dn+tn,Lt.seekable.length>0){var Wn=Dn+Lt.seekable.end(Lt.seekable.length-1);un.player_live_edge_program_time=Wn}}}return un},Lt.mux=Lt.mux||{},Lt.mux.deleted=!1,Lt.mux.emit=function(Ot,Mt){Qe.emit(Te,Ot,Mt)};var Pt=function(){Pe.error("The monitor for this video element has already been destroyed.")};Lt.mux.destroy=function(){Object.keys(Lt.mux.listeners).forEach(function(Ot){Lt.removeEventListener(Ot,Lt.mux.listeners[Ot],!1)}),delete Lt.mux.listeners,Lt.mux.destroy=Pt,Lt.mux.swapElement=Pt,Lt.mux.emit=Pt,Lt.mux.addHLSJS=Pt,Lt.mux.addDashJS=Pt,Lt.mux.removeHLSJS=Pt,Lt.mux.removeDashJS=Pt,Lt.mux.deleted=!0,Qe.emit(Te,"destroy")},Lt.mux.swapElement=function(Ot){var Mt=Sr(O(Ot),3),Ft=Mt[0],Wt=Mt[1],un=Mt[2];return Ft?un!=="video"&&un!=="audio"?Qe.log.error("The element of `"+Wt+"` was not a media element."):(Ft.muxId=Lt.muxId,delete Lt.muxId,Ft.mux=Ft.mux||{},Ft.mux.listeners=Object.assign({},Lt.mux.listeners),delete Lt.mux.listeners,Object.keys(Ft.mux.listeners).forEach(function(tn){Lt.removeEventListener(tn,Ft.mux.listeners[tn],!1),Ft.addEventListener(tn,Ft.mux.listeners[tn],!1)}),Ft.mux.swapElement=Lt.mux.swapElement,Ft.mux.destroy=Lt.mux.destroy,delete Lt.mux,void(Lt=Ft)):Qe.log.error("No element was found with the `"+Wt+"` query selector.")},Lt.mux.addHLSJS=function(Ot){Qe.addHLSJS(Te,Ot)},Lt.mux.addDashJS=function(Ot){Qe.addDashJS(Te,Ot)},Lt.mux.removeHLSJS=function(){Qe.removeHLSJS(Te)},Lt.mux.removeDashJS=function(){Qe.removeDashJS(Te)},Qe.init(Te,yt),Qe.emit(Te,"playerready"),Lt.paused||(Qe.emit(Te,"play"),Lt.readyState>2&&Qe.emit(Te,"playing")),Lt.mux.listeners={},Rr.forEach(function(Ot){(Ot!=="error"||yt.automaticErrorTracking)&&(Lt.mux.listeners[Ot]=function(){var Mt={};if(Ot==="error"){if(!Lt.error||Lt.error.code===1)return;Mt.player_error_code=Lt.error.code,Mt.player_error_message=so[Lt.error.code]||Lt.error.message}Qe.emit(Te,Ot,Mt)},Lt.addEventListener(Ot,Lt.mux.listeners[Ot],!1))})}(ii,it,$e)},destroyMonitor:function(it){var $e=Xo(O(it),1)[0];$e&&$e.mux&&typeof $e.mux.destroy=="function"?$e.mux.destroy():l.error("A video element monitor for `"+it+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(it,$e){var Qe=E(it);bo[Qe]?bo[Qe].addHLSJS($e):l.error("A monitor for `"+Qe+"` has not been initialized.")},addDashJS:function(it,$e){var Qe=E(it);bo[Qe]?bo[Qe].addDashJS($e):l.error("A monitor for `"+Qe+"` has not been initialized.")},removeHLSJS:function(it){var $e=E(it);bo[$e]?bo[$e].removeHLSJS():l.error("A monitor for `"+$e+"` has not been initialized.")},removeDashJS:function(it){var $e=E(it);bo[$e]?bo[$e].removeDashJS():l.error("A monitor for `"+$e+"` has not been initialized.")},init:function(it,$e){P()&&$e&&$e.respectDoNotTrack&&l.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var Qe=E(it);bo[Qe]=new Xn(ii,Qe,$e)},emit:function(it,$e,Qe){var mt=E(it);bo[mt]?(bo[mt].emit($e,Qe),$e==="destroy"&&delete bo[mt]):l.error("A monitor for `"+mt+"` has not been initialized.")},checkDoNotTrack:P,log:l,utils:ki,events:ra,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(ii,di),v()!==void 0&&typeof v().addEventListener=="function"&&v().addEventListener("pagehide",function(it){it.persisted||(ii.WINDOW_UNLOADING=!0)},!1);var ai=ii},655:function(u,g,y){var w,v;function b(D){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},b(D);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(D){var E=!1;if((v=typeof(w=D)=="function"?w.call(g,y,g,u):w)===void 0||(u.exports=v),E=!0,b(g)==="object"&&(u.exports=D(),E=!0),!E){var O=window.Cookies,C=window.Cookies=D();C.noConflict=function(){return window.Cookies=O,C}}})(function(){var D=function(){for(var E=0,O={};E<arguments.length;E++){var C=arguments[E];for(var _ in C)O[_]=C[_]}return O};return function E(O){function C(_,a,l){var P;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(l=D({path:"/"},C.defaults,l)).expires=="number"){var S=new Date;S.setMilliseconds(S.getMilliseconds()+864e5*l.expires),l.expires=S}try{P=JSON.stringify(a),/^[\{\[]/.test(P)&&(a=P)}catch(U){}return a=O.write?O.write(a,_):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),_=(_=(_=encodeURIComponent(String(_))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[_,"=",a,l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}_||(P={});for(var M=document.cookie?document.cookie.split("; "):[],R=/(%[0-9A-Z]{2})+/g,N=0;N<M.length;N++){var T=M[N].split("="),A=T.slice(1).join("=");A.charAt(0)==='"'&&(A=A.slice(1,-1));try{var F=T[0].replace(R,decodeURIComponent);if(A=O.read?O.read(A,F):O(A,F)||A.replace(R,decodeURIComponent),this.json)try{A=JSON.parse(A)}catch(U){}if(_===F){P=A;break}_||(P[F]=A)}catch(U){}}return P}}return C.set=C,C.get=function(_){return C.call(C,_)},C.getJSON=function(){return C.apply({json:!0},[].slice.call(arguments))},C.defaults={},C.remove=function(_,a){C(_,"",D(a,{expires:-1}))},C.withConverter=E,C}(function(){})})},153:function(u,g,y){var w,v=y.g!==void 0?y.g:typeof window!="undefined"?window:{},b=y(558);typeof document!="undefined"?w=document:(w=v["__GLOBAL_DOCUMENT_CACHE@4"])||(w=v["__GLOBAL_DOCUMENT_CACHE@4"]=b),u.exports=w},48:function(u,g,y){var w;w=typeof window!="undefined"?window:y.g!==void 0?y.g:typeof self!="undefined"?self:{},u.exports=w},640:function(u,g,y){var w,v;(function(b,D){"use strict";w=function(){var E=function(){},O="undefined",C=typeof window!==O&&typeof window.navigator!==O&&/Trident\/|MSIE /.test(window.navigator.userAgent),_=["trace","debug","info","warn","error"];function a(U,G){var J=U[G];if(typeof J.bind=="function")return J.bind(U);try{return Function.prototype.bind.call(J,U)}catch(Q){return function(){return Function.prototype.apply.apply(J,[U,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function P(U){return U==="debug"&&(U="log"),typeof console!==O&&(U==="trace"&&C?l:console[U]!==void 0?a(console,U):console.log!==void 0?a(console,"log"):E)}function S(U,G){for(var J=0;J<_.length;J++){var Q=_[J];this[Q]=J<U?E:this.methodFactory(Q,U,G)}this.log=this.debug}function M(U,G,J){return function(){typeof console!==O&&(S.call(this,G,J),this[U].apply(this,arguments))}}function R(U,G,J){return P(U)||M.apply(this,arguments)}function N(U,G,J){var Q,te=this;G=G==null?"WARN":G;var ee="loglevel";function L(fe){var le=(_[fe]||"silent").toUpperCase();if(typeof window!==O&&ee){try{return void(window.localStorage[ee]=le)}catch(re){}try{window.document.cookie=encodeURIComponent(ee)+"="+le+";"}catch(re){}}}function V(){var fe;if(typeof window!==O&&ee){try{fe=window.localStorage[ee]}catch($){}if(typeof fe===O)try{var le=window.document.cookie,re=le.indexOf(encodeURIComponent(ee)+"=");re!==-1&&(fe=/^([^;]+)/.exec(le.slice(re))[1])}catch($){}return te.levels[fe]===void 0&&(fe=void 0),fe}}function ne(){if(typeof window!==O&&ee){try{return void window.localStorage.removeItem(ee)}catch(fe){}try{window.document.cookie=encodeURIComponent(ee)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(fe){}}}typeof U=="string"?ee+=":"+U:typeof U=="symbol"&&(ee=void 0),te.name=U,te.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},te.methodFactory=J||R,te.getLevel=function(){return Q},te.setLevel=function(fe,le){if(typeof fe=="string"&&te.levels[fe.toUpperCase()]!==void 0&&(fe=te.levels[fe.toUpperCase()]),!(typeof fe=="number"&&fe>=0&&fe<=te.levels.SILENT))throw"log.setLevel() called with invalid level: "+fe;if(Q=fe,le!==!1&&L(fe),S.call(te,fe,U),typeof console===O&&fe<te.levels.SILENT)return"No console available for logging"},te.setDefaultLevel=function(fe){G=fe,V()||te.setLevel(fe,!1)},te.resetLevel=function(){te.setLevel(G,!1),ne()},te.enableAll=function(fe){te.setLevel(te.levels.TRACE,fe)},te.disableAll=function(fe){te.setLevel(te.levels.SILENT,fe)};var ae=V();ae==null&&(ae=G),te.setLevel(ae,!1)}var T=new N,A={};T.getLogger=function(U){if(typeof U!="symbol"&&typeof U!="string"||U==="")throw new TypeError("You must supply a name when creating a logger.");var G=A[U];return G||(G=A[U]=new N(U,T.getLevel(),T.methodFactory)),G};var F=typeof window!==O?window.log:void 0;return T.noConflict=function(){return typeof window!==O&&window.log===T&&(window.log=F),T},T.getLoggers=function(){return A},T.default=T,T},(v=typeof w=="function"?w.call(g,y,g,u):w)===void 0||(u.exports=v)})()},375:function(u,g){"use strict";var y=Object.prototype.hasOwnProperty;function w(b){try{return decodeURIComponent(b.replace(/\+/g," "))}catch(D){return null}}function v(b){try{return encodeURIComponent(b)}catch(D){return null}}g.stringify=function(b,D){D=D||"";var E,O,C=[];for(O in typeof D!="string"&&(D="?"),b)if(y.call(b,O)){if((E=b[O])||E!=null&&!isNaN(E)||(E=""),O=v(O),E=v(E),O===null||E===null)continue;C.push(O+"="+E)}return C.length?D+C.join("&"):""},g.parse=function(b){for(var D,E=/([^=?#&]+)=?([^&]*)/g,O={};D=E.exec(b);){var C=w(D[1]),_=w(D[2]);C===null||_===null||C in O||(O[C]=_)}return O}},558:function(){}},m={};function d(u){var g=m[u];if(g!==void 0)return g.exports;var y=m[u]={exports:{}};return o[u].call(y.exports,y,y.exports,d),y.exports}return d.n=function(u){var g=u&&u.__esModule?function(){return u.default}:function(){return u};return d.d(g,{a:g}),g},d.d=function(u,g){for(var y in g)d.o(g,y)&&!d.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:g[y]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(u){if(typeof window=="object")return window}}(),d.o=function(u,g){return Object.prototype.hasOwnProperty.call(u,g)},d(80)}()},z.exports=e()})()},27418:z=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function m(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function d(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var g={},y=0;y<10;y++)g["_"+String.fromCharCode(y)]=y;var w=Object.getOwnPropertyNames(g).map(function(b){return g[b]});if(w.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(b){v[b]=b}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch(b){return!1}}z.exports=d()?Object.assign:function(u,g){for(var y,w=m(u),v,b=1;b<arguments.length;b++){y=Object(arguments[b]);for(var D in y)e.call(y,D)&&(w[D]=y[D]);if(s){v=s(y);for(var E=0;E<v.length;E++)o.call(y,v[E])&&(w[v[E]]=y[v[E]])}}return w}},70631:(z,s,e)=>{var o=typeof Map=="function"&&Map.prototype,m=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=o&&m&&typeof m.get=="function"?m.get:null,u=o&&Map.prototype.forEach,g=typeof Set=="function"&&Set.prototype,y=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,w=g&&y&&typeof y.get=="function"?y.get:null,v=g&&Set.prototype.forEach,b=typeof WeakMap=="function"&&WeakMap.prototype,D=b?WeakMap.prototype.has:null,E=typeof WeakSet=="function"&&WeakSet.prototype,O=E?WeakSet.prototype.has:null,C=typeof WeakRef=="function"&&WeakRef.prototype,_=C?WeakRef.prototype.deref:null,a=Boolean.prototype.valueOf,l=Object.prototype.toString,P=Function.prototype.toString,S=String.prototype.match,M=String.prototype.slice,R=String.prototype.replace,N=String.prototype.toUpperCase,T=String.prototype.toLowerCase,A=RegExp.prototype.test,F=Array.prototype.concat,U=Array.prototype.join,G=Array.prototype.slice,J=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",V=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||"symbol")?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ae=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Be){return Be.__proto__}:null);function fe(Be,Se){if(Be===1/0||Be===-1/0||Be!==Be||Be&&Be>-1e3&&Be<1e3||A.call(/e/,Se))return Se;var Ke=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Be=="number"){var ut=Be<0?-J(-Be):J(Be);if(ut!==Be){var Oe=String(ut),K=M.call(Se,Oe.length+1);return R.call(Oe,Ke,"$&_")+"."+R.call(R.call(K,/([0-9]{3})/g,"$&_"),/_$/,"")}}return R.call(Se,Ke,"$&_")}var le=e(24654),re=le.custom,$=De(re)?re:null;z.exports=function Be(Se,Ke,ut,Oe){var K=Ke||{};if(ve(K,"quoteStyle")&&K.quoteStyle!=="single"&&K.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ve(K,"maxStringLength")&&(typeof K.maxStringLength=="number"?K.maxStringLength<0&&K.maxStringLength!==1/0:K.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Y=ve(K,"customInspect")?K.customInspect:!0;if(typeof Y!="boolean"&&Y!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ve(K,"indent")&&K.indent!==null&&K.indent!=="	"&&!(parseInt(K.indent,10)===K.indent&&K.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ve(K,"numericSeparator")&&typeof K.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var me=K.numericSeparator;if(typeof Se=="undefined")return"undefined";if(Se===null)return"null";if(typeof Se=="boolean")return Se?"true":"false";if(typeof Se=="string")return Ye(Se,K);if(typeof Se=="number"){if(Se===0)return 1/0/Se>0?"0":"-0";var Ie=String(Se);return me?fe(Se,Ie):Ie}if(typeof Se=="bigint"){var je=String(Se)+"n";return me?fe(Se,je):je}var Xe=typeof K.depth=="undefined"?5:K.depth;if(typeof ut=="undefined"&&(ut=0),ut>=Xe&&Xe>0&&typeof Se=="object")return ce(Se)?"[Array]":"[Object]";var _t=We(K,ut);if(typeof Oe=="undefined")Oe=[];else if(He(Oe,Se)>=0)return"[Circular]";function pt(Bn,yr,oo){if(yr&&(Oe=G.call(Oe),Oe.push(yr)),oo){var Wr={depth:K.depth};return ve(K,"quoteStyle")&&(Wr.quoteStyle=K.quoteStyle),Be(Bn,Wr,ut+1,Oe)}return Be(Bn,K,ut+1,Oe)}if(typeof Se=="function"&&!be(Se)){var Ge=Le(Se),at=ke(Se,pt);return"[Function"+(Ge?": "+Ge:" (anonymous)")+"]"+(at.length>0?" { "+U.call(at,", ")+" }":"")}if(De(Se)){var It=L?R.call(String(Se),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(Se);return typeof Se=="object"&&!L?$t(It):It}if(ft(Se)){for(var zt="<"+T.call(String(Se.nodeName)),Xt=Se.attributes||[],Dt=0;Dt<Xt.length;Dt++)zt+=" "+Xt[Dt].name+"="+oe(se(Xt[Dt].value),"double",K);return zt+=">",Se.childNodes&&Se.childNodes.length&&(zt+="..."),zt+="</"+T.call(String(Se.nodeName))+">",zt}if(ce(Se)){if(Se.length===0)return"[]";var ln=ke(Se,pt);return _t&&!Ne(ln)?"["+st(ln,_t)+"]":"[ "+U.call(ln,", ")+" ]"}if(pe(Se)){var qt=ke(Se,pt);return!("cause"in Error.prototype)&&"cause"in Se&&!ne.call(Se,"cause")?"{ ["+String(Se)+"] "+U.call(F.call("[cause]: "+pt(Se.cause),qt),", ")+" }":qt.length===0?"["+String(Se)+"]":"{ ["+String(Se)+"] "+U.call(qt,", ")+" }"}if(typeof Se=="object"&&Y){if($&&typeof Se[$]=="function"&&le)return le(Se,{depth:Xe-ut});if(Y!=="symbol"&&typeof Se.inspect=="function")return Se.inspect()}if(ht(Se)){var fn=[];return u&&u.call(Se,function(Bn,yr){fn.push(pt(yr,Se,!0)+" => "+pt(Bn,Se))}),gt("Map",d.call(Se),fn,_t)}if(Fe(Se)){var Sn=[];return v&&v.call(Se,function(Bn){Sn.push(pt(Bn,Se))}),gt("Set",w.call(Se),Sn,_t)}if(bt(Se))return sn("WeakMap");if(nt(Se))return sn("WeakSet");if(Tt(Se))return sn("WeakRef");if(xe(Se))return $t(pt(Number(Se)));if(_e(Se))return $t(pt(Q.call(Se)));if(Ue(Se))return $t(a.call(Se));if(we(Se))return $t(pt(String(Se)));if(!de(Se)&&!be(Se)){var wn=ke(Se,pt),Pn=ae?ae(Se)===Object.prototype:Se instanceof Object||Se.constructor===Object,jn=Se instanceof Object?"":"null prototype",sr=!Pn&&V&&Object(Se)===Se&&V in Se?M.call(he(Se),8,-1):jn?"Object":"",_r=Pn||typeof Se.constructor!="function"?"":Se.constructor.name?Se.constructor.name+" ":"",hr=_r+(sr||jn?"["+U.call(F.call([],sr||[],jn||[]),": ")+"] ":"");return wn.length===0?hr+"{}":_t?hr+"{"+st(wn,_t)+"}":hr+"{ "+U.call(wn,", ")+" }"}return String(Se)};function oe(Be,Se,Ke){var ut=(Ke.quoteStyle||Se)==="double"?'"':"'";return ut+Be+ut}function se(Be){return R.call(String(Be),/"/g,"&quot;")}function ce(Be){return he(Be)==="[object Array]"&&(!V||!(typeof Be=="object"&&V in Be))}function de(Be){return he(Be)==="[object Date]"&&(!V||!(typeof Be=="object"&&V in Be))}function be(Be){return he(Be)==="[object RegExp]"&&(!V||!(typeof Be=="object"&&V in Be))}function pe(Be){return he(Be)==="[object Error]"&&(!V||!(typeof Be=="object"&&V in Be))}function we(Be){return he(Be)==="[object String]"&&(!V||!(typeof Be=="object"&&V in Be))}function xe(Be){return he(Be)==="[object Number]"&&(!V||!(typeof Be=="object"&&V in Be))}function Ue(Be){return he(Be)==="[object Boolean]"&&(!V||!(typeof Be=="object"&&V in Be))}function De(Be){if(L)return Be&&typeof Be=="object"&&Be instanceof Symbol;if(typeof Be=="symbol")return!0;if(!Be||typeof Be!="object"||!ee)return!1;try{return ee.call(Be),!0}catch(Se){}return!1}function _e(Be){if(!Be||typeof Be!="object"||!Q)return!1;try{return Q.call(Be),!0}catch(Se){}return!1}var ie=Object.prototype.hasOwnProperty||function(Be){return Be in this};function ve(Be,Se){return ie.call(Be,Se)}function he(Be){return l.call(Be)}function Le(Be){if(Be.name)return Be.name;var Se=S.call(P.call(Be),/^function\s*([\w$]+)/);return Se?Se[1]:null}function He(Be,Se){if(Be.indexOf)return Be.indexOf(Se);for(var Ke=0,ut=Be.length;Ke<ut;Ke++)if(Be[Ke]===Se)return Ke;return-1}function ht(Be){if(!d||!Be||typeof Be!="object")return!1;try{d.call(Be);try{w.call(Be)}catch(Se){return!0}return Be instanceof Map}catch(Se){}return!1}function bt(Be){if(!D||!Be||typeof Be!="object")return!1;try{D.call(Be,D);try{O.call(Be,O)}catch(Se){return!0}return Be instanceof WeakMap}catch(Se){}return!1}function Tt(Be){if(!_||!Be||typeof Be!="object")return!1;try{return _.call(Be),!0}catch(Se){}return!1}function Fe(Be){if(!w||!Be||typeof Be!="object")return!1;try{w.call(Be);try{d.call(Be)}catch(Se){return!0}return Be instanceof Set}catch(Se){}return!1}function nt(Be){if(!O||!Be||typeof Be!="object")return!1;try{O.call(Be,O);try{D.call(Be,D)}catch(Se){return!0}return Be instanceof WeakSet}catch(Se){}return!1}function ft(Be){return!Be||typeof Be!="object"?!1:typeof HTMLElement!="undefined"&&Be instanceof HTMLElement?!0:typeof Be.nodeName=="string"&&typeof Be.getAttribute=="function"}function Ye(Be,Se){if(Be.length>Se.maxStringLength){var Ke=Be.length-Se.maxStringLength,ut="... "+Ke+" more character"+(Ke>1?"s":"");return Ye(M.call(Be,0,Se.maxStringLength),Se)+ut}var Oe=R.call(R.call(Be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,rt);return oe(Oe,"single",Se)}function rt(Be){var Se=Be.charCodeAt(0),Ke={8:"b",9:"t",10:"n",12:"f",13:"r"}[Se];return Ke?"\\"+Ke:"\\x"+(Se<16?"0":"")+N.call(Se.toString(16))}function $t(Be){return"Object("+Be+")"}function sn(Be){return Be+" { ? }"}function gt(Be,Se,Ke,ut){var Oe=ut?st(Ke,ut):U.call(Ke,", ");return Be+" ("+Se+") {"+Oe+"}"}function Ne(Be){for(var Se=0;Se<Be.length;Se++)if(He(Be[Se],`
`)>=0)return!1;return!0}function We(Be,Se){var Ke;if(Be.indent==="	")Ke="	";else if(typeof Be.indent=="number"&&Be.indent>0)Ke=U.call(Array(Be.indent+1)," ");else return null;return{base:Ke,prev:U.call(Array(Se+1),Ke)}}function st(Be,Se){if(Be.length===0)return"";var Ke=`
`+Se.prev+Se.base;return Ke+U.call(Be,","+Ke)+`
`+Se.prev}function ke(Be,Se){var Ke=ce(Be),ut=[];if(Ke){ut.length=Be.length;for(var Oe=0;Oe<Be.length;Oe++)ut[Oe]=ve(Be,Oe)?Se(Be[Oe],Be):""}var K=typeof te=="function"?te(Be):[],Y;if(L){Y={};for(var me=0;me<K.length;me++)Y["$"+K[me]]=K[me]}for(var Ie in Be)ve(Be,Ie)&&(Ke&&String(Number(Ie))===Ie&&Ie<Be.length||L&&Y["$"+Ie]instanceof Symbol||(A.call(/[^\w$]/,Ie)?ut.push(Se(Ie,Be)+": "+Se(Be[Ie],Be)):ut.push(Ie+": "+Se(Be[Ie],Be))));if(typeof te=="function")for(var je=0;je<K.length;je++)ne.call(Be,K[je])&&ut.push("["+Se(K[je])+"]: "+Se(Be[K[je]],Be));return ut}},79430:function(z,s){var e,o,m;(function(d,u){o=[],e=u,m=typeof e=="function"?e.apply(s,o):e,m!==void 0&&(z.exports=m)})(this,function(){return function(d){function u(T){return T===" "||T==="	"||T===`
`||T==="\f"||T==="\r"}function g(T){var A,F=T.exec(d.substring(S));if(F)return A=F[0],S+=A.length,A}for(var y=d.length,w=/^[ \t\n\r\u000c]+/,v=/^[, \t\n\r\u000c]+/,b=/^[^ \t\n\r\u000c]+/,D=/[,]+$/,E=/^\d+$/,O=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,C,_,a,l,P,S=0,M=[];;){if(g(v),S>=y)return M;C=g(b),_=[],C.slice(-1)===","?(C=C.replace(D,""),N()):R()}function R(){for(g(w),a="",l="in descriptor";;){if(P=d.charAt(S),l==="in descriptor")if(u(P))a&&(_.push(a),a="",l="after descriptor");else if(P===","){S+=1,a&&_.push(a),N();return}else if(P==="(")a=a+P,l="in parens";else if(P===""){a&&_.push(a),N();return}else a=a+P;else if(l==="in parens")if(P===")")a=a+P,l="in descriptor";else if(P===""){_.push(a),N();return}else a=a+P;else if(l==="after descriptor"&&!u(P))if(P===""){N();return}else l="in descriptor",S-=1;S+=1}}function N(){var T=!1,A,F,U,G,J={},Q,te,ee,L,V;for(G=0;G<_.length;G++)Q=_[G],te=Q[Q.length-1],ee=Q.substring(0,Q.length-1),L=parseInt(ee,10),V=parseFloat(ee),E.test(ee)&&te==="w"?((A||F)&&(T=!0),L===0?T=!0:A=L):O.test(ee)&&te==="x"?((A||F||U)&&(T=!0),V<0?T=!0:F=V):E.test(ee)&&te==="h"?((U||F)&&(T=!0),L===0?T=!0:U=L):T=!0;T?console&&console.log&&console.log("Invalid srcset descriptor found in '"+d+"' at '"+Q+"'."):(J.url=C,A&&(J.w=A),F&&(J.d=F),U&&(J.h=U),M.push(J))}}})},74241:z=>{var s=String,e=function(){return{isColorSupported:!1,reset:s,bold:s,dim:s,italic:s,underline:s,inverse:s,hidden:s,strikethrough:s,black:s,red:s,green:s,yellow:s,blue:s,magenta:s,cyan:s,white:s,gray:s,bgBlack:s,bgRed:s,bgGreen:s,bgYellow:s,bgBlue:s,bgMagenta:s,bgCyan:s,bgWhite:s}};z.exports=e(),z.exports.createColors=e},41353:(z,s,e)=>{"use strict";let o=e(21019);class m extends o{constructor(u){super(u),this.type="atrule"}append(...u){return this.proxyOf.nodes||(this.nodes=[]),super.append(...u)}prepend(...u){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...u)}}z.exports=m,m.default=m,o.registerAtRule(m)},69932:(z,s,e)=>{"use strict";let o=e(65631);class m extends o{constructor(u){super(u),this.type="comment"}}z.exports=m,m.default=m},21019:(z,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),d=e(94258),u=e(69932),g=e(65631),y,w,v,b;function D(C){return C.map(_=>(_.nodes&&(_.nodes=D(_.nodes)),delete _.source,_))}function E(C){if(C[o]=!1,C.proxyOf.nodes)for(let _ of C.proxyOf.nodes)E(_)}class O extends g{push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}each(_){if(!this.proxyOf.nodes)return;let a=this.getIterator(),l,P;for(;this.indexes[a]<this.proxyOf.nodes.length&&(l=this.indexes[a],P=_(this.proxyOf.nodes[l],l),P!==!1);)this.indexes[a]+=1;return delete this.indexes[a],P}walk(_){return this.each((a,l)=>{let P;try{P=_(a,l)}catch(S){throw a.addToError(S)}return P!==!1&&a.walk&&(P=a.walk(_)),P})}walkDecls(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="decl"&&_.test(l.prop))return a(l,P)}):this.walk((l,P)=>{if(l.type==="decl"&&l.prop===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="decl")return a(l,P)}))}walkRules(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="rule"&&_.test(l.selector))return a(l,P)}):this.walk((l,P)=>{if(l.type==="rule"&&l.selector===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="rule")return a(l,P)}))}walkAtRules(_,a){return a?_ instanceof RegExp?this.walk((l,P)=>{if(l.type==="atrule"&&_.test(l.name))return a(l,P)}):this.walk((l,P)=>{if(l.type==="atrule"&&l.name===_)return a(l,P)}):(a=_,this.walk((l,P)=>{if(l.type==="atrule")return a(l,P)}))}walkComments(_){return this.walk((a,l)=>{if(a.type==="comment")return _(a,l)})}append(..._){for(let a of _){let l=this.normalize(a,this.last);for(let P of l)this.proxyOf.nodes.push(P)}return this.markDirty(),this}prepend(..._){_=_.reverse();for(let a of _){let l=this.normalize(a,this.first,"prepend").reverse();for(let P of l)this.proxyOf.nodes.unshift(P);for(let P in this.indexes)this.indexes[P]=this.indexes[P]+l.length}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let a of this.nodes)a.cleanRaws(_)}insertBefore(_,a){let l=this.index(_),P=l===0?"prepend":!1,S=this.normalize(a,this.proxyOf.nodes[l],P).reverse();l=this.index(_);for(let R of S)this.proxyOf.nodes.splice(l,0,R);let M;for(let R in this.indexes)M=this.indexes[R],l<=M&&(this.indexes[R]=M+S.length);return this.markDirty(),this}insertAfter(_,a){let l=this.index(_),P=this.normalize(a,this.proxyOf.nodes[l]).reverse();l=this.index(_);for(let M of P)this.proxyOf.nodes.splice(l+1,0,M);let S;for(let M in this.indexes)S=this.indexes[M],l<S&&(this.indexes[M]=S+P.length);return this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let a;for(let l in this.indexes)a=this.indexes[l],a>=_&&(this.indexes[l]=a-1);return this.markDirty(),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(_,a,l){return l||(l=a,a={}),this.walkDecls(P=>{a.props&&!a.props.includes(P.prop)||a.fast&&!P.value.includes(a.fast)||(P.value=P.value.replace(_,l))}),this.markDirty(),this}every(_){return this.nodes.every(_)}some(_){return this.nodes.some(_)}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(_,a){if(typeof _=="string")_=D(y(_).nodes);else if(Array.isArray(_)){_=_.slice(0);for(let P of _)P.parent&&P.parent.removeChild(P,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let P of _)P.parent&&P.parent.removeChild(P,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value=="undefined")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new d(_)]}else if(_.selector)_=[new w(_)];else if(_.name)_=[new v(_)];else if(_.text)_=[new u(_)];else throw new Error("Unknown node type in node creation");return _.map(P=>(P[m]||O.rebuild(P),P=P.proxyOf,P.parent&&P.parent.removeChild(P),P[o]&&E(P),typeof P.raws.before=="undefined"&&a&&typeof a.raws.before!="undefined"&&(P.raws.before=a.raws.before.replace(/\S/g,"")),P.parent=this.proxyOf,P))}getProxyProcessor(){return{set(_,a,l){return _[a]===l||(_[a]=l,(a==="name"||a==="params"||a==="selector")&&_.markDirty()),!0},get(_,a){return a==="proxyOf"?_:_[a]?a==="each"||typeof a=="string"&&a.startsWith("walk")?(...l)=>_[a](...l.map(P=>typeof P=="function"?(S,M)=>P(S.toProxy(),M):P)):a==="every"||a==="some"?l=>_[a]((P,...S)=>l(P.toProxy(),...S)):a==="root"?()=>_.root().toProxy():a==="nodes"?_.nodes.map(l=>l.toProxy()):a==="first"||a==="last"?_[a].toProxy():_[a]:_[a]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}}O.registerParse=C=>{y=C},O.registerRule=C=>{w=C},O.registerAtRule=C=>{v=C},O.registerRoot=C=>{b=C},z.exports=O,O.default=O,O.rebuild=C=>{C.type==="atrule"?Object.setPrototypeOf(C,v.prototype):C.type==="rule"?Object.setPrototypeOf(C,w.prototype):C.type==="decl"?Object.setPrototypeOf(C,d.prototype):C.type==="comment"?Object.setPrototypeOf(C,u.prototype):C.type==="root"&&Object.setPrototypeOf(C,b.prototype),C[m]=!0,C.nodes&&C.nodes.forEach(_=>{O.rebuild(_)})}},42671:(z,s,e)=>{"use strict";let o=e(74241),m=e(22868);class d extends Error{constructor(g,y,w,v,b,D){super(g),this.name="CssSyntaxError",this.reason=g,b&&(this.file=b),v&&(this.source=v),D&&(this.plugin=D),typeof y!="undefined"&&typeof w!="undefined"&&(typeof y=="number"?(this.line=y,this.column=w):(this.line=y.line,this.column=y.column,this.endLine=w.line,this.endColumn=w.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,d)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(g){if(!this.source)return"";let y=this.source;g==null&&(g=o.isColorSupported),m&&g&&(y=m(y));let w=y.split(/\r?\n/),v=Math.max(this.line-3,0),b=Math.min(this.line+2,w.length),D=String(b).length,E,O;if(g){let{bold:C,red:_,gray:a}=o.createColors(!0);E=l=>C(_(l)),O=l=>a(l)}else E=O=C=>C;return w.slice(v,b).map((C,_)=>{let a=v+1+_,l=" "+(" "+a).slice(-D)+" | ";if(a===this.line){let P=O(l.replace(/\d/g," "))+C.slice(0,this.column-1).replace(/[^\t]/g," ");return E(">")+O(l)+C+`
 `+P+E("^")}return" "+O(l)+C}).join(`
`)}toString(){let g=this.showSourceCode();return g&&(g=`

`+g+`
`),this.name+": "+this.message+g}}z.exports=d,d.default=d},94258:(z,s,e)=>{"use strict";let o=e(65631);class m extends o{constructor(u){u&&typeof u.value!="undefined"&&typeof u.value!="string"&&(u=Fo(or({},u),{value:String(u.value)})),super(u),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}z.exports=m,m.default=m},26461:(z,s,e)=>{"use strict";let o=e(21019),m,d;class u extends o{constructor(y){super(or({type:"document"},y)),this.nodes||(this.nodes=[])}toResult(y={}){return new m(new d,this,y).stringify()}}u.registerLazyResult=g=>{m=g},u.registerProcessor=g=>{d=g},z.exports=u,u.default=u},50250:(z,s,e)=>{"use strict";let o=e(94258),m=e(47981),d=e(69932),u=e(41353),g=e(5995),y=e(41025),w=e(31675);function v(b,D){if(Array.isArray(b))return b.map(a=>v(a));let C=b,{inputs:E}=C,O=Zi(C,["inputs"]);if(E){D=[];for(let a of E){let l=Fo(or({},a),{__proto__:g.prototype});l.map&&(l.map=Fo(or({},l.map),{__proto__:m.prototype})),D.push(l)}}if(O.nodes&&(O.nodes=b.nodes.map(a=>v(a,D))),O.source){let _=O.source,{inputId:a}=_,l=Zi(_,["inputId"]);O.source=l,a!=null&&(O.source.input=D[a])}if(O.type==="root")return new y(O);if(O.type==="decl")return new o(O);if(O.type==="rule")return new w(O);if(O.type==="comment")return new d(O);if(O.type==="atrule")return new u(O);throw new Error("Unknown node type: "+b.type)}z.exports=v,v.default=v},5995:(z,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{fileURLToPath:d,pathToFileURL:u}=e(87414),{resolve:g,isAbsolute:y}=e(99830),{nanoid:w}=e(62961),v=e(22868),b=e(42671),D=e(47981),E=Symbol("fromOffsetCache"),O=!!(o&&m),C=!!(g&&y);class _{constructor(l,P={}){if(l===null||typeof l=="undefined"||typeof l=="object"&&!l.toString)throw new Error(`PostCSS received ${l} instead of CSS string`);if(this.css=l.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,P.from&&(!C||/^\w+:\/\//.test(P.from)||y(P.from)?this.file=P.from:this.file=g(P.from)),C&&O){let S=new D(this.css,P);if(S.text){this.map=S;let M=S.consumer().file;!this.file&&M&&(this.file=this.mapResolve(M))}}this.file||(this.id="<input css "+w(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(l){let P,S;if(this[E])S=this[E];else{let R=this.css.split(`
`);S=new Array(R.length);let N=0;for(let T=0,A=R.length;T<A;T++)S[T]=N,N+=R[T].length+1;this[E]=S}P=S[S.length-1];let M=0;if(l>=P)M=S.length-1;else{let R=S.length-2,N;for(;M<R;)if(N=M+(R-M>>1),l<S[N])R=N-1;else if(l>=S[N+1])M=N+1;else{M=N;break}}return{line:M+1,col:l-S[M]+1}}error(l,P,S,M={}){let R,N,T;if(P&&typeof P=="object"){let F=P,U=S;if(typeof F.offset=="number"){let G=this.fromOffset(F.offset);P=G.line,S=G.col}else P=F.line,S=F.column;if(typeof U.offset=="number"){let G=this.fromOffset(U.offset);N=G.line,T=G.col}else N=U.line,T=U.column}else if(!S){let F=this.fromOffset(P);P=F.line,S=F.col}let A=this.origin(P,S,N,T);return A?R=new b(l,A.endLine===void 0?A.line:{line:A.line,column:A.column},A.endLine===void 0?A.column:{line:A.endLine,column:A.endColumn},A.source,A.file,M.plugin):R=new b(l,N===void 0?P:{line:P,column:S},N===void 0?S:{line:N,column:T},this.css,this.file,M.plugin),R.input={line:P,column:S,endLine:N,endColumn:T,source:this.css},this.file&&(u&&(R.input.url=u(this.file).toString()),R.input.file=this.file),R}origin(l,P,S,M){if(!this.map)return!1;let R=this.map.consumer(),N=R.originalPositionFor({line:l,column:P});if(!N.source)return!1;let T;typeof S=="number"&&(T=R.originalPositionFor({line:S,column:M}));let A;y(N.source)?A=u(N.source):A=new URL(N.source,this.map.consumer().sourceRoot||u(this.map.mapFile));let F={url:A.toString(),line:N.line,column:N.column,endLine:T&&T.line,endColumn:T&&T.column};if(A.protocol==="file:")if(d)F.file=d(A);else throw new Error("file: protocol is not available in this PostCSS build");let U=R.sourceContentFor(N.source);return U&&(F.source=U),F}mapResolve(l){return/^\w+:\/\//.test(l)?l:g(this.map.consumer().sourceRoot||this.map.root||".",l)}get from(){return this.file||this.id}toJSON(){let l={};for(let P of["hasBOM","css","file","id"])this[P]!=null&&(l[P]=this[P]);return this.map&&(l.map=or({},this.map),l.map.consumerCache&&(l.map.consumerCache=void 0)),l}}z.exports=_,_.default=_,v&&v.registerInput&&v.registerInput(_)},21939:(z,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),d=e(48505),u=e(67088),g=e(21019),y=e(26461),w=e(72448),v=e(83632),b=e(66939),D=e(41025);const E={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},O={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},C={postcssPlugin:!0,prepare:!0,Once:!0},_=0;function a(N){return typeof N=="object"&&typeof N.then=="function"}function l(N){let T=!1,A=E[N.type];return N.type==="decl"?T=N.prop.toLowerCase():N.type==="atrule"&&(T=N.name.toLowerCase()),T&&N.append?[A,A+"-"+T,_,A+"Exit",A+"Exit-"+T]:T?[A,A+"-"+T,A+"Exit",A+"Exit-"+T]:N.append?[A,_,A+"Exit"]:[A,A+"Exit"]}function P(N){let T;return N.type==="document"?T=["Document",_,"DocumentExit"]:N.type==="root"?T=["Root",_,"RootExit"]:T=l(N),{node:N,events:T,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function S(N){return N[o]=!1,N.nodes&&N.nodes.forEach(T=>S(T)),N}let M={};class R{constructor(T,A,F){this.stringified=!1,this.processed=!1;let U;if(typeof A=="object"&&A!==null&&(A.type==="root"||A.type==="document"))U=S(A);else if(A instanceof R||A instanceof v)U=S(A.root),A.map&&(typeof F.map=="undefined"&&(F.map={}),F.map.inline||(F.map.inline=!1),F.map.prev=A.map);else{let G=b;F.syntax&&(G=F.syntax.parse),F.parser&&(G=F.parser),G.parse&&(G=G.parse);try{U=G(A,F)}catch(J){this.processed=!0,this.error=J}U&&!U[m]&&g.rebuild(U)}this.result=new v(T,U,F),this.helpers=Fo(or({},M),{result:this.result,postcss:M}),this.plugins=this.processor.plugins.map(G=>typeof G=="object"&&G.prepare?or(or({},G),G.prepare(this.result)):G)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(T,A){return this.async().then(T,A)}catch(T){return this.async().catch(T)}finally(T){return this.async().then(T,T)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let T of this.plugins){let A=this.runOnRoot(T);if(a(A))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let T=this.result.root;for(;!T[o];)T[o]=!0,this.walkSync(T);if(this.listeners.OnceExit)if(T.type==="document")for(let A of T.nodes)this.visitSync(this.listeners.OnceExit,A);else this.visitSync(this.listeners.OnceExit,T)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let T=this.result.opts,A=u;T.syntax&&(A=T.syntax.stringify),T.stringifier&&(A=T.stringifier),A.stringify&&(A=A.stringify);let U=new d(A,this.result.root,this.result.opts).generate();return this.result.css=U[0],this.result.map=U[1],this.result}walkSync(T){T[o]=!0;let A=l(T);for(let F of A)if(F===_)T.nodes&&T.each(U=>{U[o]||this.walkSync(U)});else{let U=this.listeners[F];if(U&&this.visitSync(U,T.toProxy()))return}}visitSync(T,A){for(let[F,U]of T){this.result.lastPlugin=F;let G;try{G=U(A,this.helpers)}catch(J){throw this.handleError(J,A.proxyOf)}if(A.type!=="root"&&A.type!=="document"&&!A.parent)return!0;if(a(G))throw this.getAsyncError()}}runOnRoot(T){this.result.lastPlugin=T;try{if(typeof T=="object"&&T.Once){if(this.result.root.type==="document"){let A=this.result.root.nodes.map(F=>T.Once(F,this.helpers));return a(A[0])?Promise.all(A):A}return T.Once(this.result.root,this.helpers)}else if(typeof T=="function")return T(this.result.root,this.result)}catch(A){throw this.handleError(A)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(T,A){let F=this.result.lastPlugin;try{A&&A.addToError(T),this.error=T,T.name==="CssSyntaxError"&&!T.plugin?(T.plugin=F.postcssPlugin,T.setMessage()):F.postcssVersion}catch(U){console&&console.error&&console.error(U)}return T}runAsync(){return rl(this,null,function*(){this.plugin=0;for(let T=0;T<this.plugins.length;T++){let A=this.plugins[T],F=this.runOnRoot(A);if(a(F))try{yield F}catch(U){throw this.handleError(U)}}if(this.prepareVisitors(),this.hasListener){let T=this.result.root;for(;!T[o];){T[o]=!0;let A=[P(T)];for(;A.length>0;){let F=this.visitTick(A);if(a(F))try{yield F}catch(U){let G=A[A.length-1].node;throw this.handleError(U,G)}}}if(this.listeners.OnceExit)for(let[A,F]of this.listeners.OnceExit){this.result.lastPlugin=A;try{if(T.type==="document"){let U=T.nodes.map(G=>F(G,this.helpers));yield Promise.all(U)}else yield F(T,this.helpers)}catch(U){throw this.handleError(U)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let T=(A,F,U)=>{this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push([A,U])};for(let A of this.plugins)if(typeof A=="object")for(let F in A){if(!O[F]&&/^[A-Z]/.test(F))throw new Error(`Unknown event ${F} in ${A.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!C[F])if(typeof A[F]=="object")for(let U in A[F])U==="*"?T(A,F,A[F][U]):T(A,F+"-"+U.toLowerCase(),A[F][U]);else typeof A[F]=="function"&&T(A,F,A[F])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(T){let A=T[T.length-1],{node:F,visitors:U}=A;if(F.type!=="root"&&F.type!=="document"&&!F.parent){T.pop();return}if(U.length>0&&A.visitorIndex<U.length){let[J,Q]=U[A.visitorIndex];A.visitorIndex+=1,A.visitorIndex===U.length&&(A.visitors=[],A.visitorIndex=0),this.result.lastPlugin=J;try{return Q(F.toProxy(),this.helpers)}catch(te){throw this.handleError(te,F)}}if(A.iterator!==0){let J=A.iterator,Q;for(;Q=F.nodes[F.indexes[J]];)if(F.indexes[J]+=1,!Q[o]){Q[o]=!0,T.push(P(Q));return}A.iterator=0,delete F.indexes[J]}let G=A.events;for(;A.eventIndex<G.length;){let J=G[A.eventIndex];if(A.eventIndex+=1,J===_){F.nodes&&F.nodes.length&&(F[o]=!0,A.iterator=F.getIterator());return}else if(this.listeners[J]){A.visitors=this.listeners[J];return}}T.pop()}}R.registerPostcss=N=>{M=N},z.exports=R,R.default=R,D.registerLazyResult(R),y.registerLazyResult(R)},54715:z=>{"use strict";let s={split(e,o,m){let d=[],u="",g=!1,y=0,w=!1,v="",b=!1;for(let D of e)b?b=!1:D==="\\"?b=!0:w?D===v&&(w=!1):D==='"'||D==="'"?(w=!0,v=D):D==="("?y+=1:D===")"?y>0&&(y-=1):y===0&&o.includes(D)&&(g=!0),g?(u!==""&&d.push(u.trim()),u="",g=!1):u+=D;return(m||u!=="")&&d.push(u.trim()),d},space(e){let o=[" ",`
`,"	"];return s.split(e,o)},comma(e){return s.split(e,[","],!0)}};z.exports=s,s.default=s},48505:(z,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{dirname:d,resolve:u,relative:g,sep:y}=e(99830),{pathToFileURL:w}=e(87414),v=e(5995),b=!!(o&&m),D=!!(d&&u&&g&&y);class E{constructor(C,_,a,l){this.stringify=C,this.mapOpts=a.map||{},this.root=_,this.opts=a,this.css=l,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(C=>{if(C.source&&C.source.input.map){let _=C.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let C=new v(this.css,this.opts);C.map&&this.previousMaps.push(C.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let C=this.mapOpts.annotation;return typeof C!="undefined"&&C!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(C=>C.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let C;for(let _=this.root.nodes.length-1;_>=0;_--)C=this.root.nodes[_],C.type==="comment"&&C.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let C={};if(this.root)this.root.walk(_=>{if(_.source){let a=_.source.input.from;if(a&&!C[a]){C[a]=!0;let l=this.usesFileUrls?this.toFileUrl(a):this.toUrl(this.path(a));this.map.setSourceContent(l,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}applyPrevMaps(){for(let C of this.previous()){let _=this.toUrl(this.path(C.file)),a=C.root||d(C.file),l;this.mapOpts.sourcesContent===!1?(l=new o(C.text),l.sourcesContent&&(l.sourcesContent=l.sourcesContent.map(()=>null))):l=C.consumer(),this.map.applySourceMap(l,_,this.toUrl(this.path(a)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(C=>C.annotation):!0}toBase64(C){return Buffer?Buffer.from(C).toString("base64"):window.btoa(unescape(encodeURIComponent(C)))}addAnnotation(){let C;this.isInline()?C="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?C=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?C=this.mapOpts.annotation(this.opts.to,this.root):C=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+C+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let C=this.previous()[0].consumer();C.file=this.outputFile(),this.map=m.fromSourceMap(C)}else this.map=new m({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(C){if(C.indexOf("<")===0||/^\w+:\/\//.test(C)||this.mapOpts.absolute)return C;let _=this.opts.to?d(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(_=d(u(_,this.mapOpts.annotation))),C=g(_,C),C}toUrl(C){return y==="\\"&&(C=C.replace(/\\/g,"/")),encodeURI(C).replace(/[#?]/g,encodeURIComponent)}toFileUrl(C){if(w)return w(C).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(C){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(C.source.input.from):this.toUrl(this.path(C.source.input.from))}generateString(){this.css="",this.map=new m({file:this.outputFile()});let C=1,_=1,a="<no source>",l={source:"",generated:{line:0,column:0},original:{line:0,column:0}},P,S;this.stringify(this.root,(M,R,N)=>{if(this.css+=M,R&&N!=="end"&&(l.generated.line=C,l.generated.column=_-1,R.source&&R.source.start?(l.source=this.sourcePath(R),l.original.line=R.source.start.line,l.original.column=R.source.start.column-1,this.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,this.map.addMapping(l))),P=M.match(/\n/g),P?(C+=P.length,S=M.lastIndexOf(`
`),_=M.length-S):_+=M.length,R&&N!=="start"){let T=R.parent||{raws:{}};(!(R.type==="decl"||R.type==="atrule"&&!R.nodes)||R!==T.last||T.raws.semicolon)&&(R.source&&R.source.end?(l.source=this.sourcePath(R),l.original.line=R.source.end.line,l.original.column=R.source.end.column-1,l.generated.line=C,l.generated.column=_-2,this.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,l.generated.line=C,l.generated.column=_-1,this.map.addMapping(l)))}})}generate(){if(this.clearAnnotation(),D&&b&&this.isMap())return this.generateMap();{let C="";return this.stringify(this.root,_=>{C+=_}),[C]}}}z.exports=E},47647:(z,s,e)=>{"use strict";let o=e(48505),m=e(67088),d=e(72448),u=e(66939);const g=e(83632);class y{constructor(v,b,D){b=b.toString(),this.stringified=!1,this._processor=v,this._css=b,this._opts=D,this._map=void 0;let E,O=m;this.result=new g(this._processor,E,this._opts),this.result.css=b;let C=this;Object.defineProperty(this.result,"root",{get(){return C.root}});let _=new o(O,E,this._opts,b);if(_.isMap()){let[a,l]=_.generate();a&&(this.result.css=a),l&&(this.result.map=l)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let v,b=u;try{v=b(this._css,this._opts)}catch(D){this.error=D}if(this.error)throw this.error;return this._root=v,v}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(v,b){return this.async().then(v,b)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}z.exports=y,y.default=y},65631:(z,s,e)=>{"use strict";let{isClean:o,my:m}=e(65513),d=e(42671),u=e(1062),g=e(67088);function y(v,b){let D=new v.constructor;for(let E in v){if(!Object.prototype.hasOwnProperty.call(v,E)||E==="proxyCache")continue;let O=v[E],C=typeof O;E==="parent"&&C==="object"?b&&(D[E]=b):E==="source"?D[E]=O:Array.isArray(O)?D[E]=O.map(_=>y(_,D)):(C==="object"&&O!==null&&(O=y(O)),D[E]=O)}return D}class w{constructor(b={}){this.raws={},this[o]=!1,this[m]=!0;for(let D in b)if(D==="nodes"){this.nodes=[];for(let E of b[D])typeof E.clone=="function"?this.append(E.clone()):this.append(E)}else this[D]=b[D]}error(b,D={}){if(this.source){let{start:E,end:O}=this.rangeBy(D);return this.source.input.error(b,{line:E.line,column:E.column},{line:O.line,column:O.column},D)}return new d(b)}warn(b,D,E){let O={node:this};for(let C in E)O[C]=E[C];return b.warn(D,O)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(b=g){b.stringify&&(b=b.stringify);let D="";return b(this,E=>{D+=E}),D}assign(b={}){for(let D in b)this[D]=b[D];return this}clone(b={}){let D=y(this);for(let E in b)D[E]=b[E];return D}cloneBefore(b={}){let D=this.clone(b);return this.parent.insertBefore(this,D),D}cloneAfter(b={}){let D=this.clone(b);return this.parent.insertAfter(this,D),D}replaceWith(...b){if(this.parent){let D=this,E=!1;for(let O of b)O===this?E=!0:E?(this.parent.insertAfter(D,O),D=O):this.parent.insertBefore(D,O);E||this.remove()}return this}next(){if(!this.parent)return;let b=this.parent.index(this);return this.parent.nodes[b+1]}prev(){if(!this.parent)return;let b=this.parent.index(this);return this.parent.nodes[b-1]}before(b){return this.parent.insertBefore(this,b),this}after(b){return this.parent.insertAfter(this,b),this}root(){let b=this;for(;b.parent&&b.parent.type!=="document";)b=b.parent;return b}raw(b,D){return new u().raw(this,b,D)}cleanRaws(b){delete this.raws.before,delete this.raws.after,b||delete this.raws.between}toJSON(b,D){let E={},O=D==null;D=D||new Map;let C=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let a=this[_];if(Array.isArray(a))E[_]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,D):l);else if(typeof a=="object"&&a.toJSON)E[_]=a.toJSON(null,D);else if(_==="source"){let l=D.get(a.input);l==null&&(l=C,D.set(a.input,C),C++),E[_]={inputId:l,start:a.start,end:a.end}}else E[_]=a}return O&&(E.inputs=[...D.keys()].map(_=>_.toJSON())),E}positionInside(b){let D=this.toString(),E=this.source.start.column,O=this.source.start.line;for(let C=0;C<b;C++)D[C]===`
`?(E=1,O+=1):E+=1;return{line:O,column:E}}positionBy(b){let D=this.source.start;if(b.index)D=this.positionInside(b.index);else if(b.word){let E=this.toString().indexOf(b.word);E!==-1&&(D=this.positionInside(E))}return D}rangeBy(b){let D={line:this.source.start.line,column:this.source.start.column},E=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:D.line,column:D.column+1};if(b.word){let O=this.toString().indexOf(b.word);O!==-1&&(D=this.positionInside(O),E=this.positionInside(O+b.word.length))}else b.start?D={line:b.start.line,column:b.start.column}:b.index&&(D=this.positionInside(b.index)),b.end?E={line:b.end.line,column:b.end.column}:b.endIndex?E=this.positionInside(b.endIndex):b.index&&(E=this.positionInside(b.index+1));return(E.line<D.line||E.line===D.line&&E.column<=D.column)&&(E={line:D.line,column:D.column+1}),{start:D,end:E}}getProxyProcessor(){return{set(b,D,E){return b[D]===E||(b[D]=E,(D==="prop"||D==="value"||D==="name"||D==="params"||D==="important"||D==="text")&&b.markDirty()),!0},get(b,D){return D==="proxyOf"?b:D==="root"?()=>b.root().toProxy():b[D]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(b){if(b.postcssNode=this,b.stack&&this.source&&/\n\s{4}at /.test(b.stack)){let D=this.source;b.stack=b.stack.replace(/\n\s{4}at /,`$&${D.input.from}:${D.start.line}:${D.start.column}$&`)}return b}markDirty(){if(this[o]){this[o]=!1;let b=this;for(;b=b.parent;)b[o]=!1}}get proxyOf(){return this}}z.exports=w,w.default=w},66939:(z,s,e)=>{"use strict";let o=e(21019),m=e(68867),d=e(5995);function u(g,y){let w=new d(g,y),v=new m(w);try{v.parse()}catch(b){throw b}return v.root}z.exports=u,u.default=u,o.registerParse(u)},68867:(z,s,e)=>{"use strict";let o=e(94258),m=e(83852),d=e(69932),u=e(41353),g=e(41025),y=e(31675);const w={empty:!0,space:!0};function v(D){for(let E=D.length-1;E>=0;E--){let O=D[E],C=O[3]||O[2];if(C)return C}}class b{constructor(E){this.input=E,this.root=new g,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:E,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=m(this.input)}parse(){let E;for(;!this.tokenizer.endOfFile();)switch(E=this.tokenizer.nextToken(),E[0]){case"space":this.spaces+=E[1];break;case";":this.freeSemicolon(E);break;case"}":this.end(E);break;case"comment":this.comment(E);break;case"at-word":this.atrule(E);break;case"{":this.emptyRule(E);break;default:this.other(E);break}this.endFile()}comment(E){let O=new d;this.init(O,E[2]),O.source.end=this.getPosition(E[3]||E[2]);let C=E[1].slice(2,-2);if(/^\s*$/.test(C))O.text="",O.raws.left=C,O.raws.right="";else{let _=C.match(/^(\s*)([^]*\S)(\s*)$/);O.text=_[2],O.raws.left=_[1],O.raws.right=_[3]}}emptyRule(E){let O=new y;this.init(O,E[2]),O.selector="",O.raws.between="",this.current=O}other(E){let O=!1,C=null,_=!1,a=null,l=[],P=E[1].startsWith("--"),S=[],M=E;for(;M;){if(C=M[0],S.push(M),C==="("||C==="[")a||(a=M),l.push(C==="("?")":"]");else if(P&&_&&C==="{")a||(a=M),l.push("}");else if(l.length===0)if(C===";")if(_){this.decl(S,P);return}else break;else if(C==="{"){this.rule(S);return}else if(C==="}"){this.tokenizer.back(S.pop()),O=!0;break}else C===":"&&(_=!0);else C===l[l.length-1]&&(l.pop(),l.length===0&&(a=null));M=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(O=!0),l.length>0&&this.unclosedBracket(a),O&&_){if(!P)for(;S.length&&(M=S[S.length-1][0],!(M!=="space"&&M!=="comment"));)this.tokenizer.back(S.pop());this.decl(S,P)}else this.unknownWord(S)}rule(E){E.pop();let O=new y;this.init(O,E[0][2]),O.raws.between=this.spacesAndCommentsFromEnd(E),this.raw(O,"selector",E),this.current=O}decl(E,O){let C=new o;this.init(C,E[0][2]);let _=E[E.length-1];for(_[0]===";"&&(this.semicolon=!0,E.pop()),C.source.end=this.getPosition(_[3]||_[2]||v(E));E[0][0]!=="word";)E.length===1&&this.unknownWord(E),C.raws.before+=E.shift()[1];for(C.source.start=this.getPosition(E[0][2]),C.prop="";E.length;){let M=E[0][0];if(M===":"||M==="space"||M==="comment")break;C.prop+=E.shift()[1]}C.raws.between="";let a;for(;E.length;)if(a=E.shift(),a[0]===":"){C.raws.between+=a[1];break}else a[0]==="word"&&/\w/.test(a[1])&&this.unknownWord([a]),C.raws.between+=a[1];(C.prop[0]==="_"||C.prop[0]==="*")&&(C.raws.before+=C.prop[0],C.prop=C.prop.slice(1));let l=[],P;for(;E.length&&(P=E[0][0],!(P!=="space"&&P!=="comment"));)l.push(E.shift());this.precheckMissedSemicolon(E);for(let M=E.length-1;M>=0;M--){if(a=E[M],a[1].toLowerCase()==="!important"){C.important=!0;let R=this.stringFrom(E,M);R=this.spacesFromEnd(E)+R,R!==" !important"&&(C.raws.important=R);break}else if(a[1].toLowerCase()==="important"){let R=E.slice(0),N="";for(let T=M;T>0;T--){let A=R[T][0];if(N.trim().indexOf("!")===0&&A!=="space")break;N=R.pop()[1]+N}N.trim().indexOf("!")===0&&(C.important=!0,C.raws.important=N,E=R)}if(a[0]!=="space"&&a[0]!=="comment")break}E.some(M=>M[0]!=="space"&&M[0]!=="comment")&&(C.raws.between+=l.map(M=>M[1]).join(""),l=[]),this.raw(C,"value",l.concat(E),O),C.value.includes(":")&&!O&&this.checkMissedSemicolon(E)}atrule(E){let O=new u;O.name=E[1].slice(1),O.name===""&&this.unnamedAtrule(O,E),this.init(O,E[2]);let C,_,a,l=!1,P=!1,S=[],M=[];for(;!this.tokenizer.endOfFile();){if(E=this.tokenizer.nextToken(),C=E[0],C==="("||C==="["?M.push(C==="("?")":"]"):C==="{"&&M.length>0?M.push("}"):C===M[M.length-1]&&M.pop(),M.length===0)if(C===";"){O.source.end=this.getPosition(E[2]),this.semicolon=!0;break}else if(C==="{"){P=!0;break}else if(C==="}"){if(S.length>0){for(a=S.length-1,_=S[a];_&&_[0]==="space";)_=S[--a];_&&(O.source.end=this.getPosition(_[3]||_[2]))}this.end(E);break}else S.push(E);else S.push(E);if(this.tokenizer.endOfFile()){l=!0;break}}O.raws.between=this.spacesAndCommentsFromEnd(S),S.length?(O.raws.afterName=this.spacesAndCommentsFromStart(S),this.raw(O,"params",S),l&&(E=S[S.length-1],O.source.end=this.getPosition(E[3]||E[2]),this.spaces=O.raws.between,O.raws.between="")):(O.raws.afterName="",O.params=""),P&&(O.nodes=[],this.current=O)}end(E){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(E[2]),this.current=this.current.parent):this.unexpectedClose(E)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(E){if(this.spaces+=E[1],this.current.nodes){let O=this.current.nodes[this.current.nodes.length-1];O&&O.type==="rule"&&!O.raws.ownSemicolon&&(O.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(E){let O=this.input.fromOffset(E);return{offset:E,line:O.line,column:O.col}}init(E,O){this.current.push(E),E.source={start:this.getPosition(O),input:this.input},E.raws.before=this.spaces,this.spaces="",E.type!=="comment"&&(this.semicolon=!1)}raw(E,O,C,_){let a,l,P=C.length,S="",M=!0,R,N;for(let T=0;T<P;T+=1)a=C[T],l=a[0],l==="space"&&T===P-1&&!_?M=!1:l==="comment"?(N=C[T-1]?C[T-1][0]:"empty",R=C[T+1]?C[T+1][0]:"empty",!w[N]&&!w[R]?S.slice(-1)===","?M=!1:S+=a[1]:M=!1):S+=a[1];if(!M){let T=C.reduce((A,F)=>A+F[1],"");E.raws[O]={value:S,raw:T}}E[O]=S}spacesAndCommentsFromEnd(E){let O,C="";for(;E.length&&(O=E[E.length-1][0],!(O!=="space"&&O!=="comment"));)C=E.pop()[1]+C;return C}spacesAndCommentsFromStart(E){let O,C="";for(;E.length&&(O=E[0][0],!(O!=="space"&&O!=="comment"));)C+=E.shift()[1];return C}spacesFromEnd(E){let O,C="";for(;E.length&&(O=E[E.length-1][0],O==="space");)C=E.pop()[1]+C;return C}stringFrom(E,O){let C="";for(let _=O;_<E.length;_++)C+=E[_][1];return E.splice(O,E.length-O),C}colon(E){let O=0,C,_,a;for(let[l,P]of E.entries()){if(C=P,_=C[0],_==="("&&(O+=1),_===")"&&(O-=1),O===0&&_===":")if(!a)this.doubleColon(C);else{if(a[0]==="word"&&a[1]==="progid")continue;return l}a=C}return!1}unclosedBracket(E){throw this.input.error("Unclosed bracket",{offset:E[2]},{offset:E[2]+1})}unknownWord(E){throw this.input.error("Unknown word",{offset:E[0][2]},{offset:E[0][2]+E[0][1].length})}unexpectedClose(E){throw this.input.error("Unexpected }",{offset:E[2]},{offset:E[2]+1})}unclosedBlock(){let E=this.current.source.start;throw this.input.error("Unclosed block",E.line,E.column)}doubleColon(E){throw this.input.error("Double colon",{offset:E[2]},{offset:E[2]+E[1].length})}unnamedAtrule(E,O){throw this.input.error("At-rule without name",{offset:O[2]},{offset:O[2]+O[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(E){let O=this.colon(E);if(O===!1)return;let C=0,_;for(let a=O-1;a>=0&&(_=E[a],!(_[0]!=="space"&&(C+=1,C===2)));a--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}}z.exports=b},50020:(z,s,e)=>{"use strict";let o=e(42671),m=e(94258),d=e(21939),u=e(21019),g=e(71723),y=e(67088),w=e(50250),v=e(26461),b=e(11728),D=e(69932),E=e(41353),O=e(83632),C=e(5995),_=e(66939),a=e(54715),l=e(31675),P=e(41025),S=e(65631);function M(...R){return R.length===1&&Array.isArray(R[0])&&(R=R[0]),new g(R)}M.plugin=function(N,T){let A=!1;function F(...G){console&&console.warn&&!A&&(A=!0,console.warn(N+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(N+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let J=T(...G);return J.postcssPlugin=N,J.postcssVersion=new g().version,J}let U;return Object.defineProperty(F,"postcss",{get(){return U||(U=F()),U}}),F.process=function(G,J,Q){return M([F(Q)]).process(G,J)},F},M.stringify=y,M.parse=_,M.fromJSON=w,M.list=a,M.comment=R=>new D(R),M.atRule=R=>new E(R),M.decl=R=>new m(R),M.rule=R=>new l(R),M.root=R=>new P(R),M.document=R=>new v(R),M.CssSyntaxError=o,M.Declaration=m,M.Container=u,M.Processor=g,M.Document=v,M.Comment=D,M.Warning=b,M.AtRule=E,M.Result=O,M.Input=C,M.Rule=l,M.Root=P,M.Node=S,d.registerPostcss(M),z.exports=M,M.default=M},47981:(z,s,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:m}=e(70209),{existsSync:d,readFileSync:u}=e(14777),{dirname:g,join:y}=e(99830);function w(b){return Buffer?Buffer.from(b,"base64").toString():window.atob(b)}class v{constructor(D,E){if(E.map===!1)return;this.loadAnnotation(D),this.inline=this.startWith(this.annotation,"data:");let O=E.map?E.map.prev:void 0,C=this.loadMap(E.from,O);!this.mapFile&&E.from&&(this.mapFile=E.from),this.mapFile&&(this.root=g(this.mapFile)),C&&(this.text=C)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(D,E){return D?D.substr(0,E.length)===E:!1}getAnnotationURL(D){return D.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(D){let E=D.match(/\/\*\s*# sourceMappingURL=/gm);if(!E)return;let O=D.lastIndexOf(E.pop()),C=D.indexOf("*/",O);O>-1&&C>-1&&(this.annotation=this.getAnnotationURL(D.substring(O,C)))}decodeInline(D){let E=/^data:application\/json;charset=utf-?8;base64,/,O=/^data:application\/json;base64,/,C=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/;if(C.test(D)||_.test(D))return decodeURIComponent(D.substr(RegExp.lastMatch.length));if(E.test(D)||O.test(D))return w(D.substr(RegExp.lastMatch.length));let a=D.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}loadFile(D){if(this.root=g(D),d(D))return this.mapFile=D,u(D,"utf-8").toString().trim()}loadMap(D,E){if(E===!1)return!1;if(E){if(typeof E=="string")return E;if(typeof E=="function"){let O=E(D);if(O){let C=this.loadFile(O);if(!C)throw new Error("Unable to load previous source map: "+O.toString());return C}}else{if(E instanceof o)return m.fromSourceMap(E).toString();if(E instanceof m)return E.toString();if(this.isMap(E))return JSON.stringify(E);throw new Error("Unsupported previous source map format: "+E.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let O=this.annotation;return D&&(O=y(g(D),O)),this.loadFile(O)}}}isMap(D){return typeof D!="object"?!1:typeof D.mappings=="string"||typeof D._mappings=="string"||Array.isArray(D.sections)}}z.exports=v,v.default=v},71723:(z,s,e)=>{"use strict";let o=e(47647),m=e(21939),d=e(26461),u=e(41025);class g{constructor(w=[]){this.version="8.4.24",this.plugins=this.normalize(w)}use(w){return this.plugins=this.plugins.concat(this.normalize([w])),this}process(w,v={}){return this.plugins.length===0&&typeof v.parser=="undefined"&&typeof v.stringifier=="undefined"&&typeof v.syntax=="undefined"?new o(this,w,v):new m(this,w,v)}normalize(w){let v=[];for(let b of w)if(b.postcss===!0?b=b():b.postcss&&(b=b.postcss),typeof b=="object"&&Array.isArray(b.plugins))v=v.concat(b.plugins);else if(typeof b=="object"&&b.postcssPlugin)v.push(b);else if(typeof b=="function")v.push(b);else if(!(typeof b=="object"&&(b.parse||b.stringify)))throw new Error(b+" is not a PostCSS plugin");return v}}z.exports=g,g.default=g,u.registerProcessor(g),d.registerProcessor(g)},83632:(z,s,e)=>{"use strict";let o=e(11728);class m{constructor(u,g,y){this.processor=u,this.messages=[],this.root=g,this.opts=y,this.css=void 0,this.map=void 0}toString(){return this.css}warn(u,g={}){g.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(g.plugin=this.lastPlugin.postcssPlugin);let y=new o(u,g);return this.messages.push(y),y}warnings(){return this.messages.filter(u=>u.type==="warning")}get content(){return this.css}}z.exports=m,m.default=m},41025:(z,s,e)=>{"use strict";let o=e(21019),m,d;class u extends o{constructor(y){super(y),this.type="root",this.nodes||(this.nodes=[])}removeChild(y,w){let v=this.index(y);return!w&&v===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[v].raws.before),super.removeChild(y)}normalize(y,w,v){let b=super.normalize(y);if(w){if(v==="prepend")this.nodes.length>1?w.raws.before=this.nodes[1].raws.before:delete w.raws.before;else if(this.first!==w)for(let D of b)D.raws.before=w.raws.before}return b}toResult(y={}){return new m(new d,this,y).stringify()}}u.registerLazyResult=g=>{m=g},u.registerProcessor=g=>{d=g},z.exports=u,u.default=u,o.registerRoot(u)},31675:(z,s,e)=>{"use strict";let o=e(21019),m=e(54715);class d extends o{constructor(g){super(g),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return m.comma(this.selector)}set selectors(g){let y=this.selector?this.selector.match(/,\s*/):null,w=y?y[0]:","+this.raw("between","beforeOpen");this.selector=g.join(w)}}z.exports=d,d.default=d,o.registerRule(d)},1062:z=>{"use strict";const s={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(m){return m[0].toUpperCase()+m.slice(1)}class o{constructor(d){this.builder=d}stringify(d,u){if(!this[d.type])throw new Error("Unknown AST node type "+d.type+". Maybe you need to change PostCSS stringifier.");this[d.type](d,u)}document(d){this.body(d)}root(d){this.body(d),d.raws.after&&this.builder(d.raws.after)}comment(d){let u=this.raw(d,"left","commentLeft"),g=this.raw(d,"right","commentRight");this.builder("/*"+u+d.text+g+"*/",d)}decl(d,u){let g=this.raw(d,"between","colon"),y=d.prop+g+this.rawValue(d,"value");d.important&&(y+=d.raws.important||" !important"),u&&(y+=";"),this.builder(y,d)}rule(d){this.block(d,this.rawValue(d,"selector")),d.raws.ownSemicolon&&this.builder(d.raws.ownSemicolon,d,"end")}atrule(d,u){let g="@"+d.name,y=d.params?this.rawValue(d,"params"):"";if(typeof d.raws.afterName!="undefined"?g+=d.raws.afterName:y&&(g+=" "),d.nodes)this.block(d,g+y);else{let w=(d.raws.between||"")+(u?";":"");this.builder(g+y+w,d)}}body(d){let u=d.nodes.length-1;for(;u>0&&d.nodes[u].type==="comment";)u-=1;let g=this.raw(d,"semicolon");for(let y=0;y<d.nodes.length;y++){let w=d.nodes[y],v=this.raw(w,"before");v&&this.builder(v),this.stringify(w,u!==y||g)}}block(d,u){let g=this.raw(d,"between","beforeOpen");this.builder(u+g+"{",d,"start");let y;d.nodes&&d.nodes.length?(this.body(d),y=this.raw(d,"after")):y=this.raw(d,"after","emptyBody"),y&&this.builder(y),this.builder("}",d,"end")}raw(d,u,g){let y;if(g||(g=u),u&&(y=d.raws[u],typeof y!="undefined"))return y;let w=d.parent;if(g==="before"&&(!w||w.type==="root"&&w.first===d||w&&w.type==="document"))return"";if(!w)return s[g];let v=d.root();if(v.rawCache||(v.rawCache={}),typeof v.rawCache[g]!="undefined")return v.rawCache[g];if(g==="before"||g==="after")return this.beforeAfter(d,g);{let b="raw"+e(g);this[b]?y=this[b](v,d):v.walk(D=>{if(y=D.raws[u],typeof y!="undefined")return!1})}return typeof y=="undefined"&&(y=s[g]),v.rawCache[g]=y,y}rawSemicolon(d){let u;return d.walk(g=>{if(g.nodes&&g.nodes.length&&g.last.type==="decl"&&(u=g.raws.semicolon,typeof u!="undefined"))return!1}),u}rawEmptyBody(d){let u;return d.walk(g=>{if(g.nodes&&g.nodes.length===0&&(u=g.raws.after,typeof u!="undefined"))return!1}),u}rawIndent(d){if(d.raws.indent)return d.raws.indent;let u;return d.walk(g=>{let y=g.parent;if(y&&y!==d&&y.parent&&y.parent===d&&typeof g.raws.before!="undefined"){let w=g.raws.before.split(`
`);return u=w[w.length-1],u=u.replace(/\S/g,""),!1}}),u}rawBeforeComment(d,u){let g;return d.walkComments(y=>{if(typeof y.raws.before!="undefined")return g=y.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(u,null,"beforeDecl"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeDecl(d,u){let g;return d.walkDecls(y=>{if(typeof y.raws.before!="undefined")return g=y.raws.before,g.includes(`
`)&&(g=g.replace(/[^\n]+$/,"")),!1}),typeof g=="undefined"?g=this.raw(u,null,"beforeRule"):g&&(g=g.replace(/\S/g,"")),g}rawBeforeRule(d){let u;return d.walk(g=>{if(g.nodes&&(g.parent!==d||d.first!==g)&&typeof g.raws.before!="undefined")return u=g.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawBeforeClose(d){let u;return d.walk(g=>{if(g.nodes&&g.nodes.length>0&&typeof g.raws.after!="undefined")return u=g.raws.after,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawBeforeOpen(d){let u;return d.walk(g=>{if(g.type!=="decl"&&(u=g.raws.between,typeof u!="undefined"))return!1}),u}rawColon(d){let u;return d.walkDecls(g=>{if(typeof g.raws.between!="undefined")return u=g.raws.between.replace(/[^\s:]/g,""),!1}),u}beforeAfter(d,u){let g;d.type==="decl"?g=this.raw(d,null,"beforeDecl"):d.type==="comment"?g=this.raw(d,null,"beforeComment"):u==="before"?g=this.raw(d,null,"beforeRule"):g=this.raw(d,null,"beforeClose");let y=d.parent,w=0;for(;y&&y.type!=="root";)w+=1,y=y.parent;if(g.includes(`
`)){let v=this.raw(d,null,"indent");if(v.length)for(let b=0;b<w;b++)g+=v}return g}rawValue(d,u){let g=d[u],y=d.raws[u];return y&&y.value===g?y.raw:g}}z.exports=o,o.default=o},67088:(z,s,e)=>{"use strict";let o=e(1062);function m(d,u){new o(u).stringify(d)}z.exports=m,m.default=m},65513:z=>{"use strict";z.exports.isClean=Symbol("isClean"),z.exports.my=Symbol("my")},83852:z=>{"use strict";const s="'".charCodeAt(0),e='"'.charCodeAt(0),o="\\".charCodeAt(0),m="/".charCodeAt(0),d=`
`.charCodeAt(0),u=" ".charCodeAt(0),g="\f".charCodeAt(0),y="	".charCodeAt(0),w="\r".charCodeAt(0),v="[".charCodeAt(0),b="]".charCodeAt(0),D="(".charCodeAt(0),E=")".charCodeAt(0),O="{".charCodeAt(0),C="}".charCodeAt(0),_=";".charCodeAt(0),a="*".charCodeAt(0),l=":".charCodeAt(0),P="@".charCodeAt(0),S=/[\t\n\f\r "#'()/;[\\\]{}]/g,M=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,R=/.[\n"'(/\\]/,N=/[\da-f]/i;z.exports=function(A,F={}){let U=A.css.valueOf(),G=F.ignoreErrors,J,Q,te,ee,L,V,ne,ae,fe,le,re=U.length,$=0,oe=[],se=[];function ce(){return $}function de(xe){throw A.error("Unclosed "+xe,$)}function be(){return se.length===0&&$>=re}function pe(xe){if(se.length)return se.pop();if($>=re)return;let Ue=xe?xe.ignoreUnclosed:!1;switch(J=U.charCodeAt($),J){case d:case u:case y:case w:case g:{Q=$;do Q+=1,J=U.charCodeAt(Q);while(J===u||J===d||J===y||J===w||J===g);le=["space",U.slice($,Q)],$=Q-1;break}case v:case b:case O:case C:case l:case _:case E:{let De=String.fromCharCode(J);le=[De,De,$];break}case D:{if(ae=oe.length?oe.pop()[1]:"",fe=U.charCodeAt($+1),ae==="url"&&fe!==s&&fe!==e&&fe!==u&&fe!==d&&fe!==y&&fe!==g&&fe!==w){Q=$;do{if(V=!1,Q=U.indexOf(")",Q+1),Q===-1)if(G||Ue){Q=$;break}else de("bracket");for(ne=Q;U.charCodeAt(ne-1)===o;)ne-=1,V=!V}while(V);le=["brackets",U.slice($,Q+1),$,Q],$=Q}else Q=U.indexOf(")",$+1),ee=U.slice($,Q+1),Q===-1||R.test(ee)?le=["(","(",$]:(le=["brackets",ee,$,Q],$=Q);break}case s:case e:{te=J===s?"'":'"',Q=$;do{if(V=!1,Q=U.indexOf(te,Q+1),Q===-1)if(G||Ue){Q=$+1;break}else de("string");for(ne=Q;U.charCodeAt(ne-1)===o;)ne-=1,V=!V}while(V);le=["string",U.slice($,Q+1),$,Q],$=Q;break}case P:{S.lastIndex=$+1,S.test(U),S.lastIndex===0?Q=U.length-1:Q=S.lastIndex-2,le=["at-word",U.slice($,Q+1),$,Q],$=Q;break}case o:{for(Q=$,L=!0;U.charCodeAt(Q+1)===o;)Q+=1,L=!L;if(J=U.charCodeAt(Q+1),L&&J!==m&&J!==u&&J!==d&&J!==y&&J!==w&&J!==g&&(Q+=1,N.test(U.charAt(Q)))){for(;N.test(U.charAt(Q+1));)Q+=1;U.charCodeAt(Q+1)===u&&(Q+=1)}le=["word",U.slice($,Q+1),$,Q],$=Q;break}default:{J===m&&U.charCodeAt($+1)===a?(Q=U.indexOf("*/",$+2)+1,Q===0&&(G||Ue?Q=U.length:de("comment")),le=["comment",U.slice($,Q+1),$,Q],$=Q):(M.lastIndex=$+1,M.test(U),M.lastIndex===0?Q=U.length-1:Q=M.lastIndex-2,le=["word",U.slice($,Q+1),$,Q],oe.push(le),$=Q);break}}return $++,le}function we(xe){se.push(xe)}return{back:we,nextToken:pe,endOfFile:be,position:ce}}},72448:z=>{"use strict";let s={};z.exports=function(o){s[o]||(s[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},11728:z=>{"use strict";class s{constructor(o,m={}){if(this.type="warning",this.text=o,m.node&&m.node.source){let d=m.node.rangeBy(m);this.line=d.start.line,this.column=d.start.column,this.endLine=d.end.line,this.endColumn=d.end.column}for(let d in m)this[d]=m[d]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}z.exports=s,s.default=s},53836:(z,s,e)=>{s.__esModule=!0;var o=function(){function oe(se,ce){for(var de=0;de<ce.length;de++){var be=ce[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(se,be.key,be)}}return function(se,ce,de){return ce&&oe(se.prototype,ce),de&&oe(se,de),se}}(),m=Object.assign||function(oe){for(var se=1;se<arguments.length;se++){var ce=arguments[se];for(var de in ce)Object.prototype.hasOwnProperty.call(ce,de)&&(oe[de]=ce[de])}return oe},d=e(6400),u=e(98278),g=E(u),y=e(10251),w=E(y),v=e(27418),b=E(v),D=e(7937);function E(oe){return oe&&oe.__esModule?oe:{default:oe}}function O(oe,se){if(!(oe instanceof se))throw new TypeError("Cannot call a class as a function")}function C(oe,se){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:oe}function _(oe,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);oe.prototype=Object.create(se&&se.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,se):oe.__proto__=se)}function a(oe,se,ce){return se in oe?Object.defineProperty(oe,se,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[se]=ce,oe}var l="data-preact-helmet",P=function(se){return String(se).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},S=function(se,ce){for(var de=se.length-1;de>=0;de--){var be=se[de];if(be[ce])return be[ce]}return null},M=function(se){var ce=S(se,"title"),de=S(se,"titleTemplate");if(de&&ce)return de.replace(/%s/g,function(){return ce});var be=S(se,"defaultTitle");return ce||be||""},R=function(se){return S(se,"onChangeClientState")||function(){}},N=function(se,ce){return ce.filter(function(de){return typeof de[se]!="undefined"}).map(function(de){return de[se]}).reduce(function(de,be){return m({},de,be)},{})},T=function(se,ce){return ce.filter(function(de){return typeof de[D.TAG_NAMES.BASE]!="undefined"}).map(function(de){return de[D.TAG_NAMES.BASE]}).reverse().reduce(function(de,be){if(!de.length)for(var pe=Object.keys(be),we=0;we<pe.length;we++){var xe=pe[we],Ue=xe.toLowerCase();if(se.indexOf(Ue)!==-1&&be[Ue])return de.concat(be)}return de},[])},A=function(se,ce,de){var be={};return de.filter(function(pe){return typeof pe[se]!="undefined"}).map(function(pe){return pe[se]}).reverse().reduce(function(pe,we){var xe={};we.filter(function(ve){for(var he=void 0,Le=Object.keys(ve),He=0;He<Le.length;He++){var ht=Le[He],bt=ht.toLowerCase();ce.indexOf(bt)!==-1&&!(he===D.TAG_PROPERTIES.REL&&ve[he].toLowerCase()==="canonical")&&!(bt===D.TAG_PROPERTIES.REL&&ve[bt].toLowerCase()==="stylesheet")&&(he=bt),ce.indexOf(ht)!==-1&&(ht===D.TAG_PROPERTIES.INNER_HTML||ht===D.TAG_PROPERTIES.CSS_TEXT||ht===D.TAG_PROPERTIES.ITEM_PROP)&&(he=ht)}if(!he||!ve[he])return!1;var Tt=ve[he].toLowerCase();return be[he]||(be[he]={}),xe[he]||(xe[he]={}),be[he][Tt]?!1:(xe[he][Tt]=!0,!0)}).reverse().forEach(function(ve){return pe.push(ve)});for(var Ue=Object.keys(xe),De=0;De<Ue.length;De++){var _e=Ue[De],ie=(0,b.default)({},be[_e],xe[_e]);be[_e]=ie}return pe},[]).reverse()},F=function(se,ce){document.title=se||document.title,U(D.TAG_NAMES.TITLE,ce)},U=function(se,ce){for(var de=document.getElementsByTagName(se)[0],be=de.getAttribute(l),pe=be?be.split(","):[],we=[].concat(pe),xe=Object.keys(ce),Ue=0;Ue<xe.length;Ue++){var De=xe[Ue],_e=ce[De]||"";de.setAttribute(De,_e),pe.indexOf(De)===-1&&pe.push(De);var ie=we.indexOf(De);ie!==-1&&we.splice(ie,1)}for(var ve=we.length-1;ve>=0;ve--)de.removeAttribute(we[ve]);pe.length===we.length?de.removeAttribute(l):de.setAttribute(l,pe.join(","))},G=function(se,ce){var de=document.head||document.querySelector("head"),be=de.querySelectorAll(se+"["+l+"]"),pe=Array.prototype.slice.call(be),we=[],xe=void 0;return ce&&ce.length&&ce.forEach(function(Ue){var De=document.createElement(se);for(var _e in Ue)if(Ue.hasOwnProperty(_e))if(_e==="innerHTML")De.innerHTML=Ue.innerHTML;else if(_e==="cssText")De.styleSheet?De.styleSheet.cssText=Ue.cssText:De.appendChild(document.createTextNode(Ue.cssText));else{var ie=typeof Ue[_e]=="undefined"?"":Ue[_e];De.setAttribute(_e,ie)}De.setAttribute(l,"true"),pe.some(function(ve,he){return xe=he,De.isEqualNode(ve)})?pe.splice(xe,1):we.push(De)}),pe.forEach(function(Ue){return Ue.parentNode.removeChild(Ue)}),we.forEach(function(Ue){return de.appendChild(Ue)}),{oldTags:pe,newTags:we}},J=function(se){return Object.keys(se).reduce(function(ce,de){var be=typeof se[de]!="undefined"?de+'="'+se[de]+'"':""+de;return ce?ce+" "+be:be},"")},Q=function(se,ce,de){var be=J(de);return be?"<"+se+" "+l+" "+be+">"+P(ce)+"</"+se+">":"<"+se+" "+l+">"+P(ce)+"</"+se+">"},te=function(se,ce){return ce.reduce(function(de,be){var pe=Object.keys(be).filter(function(Ue){return!(Ue==="innerHTML"||Ue==="cssText")}).reduce(function(Ue,De){var _e=typeof be[De]=="undefined"?De:De+'="'+P(be[De])+'"';return Ue?Ue+" "+_e:_e},""),we=be.innerHTML||be.cssText||"",xe=[D.TAG_NAMES.NOSCRIPT,D.TAG_NAMES.SCRIPT,D.TAG_NAMES.STYLE].indexOf(se)===-1;return de+"<"+se+" "+l+" "+pe+(xe?">":">"+we+"</"+se+">")},"")},ee=function(se,ce,de){var be=a({key:ce},l,!0),pe=Object.keys(de).reduce(function(we,xe){return we[xe]=de[xe],we},be);return[(0,d.h)(D.TAG_NAMES.TITLE,pe,ce)]},L=function(se,ce){return ce.map(function(de,be){var pe=a({key:be},l,!0);return Object.keys(de).forEach(function(we){var xe=we;if(xe==="innerHTML"||xe==="cssText"){var Ue=de.innerHTML||de.cssText;pe.dangerouslySetInnerHTML={__html:Ue}}else pe[xe]=de[we]}),(0,d.h)(se,pe)})},V=function(se,ce){switch(se){case D.TAG_NAMES.TITLE:return{toComponent:function(){return ee(se,ce.title,ce.titleAttributes)},toString:function(){return Q(se,ce.title,ce.titleAttributes)}};case D.TAG_NAMES.HTML:return{toComponent:function(){return ce},toString:function(){return J(ce)}};default:return{toComponent:function(){return L(se,ce)},toString:function(){return te(se,ce)}}}},ne=function(se){var ce=se.htmlAttributes,de=se.title,be=se.titleAttributes,pe=se.baseTag,we=se.metaTags,xe=se.linkTags,Ue=se.scriptTags,De=se.noscriptTags,_e=se.styleTags;return{htmlAttributes:V(D.TAG_NAMES.HTML,ce),title:V(D.TAG_NAMES.TITLE,{title:de,titleAttributes:be}),base:V(D.TAG_NAMES.BASE,pe),meta:V(D.TAG_NAMES.META,we),link:V(D.TAG_NAMES.LINK,xe),script:V(D.TAG_NAMES.SCRIPT,Ue),noscript:V(D.TAG_NAMES.NOSCRIPT,De),style:V(D.TAG_NAMES.STYLE,_e)}},ae=function(se){var ce,de;return de=ce=function(be){_(pe,be);function pe(){return O(this,pe),C(this,(pe.__proto__||Object.getPrototypeOf(pe)).apply(this,arguments))}return o(pe,[{key:"shouldComponentUpdate",value:function(xe){var Ue=m({},xe);return(!Ue.children||!Ue.children.length)&&delete Ue.children,!(0,w.default)(this.props,Ue)}},{key:"render",value:function(){return(0,d.h)(se,this.props)}}],[{key:"canUseDOM",set:function(xe){se.canUseDOM=xe}}]),pe}(d.Component),ce.peek=se.peek,ce.rewind=function(){var be=se.rewind();return be||(be=ne({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),be},de},fe=function(se){return{htmlAttributes:N(D.TAG_NAMES.HTML,se),title:M(se),titleAttributes:N("titleAttributes",se),baseTag:T([D.TAG_PROPERTIES.HREF],se),metaTags:A(D.TAG_NAMES.META,[D.TAG_PROPERTIES.NAME,D.TAG_PROPERTIES.CHARSET,D.TAG_PROPERTIES.HTTPEQUIV,D.TAG_PROPERTIES.PROPERTY,D.TAG_PROPERTIES.ITEM_PROP],se),linkTags:A(D.TAG_NAMES.LINK,[D.TAG_PROPERTIES.REL,D.TAG_PROPERTIES.HREF],se),scriptTags:A(D.TAG_NAMES.SCRIPT,[D.TAG_PROPERTIES.SRC,D.TAG_PROPERTIES.INNER_HTML],se),noscriptTags:A(D.TAG_NAMES.NOSCRIPT,[D.TAG_PROPERTIES.INNER_HTML],se),styleTags:A(D.TAG_NAMES.STYLE,[D.TAG_PROPERTIES.CSS_TEXT],se),onChangeClientState:R(se)}},le=function(se){var ce=se.htmlAttributes,de=se.title,be=se.titleAttributes,pe=se.baseTag,we=se.metaTags,xe=se.linkTags,Ue=se.scriptTags,De=se.noscriptTags,_e=se.styleTags,ie=se.onChangeClientState;U("html",ce),F(de,be);var ve={baseTag:G(D.TAG_NAMES.BASE,pe),metaTags:G(D.TAG_NAMES.META,we),linkTags:G(D.TAG_NAMES.LINK,xe),scriptTags:G(D.TAG_NAMES.SCRIPT,Ue),noscriptTags:G(D.TAG_NAMES.NOSCRIPT,De),styleTags:G(D.TAG_NAMES.STYLE,_e)},he={},Le={};Object.keys(ve).forEach(function(He){var ht=ve[He],bt=ht.newTags,Tt=ht.oldTags;bt.length&&(he[He]=bt),Tt.length&&(Le[He]=ve[He].oldTags)}),ie(se,he,Le)},re=function(){return null},$=(0,g.default)(fe,le,ne)(re);s.default=ae($),z.exports=s.default},7937:(z,s)=>{s.__esModule=!0;var e=s.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},o=s.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},m=s.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(z,s,e)=>{"use strict";e.r(s),e.d(s,{Link:()=>J,Route:()=>Q,Router:()=>G,default:()=>te,exec:()=>u,getCurrentUrl:()=>l,route:()=>P,subscribers:()=>C});var o=e(6400),m={};function d(ee,L){for(var V in L)ee[V]=L[V];return ee}function u(ee,L,V){var ne=/(?:\?([^#]*))?(#.*)?$/,ae=ee.match(ne),fe={},le;if(ae&&ae[1])for(var re=ae[1].split("&"),$=0;$<re.length;$++){var oe=re[$].split("=");fe[decodeURIComponent(oe[0])]=decodeURIComponent(oe.slice(1).join("="))}ee=w(ee.replace(ne,"")),L=w(L||"");for(var se=Math.max(ee.length,L.length),ce=0;ce<se;ce++)if(L[ce]&&L[ce].charAt(0)===":"){var de=L[ce].replace(/(^:|[+*?]+$)/g,""),be=(L[ce].match(/[+*?]+$/)||m)[0]||"",pe=~be.indexOf("+"),we=~be.indexOf("*"),xe=ee[ce]||"";if(!xe&&!we&&(be.indexOf("?")<0||pe)){le=!1;break}if(fe[de]=decodeURIComponent(xe),pe||we){fe[de]=ee.slice(ce).map(decodeURIComponent).join("/");break}}else if(L[ce]!==ee[ce]){le=!1;break}return V.default!==!0&&le===!1?!1:fe}function g(ee,L){return ee.rank<L.rank?1:ee.rank>L.rank?-1:ee.index-L.index}function y(ee,L){return ee.index=L,ee.rank=D(ee),ee.props}function w(ee){return ee.replace(/(^\/+|\/+$)/g,"").split("/")}function v(ee){return ee.charAt(0)==":"?1+"*+?".indexOf(ee.charAt(ee.length-1))||4:5}function b(ee){return w(ee).map(v).join("")}function D(ee){return ee.props.default?0:b(ee.props.path)}var E=null,O=[],C=[],_={};function a(ee,L){L===void 0&&(L="push"),E&&E[L]?E[L](ee):typeof history!="undefined"&&history[L+"State"]&&history[L+"State"](null,null,ee)}function l(){var ee;return E&&E.location?ee=E.location:E&&E.getCurrentLocation?ee=E.getCurrentLocation():ee=typeof location!="undefined"?location:_,""+(ee.pathname||"")+(ee.search||"")}function P(ee,L){return L===void 0&&(L=!1),typeof ee!="string"&&ee.url&&(L=ee.replace,ee=ee.url),S(ee)&&a(ee,L?"replace":"push"),M(ee)}function S(ee){for(var L=O.length;L--;)if(O[L].canRoute(ee))return!0;return!1}function M(ee){for(var L=!1,V=0;V<O.length;V++)O[V].routeTo(ee)===!0&&(L=!0);for(var ne=C.length;ne--;)C[ne](ee);return L}function R(ee){if(!(!ee||!ee.getAttribute)){var L=ee.getAttribute("href"),V=ee.getAttribute("target");if(!(!L||!L.match(/^\//g)||V&&!V.match(/^_?self$/i)))return P(L)}}function N(ee){if(!(ee.ctrlKey||ee.metaKey||ee.altKey||ee.shiftKey||ee.button!==0))return R(ee.currentTarget||ee.target||this),T(ee)}function T(ee){return ee&&(ee.stopImmediatePropagation&&ee.stopImmediatePropagation(),ee.stopPropagation&&ee.stopPropagation(),ee.preventDefault()),!1}function A(ee){if(!(ee.ctrlKey||ee.metaKey||ee.altKey||ee.shiftKey||ee.button!==0)){var L=ee.target;do if(String(L.nodeName).toUpperCase()==="A"&&L.getAttribute("href")){if(L.hasAttribute("native"))return;if(R(L))return T(ee)}while(L=L.parentNode)}}var F=!1;function U(){F||(typeof addEventListener=="function"&&(E||addEventListener("popstate",function(){M(l())}),addEventListener("click",A)),F=!0)}var G=function(ee){function L(V){ee.call(this,V),V.history&&(E=V.history),this.state={url:V.url||l()},U()}return ee&&(L.__proto__=ee),L.prototype=Object.create(ee&&ee.prototype),L.prototype.constructor=L,L.prototype.shouldComponentUpdate=function(ne){return ne.static!==!0?!0:ne.url!==this.props.url||ne.onChange!==this.props.onChange},L.prototype.canRoute=function(ne){var ae=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(ae,ne,!1).length>0},L.prototype.routeTo=function(ne){this.setState({url:ne});var ae=this.canRoute(ne);return this.updating||this.forceUpdate(),ae},L.prototype.componentWillMount=function(){O.push(this),this.updating=!0},L.prototype.componentDidMount=function(){var ne=this;E&&(this.unlisten=E.listen(function(ae){ne.routeTo(""+(ae.pathname||"")+(ae.search||""))})),this.updating=!1},L.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),O.splice(O.indexOf(this),1)},L.prototype.componentWillUpdate=function(){this.updating=!0},L.prototype.componentDidUpdate=function(){this.updating=!1},L.prototype.getMatchingChildren=function(ne,ae,fe){return ne.filter(y).sort(g).map(function(le){var re=u(ae,le.props.path,le.props);if(re){if(fe!==!1){var $={url:ae,matches:re};return d($,re),delete $.ref,delete $.key,(0,o.cloneElement)(le,$)}return le}}).filter(Boolean)},L.prototype.render=function(ne,ae){var fe=ne.children,le=ne.onChange,re=ae.url,$=this.getMatchingChildren((0,o.toChildArray)(fe),re,!0),oe=$[0]||null,se=this.previousUrl;return re!==se&&(this.previousUrl=re,typeof le=="function"&&le({router:this,url:re,previous:se,active:$,current:oe})),oe},L}(o.Component),J=function(ee){return(0,o.createElement)("a",d({onClick:N},ee))},Q=function(ee){return(0,o.createElement)(ee.component,ee)};G.subscribers=C,G.getCurrentUrl=l,G.route=P,G.Router=G,G.Route=Q,G.Link=J,G.exec=u;const te=G},56232:(z,s,e)=>{"use strict";var o;o={value:!0},o=s.qE=void 0;var m=Object.assign||function(E){for(var O=1;O<arguments.length;O++){var C=arguments[O];for(var _ in C)Object.prototype.hasOwnProperty.call(C,_)&&(E[_]=C[_])}return E},d=e(6400),u=e(20042);function g(E,O){var C={};for(var _ in E)O.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(E,_)&&(C[_]=E[_]);return C}function y(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function w(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function v(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var b=s.qE=function(E){v(O,E);function O(){var C,_,a;y(this,O);for(var l=arguments.length,P=Array(l),S=0;S<l;S++)P[S]=arguments[S];return a=(C=(_=w(this,E.call.apply(E,[this].concat(P))),_),_.update=function(M){_.nextUrl=M,_.setState({})},C),w(_,a)}return O.prototype.componentDidMount=function(){u.subscribers.push(this.update)},O.prototype.componentWillUnmount=function(){u.subscribers.splice(u.subscribers.indexOf(this.update)>>>0,1)},O.prototype.render=function(_){var a=this.nextUrl||(0,u.getCurrentUrl)(),l=a.replace(/\?.+$/,"");return this.nextUrl=null,_.children({url:a,path:l,matches:(0,u.exec)(l,_.path,{})!==!1})},O}(d.Component),D=function(O){var C=O.activeClassName,_=O.path,a=g(O,["activeClassName","path"]);return(0,d.h)(b,{path:_||a.href},function(l){var P=l.matches;return(0,d.h)(u.Link,m({},a,{class:[a.class||a.className,P&&C].filter(Boolean).join(" ")}))})};o=D,o=b,b.Link=D},98278:(z,s,e)=>{"use strict";var o=e(6400);function m(y,w){var v={};for(var b in y)w.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(y,b)&&(v[b]=y[b]);return v}function d(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function u(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function g(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}z.exports=function(w,v,b){if(typeof w!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof v!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof b!="undefined"&&typeof b!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function D(O){return O.displayName||O.name||"Component"}return function(C){if(typeof C!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],a=void 0;function l(){a=w(_.map(function(S){return S.props})),P.canUseDOM?v(a):b&&(a=b(a))}var P=function(S){g(M,S);function M(){return d(this,M),u(this,S.apply(this,arguments))}return M.peek=function(){return a},M.rewind=function(){if(M.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=a;return a=void 0,_=[],N},M.prototype.shouldComponentUpdate=function(N){var T=N.children,A=m(N,["children"]);return T&&T.length&&(A.children=T),E(A,this.props)},M.prototype.componentWillMount=function(){_.push(this),l()},M.prototype.componentDidUpdate=function(){l()},M.prototype.componentWillUnmount=function(){var N=_.indexOf(this);_.splice(N,1),l()},M.prototype.render=function(){return(0,o.h)(C,this.props)},M}(o.Component);return P.displayName="SideEffect("+D(C)+")",P.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),P};function E(O,C){for(var _ in O)if(!(_ in C))return!0;for(var a in C)if(O[a]!==C[a])return!0;return!1}}},98661:(z,s,e)=>{"use strict";e.r(s),e.d(s,{Children:()=>O,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>y,StrictMode:()=>ve,Suspense:()=>P,SuspenseList:()=>R,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>de,cloneElement:()=>xe,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>pe,createPortal:()=>F,createRef:()=>o.createRef,default:()=>Tt,findDOMNode:()=>De,flushSync:()=>ie,forwardRef:()=>D,hydrate:()=>V,isValidElement:()=>we,lazy:()=>M,memo:()=>w,render:()=>L,startTransition:()=>he,unmountComponentAtNode:()=>Ue,unstable_batchedUpdates:()=>_e,useCallback:()=>m.I4,useContext:()=>m.qp,useDebugValue:()=>m.Qb,useDeferredValue:()=>Le,useEffect:()=>m.d4,useErrorBoundary:()=>m.cO,useId:()=>m.Me,useImperativeHandle:()=>m.aP,useInsertionEffect:()=>ht,useLayoutEffect:()=>m.bt,useMemo:()=>m.Ye,useReducer:()=>m._Y,useRef:()=>m.sO,useState:()=>m.eJ,useSyncExternalStore:()=>bt,useTransition:()=>He,version:()=>be});var o=e(6400),m=e(30396);function d(Fe,nt){for(var ft in nt)Fe[ft]=nt[ft];return Fe}function u(Fe,nt){for(var ft in Fe)if(ft!=="__source"&&!(ft in nt))return!0;for(var Ye in nt)if(Ye!=="__source"&&Fe[Ye]!==nt[Ye])return!0;return!1}function g(Fe,nt){return Fe===nt&&(Fe!==0||1/Fe==1/nt)||Fe!=Fe&&nt!=nt}function y(Fe){this.props=Fe}function w(Fe,nt){function ft(rt){var $t=this.props.ref,sn=$t==rt.ref;return!sn&&$t&&($t.call?$t(null):$t.current=null),nt?!nt(this.props,rt)||!sn:u(this.props,rt)}function Ye(rt){return this.shouldComponentUpdate=ft,(0,o.createElement)(Fe,rt)}return Ye.displayName="Memo("+(Fe.displayName||Fe.name)+")",Ye.prototype.isReactComponent=!0,Ye.__f=!0,Ye}(y.prototype=new o.Component).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(Fe,nt){return u(this.props,Fe)||u(this.state,nt)};var v=o.options.__b;o.options.__b=function(Fe){Fe.type&&Fe.type.__f&&Fe.ref&&(Fe.props.ref=Fe.ref,Fe.ref=null),v&&v(Fe)};var b=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function D(Fe){function nt(ft){var Ye=d({},ft);return delete Ye.ref,Fe(Ye,ft.ref||null)}return nt.$$typeof=b,nt.render=nt,nt.prototype.isReactComponent=nt.__f=!0,nt.displayName="ForwardRef("+(Fe.displayName||Fe.name)+")",nt}var E=function(Fe,nt){return Fe==null?null:(0,o.toChildArray)((0,o.toChildArray)(Fe).map(nt))},O={map:E,forEach:E,count:function(Fe){return Fe?(0,o.toChildArray)(Fe).length:0},only:function(Fe){var nt=(0,o.toChildArray)(Fe);if(nt.length!==1)throw"Children.only";return nt[0]},toArray:o.toChildArray},C=o.options.__e;o.options.__e=function(Fe,nt,ft,Ye){if(Fe.then){for(var rt,$t=nt;$t=$t.__;)if((rt=$t.__c)&&rt.__c)return nt.__e==null&&(nt.__e=ft.__e,nt.__k=ft.__k),rt.__c(Fe,nt)}C(Fe,nt,ft,Ye)};var _=o.options.unmount;function a(Fe,nt,ft){return Fe&&(Fe.__c&&Fe.__c.__H&&(Fe.__c.__H.__.forEach(function(Ye){typeof Ye.__c=="function"&&Ye.__c()}),Fe.__c.__H=null),(Fe=d({},Fe)).__c!=null&&(Fe.__c.__P===ft&&(Fe.__c.__P=nt),Fe.__c=null),Fe.__k=Fe.__k&&Fe.__k.map(function(Ye){return a(Ye,nt,ft)})),Fe}function l(Fe,nt,ft){return Fe&&(Fe.__v=null,Fe.__k=Fe.__k&&Fe.__k.map(function(Ye){return l(Ye,nt,ft)}),Fe.__c&&Fe.__c.__P===nt&&(Fe.__e&&ft.insertBefore(Fe.__e,Fe.__d),Fe.__c.__e=!0,Fe.__c.__P=ft)),Fe}function P(){this.__u=0,this.t=null,this.__b=null}function S(Fe){var nt=Fe.__.__c;return nt&&nt.__a&&nt.__a(Fe)}function M(Fe){var nt,ft,Ye;function rt($t){if(nt||(nt=Fe()).then(function(sn){ft=sn.default||sn},function(sn){Ye=sn}),Ye)throw Ye;if(!ft)throw nt;return(0,o.createElement)(ft,$t)}return rt.displayName="Lazy",rt.__f=!0,rt}function R(){this.u=null,this.o=null}o.options.unmount=function(Fe){var nt=Fe.__c;nt&&nt.__R&&nt.__R(),nt&&Fe.__h===!0&&(Fe.type=null),_&&_(Fe)},(P.prototype=new o.Component).__c=function(Fe,nt){var ft=nt.__c,Ye=this;Ye.t==null&&(Ye.t=[]),Ye.t.push(ft);var rt=S(Ye.__v),$t=!1,sn=function(){$t||($t=!0,ft.__R=null,rt?rt(gt):gt())};ft.__R=sn;var gt=function(){if(!--Ye.__u){if(Ye.state.__a){var We=Ye.state.__a;Ye.__v.__k[0]=l(We,We.__c.__P,We.__c.__O)}var st;for(Ye.setState({__a:Ye.__b=null});st=Ye.t.pop();)st.forceUpdate()}},Ne=nt.__h===!0;Ye.__u++||Ne||Ye.setState({__a:Ye.__b=Ye.__v.__k[0]}),Fe.then(sn,sn)},P.prototype.componentWillUnmount=function(){this.t=[]},P.prototype.render=function(Fe,nt){if(this.__b){if(this.__v.__k){var ft=document.createElement("div"),Ye=this.__v.__k[0].__c;this.__v.__k[0]=a(this.__b,ft,Ye.__O=Ye.__P)}this.__b=null}var rt=nt.__a&&(0,o.createElement)(o.Fragment,null,Fe.fallback);return rt&&(rt.__h=null),[(0,o.createElement)(o.Fragment,null,nt.__a?null:Fe.children),rt]};var N=function(Fe,nt,ft){if(++ft[1]===ft[0]&&Fe.o.delete(nt),Fe.props.revealOrder&&(Fe.props.revealOrder[0]!=="t"||!Fe.o.size))for(ft=Fe.u;ft;){for(;ft.length>3;)ft.pop()();if(ft[1]<ft[0])break;Fe.u=ft=ft[2]}};function T(Fe){return this.getChildContext=function(){return Fe.context},Fe.children}function A(Fe){var nt=this,ft=Fe.i;nt.componentWillUnmount=function(){(0,o.render)(null,nt.l),nt.l=null,nt.i=null},nt.i&&nt.i!==ft&&nt.componentWillUnmount(),Fe.__v?(nt.l||(nt.i=ft,nt.l={nodeType:1,parentNode:ft,childNodes:[],appendChild:function(Ye){this.childNodes.push(Ye),nt.i.appendChild(Ye)},insertBefore:function(Ye,rt){this.childNodes.push(Ye),nt.i.appendChild(Ye)},removeChild:function(Ye){this.childNodes.splice(this.childNodes.indexOf(Ye)>>>1,1),nt.i.removeChild(Ye)}}),(0,o.render)((0,o.createElement)(T,{context:nt.context},Fe.__v),nt.l)):nt.l&&nt.componentWillUnmount()}function F(Fe,nt){var ft=(0,o.createElement)(A,{__v:Fe,i:nt});return ft.containerInfo=nt,ft}(R.prototype=new o.Component).__a=function(Fe){var nt=this,ft=S(nt.__v),Ye=nt.o.get(Fe);return Ye[0]++,function(rt){var $t=function(){nt.props.revealOrder?(Ye.push(rt),N(nt,Fe,Ye)):rt()};ft?ft($t):$t()}},R.prototype.render=function(Fe){this.u=null,this.o=new Map;var nt=(0,o.toChildArray)(Fe.children);Fe.revealOrder&&Fe.revealOrder[0]==="b"&&nt.reverse();for(var ft=nt.length;ft--;)this.o.set(nt[ft],this.u=[1,0,this.u]);return Fe.children},R.prototype.componentDidUpdate=R.prototype.componentDidMount=function(){var Fe=this;this.o.forEach(function(nt,ft){N(Fe,ft,nt)})};var U=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Q=/[A-Z0-9]/g,te=typeof document!="undefined",ee=function(Fe){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(Fe)};function L(Fe,nt,ft){return nt.__k==null&&(nt.textContent=""),(0,o.render)(Fe,nt),typeof ft=="function"&&ft(),Fe?Fe.__c:null}function V(Fe,nt,ft){return(0,o.hydrate)(Fe,nt),typeof ft=="function"&&ft(),Fe?Fe.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Fe){Object.defineProperty(o.Component.prototype,Fe,{configurable:!0,get:function(){return this["UNSAFE_"+Fe]},set:function(nt){Object.defineProperty(this,Fe,{configurable:!0,writable:!0,value:nt})}})});var ne=o.options.event;function ae(){}function fe(){return this.cancelBubble}function le(){return this.defaultPrevented}o.options.event=function(Fe){return ne&&(Fe=ne(Fe)),Fe.persist=ae,Fe.isPropagationStopped=fe,Fe.isDefaultPrevented=le,Fe.nativeEvent=Fe};var re,$={configurable:!0,get:function(){return this.class}},oe=o.options.vnode;o.options.vnode=function(Fe){var nt=Fe.type,ft=Fe.props,Ye=ft;if(typeof nt=="string"){for(var rt in Ye={},ft){var $t=ft[rt];if(!(rt==="value"&&"defaultValue"in ft&&$t==null||te&&rt==="children"&&nt==="noscript")){var sn=rt.toLowerCase();rt==="defaultValue"&&"value"in ft&&ft.value==null?rt="value":rt==="download"&&$t===!0?$t="":sn==="ondoubleclick"?rt="ondblclick":sn!=="onchange"||nt!=="input"&&nt!=="textarea"||ee(ft.type)?sn==="onfocus"?rt="onfocusin":sn==="onblur"?rt="onfocusout":J.test(rt)?rt=sn:nt.indexOf("-")===-1&&G.test(rt)?rt=rt.replace(Q,"-$&").toLowerCase():$t===null&&($t=void 0):sn=rt="oninput",sn==="oninput"&&Ye[rt=sn]&&(rt="oninputCapture"),Ye[rt]=$t}}nt=="select"&&Ye.multiple&&Array.isArray(Ye.value)&&(Ye.value=(0,o.toChildArray)(ft.children).forEach(function(gt){gt.props.selected=Ye.value.indexOf(gt.props.value)!=-1})),nt=="select"&&Ye.defaultValue!=null&&(Ye.value=(0,o.toChildArray)(ft.children).forEach(function(gt){gt.props.selected=Ye.multiple?Ye.defaultValue.indexOf(gt.props.value)!=-1:Ye.defaultValue==gt.props.value})),Fe.props=Ye,ft.class!=ft.className&&($.enumerable="className"in ft,ft.className!=null&&(Ye.class=ft.className),Object.defineProperty(Ye,"className",$))}Fe.$$typeof=U,oe&&oe(Fe)};var se=o.options.__r;o.options.__r=function(Fe){se&&se(Fe),re=Fe.__c};var ce=o.options.diffed;o.options.diffed=function(Fe){ce&&ce(Fe);var nt=Fe.props,ft=Fe.__e;ft!=null&&Fe.type==="textarea"&&"value"in nt&&nt.value!==ft.value&&(ft.value=nt.value==null?"":nt.value),re=null};var de={ReactCurrentDispatcher:{current:{readContext:function(Fe){return re.__n[Fe.__c].props.value}}}},be="17.0.2";function pe(Fe){return o.createElement.bind(null,Fe)}function we(Fe){return!!Fe&&Fe.$$typeof===U}function xe(Fe){return we(Fe)?o.cloneElement.apply(null,arguments):Fe}function Ue(Fe){return!!Fe.__k&&((0,o.render)(null,Fe),!0)}function De(Fe){return Fe&&(Fe.base||Fe.nodeType===1&&Fe)||null}var _e=function(Fe,nt){return Fe(nt)},ie=function(Fe,nt){return Fe(nt)},ve=o.Fragment;function he(Fe){Fe()}function Le(Fe){return Fe}function He(){return[!1,he]}var ht=m.bt;function bt(Fe,nt){var ft=nt(),Ye=(0,m.eJ)({h:{__:ft,v:nt}}),rt=Ye[0].h,$t=Ye[1];return(0,m.bt)(function(){rt.__=ft,rt.v=nt,g(rt.__,nt())||$t({h:rt})},[Fe,ft,nt]),(0,m.d4)(function(){return g(rt.__,rt.v())||$t({h:rt}),Fe(function(){g(rt.__,rt.v())||$t({h:rt})})},[Fe]),ft}var Tt={useState:m.eJ,useId:m.Me,useReducer:m._Y,useEffect:m.d4,useLayoutEffect:m.bt,useInsertionEffect:ht,useTransition:He,useDeferredValue:Le,useSyncExternalStore:bt,startTransition:he,useRef:m.sO,useImperativeHandle:m.aP,useMemo:m.Ye,useCallback:m.I4,useContext:m.qp,useDebugValue:m.Qb,version:"17.0.2",Children:O,render:L,hydrate:V,unmountComponentAtNode:Ue,createPortal:F,createElement:o.createElement,createContext:o.createContext,createFactory:pe,cloneElement:xe,createRef:o.createRef,Fragment:o.Fragment,isValidElement:we,findDOMNode:De,Component:o.Component,PureComponent:y,memo:w,forwardRef:D,flushSync:ie,unstable_batchedUpdates:_e,StrictMode:ve,Suspense:P,SuspenseList:R,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:de}},14369:(z,s,e)=>{"use strict";e.r(s),e.d(s,{addHookName:()=>m});var o=e(6400);function m(d,u){return o.options.__a&&o.options.__a(u),d}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:(z,s,e)=>{"use strict";e.r(s),e.d(s,{Component:()=>M,Fragment:()=>S,cloneElement:()=>de,createContext:()=>be,createElement:()=>a,createRef:()=>P,h:()=>a,hydrate:()=>ce,isValidElement:()=>u,options:()=>m,render:()=>se,toChildArray:()=>G});var o,m,d,u,g,y,w,v,b,D={},E=[],O=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(pe,we){for(var xe in we)pe[xe]=we[xe];return pe}function _(pe){var we=pe.parentNode;we&&we.removeChild(pe)}function a(pe,we,xe){var Ue,De,_e,ie={};for(_e in we)_e=="key"?Ue=we[_e]:_e=="ref"?De=we[_e]:ie[_e]=we[_e];if(arguments.length>2&&(ie.children=arguments.length>3?o.call(arguments,2):xe),typeof pe=="function"&&pe.defaultProps!=null)for(_e in pe.defaultProps)ie[_e]===void 0&&(ie[_e]=pe.defaultProps[_e]);return l(pe,ie,Ue,De,null)}function l(pe,we,xe,Ue,De){var _e={type:pe,props:we,key:xe,ref:Ue,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:De==null?++d:De};return De==null&&m.vnode!=null&&m.vnode(_e),_e}function P(){return{current:null}}function S(pe){return pe.children}function M(pe,we){this.props=pe,this.context=we}function R(pe,we){if(we==null)return pe.__?R(pe.__,pe.__.__k.indexOf(pe)+1):null;for(var xe;we<pe.__k.length;we++)if((xe=pe.__k[we])!=null&&xe.__e!=null)return xe.__e;return typeof pe.type=="function"?R(pe):null}function N(pe){var we,xe;if((pe=pe.__)!=null&&pe.__c!=null){for(pe.__e=pe.__c.base=null,we=0;we<pe.__k.length;we++)if((xe=pe.__k[we])!=null&&xe.__e!=null){pe.__e=pe.__c.base=xe.__e;break}return N(pe)}}function T(pe){(!pe.__d&&(pe.__d=!0)&&g.push(pe)&&!A.__r++||y!==m.debounceRendering)&&((y=m.debounceRendering)||w)(A)}function A(){var pe,we,xe,Ue,De,_e,ie,ve;for(g.sort(v);pe=g.shift();)pe.__d&&(we=g.length,Ue=void 0,De=void 0,ie=(_e=(xe=pe).__v).__e,(ve=xe.__P)&&(Ue=[],(De=C({},_e)).__v=_e.__v+1,ae(ve,_e,De,xe.__n,ve.ownerSVGElement!==void 0,_e.__h!=null?[ie]:null,Ue,ie==null?R(_e):ie,_e.__h),fe(Ue,_e),_e.__e!=ie&&N(_e)),g.length>we&&g.sort(v));A.__r=0}function F(pe,we,xe,Ue,De,_e,ie,ve,he,Le){var He,ht,bt,Tt,Fe,nt,ft,Ye=Ue&&Ue.__k||E,rt=Ye.length;for(xe.__k=[],He=0;He<we.length;He++)if((Tt=xe.__k[He]=(Tt=we[He])==null||typeof Tt=="boolean"||typeof Tt=="function"?null:typeof Tt=="string"||typeof Tt=="number"||typeof Tt=="bigint"?l(null,Tt,null,null,Tt):Array.isArray(Tt)?l(S,{children:Tt},null,null,null):Tt.__b>0?l(Tt.type,Tt.props,Tt.key,Tt.ref?Tt.ref:null,Tt.__v):Tt)!=null){if(Tt.__=xe,Tt.__b=xe.__b+1,(bt=Ye[He])===null||bt&&Tt.key==bt.key&&Tt.type===bt.type)Ye[He]=void 0;else for(ht=0;ht<rt;ht++){if((bt=Ye[ht])&&Tt.key==bt.key&&Tt.type===bt.type){Ye[ht]=void 0;break}bt=null}ae(pe,Tt,bt=bt||D,De,_e,ie,ve,he,Le),Fe=Tt.__e,(ht=Tt.ref)&&bt.ref!=ht&&(ft||(ft=[]),bt.ref&&ft.push(bt.ref,null,Tt),ft.push(ht,Tt.__c||Fe,Tt)),Fe!=null?(nt==null&&(nt=Fe),typeof Tt.type=="function"&&Tt.__k===bt.__k?Tt.__d=he=U(Tt,he,pe):he=J(pe,Tt,bt,Ye,Fe,he),typeof xe.type=="function"&&(xe.__d=he)):he&&bt.__e==he&&he.parentNode!=pe&&(he=R(bt))}for(xe.__e=nt,He=rt;He--;)Ye[He]!=null&&(typeof xe.type=="function"&&Ye[He].__e!=null&&Ye[He].__e==xe.__d&&(xe.__d=Q(Ue).nextSibling),$(Ye[He],Ye[He]));if(ft)for(He=0;He<ft.length;He++)re(ft[He],ft[++He],ft[++He])}function U(pe,we,xe){for(var Ue,De=pe.__k,_e=0;De&&_e<De.length;_e++)(Ue=De[_e])&&(Ue.__=pe,we=typeof Ue.type=="function"?U(Ue,we,xe):J(xe,Ue,Ue,De,Ue.__e,we));return we}function G(pe,we){return we=we||[],pe==null||typeof pe=="boolean"||(Array.isArray(pe)?pe.some(function(xe){G(xe,we)}):we.push(pe)),we}function J(pe,we,xe,Ue,De,_e){var ie,ve,he;if(we.__d!==void 0)ie=we.__d,we.__d=void 0;else if(xe==null||De!=_e||De.parentNode==null)e:if(_e==null||_e.parentNode!==pe)pe.appendChild(De),ie=null;else{for(ve=_e,he=0;(ve=ve.nextSibling)&&he<Ue.length;he+=1)if(ve==De)break e;pe.insertBefore(De,_e),ie=_e}return ie!==void 0?ie:De.nextSibling}function Q(pe){var we,xe,Ue;if(pe.type==null||typeof pe.type=="string")return pe.__e;if(pe.__k){for(we=pe.__k.length-1;we>=0;we--)if((xe=pe.__k[we])&&(Ue=Q(xe)))return Ue}return null}function te(pe,we,xe,Ue,De){var _e;for(_e in xe)_e==="children"||_e==="key"||_e in we||L(pe,_e,null,xe[_e],Ue);for(_e in we)De&&typeof we[_e]!="function"||_e==="children"||_e==="key"||_e==="value"||_e==="checked"||xe[_e]===we[_e]||L(pe,_e,we[_e],xe[_e],Ue)}function ee(pe,we,xe){we[0]==="-"?pe.setProperty(we,xe==null?"":xe):pe[we]=xe==null?"":typeof xe!="number"||O.test(we)?xe:xe+"px"}function L(pe,we,xe,Ue,De){var _e;e:if(we==="style")if(typeof xe=="string")pe.style.cssText=xe;else{if(typeof Ue=="string"&&(pe.style.cssText=Ue=""),Ue)for(we in Ue)xe&&we in xe||ee(pe.style,we,"");if(xe)for(we in xe)Ue&&xe[we]===Ue[we]||ee(pe.style,we,xe[we])}else if(we[0]==="o"&&we[1]==="n")_e=we!==(we=we.replace(/Capture$/,"")),we=we.toLowerCase()in pe?we.toLowerCase().slice(2):we.slice(2),pe.l||(pe.l={}),pe.l[we+_e]=xe,xe?Ue||pe.addEventListener(we,_e?ne:V,_e):pe.removeEventListener(we,_e?ne:V,_e);else if(we!=="dangerouslySetInnerHTML"){if(De)we=we.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(we!=="width"&&we!=="height"&&we!=="href"&&we!=="list"&&we!=="form"&&we!=="tabIndex"&&we!=="download"&&we in pe)try{pe[we]=xe==null?"":xe;break e}catch(ie){}typeof xe=="function"||(xe==null||xe===!1&&we.indexOf("-")==-1?pe.removeAttribute(we):pe.setAttribute(we,xe))}}function V(pe){return this.l[pe.type+!1](m.event?m.event(pe):pe)}function ne(pe){return this.l[pe.type+!0](m.event?m.event(pe):pe)}function ae(pe,we,xe,Ue,De,_e,ie,ve,he){var Le,He,ht,bt,Tt,Fe,nt,ft,Ye,rt,$t,sn,gt,Ne,We,st=we.type;if(we.constructor!==void 0)return null;xe.__h!=null&&(he=xe.__h,ve=we.__e=xe.__e,we.__h=null,_e=[ve]),(Le=m.__b)&&Le(we);try{e:if(typeof st=="function"){if(ft=we.props,Ye=(Le=st.contextType)&&Ue[Le.__c],rt=Le?Ye?Ye.props.value:Le.__:Ue,xe.__c?nt=(He=we.__c=xe.__c).__=He.__E:("prototype"in st&&st.prototype.render?we.__c=He=new st(ft,rt):(we.__c=He=new M(ft,rt),He.constructor=st,He.render=oe),Ye&&Ye.sub(He),He.props=ft,He.state||(He.state={}),He.context=rt,He.__n=Ue,ht=He.__d=!0,He.__h=[],He._sb=[]),He.__s==null&&(He.__s=He.state),st.getDerivedStateFromProps!=null&&(He.__s==He.state&&(He.__s=C({},He.__s)),C(He.__s,st.getDerivedStateFromProps(ft,He.__s))),bt=He.props,Tt=He.state,He.__v=we,ht)st.getDerivedStateFromProps==null&&He.componentWillMount!=null&&He.componentWillMount(),He.componentDidMount!=null&&He.__h.push(He.componentDidMount);else{if(st.getDerivedStateFromProps==null&&ft!==bt&&He.componentWillReceiveProps!=null&&He.componentWillReceiveProps(ft,rt),!He.__e&&He.shouldComponentUpdate!=null&&He.shouldComponentUpdate(ft,He.__s,rt)===!1||we.__v===xe.__v){for(we.__v!==xe.__v&&(He.props=ft,He.state=He.__s,He.__d=!1),He.__e=!1,we.__e=xe.__e,we.__k=xe.__k,we.__k.forEach(function(ke){ke&&(ke.__=we)}),$t=0;$t<He._sb.length;$t++)He.__h.push(He._sb[$t]);He._sb=[],He.__h.length&&ie.push(He);break e}He.componentWillUpdate!=null&&He.componentWillUpdate(ft,He.__s,rt),He.componentDidUpdate!=null&&He.__h.push(function(){He.componentDidUpdate(bt,Tt,Fe)})}if(He.context=rt,He.props=ft,He.__P=pe,sn=m.__r,gt=0,"prototype"in st&&st.prototype.render){for(He.state=He.__s,He.__d=!1,sn&&sn(we),Le=He.render(He.props,He.state,He.context),Ne=0;Ne<He._sb.length;Ne++)He.__h.push(He._sb[Ne]);He._sb=[]}else do He.__d=!1,sn&&sn(we),Le=He.render(He.props,He.state,He.context),He.state=He.__s;while(He.__d&&++gt<25);He.state=He.__s,He.getChildContext!=null&&(Ue=C(C({},Ue),He.getChildContext())),ht||He.getSnapshotBeforeUpdate==null||(Fe=He.getSnapshotBeforeUpdate(bt,Tt)),We=Le!=null&&Le.type===S&&Le.key==null?Le.props.children:Le,F(pe,Array.isArray(We)?We:[We],we,xe,Ue,De,_e,ie,ve,he),He.base=we.__e,we.__h=null,He.__h.length&&ie.push(He),nt&&(He.__E=He.__=null),He.__e=!1}else _e==null&&we.__v===xe.__v?(we.__k=xe.__k,we.__e=xe.__e):we.__e=le(xe.__e,we,xe,Ue,De,_e,ie,he);(Le=m.diffed)&&Le(we)}catch(ke){we.__v=null,(he||_e!=null)&&(we.__e=ve,we.__h=!!he,_e[_e.indexOf(ve)]=null),m.__e(ke,we,xe)}}function fe(pe,we){m.__c&&m.__c(we,pe),pe.some(function(xe){try{pe=xe.__h,xe.__h=[],pe.some(function(Ue){Ue.call(xe)})}catch(Ue){m.__e(Ue,xe.__v)}})}function le(pe,we,xe,Ue,De,_e,ie,ve){var he,Le,He,ht=xe.props,bt=we.props,Tt=we.type,Fe=0;if(Tt==="svg"&&(De=!0),_e!=null){for(;Fe<_e.length;Fe++)if((he=_e[Fe])&&"setAttribute"in he==!!Tt&&(Tt?he.localName===Tt:he.nodeType===3)){pe=he,_e[Fe]=null;break}}if(pe==null){if(Tt===null)return document.createTextNode(bt);pe=De?document.createElementNS("http://www.w3.org/2000/svg",Tt):document.createElement(Tt,bt.is&&bt),_e=null,ve=!1}if(Tt===null)ht===bt||ve&&pe.data===bt||(pe.data=bt);else{if(_e=_e&&o.call(pe.childNodes),Le=(ht=xe.props||D).dangerouslySetInnerHTML,He=bt.dangerouslySetInnerHTML,!ve){if(_e!=null)for(ht={},Fe=0;Fe<pe.attributes.length;Fe++)ht[pe.attributes[Fe].name]=pe.attributes[Fe].value;(He||Le)&&(He&&(Le&&He.__html==Le.__html||He.__html===pe.innerHTML)||(pe.innerHTML=He&&He.__html||""))}if(te(pe,bt,ht,De,ve),He)we.__k=[];else if(Fe=we.props.children,F(pe,Array.isArray(Fe)?Fe:[Fe],we,xe,Ue,De&&Tt!=="foreignObject",_e,ie,_e?_e[0]:xe.__k&&R(xe,0),ve),_e!=null)for(Fe=_e.length;Fe--;)_e[Fe]!=null&&_(_e[Fe]);ve||("value"in bt&&(Fe=bt.value)!==void 0&&(Fe!==pe.value||Tt==="progress"&&!Fe||Tt==="option"&&Fe!==ht.value)&&L(pe,"value",Fe,ht.value,!1),"checked"in bt&&(Fe=bt.checked)!==void 0&&Fe!==pe.checked&&L(pe,"checked",Fe,ht.checked,!1))}return pe}function re(pe,we,xe){try{typeof pe=="function"?pe(we):pe.current=we}catch(Ue){m.__e(Ue,xe)}}function $(pe,we,xe){var Ue,De;if(m.unmount&&m.unmount(pe),(Ue=pe.ref)&&(Ue.current&&Ue.current!==pe.__e||re(Ue,null,we)),(Ue=pe.__c)!=null){if(Ue.componentWillUnmount)try{Ue.componentWillUnmount()}catch(_e){m.__e(_e,we)}Ue.base=Ue.__P=null,pe.__c=void 0}if(Ue=pe.__k)for(De=0;De<Ue.length;De++)Ue[De]&&$(Ue[De],we,xe||typeof pe.type!="function");xe||pe.__e==null||_(pe.__e),pe.__=pe.__e=pe.__d=void 0}function oe(pe,we,xe){return this.constructor(pe,xe)}function se(pe,we,xe){var Ue,De,_e;m.__&&m.__(pe,we),De=(Ue=typeof xe=="function")?null:xe&&xe.__k||we.__k,_e=[],ae(we,pe=(!Ue&&xe||we).__k=a(S,null,[pe]),De||D,D,we.ownerSVGElement!==void 0,!Ue&&xe?[xe]:De?null:we.firstChild?o.call(we.childNodes):null,_e,!Ue&&xe?xe:De?De.__e:we.firstChild,Ue),fe(_e,pe)}function ce(pe,we){se(pe,we,ce)}function de(pe,we,xe){var Ue,De,_e,ie=C({},pe.props);for(_e in we)_e=="key"?Ue=we[_e]:_e=="ref"?De=we[_e]:ie[_e]=we[_e];return arguments.length>2&&(ie.children=arguments.length>3?o.call(arguments,2):xe),l(pe.type,ie,Ue||pe.key,De||pe.ref,null)}function be(pe,we){var xe={__c:we="__cC"+b++,__:pe,Consumer:function(Ue,De){return Ue.children(De)},Provider:function(Ue){var De,_e;return this.getChildContext||(De=[],(_e={})[we]=this,this.getChildContext=function(){return _e},this.shouldComponentUpdate=function(ie){this.props.value!==ie.value&&De.some(function(ve){ve.__e=!0,T(ve)})},this.sub=function(ie){De.push(ie);var ve=ie.componentWillUnmount;ie.componentWillUnmount=function(){De.splice(De.indexOf(ie),1),ve&&ve.call(ie)}}),Ue.children}};return xe.Provider.__=xe.Consumer.contextType=xe}o=E.slice,m={__e:function(pe,we,xe,Ue){for(var De,_e,ie;we=we.__;)if((De=we.__c)&&!De.__)try{if((_e=De.constructor)&&_e.getDerivedStateFromError!=null&&(De.setState(_e.getDerivedStateFromError(pe)),ie=De.__d),De.componentDidCatch!=null&&(De.componentDidCatch(pe,Ue||{}),ie=De.__d),ie)return De.__E=De}catch(ve){pe=ve}throw pe}},d=0,u=function(pe){return pe!=null&&pe.constructor===void 0},M.prototype.setState=function(pe,we){var xe;xe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof pe=="function"&&(pe=pe(C({},xe),this.props)),pe&&C(xe,pe),pe!=null&&this.__v&&(we&&this._sb.push(we),T(this))},M.prototype.forceUpdate=function(pe){this.__v&&(this.__e=!0,pe&&this.__h.push(pe),T(this))},M.prototype.render=S,g=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v=function(pe,we){return pe.__v.__b-we.__v.__b},A.__r=0,b=0},30396:(z,s,e)=>{"use strict";e.d(s,{I4:()=>T,Me:()=>G,Qb:()=>F,Ye:()=>N,_Y:()=>l,aP:()=>R,bt:()=>S,cO:()=>U,d4:()=>P,eJ:()=>a,qp:()=>A,sO:()=>M});var o=e(6400),m,d,u,g,y=0,w=[],v=[],b=o.options.__b,D=o.options.__r,E=o.options.diffed,O=o.options.__c,C=o.options.unmount;function _(ae,fe){o.options.__h&&o.options.__h(d,ae,y||fe),y=0;var le=d.__H||(d.__H={__:[],__h:[]});return ae>=le.__.length&&le.__.push({__V:v}),le.__[ae]}function a(ae){return y=1,l(ne,ae)}function l(ae,fe,le){var re=_(m++,2);if(re.t=ae,!re.__c&&(re.__=[le?le(fe):ne(void 0,fe),function(ce){var de=re.__N?re.__N[0]:re.__[0],be=re.t(de,ce);de!==be&&(re.__N=[be,re.__[1]],re.__c.setState({}))}],re.__c=d,!d.u)){var $=function(ce,de,be){if(!re.__c.__H)return!0;var pe=re.__c.__H.__.filter(function(xe){return xe.__c});if(pe.every(function(xe){return!xe.__N}))return!oe||oe.call(this,ce,de,be);var we=!1;return pe.forEach(function(xe){if(xe.__N){var Ue=xe.__[0];xe.__=xe.__N,xe.__N=void 0,Ue!==xe.__[0]&&(we=!0)}}),!(!we&&re.__c.props===ce)&&(!oe||oe.call(this,ce,de,be))};d.u=!0;var oe=d.shouldComponentUpdate,se=d.componentWillUpdate;d.componentWillUpdate=function(ce,de,be){if(this.__e){var pe=oe;oe=void 0,$(ce,de,be),oe=pe}se&&se.call(this,ce,de,be)},d.shouldComponentUpdate=$}return re.__N||re.__}function P(ae,fe){var le=_(m++,3);!o.options.__s&&V(le.__H,fe)&&(le.__=ae,le.i=fe,d.__H.__h.push(le))}function S(ae,fe){var le=_(m++,4);!o.options.__s&&V(le.__H,fe)&&(le.__=ae,le.i=fe,d.__h.push(le))}function M(ae){return y=5,N(function(){return{current:ae}},[])}function R(ae,fe,le){y=6,S(function(){return typeof ae=="function"?(ae(fe()),function(){return ae(null)}):ae?(ae.current=fe(),function(){return ae.current=null}):void 0},le==null?le:le.concat(ae))}function N(ae,fe){var le=_(m++,7);return V(le.__H,fe)?(le.__V=ae(),le.i=fe,le.__h=ae,le.__V):le.__}function T(ae,fe){return y=8,N(function(){return ae},fe)}function A(ae){var fe=d.context[ae.__c],le=_(m++,9);return le.c=ae,fe?(le.__==null&&(le.__=!0,fe.sub(d)),fe.props.value):ae.__}function F(ae,fe){o.options.useDebugValue&&o.options.useDebugValue(fe?fe(ae):ae)}function U(ae){var fe=_(m++,10),le=a();return fe.__=ae,d.componentDidCatch||(d.componentDidCatch=function(re,$){fe.__&&fe.__(re,$),le[1](re)}),[le[0],function(){le[1](void 0)}]}function G(){var ae=_(m++,11);if(!ae.__){for(var fe=d.__v;fe!==null&&!fe.__m&&fe.__!==null;)fe=fe.__;var le=fe.__m||(fe.__m=[0,0]);ae.__="P"+le[0]+"-"+le[1]++}return ae.__}function J(){for(var ae;ae=w.shift();)if(ae.__P&&ae.__H)try{ae.__H.__h.forEach(ee),ae.__H.__h.forEach(L),ae.__H.__h=[]}catch(fe){ae.__H.__h=[],o.options.__e(fe,ae.__v)}}o.options.__b=function(ae){d=null,b&&b(ae)},o.options.__r=function(ae){D&&D(ae),m=0;var fe=(d=ae.__c).__H;fe&&(u===d?(fe.__h=[],d.__h=[],fe.__.forEach(function(le){le.__N&&(le.__=le.__N),le.__V=v,le.__N=le.i=void 0})):(fe.__h.forEach(ee),fe.__h.forEach(L),fe.__h=[])),u=d},o.options.diffed=function(ae){E&&E(ae);var fe=ae.__c;fe&&fe.__H&&(fe.__H.__h.length&&(w.push(fe)!==1&&g===o.options.requestAnimationFrame||((g=o.options.requestAnimationFrame)||te)(J)),fe.__H.__.forEach(function(le){le.i&&(le.__H=le.i),le.__V!==v&&(le.__=le.__V),le.i=void 0,le.__V=v})),u=d=null},o.options.__c=function(ae,fe){fe.some(function(le){try{le.__h.forEach(ee),le.__h=le.__h.filter(function(re){return!re.__||L(re)})}catch(re){fe.some(function($){$.__h&&($.__h=[])}),fe=[],o.options.__e(re,le.__v)}}),O&&O(ae,fe)},o.options.unmount=function(ae){C&&C(ae);var fe,le=ae.__c;le&&le.__H&&(le.__H.__.forEach(function(re){try{ee(re)}catch($){fe=$}}),le.__H=void 0,fe&&o.options.__e(fe,le.__v))};var Q=typeof requestAnimationFrame=="function";function te(ae){var fe,le=function(){clearTimeout(re),Q&&cancelAnimationFrame(fe),setTimeout(ae)},re=setTimeout(le,100);Q&&(fe=requestAnimationFrame(le))}function ee(ae){var fe=d,le=ae.__c;typeof le=="function"&&(ae.__c=void 0,le()),d=fe}function L(ae){var fe=d;ae.__c=ae.__(),d=fe}function V(ae,fe){return!ae||ae.length!==fe.length||fe.some(function(le,re){return le!==ae[re]})}function ne(ae,fe){return typeof fe=="function"?fe(ae):fe}},92703:(z,s,e)=>{"use strict";var o=e(50414);function m(){}function d(){}d.resetWarningCache=m,z.exports=function(){function u(w,v,b,D,E,O){if(O!==o){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}u.isRequired=u;function g(){return u}var y={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:g,element:u,elementType:u,instanceOf:g,node:u,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:d,resetWarningCache:m};return y.PropTypes=y,y}},45697:(z,s,e)=>{if(!1)var o,m;else z.exports=e(92703)()},50414:z=>{"use strict";var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";z.exports=s},74971:function(z,s,e){z=e.nmd(z);var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(m){var d=s&&!s.nodeType&&s,u=z&&!z.nodeType&&z,g=typeof e.g=="object"&&e.g;(g.global===g||g.window===g||g.self===g)&&(m=g);var y,w=2147483647,v=36,b=1,D=26,E=38,O=700,C=72,_=128,a="-",l=/^xn--/,P=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=v-b,N=Math.floor,T=String.fromCharCode,A;function F(le){throw RangeError(M[le])}function U(le,re){for(var $=le.length,oe=[];$--;)oe[$]=re(le[$]);return oe}function G(le,re){var $=le.split("@"),oe="";$.length>1&&(oe=$[0]+"@",le=$[1]),le=le.replace(S,".");var se=le.split("."),ce=U(se,re).join(".");return oe+ce}function J(le){for(var re=[],$=0,oe=le.length,se,ce;$<oe;)se=le.charCodeAt($++),se>=55296&&se<=56319&&$<oe?(ce=le.charCodeAt($++),(ce&64512)==56320?re.push(((se&1023)<<10)+(ce&1023)+65536):(re.push(se),$--)):re.push(se);return re}function Q(le){return U(le,function(re){var $="";return re>65535&&(re-=65536,$+=T(re>>>10&1023|55296),re=56320|re&1023),$+=T(re),$}).join("")}function te(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:v}function ee(le,re){return le+22+75*(le<26)-((re!=0)<<5)}function L(le,re,$){var oe=0;for(le=$?N(le/O):le>>1,le+=N(le/re);le>R*D>>1;oe+=v)le=N(le/R);return N(oe+(R+1)*le/(le+E))}function V(le){var re=[],$=le.length,oe,se=0,ce=_,de=C,be,pe,we,xe,Ue,De,_e,ie,ve;for(be=le.lastIndexOf(a),be<0&&(be=0),pe=0;pe<be;++pe)le.charCodeAt(pe)>=128&&F("not-basic"),re.push(le.charCodeAt(pe));for(we=be>0?be+1:0;we<$;){for(xe=se,Ue=1,De=v;we>=$&&F("invalid-input"),_e=te(le.charCodeAt(we++)),(_e>=v||_e>N((w-se)/Ue))&&F("overflow"),se+=_e*Ue,ie=De<=de?b:De>=de+D?D:De-de,!(_e<ie);De+=v)ve=v-ie,Ue>N(w/ve)&&F("overflow"),Ue*=ve;oe=re.length+1,de=L(se-xe,oe,xe==0),N(se/oe)>w-ce&&F("overflow"),ce+=N(se/oe),se%=oe,re.splice(se++,0,ce)}return Q(re)}function ne(le){var re,$,oe,se,ce,de,be,pe,we,xe,Ue,De=[],_e,ie,ve,he;for(le=J(le),_e=le.length,re=_,$=0,ce=C,de=0;de<_e;++de)Ue=le[de],Ue<128&&De.push(T(Ue));for(oe=se=De.length,se&&De.push(a);oe<_e;){for(be=w,de=0;de<_e;++de)Ue=le[de],Ue>=re&&Ue<be&&(be=Ue);for(ie=oe+1,be-re>N((w-$)/ie)&&F("overflow"),$+=(be-re)*ie,re=be,de=0;de<_e;++de)if(Ue=le[de],Ue<re&&++$>w&&F("overflow"),Ue==re){for(pe=$,we=v;xe=we<=ce?b:we>=ce+D?D:we-ce,!(pe<xe);we+=v)he=pe-xe,ve=v-xe,De.push(T(ee(xe+he%ve,0))),pe=N(he/ve);De.push(T(ee(pe,0))),ce=L($,ie,oe==se),$=0,++oe}++$,++re}return De.join("")}function ae(le){return G(le,function(re){return l.test(re)?V(re.slice(4).toLowerCase()):re})}function fe(le){return G(le,function(re){return P.test(re)?"xn--"+ne(re):re})}y={version:"1.3.2",ucs2:{decode:J,encode:Q},decode:V,encode:ne,toASCII:fe,toUnicode:ae},o=function(){return y}.call(s,e,s,z),o!==void 0&&(z.exports=o)})(this)},92592:(z,s,e)=>{const o=e(47138),m=e(95115),d=e(6907),u=e(93776);function g(y,w,v,b,D){const E=[].slice.call(arguments,1),O=E.length,C=typeof E[O-1]=="function";if(!C&&!o())throw new Error("Callback required as last argument");if(C){if(O<2)throw new Error("Too few arguments provided");O===2?(D=v,v=w,w=b=void 0):O===3&&(w.getContext&&typeof D=="undefined"?(D=b,b=void 0):(D=b,b=v,v=w,w=void 0))}else{if(O<1)throw new Error("Too few arguments provided");return O===1?(v=w,w=b=void 0):O===2&&!w.getContext&&(b=v,v=w,w=void 0),new Promise(function(_,a){try{const l=m.create(v,b);_(y(l,w,b))}catch(l){a(l)}})}try{const _=m.create(v,b);D(null,y(_,w,b))}catch(_){D(_)}}s.create=m.create,s.toCanvas=g.bind(null,d.render),s.toDataURL=g.bind(null,d.renderToDataURL),s.toString=g.bind(null,function(y,w,v){return u.render(y,v)})},47138:z=>{z.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(z,s,e)=>{const o=e(10242).getSymbolSize;s.getRowColCoords=function(d){if(d===1)return[];const u=Math.floor(d/7)+2,g=o(d),y=g===145?26:Math.ceil((g-13)/(2*u-2))*2,w=[g-7];for(let v=1;v<u-1;v++)w[v]=w[v-1]-y;return w.push(6),w.reverse()},s.getPositions=function(d){const u=[],g=s.getRowColCoords(d),y=g.length;for(let w=0;w<y;w++)for(let v=0;v<y;v++)w===0&&v===0||w===0&&v===y-1||w===y-1&&v===0||u.push([g[w],g[v]]);return u}},8260:(z,s,e)=>{const o=e(76910),m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function d(u){this.mode=o.ALPHANUMERIC,this.data=u}d.getBitsLength=function(g){return 11*Math.floor(g/2)+6*(g%2)},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(g){let y;for(y=0;y+2<=this.data.length;y+=2){let w=m.indexOf(this.data[y])*45;w+=m.indexOf(this.data[y+1]),g.put(w,11)}this.data.length%2&&g.put(m.indexOf(this.data[y]),6)},z.exports=d},97245:z=>{function s(){this.buffer=[],this.length=0}s.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)===1},put:function(e,o){for(let m=0;m<o;m++)this.putBit((e>>>o-m-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},z.exports=s},73280:z=>{function s(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}s.prototype.set=function(e,o,m,d){const u=e*this.size+o;this.data[u]=m,d&&(this.reservedBit[u]=!0)},s.prototype.get=function(e,o){return this.data[e*this.size+o]},s.prototype.xor=function(e,o,m){this.data[e*this.size+o]^=m},s.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},z.exports=s},43424:(z,s,e)=>{const o=e(62378),m=e(76910);function d(u){this.mode=m.BYTE,typeof u=="string"&&(u=o(u)),this.data=new Uint8Array(u)}d.getBitsLength=function(g){return g*8},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(u){for(let g=0,y=this.data.length;g<y;g++)u.put(this.data[g],8)},z.exports=d},35393:(z,s,e)=>{const o=e(64908),m=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],d=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];s.getBlocksCount=function(g,y){switch(y){case o.L:return m[(g-1)*4+0];case o.M:return m[(g-1)*4+1];case o.Q:return m[(g-1)*4+2];case o.H:return m[(g-1)*4+3];default:return}},s.getTotalCodewordsCount=function(g,y){switch(y){case o.L:return d[(g-1)*4+0];case o.M:return d[(g-1)*4+1];case o.Q:return d[(g-1)*4+2];case o.H:return d[(g-1)*4+3];default:return}}},64908:(z,s)=>{s.L={bit:1},s.M={bit:0},s.Q={bit:3},s.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return s.L;case"m":case"medium":return s.M;case"q":case"quartile":return s.Q;case"h":case"high":return s.H;default:throw new Error("Unknown EC Level: "+o)}}s.isValid=function(m){return m&&typeof m.bit!="undefined"&&m.bit>=0&&m.bit<4},s.from=function(m,d){if(s.isValid(m))return m;try{return e(m)}catch(u){return d}}},76526:(z,s,e)=>{const o=e(10242).getSymbolSize,m=7;s.getPositions=function(u){const g=o(u);return[[0,0],[g-m,0],[0,g-m]]}},61642:(z,s,e)=>{const o=e(10242),m=1335,d=21522,u=o.getBCHDigit(m);s.getEncodedBits=function(y,w){const v=y.bit<<3|w;let b=v<<10;for(;o.getBCHDigit(b)-u>=0;)b^=m<<o.getBCHDigit(b)-u;return(v<<10|b)^d}},69729:(z,s)=>{const e=new Uint8Array(512),o=new Uint8Array(256);(function(){let d=1;for(let u=0;u<255;u++)e[u]=d,o[d]=u,d<<=1,d&256&&(d^=285);for(let u=255;u<512;u++)e[u]=e[u-255]})(),s.log=function(d){if(d<1)throw new Error("log("+d+")");return o[d]},s.exp=function(d){return e[d]},s.mul=function(d,u){return d===0||u===0?0:e[o[d]+o[u]]}},51018:(z,s,e)=>{const o=e(76910),m=e(10242);function d(u){this.mode=o.KANJI,this.data=u}d.getBitsLength=function(g){return g*13},d.prototype.getLength=function(){return this.data.length},d.prototype.getBitsLength=function(){return d.getBitsLength(this.data.length)},d.prototype.write=function(u){let g;for(g=0;g<this.data.length;g++){let y=m.toSJIS(this.data[g]);if(y>=33088&&y<=40956)y-=33088;else if(y>=57408&&y<=60351)y-=49472;else throw new Error("Invalid SJIS character: "+this.data[g]+`
Make sure your charset is UTF-8`);y=(y>>>8&255)*192+(y&255),u.put(y,13)}},z.exports=d},27126:(z,s)=>{s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};s.isValid=function(d){return d!=null&&d!==""&&!isNaN(d)&&d>=0&&d<=7},s.from=function(d){return s.isValid(d)?parseInt(d,10):void 0},s.getPenaltyN1=function(d){const u=d.size;let g=0,y=0,w=0,v=null,b=null;for(let D=0;D<u;D++){y=w=0,v=b=null;for(let E=0;E<u;E++){let O=d.get(D,E);O===v?y++:(y>=5&&(g+=e.N1+(y-5)),v=O,y=1),O=d.get(E,D),O===b?w++:(w>=5&&(g+=e.N1+(w-5)),b=O,w=1)}y>=5&&(g+=e.N1+(y-5)),w>=5&&(g+=e.N1+(w-5))}return g},s.getPenaltyN2=function(d){const u=d.size;let g=0;for(let y=0;y<u-1;y++)for(let w=0;w<u-1;w++){const v=d.get(y,w)+d.get(y,w+1)+d.get(y+1,w)+d.get(y+1,w+1);(v===4||v===0)&&g++}return g*e.N2},s.getPenaltyN3=function(d){const u=d.size;let g=0,y=0,w=0;for(let v=0;v<u;v++){y=w=0;for(let b=0;b<u;b++)y=y<<1&2047|d.get(v,b),b>=10&&(y===1488||y===93)&&g++,w=w<<1&2047|d.get(b,v),b>=10&&(w===1488||w===93)&&g++}return g*e.N3},s.getPenaltyN4=function(d){let u=0;const g=d.data.length;for(let w=0;w<g;w++)u+=d.data[w];return Math.abs(Math.ceil(u*100/g/5)-10)*e.N4};function o(m,d,u){switch(m){case s.Patterns.PATTERN000:return(d+u)%2===0;case s.Patterns.PATTERN001:return d%2===0;case s.Patterns.PATTERN010:return u%3===0;case s.Patterns.PATTERN011:return(d+u)%3===0;case s.Patterns.PATTERN100:return(Math.floor(d/2)+Math.floor(u/3))%2===0;case s.Patterns.PATTERN101:return d*u%2+d*u%3===0;case s.Patterns.PATTERN110:return(d*u%2+d*u%3)%2===0;case s.Patterns.PATTERN111:return(d*u%3+(d+u)%2)%2===0;default:throw new Error("bad maskPattern:"+m)}}s.applyMask=function(d,u){const g=u.size;for(let y=0;y<g;y++)for(let w=0;w<g;w++)u.isReserved(w,y)||u.xor(w,y,o(d,w,y))},s.getBestMask=function(d,u){const g=Object.keys(s.Patterns).length;let y=0,w=1/0;for(let v=0;v<g;v++){u(v),s.applyMask(v,d);const b=s.getPenaltyN1(d)+s.getPenaltyN2(d)+s.getPenaltyN3(d)+s.getPenaltyN4(d);s.applyMask(v,d),b<w&&(w=b,y=v)}return y}},76910:(z,s,e)=>{const o=e(43114),m=e(7007);s.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},s.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},s.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},s.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},s.MIXED={bit:-1},s.getCharCountIndicator=function(g,y){if(!g.ccBits)throw new Error("Invalid mode: "+g);if(!o.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?g.ccBits[0]:y<27?g.ccBits[1]:g.ccBits[2]},s.getBestModeForData=function(g){return m.testNumeric(g)?s.NUMERIC:m.testAlphanumeric(g)?s.ALPHANUMERIC:m.testKanji(g)?s.KANJI:s.BYTE},s.toString=function(g){if(g&&g.id)return g.id;throw new Error("Invalid mode")},s.isValid=function(g){return g&&g.bit&&g.ccBits};function d(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"numeric":return s.NUMERIC;case"alphanumeric":return s.ALPHANUMERIC;case"kanji":return s.KANJI;case"byte":return s.BYTE;default:throw new Error("Unknown mode: "+u)}}s.from=function(g,y){if(s.isValid(g))return g;try{return d(g)}catch(w){return y}}},41085:(z,s,e)=>{const o=e(76910);function m(d){this.mode=o.NUMERIC,this.data=d.toString()}m.getBitsLength=function(u){return 10*Math.floor(u/3)+(u%3?u%3*3+1:0)},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(u){let g,y,w;for(g=0;g+3<=this.data.length;g+=3)y=this.data.substr(g,3),w=parseInt(y,10),u.put(w,10);const v=this.data.length-g;v>0&&(y=this.data.substr(g),w=parseInt(y,10),u.put(w,v*3+1))},z.exports=m},26143:(z,s,e)=>{const o=e(69729);s.mul=function(d,u){const g=new Uint8Array(d.length+u.length-1);for(let y=0;y<d.length;y++)for(let w=0;w<u.length;w++)g[y+w]^=o.mul(d[y],u[w]);return g},s.mod=function(d,u){let g=new Uint8Array(d);for(;g.length-u.length>=0;){const y=g[0];for(let v=0;v<u.length;v++)g[v]^=o.mul(u[v],y);let w=0;for(;w<g.length&&g[w]===0;)w++;g=g.slice(w)}return g},s.generateECPolynomial=function(d){let u=new Uint8Array([1]);for(let g=0;g<d;g++)u=s.mul(u,new Uint8Array([1,o.exp(g)]));return u}},95115:(z,s,e)=>{const o=e(10242),m=e(64908),d=e(97245),u=e(73280),g=e(21845),y=e(76526),w=e(27126),v=e(35393),b=e(52882),D=e(23103),E=e(61642),O=e(76910),C=e(16130);function _(A,F){const U=A.size,G=y.getPositions(F);for(let J=0;J<G.length;J++){const Q=G[J][0],te=G[J][1];for(let ee=-1;ee<=7;ee++)if(!(Q+ee<=-1||U<=Q+ee))for(let L=-1;L<=7;L++)te+L<=-1||U<=te+L||(ee>=0&&ee<=6&&(L===0||L===6)||L>=0&&L<=6&&(ee===0||ee===6)||ee>=2&&ee<=4&&L>=2&&L<=4?A.set(Q+ee,te+L,!0,!0):A.set(Q+ee,te+L,!1,!0))}}function a(A){const F=A.size;for(let U=8;U<F-8;U++){const G=U%2===0;A.set(U,6,G,!0),A.set(6,U,G,!0)}}function l(A,F){const U=g.getPositions(F);for(let G=0;G<U.length;G++){const J=U[G][0],Q=U[G][1];for(let te=-2;te<=2;te++)for(let ee=-2;ee<=2;ee++)te===-2||te===2||ee===-2||ee===2||te===0&&ee===0?A.set(J+te,Q+ee,!0,!0):A.set(J+te,Q+ee,!1,!0)}}function P(A,F){const U=A.size,G=D.getEncodedBits(F);let J,Q,te;for(let ee=0;ee<18;ee++)J=Math.floor(ee/3),Q=ee%3+U-8-3,te=(G>>ee&1)===1,A.set(J,Q,te,!0),A.set(Q,J,te,!0)}function S(A,F,U){const G=A.size,J=E.getEncodedBits(F,U);let Q,te;for(Q=0;Q<15;Q++)te=(J>>Q&1)===1,Q<6?A.set(Q,8,te,!0):Q<8?A.set(Q+1,8,te,!0):A.set(G-15+Q,8,te,!0),Q<8?A.set(8,G-Q-1,te,!0):Q<9?A.set(8,15-Q-1+1,te,!0):A.set(8,15-Q-1,te,!0);A.set(G-8,8,1,!0)}function M(A,F){const U=A.size;let G=-1,J=U-1,Q=7,te=0;for(let ee=U-1;ee>0;ee-=2)for(ee===6&&ee--;;){for(let L=0;L<2;L++)if(!A.isReserved(J,ee-L)){let V=!1;te<F.length&&(V=(F[te]>>>Q&1)===1),A.set(J,ee-L,V),Q--,Q===-1&&(te++,Q=7)}if(J+=G,J<0||U<=J){J-=G,G=-G;break}}}function R(A,F,U){const G=new d;U.forEach(function(L){G.put(L.mode.bit,4),G.put(L.getLength(),O.getCharCountIndicator(L.mode,A)),L.write(G)});const J=o.getSymbolTotalCodewords(A),Q=v.getTotalCodewordsCount(A,F),te=(J-Q)*8;for(G.getLengthInBits()+4<=te&&G.put(0,4);G.getLengthInBits()%8!==0;)G.putBit(0);const ee=(te-G.getLengthInBits())/8;for(let L=0;L<ee;L++)G.put(L%2?17:236,8);return N(G,A,F)}function N(A,F,U){const G=o.getSymbolTotalCodewords(F),J=v.getTotalCodewordsCount(F,U),Q=G-J,te=v.getBlocksCount(F,U),ee=G%te,L=te-ee,V=Math.floor(G/te),ne=Math.floor(Q/te),ae=ne+1,fe=V-ne,le=new b(fe);let re=0;const $=new Array(te),oe=new Array(te);let se=0;const ce=new Uint8Array(A.buffer);for(let xe=0;xe<te;xe++){const Ue=xe<L?ne:ae;$[xe]=ce.slice(re,re+Ue),oe[xe]=le.encode($[xe]),re+=Ue,se=Math.max(se,Ue)}const de=new Uint8Array(G);let be=0,pe,we;for(pe=0;pe<se;pe++)for(we=0;we<te;we++)pe<$[we].length&&(de[be++]=$[we][pe]);for(pe=0;pe<fe;pe++)for(we=0;we<te;we++)de[be++]=oe[we][pe];return de}function T(A,F,U,G){let J;if(Array.isArray(A))J=C.fromArray(A);else if(typeof A=="string"){let V=F;if(!V){const ne=C.rawSplit(A);V=D.getBestVersionForData(ne,U)}J=C.fromString(A,V||40)}else throw new Error("Invalid data");const Q=D.getBestVersionForData(J,U);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=Q;else if(F<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const te=R(F,U,J),ee=o.getSymbolSize(F),L=new u(ee);return _(L,F),a(L),l(L,F),S(L,U,0),F>=7&&P(L,F),M(L,te),isNaN(G)&&(G=w.getBestMask(L,S.bind(null,L,U))),w.applyMask(G,L),S(L,U,G),{modules:L,version:F,errorCorrectionLevel:U,maskPattern:G,segments:J}}s.create=function(F,U){if(typeof F=="undefined"||F==="")throw new Error("No input text");let G=m.M,J,Q;return typeof U!="undefined"&&(G=m.from(U.errorCorrectionLevel,m.M),J=D.from(U.version),Q=w.from(U.maskPattern),U.toSJISFunc&&o.setToSJISFunction(U.toSJISFunc)),T(F,J,G,Q)}},52882:(z,s,e)=>{const o=e(26143);function m(d){this.genPoly=void 0,this.degree=d,this.degree&&this.initialize(this.degree)}m.prototype.initialize=function(u){this.degree=u,this.genPoly=o.generateECPolynomial(this.degree)},m.prototype.encode=function(u){if(!this.genPoly)throw new Error("Encoder not initialized");const g=new Uint8Array(u.length+this.degree);g.set(u);const y=o.mod(g,this.genPoly),w=this.degree-y.length;if(w>0){const v=new Uint8Array(this.degree);return v.set(y,w),v}return y},z.exports=m},7007:(z,s)=>{const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let m="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";m=m.replace(/u/g,"\\u");const d="(?:(?![A-Z0-9 $%*+\\-./:]|"+m+`)(?:.|[\r
]))+`;s.KANJI=new RegExp(m,"g"),s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),s.BYTE=new RegExp(d,"g"),s.NUMERIC=new RegExp(e,"g"),s.ALPHANUMERIC=new RegExp(o,"g");const u=new RegExp("^"+m+"$"),g=new RegExp("^"+e+"$"),y=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");s.testKanji=function(v){return u.test(v)},s.testNumeric=function(v){return g.test(v)},s.testAlphanumeric=function(v){return y.test(v)}},16130:(z,s,e)=>{const o=e(76910),m=e(41085),d=e(8260),u=e(43424),g=e(51018),y=e(7007),w=e(10242),v=e(65987);function b(P){return unescape(encodeURIComponent(P)).length}function D(P,S,M){const R=[];let N;for(;(N=P.exec(M))!==null;)R.push({data:N[0],index:N.index,mode:S,length:N[0].length});return R}function E(P){const S=D(y.NUMERIC,o.NUMERIC,P),M=D(y.ALPHANUMERIC,o.ALPHANUMERIC,P);let R,N;return w.isKanjiModeEnabled()?(R=D(y.BYTE,o.BYTE,P),N=D(y.KANJI,o.KANJI,P)):(R=D(y.BYTE_KANJI,o.BYTE,P),N=[]),S.concat(M,R,N).sort(function(A,F){return A.index-F.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function O(P,S){switch(S){case o.NUMERIC:return m.getBitsLength(P);case o.ALPHANUMERIC:return d.getBitsLength(P);case o.KANJI:return g.getBitsLength(P);case o.BYTE:return u.getBitsLength(P)}}function C(P){return P.reduce(function(S,M){const R=S.length-1>=0?S[S.length-1]:null;return R&&R.mode===M.mode?(S[S.length-1].data+=M.data,S):(S.push(M),S)},[])}function _(P){const S=[];for(let M=0;M<P.length;M++){const R=P[M];switch(R.mode){case o.NUMERIC:S.push([R,{data:R.data,mode:o.ALPHANUMERIC,length:R.length},{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.ALPHANUMERIC:S.push([R,{data:R.data,mode:o.BYTE,length:R.length}]);break;case o.KANJI:S.push([R,{data:R.data,mode:o.BYTE,length:b(R.data)}]);break;case o.BYTE:S.push([{data:R.data,mode:o.BYTE,length:b(R.data)}])}}return S}function a(P,S){const M={},R={start:{}};let N=["start"];for(let T=0;T<P.length;T++){const A=P[T],F=[];for(let U=0;U<A.length;U++){const G=A[U],J=""+T+U;F.push(J),M[J]={node:G,lastCount:0},R[J]={};for(let Q=0;Q<N.length;Q++){const te=N[Q];M[te]&&M[te].node.mode===G.mode?(R[te][J]=O(M[te].lastCount+G.length,G.mode)-O(M[te].lastCount,G.mode),M[te].lastCount+=G.length):(M[te]&&(M[te].lastCount=G.length),R[te][J]=O(G.length,G.mode)+4+o.getCharCountIndicator(G.mode,S))}}N=F}for(let T=0;T<N.length;T++)R[N[T]].end=0;return{map:R,table:M}}function l(P,S){let M;const R=o.getBestModeForData(P);if(M=o.from(S,R),M!==o.BYTE&&M.bit<R.bit)throw new Error('"'+P+'" cannot be encoded with mode '+o.toString(M)+`.
 Suggested mode is: `+o.toString(R));switch(M===o.KANJI&&!w.isKanjiModeEnabled()&&(M=o.BYTE),M){case o.NUMERIC:return new m(P);case o.ALPHANUMERIC:return new d(P);case o.KANJI:return new g(P);case o.BYTE:return new u(P)}}s.fromArray=function(S){return S.reduce(function(M,R){return typeof R=="string"?M.push(l(R,null)):R.data&&M.push(l(R.data,R.mode)),M},[])},s.fromString=function(S,M){const R=E(S,w.isKanjiModeEnabled()),N=_(R),T=a(N,M),A=v.find_path(T.map,"start","end"),F=[];for(let U=1;U<A.length-1;U++)F.push(T.table[A[U]].node);return s.fromArray(C(F))},s.rawSplit=function(S){return s.fromArray(E(S,w.isKanjiModeEnabled()))}},10242:(z,s)=>{let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];s.getSymbolSize=function(d){if(!d)throw new Error('"version" cannot be null or undefined');if(d<1||d>40)throw new Error('"version" should be in range from 1 to 40');return d*4+17},s.getSymbolTotalCodewords=function(d){return o[d]},s.getBCHDigit=function(m){let d=0;for(;m!==0;)d++,m>>>=1;return d},s.setToSJISFunction=function(d){if(typeof d!="function")throw new Error('"toSJISFunc" is not a valid function.');e=d},s.isKanjiModeEnabled=function(){return typeof e!="undefined"},s.toSJIS=function(d){return e(d)}},43114:(z,s)=>{s.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},23103:(z,s,e)=>{const o=e(10242),m=e(35393),d=e(64908),u=e(76910),g=e(43114),y=7973,w=o.getBCHDigit(y);function v(O,C,_){for(let a=1;a<=40;a++)if(C<=s.getCapacity(a,_,O))return a}function b(O,C){return u.getCharCountIndicator(O,C)+4}function D(O,C){let _=0;return O.forEach(function(a){const l=b(a.mode,C);_+=l+a.getBitsLength()}),_}function E(O,C){for(let _=1;_<=40;_++)if(D(O,_)<=s.getCapacity(_,C,u.MIXED))return _}s.from=function(C,_){return g.isValid(C)?parseInt(C,10):_},s.getCapacity=function(C,_,a){if(!g.isValid(C))throw new Error("Invalid QR Code version");typeof a=="undefined"&&(a=u.BYTE);const l=o.getSymbolTotalCodewords(C),P=m.getTotalCodewordsCount(C,_),S=(l-P)*8;if(a===u.MIXED)return S;const M=S-b(a,C);switch(a){case u.NUMERIC:return Math.floor(M/10*3);case u.ALPHANUMERIC:return Math.floor(M/11*2);case u.KANJI:return Math.floor(M/13);case u.BYTE:default:return Math.floor(M/8)}},s.getBestVersionForData=function(C,_){let a;const l=d.from(_,d.M);if(Array.isArray(C)){if(C.length>1)return E(C,l);if(C.length===0)return 1;a=C[0]}else a=C;return v(a.mode,a.getLength(),l)},s.getEncodedBits=function(C){if(!g.isValid(C)||C<7)throw new Error("Invalid QR Code version");let _=C<<12;for(;o.getBCHDigit(_)-w>=0;)_^=y<<o.getBCHDigit(_)-w;return C<<12|_}},6907:(z,s,e)=>{const o=e(89653);function m(u,g,y){u.clearRect(0,0,g.width,g.height),g.style||(g.style={}),g.height=y,g.width=y,g.style.height=y+"px",g.style.width=y+"px"}function d(){try{return document.createElement("canvas")}catch(u){throw new Error("You need to specify a canvas element")}}s.render=function(g,y,w){let v=w,b=y;typeof v=="undefined"&&(!y||!y.getContext)&&(v=y,y=void 0),y||(b=d()),v=o.getOptions(v);const D=o.getImageWidth(g.modules.size,v),E=b.getContext("2d"),O=E.createImageData(D,D);return o.qrToImageData(O.data,g,v),m(E,b,D),E.putImageData(O,0,0),b},s.renderToDataURL=function(g,y,w){let v=w;typeof v=="undefined"&&(!y||!y.getContext)&&(v=y,y=void 0),v||(v={});const b=s.render(g,y,v),D=v.type||"image/png",E=v.rendererOpts||{};return b.toDataURL(D,E.quality)}},93776:(z,s,e)=>{const o=e(89653);function m(g,y){const w=g.a/255,v=y+'="'+g.hex+'"';return w<1?v+" "+y+'-opacity="'+w.toFixed(2).slice(1)+'"':v}function d(g,y,w){let v=g+y;return typeof w!="undefined"&&(v+=" "+w),v}function u(g,y,w){let v="",b=0,D=!1,E=0;for(let O=0;O<g.length;O++){const C=Math.floor(O%y),_=Math.floor(O/y);!C&&!D&&(D=!0),g[O]?(E++,O>0&&C>0&&g[O-1]||(v+=D?d("M",C+w,.5+_+w):d("m",b,0),b=0,D=!1),C+1<y&&g[O+1]||(v+=d("h",E),E=0)):b++}return v}s.render=function(y,w,v){const b=o.getOptions(w),D=y.modules.size,E=y.modules.data,O=D+b.margin*2,C=b.color.light.a?"<path "+m(b.color.light,"fill")+' d="M0 0h'+O+"v"+O+'H0z"/>':"",_="<path "+m(b.color.dark,"stroke")+' d="'+u(E,D,b.margin)+'"/>',a='viewBox="0 0 '+O+" "+O+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(b.width?'width="'+b.width+'" height="'+b.width+'" ':"")+a+' shape-rendering="crispEdges">'+C+_+`</svg>
`;return typeof v=="function"&&v(null,P),P}},89653:(z,s)=>{function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let m=o.slice().replace("#","").split("");if(m.length<3||m.length===5||m.length>8)throw new Error("Invalid hex color: "+o);(m.length===3||m.length===4)&&(m=Array.prototype.concat.apply([],m.map(function(u){return[u,u]}))),m.length===6&&m.push("F","F");const d=parseInt(m.join(""),16);return{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:d&255,hex:"#"+m.slice(0,6).join("")}}s.getOptions=function(m){m||(m={}),m.color||(m.color={});const d=typeof m.margin=="undefined"||m.margin===null||m.margin<0?4:m.margin,u=m.width&&m.width>=21?m.width:void 0,g=m.scale||4;return{width:u,scale:u?4:g,margin:d,color:{dark:e(m.color.dark||"#000000ff"),light:e(m.color.light||"#ffffffff")},type:m.type,rendererOpts:m.rendererOpts||{}}},s.getScale=function(m,d){return d.width&&d.width>=m+d.margin*2?d.width/(m+d.margin*2):d.scale},s.getImageWidth=function(m,d){const u=s.getScale(m,d);return Math.floor((m+d.margin*2)*u)},s.qrToImageData=function(m,d,u){const g=d.modules.size,y=d.modules.data,w=s.getScale(g,u),v=Math.floor((g+u.margin*2)*w),b=u.margin*w,D=[u.color.light,u.color.dark];for(let E=0;E<v;E++)for(let O=0;O<v;O++){let C=(E*v+O)*4,_=u.color.light;if(E>=b&&O>=b&&E<v-b&&O<v-b){const a=Math.floor((E-b)/w),l=Math.floor((O-b)/w);_=D[y[a*g+l]?1:0]}m[C++]=_.r,m[C++]=_.g,m[C++]=_.b,m[C]=_.a}}},55798:z=>{"use strict";var s=String.prototype.replace,e=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};z.exports={default:o.RFC3986,formatters:{RFC1738:function(m){return s.call(m,e,"+")},RFC3986:function(m){return String(m)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},80129:(z,s,e)=>{"use strict";var o=e(58261),m=e(55235),d=e(55798);z.exports={formats:d,parse:m,stringify:o}},55235:(z,s,e)=>{"use strict";var o=e(12769),m=Object.prototype.hasOwnProperty,d=Array.isArray,u={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},g=function(C){return C.replace(/&#(\d+);/g,function(_,a){return String.fromCharCode(parseInt(a,10))})},y=function(C,_){return C&&typeof C=="string"&&_.comma&&C.indexOf(",")>-1?C.split(","):C},w="utf8=%26%2310003%3B",v="utf8=%E2%9C%93",b=function(_,a){var l={},P=a.ignoreQueryPrefix?_.replace(/^\?/,""):_,S=a.parameterLimit===1/0?void 0:a.parameterLimit,M=P.split(a.delimiter,S),R=-1,N,T=a.charset;if(a.charsetSentinel)for(N=0;N<M.length;++N)M[N].indexOf("utf8=")===0&&(M[N]===v?T="utf-8":M[N]===w&&(T="iso-8859-1"),R=N,N=M.length);for(N=0;N<M.length;++N)if(N!==R){var A=M[N],F=A.indexOf("]="),U=F===-1?A.indexOf("="):F+1,G,J;U===-1?(G=a.decoder(A,u.decoder,T,"key"),J=a.strictNullHandling?null:""):(G=a.decoder(A.slice(0,U),u.decoder,T,"key"),J=o.maybeMap(y(A.slice(U+1),a),function(Q){return a.decoder(Q,u.decoder,T,"value")})),J&&a.interpretNumericEntities&&T==="iso-8859-1"&&(J=g(J)),A.indexOf("[]=")>-1&&(J=d(J)?[J]:J),m.call(l,G)?l[G]=o.combine(l[G],J):l[G]=J}return l},D=function(C,_,a,l){for(var P=l?_:y(_,a),S=C.length-1;S>=0;--S){var M,R=C[S];if(R==="[]"&&a.parseArrays)M=[].concat(P);else{M=a.plainObjects?Object.create(null):{};var N=R.charAt(0)==="["&&R.charAt(R.length-1)==="]"?R.slice(1,-1):R,T=parseInt(N,10);!a.parseArrays&&N===""?M={0:P}:!isNaN(T)&&R!==N&&String(T)===N&&T>=0&&a.parseArrays&&T<=a.arrayLimit?(M=[],M[T]=P):N!=="__proto__"&&(M[N]=P)}P=M}return P},E=function(_,a,l,P){if(_){var S=l.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,M=/(\[[^[\]]*])/,R=/(\[[^[\]]*])/g,N=l.depth>0&&M.exec(S),T=N?S.slice(0,N.index):S,A=[];if(T){if(!l.plainObjects&&m.call(Object.prototype,T)&&!l.allowPrototypes)return;A.push(T)}for(var F=0;l.depth>0&&(N=R.exec(S))!==null&&F<l.depth;){if(F+=1,!l.plainObjects&&m.call(Object.prototype,N[1].slice(1,-1))&&!l.allowPrototypes)return;A.push(N[1])}return N&&A.push("["+S.slice(N.index)+"]"),D(A,a,l,P)}},O=function(_){if(!_)return u;if(_.decoder!==null&&_.decoder!==void 0&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset!="undefined"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=typeof _.charset=="undefined"?u.charset:_.charset;return{allowDots:typeof _.allowDots=="undefined"?u.allowDots:!!_.allowDots,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:u.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:u.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:u.arrayLimit,charset:a,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:u.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:u.comma,decoder:typeof _.decoder=="function"?_.decoder:u.decoder,delimiter:typeof _.delimiter=="string"||o.isRegExp(_.delimiter)?_.delimiter:u.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:u.depth,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:u.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:u.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:u.plainObjects,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:u.strictNullHandling}};z.exports=function(C,_){var a=O(_);if(C===""||C===null||typeof C=="undefined")return a.plainObjects?Object.create(null):{};for(var l=typeof C=="string"?b(C,a):C,P=a.plainObjects?Object.create(null):{},S=Object.keys(l),M=0;M<S.length;++M){var R=S[M],N=E(R,l[R],a,typeof C=="string");P=o.merge(P,N,a)}return a.allowSparse===!0?P:o.compact(P)}},58261:(z,s,e)=>{"use strict";var o=e(37478),m=e(12769),d=e(55798),u=Object.prototype.hasOwnProperty,g={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,M){return S+"["+M+"]"},repeat:function(S){return S}},y=Array.isArray,w=String.prototype.split,v=Array.prototype.push,b=function(P,S){v.apply(P,y(S)?S:[S])},D=Date.prototype.toISOString,E=d.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:m.encode,encodeValuesOnly:!1,format:E,formatter:d.formatters[E],indices:!1,serializeDate:function(S){return D.call(S)},skipNulls:!1,strictNullHandling:!1},C=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},_={},a=function P(S,M,R,N,T,A,F,U,G,J,Q,te,ee,L,V,ne){for(var ae=S,fe=ne,le=0,re=!1;(fe=fe.get(_))!==void 0&&!re;){var $=fe.get(S);if(le+=1,typeof $!="undefined"){if($===le)throw new RangeError("Cyclic object value");re=!0}typeof fe.get(_)=="undefined"&&(le=0)}if(typeof U=="function"?ae=U(M,ae):ae instanceof Date?ae=Q(ae):R==="comma"&&y(ae)&&(ae=m.maybeMap(ae,function(he){return he instanceof Date?Q(he):he})),ae===null){if(T)return F&&!L?F(M,O.encoder,V,"key",te):M;ae=""}if(C(ae)||m.isBuffer(ae)){if(F){var oe=L?M:F(M,O.encoder,V,"key",te);if(R==="comma"&&L){for(var se=w.call(String(ae),","),ce="",de=0;de<se.length;++de)ce+=(de===0?"":",")+ee(F(se[de],O.encoder,V,"value",te));return[ee(oe)+(N&&y(ae)&&se.length===1?"[]":"")+"="+ce]}return[ee(oe)+"="+ee(F(ae,O.encoder,V,"value",te))]}return[ee(M)+"="+ee(String(ae))]}var be=[];if(typeof ae=="undefined")return be;var pe;if(R==="comma"&&y(ae))pe=[{value:ae.length>0?ae.join(",")||null:void 0}];else if(y(U))pe=U;else{var we=Object.keys(ae);pe=G?we.sort(G):we}for(var xe=N&&y(ae)&&ae.length===1?M+"[]":M,Ue=0;Ue<pe.length;++Ue){var De=pe[Ue],_e=typeof De=="object"&&typeof De.value!="undefined"?De.value:ae[De];if(!(A&&_e===null)){var ie=y(ae)?typeof R=="function"?R(xe,De):xe:xe+(J?"."+De:"["+De+"]");ne.set(S,le);var ve=o();ve.set(_,ne),b(be,P(_e,ie,R,N,T,A,F,U,G,J,Q,te,ee,L,V,ve))}}return be},l=function(S){if(!S)return O;if(S.encoder!==null&&typeof S.encoder!="undefined"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=S.charset||O.charset;if(typeof S.charset!="undefined"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=d.default;if(typeof S.format!="undefined"){if(!u.call(d.formatters,S.format))throw new TypeError("Unknown format option provided.");R=S.format}var N=d.formatters[R],T=O.filter;return(typeof S.filter=="function"||y(S.filter))&&(T=S.filter),{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:O.addQueryPrefix,allowDots:typeof S.allowDots=="undefined"?O.allowDots:!!S.allowDots,charset:M,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:O.charsetSentinel,delimiter:typeof S.delimiter=="undefined"?O.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:O.encode,encoder:typeof S.encoder=="function"?S.encoder:O.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:O.encodeValuesOnly,filter:T,format:R,formatter:N,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:O.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:O.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:O.strictNullHandling}};z.exports=function(P,S){var M=P,R=l(S),N,T;typeof R.filter=="function"?(T=R.filter,M=T("",M)):y(R.filter)&&(T=R.filter,N=T);var A=[];if(typeof M!="object"||M===null)return"";var F;S&&S.arrayFormat in g?F=S.arrayFormat:S&&"indices"in S?F=S.indices?"indices":"repeat":F="indices";var U=g[F];if(S&&"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var G=U==="comma"&&S&&S.commaRoundTrip;N||(N=Object.keys(M)),R.sort&&N.sort(R.sort);for(var J=o(),Q=0;Q<N.length;++Q){var te=N[Q];R.skipNulls&&M[te]===null||b(A,a(M[te],te,U,G,R.strictNullHandling,R.skipNulls,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.format,R.formatter,R.encodeValuesOnly,R.charset,J))}var ee=A.join(R.delimiter),L=R.addQueryPrefix===!0?"?":"";return R.charsetSentinel&&(R.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),ee.length>0?L+ee:""}},12769:(z,s,e)=>{"use strict";var o=e(55798),m=Object.prototype.hasOwnProperty,d=Array.isArray,u=function(){for(var l=[],P=0;P<256;++P)l.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return l}(),g=function(P){for(;P.length>1;){var S=P.pop(),M=S.obj[S.prop];if(d(M)){for(var R=[],N=0;N<M.length;++N)typeof M[N]!="undefined"&&R.push(M[N]);S.obj[S.prop]=R}}},y=function(P,S){for(var M=S&&S.plainObjects?Object.create(null):{},R=0;R<P.length;++R)typeof P[R]!="undefined"&&(M[R]=P[R]);return M},w=function l(P,S,M){if(!S)return P;if(typeof S!="object"){if(d(P))P.push(S);else if(P&&typeof P=="object")(M&&(M.plainObjects||M.allowPrototypes)||!m.call(Object.prototype,S))&&(P[S]=!0);else return[P,S];return P}if(!P||typeof P!="object")return[P].concat(S);var R=P;return d(P)&&!d(S)&&(R=y(P,M)),d(P)&&d(S)?(S.forEach(function(N,T){if(m.call(P,T)){var A=P[T];A&&typeof A=="object"&&N&&typeof N=="object"?P[T]=l(A,N,M):P.push(N)}else P[T]=N}),P):Object.keys(S).reduce(function(N,T){var A=S[T];return m.call(N,T)?N[T]=l(N[T],A,M):N[T]=A,N},R)},v=function(P,S){return Object.keys(S).reduce(function(M,R){return M[R]=S[R],M},P)},b=function(l,P,S){var M=l.replace(/\+/g," ");if(S==="iso-8859-1")return M.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(M)}catch(R){return M}},D=function(P,S,M,R,N){if(P.length===0)return P;var T=P;if(typeof P=="symbol"?T=Symbol.prototype.toString.call(P):typeof P!="string"&&(T=String(P)),M==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var A="",F=0;F<T.length;++F){var U=T.charCodeAt(F);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||N===o.RFC1738&&(U===40||U===41)){A+=T.charAt(F);continue}if(U<128){A=A+u[U];continue}if(U<2048){A=A+(u[192|U>>6]+u[128|U&63]);continue}if(U<55296||U>=57344){A=A+(u[224|U>>12]+u[128|U>>6&63]+u[128|U&63]);continue}F+=1,U=65536+((U&1023)<<10|T.charCodeAt(F)&1023),A+=u[240|U>>18]+u[128|U>>12&63]+u[128|U>>6&63]+u[128|U&63]}return A},E=function(P){for(var S=[{obj:{o:P},prop:"o"}],M=[],R=0;R<S.length;++R)for(var N=S[R],T=N.obj[N.prop],A=Object.keys(T),F=0;F<A.length;++F){var U=A[F],G=T[U];typeof G=="object"&&G!==null&&M.indexOf(G)===-1&&(S.push({obj:T,prop:U}),M.push(G))}return g(S),P},O=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},C=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},_=function(P,S){return[].concat(P,S)},a=function(P,S){if(d(P)){for(var M=[],R=0;R<P.length;R+=1)M.push(S(P[R]));return M}return S(P)};z.exports={arrayToObject:y,assign:v,combine:_,compact:E,decode:b,encode:D,isBuffer:C,isRegExp:O,maybeMap:a,merge:w}},62587:z=>{"use strict";function s(e,o){return Object.prototype.hasOwnProperty.call(e,o)}z.exports=function(e,o,m,d){o=o||"&",m=m||"=";var u={};if(typeof e!="string"||e.length===0)return u;var g=/\+/g;e=e.split(o);var y=1e3;d&&typeof d.maxKeys=="number"&&(y=d.maxKeys);var w=e.length;y>0&&w>y&&(w=y);for(var v=0;v<w;++v){var b=e[v].replace(g,"%20"),D=b.indexOf(m),E,O,C,_;D>=0?(E=b.substr(0,D),O=b.substr(D+1)):(E=b,O=""),C=decodeURIComponent(E),_=decodeURIComponent(O),s(u,C)?Array.isArray(u[C])?u[C].push(_):u[C]=[u[C],_]:u[C]=_}return u}},12361:z=>{"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};z.exports=function(e,o,m,d){return o=o||"&",m=m||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(u){var g=encodeURIComponent(s(u))+m;return Array.isArray(e[u])?e[u].map(function(y){return g+encodeURIComponent(s(y))}).join(o):g+encodeURIComponent(s(e[u]))}).join(o):d?encodeURIComponent(s(d))+m+encodeURIComponent(s(e)):""}},17673:(z,s,e)=>{"use strict";s.decode=s.parse=e(62587),s.encode=s.stringify=e(12361)},35639:(z,s,e)=>{"use strict";var o;o={value:!0};var m=Object.assign||function(R){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(R[A]=T[A])}return R},d=function(){function R(N,T){for(var A=0;A<T.length;A++){var F=T[A];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}return function(N,T,A){return T&&R(N.prototype,T),A&&R(N,A),N}}(),u=e(98661),g=v(u),y=e(45697),w=v(y);function v(R){return R&&R.__esModule?R:{default:R}}function b(R,N){var T={};for(var A in R)N.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(R,A)&&(T[A]=R[A]);return T}function D(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function E(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:R}function O(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}var C={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},_=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],a=function(N){return _.forEach(function(T){return delete N[T]}),N},l=function(N,T){T.style.fontSize=N.fontSize,T.style.fontFamily=N.fontFamily,T.style.fontWeight=N.fontWeight,T.style.fontStyle=N.fontStyle,T.style.letterSpacing=N.letterSpacing,T.style.textTransform=N.textTransform},P=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,S=function(){return P?"_"+Math.random().toString(36).substr(2,12):void 0},M=function(R){O(N,R),d(N,null,[{key:"getDerivedStateFromProps",value:function(A,F){var U=A.id;return U!==F.prevId?{inputId:U||S(),prevId:U}:null}}]);function N(T){D(this,N);var A=E(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,T));return A.inputRef=function(F){A.input=F,typeof A.props.inputRef=="function"&&A.props.inputRef(F)},A.placeHolderSizerRef=function(F){A.placeHolderSizer=F},A.sizerRef=function(F){A.sizer=F},A.state={inputWidth:T.minWidth,inputId:T.id||S(),prevId:T.id},A}return d(N,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(A,F){F.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var A=this.input&&window.getComputedStyle(this.input);A&&(l(A,this.sizer),this.placeHolderSizer&&l(A,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var A=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?A=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:A=this.sizer.scrollWidth+2;var F=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;A+=F,A<this.props.minWidth&&(A=this.props.minWidth),A!==this.state.inputWidth&&this.setState({inputWidth:A})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var A=this.props.injectStyles;return P&&A?g.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var A=[this.props.defaultValue,this.props.value,""].reduce(function(J,Q){return J!=null?J:Q}),F=m({},this.props.style);F.display||(F.display="inline-block");var U=m({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),G=b(this.props,[]);return a(G),G.className=this.props.inputClassName,G.id=this.state.inputId,G.style=U,g.default.createElement("div",{className:this.props.className,style:F},this.renderStyles(),g.default.createElement("input",m({},G,{ref:this.inputRef})),g.default.createElement("div",{ref:this.sizerRef,style:C},A),this.props.placeholder?g.default.createElement("div",{ref:this.placeHolderSizerRef,style:C},this.props.placeholder):null)}}]),N}(u.Component);M.propTypes={className:w.default.string,defaultValue:w.default.any,extraWidth:w.default.oneOfType([w.default.number,w.default.string]),id:w.default.string,injectStyles:w.default.bool,inputClassName:w.default.string,inputRef:w.default.func,inputStyle:w.default.object,minWidth:w.default.oneOfType([w.default.number,w.default.string]),onAutosize:w.default.func,onChange:w.default.func,placeholder:w.default.string,placeholderIsMinWidth:w.default.bool,style:w.default.object,value:w.default.any},M.defaultProps={minWidth:1,injectStyles:!0},s.Z=M},62372:(z,s,e)=>{"use strict";e.d(s,{XI:()=>We,sJ:()=>he});var o=e(98661);function m(ke,Be){for(var Se=0;Se<Be.length;Se++){var Ke=Be[Se];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(ke,Ke.key,Ke)}}function d(ke,Be,Se){return Be&&m(ke.prototype,Be),Se&&m(ke,Se),ke}function u(){return u=Object.assign||function(ke){for(var Be=1;Be<arguments.length;Be++){var Se=arguments[Be];for(var Ke in Se)Object.prototype.hasOwnProperty.call(Se,Ke)&&(ke[Ke]=Se[Ke])}return ke},u.apply(this,arguments)}function g(ke,Be){ke.prototype=Object.create(Be.prototype),ke.prototype.constructor=ke,y(ke,Be)}function y(ke,Be){return y=Object.setPrototypeOf||function(Ke,ut){return Ke.__proto__=ut,Ke},y(ke,Be)}function w(ke,Be){if(ke==null)return{};var Se={},Ke=Object.keys(ke),ut,Oe;for(Oe=0;Oe<Ke.length;Oe++)ut=Ke[Oe],!(Be.indexOf(ut)>=0)&&(Se[ut]=ke[ut]);return Se}function v(ke,Be){if(ke){if(typeof ke=="string")return b(ke,Be);var Se=Object.prototype.toString.call(ke).slice(8,-1);if(Se==="Object"&&ke.constructor&&(Se=ke.constructor.name),Se==="Map"||Se==="Set")return Array.from(ke);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return b(ke,Be)}}function b(ke,Be){(Be==null||Be>ke.length)&&(Be=ke.length);for(var Se=0,Ke=new Array(Be);Se<Be;Se++)Ke[Se]=ke[Se];return Ke}function D(ke,Be){var Se=typeof Symbol!="undefined"&&ke[Symbol.iterator]||ke["@@iterator"];if(Se)return(Se=Se.call(ke)).next.bind(Se);if(Array.isArray(ke)||(Se=v(ke))||Be&&ke&&typeof ke.length=="number"){Se&&(ke=Se);var Ke=0;return function(){return Ke>=ke.length?{done:!0}:{done:!1,value:ke[Ke++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(ke){var Be=(0,o.useRef)(null);function Se(Ke){!Ke||Ke===Be.current||(Be.current=Ke,ke(Ke))}return Se}function O(ke){var Be=(0,o.useRef)(ke);return(0,o.useMemo)(function(){function Se(ut){typeof ut=="function"?Be.current=ut(Be.current):Be.current=ut}function Ke(){return Be.current}return[Ke,Se]},[])}function C(){var ke=(0,o.useRef)([]);return(0,o.useMemo)(function(){function Be(){return ke.current.length>0}function Se(){for(var ut=D(ke.current),Oe;!(Oe=ut()).done;){var K=Oe.value;K()}ke.current=[]}function Ke(ut){ke.current.push(ut)}return{hasEventSubscriptions:Be,removeAllEventSubscriptions:Se,addEventSubscription:Ke}},[])}var _=typeof window!="undefined"?o.useLayoutEffect:o.useEffect;function a(ke,Be){var Se=(0,o.useRef)(ke);return Be?(Se.current=ke,Se):(Se.current=null,Se)}var l={top:0,left:0,right:1,bottom:1,width:1,height:1};function P(ke){var Be=ke===void 0?{}:ke,Se=Be.enabled,Ke=Se===void 0?!0:Se,ut=Be.preventDefault,Oe=ut===void 0?!0:ut,K=useRef(null),Y=useState(l),me=Y[0],Ie=Y[1];function je(){Ie(l)}var Xe=me!==l;function _t(pt){if(Ke){Oe&&pt.preventDefault();var Ge=pt.clientX,at=pt.clientY;Ie({top:at,left:Ge,width:1,height:1,right:Ge+1,bottom:at+1})}}return{hasMousePosition:Xe,resetMousePosition:je,handleMouseEvent:_t,trigger:{getBounds:function(){return me},getParent:K.current?function(){return K.current}:void 0},parentRef:K}}function S(ke){return parseFloat(ke.replace("px",""))}function M(ke,Be,Se){return ke<Be?Be:ke>Se?Se:ke}function R(ke){return ke!=null}function N(){for(var ke=arguments.length,Be=new Array(ke),Se=0;Se<ke;Se++)Be[Se]=arguments[Se];return function(Ke){for(var ut=D(Be),Oe;!(Oe=ut()).done;){var K=Oe.value;K&&(typeof K=="function"?K(Ke):K.current=Ke)}}}function T(ke,Be){if(typeof ke!="undefined")return Be||ke.ResizeObserver}function A(ke,Be){var Se=[];if(!ke||!Be||ke===document.body)return Se;var Ke=Be.getComputedStyle(ke),ut=Ke.overflow,Oe=Ke.overflowX,K=Ke.overflowY;return[ut,Oe,K].some(function(Y){return["auto","scroll"].includes(Y)})&&Se.push(ke),[].concat(Se,A(ke.parentElement,Be))}function F(ke){return"react-laag: Could not find a valid reference for the "+ke+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+ke+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+ke+" when the isOpen prop is set to true"}function U(ke){var Be=ke.enabled,Se=ke.onChange,Ke=ke.environment,ut=ke.ResizeObserverPolyfill,Oe=ke.overflowContainer,K=ke.triggerOption,Y=T(Ke,ut);(0,o.useEffect)(function(){},[Y]);var me=(0,o.useRef)(null),Ie=!!K,je=O({scrollContainers:[],trigger:null,layer:null}),Xe=je[0],_t=je[1],pt=C(),Ge=pt.hasEventSubscriptions,at=pt.addEventSubscription,It=pt.removeAllEventSubscriptions,zt=(0,o.useCallback)(function(){var Pn=Xe(),jn=Pn.layer,sr=Pn.trigger,_r=Pn.scrollContainers,hr=_r[0];if(!jn)throw new Error(F("layer"));if(!sr&&!Ie)throw new Error(F("trigger"));var Bn={top:0,left:0};if(hr){var yr=hr.scrollLeft,oo=hr.scrollTop;Bn={top:oo,left:yr}}else{var Wr=Ke.scrollX,Zr=Ke.scrollY;Bn={top:Zr,left:Wr}}var Vr={left:0,top:0};if(hr){var Ur=Ke.getComputedStyle(hr),co=Ur.borderLeftWidth,no=Ur.borderTopWidth;Vr={left:S(co)||0,top:S(no)||0}}Se({layer:jn,trigger:sr,scrollContainers:_r,arrow:me.current},Bn,Vr)},[Xe,Se,Ke,me,Ie]),Xt=(0,o.useCallback)(function(){var Pn=Xe(),jn=Pn.trigger,sr=Pn.layer,_r=Pn.scrollContainers;if(!sr)throw new Error(F("layer"));if(!jn&&!Ie)throw new Error(F("trigger"));if(Y){for(var hr=!1,Bn=function(){if(!hr){hr=!0;return}zt()},yr=new Y(Bn),oo=0,Wr=[jn,sr,document.body];oo<Wr.length;oo++){var Zr=Wr[oo];Zr&&yr.observe(Zr)}at(function(){for(var Hr=0,uo=[jn,sr,document.body];Hr<uo.length;Hr++){var yo=uo[Hr];yo&&yr.unobserve(yo)}yr.disconnect()})}for(var Vr=[Ke].concat(_r),Ur=function(){var uo=no.value;uo.addEventListener("scroll",zt),at(function(){return uo.removeEventListener("scroll",zt)})},co=D(Vr),no;!(no=co()).done;)Ur()},[Xe,at,zt,Ke,Y,Ie]),Dt=(0,o.useCallback)(function(wn,Pn){Be&&wn&&wn!==Pn&&(It(),Xt(),zt())},[It,Xt,zt,Be]),ln=E((0,o.useCallback)(function(wn){var Pn=Xe(),jn=Pn.layer;_t(function(sr){return u({},sr,{layer:wn})}),Dt(jn,wn)},[Xe,_t,Dt])),qt=(0,o.useCallback)(function(Pn){var jn=A(Pn,Ke),sr=jn[0];if(sr){var _r=Ke.getComputedStyle(sr).position,hr=["relative","absolute","fixed"].includes(_r)||Oe;hr||(sr.style.position="relative")}return jn},[Ke,Oe]),fn=E((0,o.useCallback)(function(wn){var Pn=qt(wn),jn=Xe(),sr=jn.trigger;_t(function(_r){return u({},_r,{trigger:wn,scrollContainers:Pn})}),Dt(sr,wn)},[Xe,_t,Dt,qt])),Sn=K==null||K.getParent==null?void 0:K.getParent();return _(function(){Sn&&_t(function(wn){return u({},wn,{scrollContainers:qt(Sn)})})},[Sn,_t,qt]),_(function(){return Be&&(Ge()||Xt()),function(){Ge()&&It()}},[Be,Ge,Xt,It]),_(function(){Be&&zt()}),{triggerRef:fn,layerRef:ln,arrowRef:me,closestScrollContainer:Xe().scrollContainers[0]||null}}var G=(0,o.createContext)({});function J(ke){var Be=ke.children,Se=ke.registrations,Ke=(0,o.useCallback)(function(Oe){return Se.current.add(Oe),function(){return Se.current.delete(Oe)}},[Se]);return(0,o.createElement)(G.Provider,{value:Ke},Be)}function Q(ke,Be){for(var Se=D(ke),Ke;!(Ke=Se()).done;){var ut=Ke.value.shouldCloseWhenClickedOutside;if(!ut(Be))return!1}return!0}function te(ke){var Be=ke.isOpen,Se=ke.onOutsideClick,Ke=ke.onParentClose,ut=(0,o.useRef)(null),Oe=(0,o.useRef)(null),K=(0,o.useRef)(new Set),Y=(0,o.useContext)(G),me=(0,o.useCallback)(function(je){var Xe=je.target,_t=ut.current&&ut.current.contains(Xe),pt=Oe.current&&Oe.current.contains(Xe),Ge=Q(K.current,je);return pt&&Ge&&K.current.forEach(function(at){var It=at.closeChild;return It()}),!_t&&!pt&&Ge},[ut,Oe,K]);return(0,o.useEffect)(function(){if(typeof Y=="function")return Y({shouldCloseWhenClickedOutside:me,closeChild:function(){Ke&&Ke()}})},[Y,me,Ke,K]),(0,o.useEffect)(function(){var Ie=typeof Y=="function",je=!Be||!Se||Ie;if(je)return;function Xe(_t){me(_t)&&Se()}return document.addEventListener("click",Xe,!0),function(){return document.removeEventListener("click",Xe,!0)}},[Be,Se,me,Y]),(0,o.useEffect)(function(){Be||K.current.forEach(function(Ie){var je=Ie.closeChild;return je()})},[Be]),{closeOnOutsideClickRefs:{trigger:ut,layer:Oe},registrations:K}}var ee=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],L={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},V=function(){function ke(Se,Ke,ut,Oe,K,Y,me,Ie,je){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=Se,this.opposite=Ke,this.isHorizontal=ut,this.sizeProp=Oe,this.oppositeSizeProp=K,this.cssProp=Y,this.oppositeCssProp=me,this.isCenter=Ie,this.isPush=je}var Be=ke.prototype;return Be.factor=function(Ke){return Ke*(this.isPush?1:-1)},Be.isOppositeDirection=function(Ke){return this.isHorizontal!==Ke.isHorizontal},ke}();function ne(ke,Be){Be===void 0&&(Be=!0);var Se=["left","right"].includes(ke);return new V(ke,Be?ne(L[ke],!1):null,Se,Se?"width":"height",Se?"height":"width",Se?"left":"top",Se?"top":"left",ke==="center",!["right","bottom"].includes(ke))}var ae={top:ne("top"),bottom:ne("bottom"),left:ne("left"),right:ne("right")},fe=u({},ae,{center:ne("center")}),le=["top","left","bottom","right"],re=function(){function ke(Be){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Be)}return ke.mergeSmallestSides=function(Se){var Ke=Se[0],ut=Se.slice(1);if(!Ke)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Oe=Object.fromEntries(le.map(function(_t){return[_t,Ke[_t]]})),K=D(ut),Y;!(Y=K()).done;)for(var me=Y.value,Ie=D(le),je;!(je=Ie()).done;){var Xe=je.value;Oe[Xe]=Math.min(Oe[Xe],me[Xe])}return new ke(Oe)},d(ke,[{key:"allSidesArePositive",get:function(){var Se=this;return le.every(function(Ke){return Se[Ke]>=0})}},{key:"negativeSides",get:function(){var Se=this;return Object.fromEntries(le.filter(function(Ke){return Se[Ke]<0}).map(function(Ke){return[Ke,Se[Ke]]}))}}]),ke}();function $(){for(var ke=arguments.length,Be=new Array(ke),Se=0;Se<ke;Se++)Be[Se]=arguments[Se];return Be.reduce(function(Ke,ut){return Ke+(ut?S(ut):0)},0)}function oe(ke){var Be=ke.top,Se=ke.left,Ke=ke.right,ut=ke.bottom,Oe=ke.width,K=ke.height;return{top:Be,left:Se,right:Ke,bottom:ut,width:Oe,height:K}}var se={top:0,left:0,right:0,bottom:0,width:0,height:0},ce=function(){ke.create=function(Ke){return new ke(Ke)},ke.fromElement=function(Ke,ut){ut===void 0&&(ut={});var Oe=ut,K=Oe.withTransform,Y=K===void 0?!0:K,me=Oe.environment,Ie=me===void 0?window:me,je=Oe.withScrollbars,Xe=je===void 0?!0:je,_t=oe(Ke.getBoundingClientRect()),pt=new ke(_t);if(!Y){var Ge=Ie.getComputedStyle(Ke),at=Ge.width,It=Ge.height,zt=Ge.boxSizing,Xt=Ge.borderLeft,Dt=Ge.borderRight,ln=Ge.borderTop,qt=Ge.borderBottom,fn=Ge.paddingLeft,Sn=Ge.paddingRight,wn=Ge.paddingTop,Pn=Ge.paddingBottom,jn=zt==="border-box"?S(at):$(at,Xt,Dt,fn,Sn),sr=zt==="border-box"?S(It):$(It,ln,qt,wn,Pn);pt=new ke(u({},pt,{width:jn,height:sr}))}if(!Xe){var _r=pt.width-Ke.clientWidth,hr=pt.height-Ke.clientHeight;return pt.substract({right:_r,bottom:hr})}return pt},ke.empty=function(){return new ke},ke.fromWindow=function(Ke){var ut,Oe=(ut=Ke==null?void 0:Ke.document.scrollingElement)!=null?ut:Ke==null?void 0:Ke.document.documentElement,K=Oe!=null?Oe:{},Y=K.clientWidth,me=Y===void 0?0:Y,Ie=K.clientHeight,je=Ie===void 0?0:Ie;return new ke({width:me,height:je,right:me,bottom:je})};function ke(Se){return Se===void 0&&(Se={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,se,Se)}var Be=ke.prototype;return Be.toObject=function(){return oe(this)},Be.merge=function(Ke){var ut=this.toObject();return new ke(u({},ut,typeof Ke=="function"?Ke(ut):Ke))},Be.substract=function(Ke){for(var ut=this.toObject(),Oe=Object.entries(Ke),K=0,Y=Oe;K<Y.length;K++){var me=Y[K],Ie=me[0],je=me[1];if(Ie in ae){var Xe=ae[Ie];ut[Ie]+=Xe.factor(je),ut[Xe.isHorizontal?"width":"height"]-=je}else ut[Ie]-=je||0}return new ke(ut)},Be.offsetsTo=function(Ke){return new re({top:Ke.top-this.top,bottom:this.bottom-Ke.bottom,left:Ke.left-this.left,right:this.right-Ke.right})},Be.mapSides=function(Ke){for(var ut=this.toObject(),Oe=Object.values(ae),K=0,Y=Oe;K<Y.length;K++){var me=Y[K];ut[me.prop]=Ke(me,ut[me.prop])}return new ke(ut)},d(ke,[{key:"surface",get:function(){return this.width*this.height}}]),ke}(),de=function(){function ke(Se,Ke,ut,Oe,K){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=Se,this.secondary=Ke,this.offsets=K,this.setSubjectsBounds(ut,Oe)}var Be=ke.prototype;return Be.setSubjectsBounds=function(Ke,ut){if(!ut){this.subjectsBounds=Ke;return}var Oe=typeof ut=="function"?ut(this.primary.prop):ut;this.subjectsBounds=Ke.merge({layer:u({},Ke.layer,Oe)})},Be.getLayerBounds=function(Ke){if(Ke===void 0&&(Ke=0),this._cachedLayerBounds&&Ke===0)return this._cachedLayerBounds;var ut=this.primary,Oe=this.secondary,K=this.subjectsBounds,Y=K.trigger,me=K.layer,Ie=K.arrow,je=ut.isHorizontal,Xe=ut.oppositeCssProp,_t=ut.oppositeSizeProp,pt=ut.prop,Ge=ut.opposite,at=ce.empty();at[Ge.prop]=Y[pt]-ut.factor(this.offsets.trigger),at[pt]=at[Ge.prop]-ut.factor(me[ut.sizeProp]);var It=this.offsets.arrow*2,zt=Y[Xe]-(me[_t]-Ie[_t])+It,Xt=Y[Xe]+(Y[_t]-Ie[_t])-It;if(Oe.isPush||(zt+=me[_t],Xt+=me[_t]),Oe.isCenter){var Dt=(je?ae.top:ae.left).prop,ln=(je?ae.bottom:ae.right).prop;at[Dt]=M(Y[Dt]+Y[_t]/2-me[_t]/2+Ke,zt,Xt),at[ln]=at[Dt]+me[_t]}else{var qt=Oe,fn=Y[qt.prop],Sn=fn<zt?zt-fn:fn>Xt?Xt-fn:0;at[qt.prop]=M(fn+Ke+Sn,zt,Xt),at[qt.opposite.prop]=at[qt.prop]+Oe.factor(me[_t])}at.width=at.right-at.left,at.height=at.bottom-at.top;var wn=ce.create(at);return Ke===0&&(this._cachedLayerBounds=wn),wn},Be.getLayerCollisionBounds=function(){var Ke=this.offsets.container;return this.getLayerBounds().mapSides(function(ut,Oe){return Oe-=ut.factor(Ke)}).merge(function(ut){var Oe=ut.width,K=ut.height;return{width:Oe+Ke*2,height:K+Ke*2}})},Be.getContainerOffsets=function(Ke){if(this._cachedContainerOffsets&&!Ke)return this._cachedContainerOffsets;var ut=this.subjectsBounds.merge({layer:Ke||this.getLayerCollisionBounds()}),Oe=re.mergeSmallestSides(ut.layerOffsetsToScrollContainers);return Ke||(this._cachedContainerOffsets=Oe),Oe},d(ke,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Ke=this.secondary.isHorizontal,ut=this.subjectsBounds,Oe=ut.triggerHasBiggerWidth,K=ut.triggerHasBiggerHeight;return Ke&&Oe||!Ke&&K}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Ke=this.getLayerBounds(),ut=this.getContainerOffsets(Ke),Oe=ut.negativeSides;for(var K in Oe)Oe[K]=-Oe[K];return Ke.substract(Oe).surface}},{key:"secondaryOffsetSide",get:function(){var Ke,ut,Oe=this,K=this.getContainerOffsets(),Y=(Ke=(ut=Object.entries(K.negativeSides).map(function(Ie){var je=Ie[0],Xe=Ie[1];return[ae[je],Xe]}).filter(function(Ie){var je=Ie[0];return Oe.primary.isOppositeDirection(je)}).sort(function(Ie,je){var Xe=Ie[1],_t=je[1];return _t-Xe}))==null?void 0:ut[0])!=null?Ke:[],me=Y[0];return me||null}}]),ke}(),be=function(ke){g(Be,ke);function Be(){return ke.apply(this,arguments)||this}var Se=Be.prototype;return Se.getLayerBounds=function(){var ut=this.subjectsBounds,Oe=ut.trigger,K=ut.layer,Y=ce.empty();return Y.top=Oe.top+Oe.height/2-K.height/2,Y.bottom=Y.top+K.height,Y.left=Oe.left+Oe.width/2-K.width/2,Y.right=Y.left+K.width,Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,Y},Be}(de);function pe(ke,Be,Se){var Ke=ke.layer,ut=ke.trigger,Oe=ke.arrow,K=Be.primary.oppositeSizeProp,Y=Be.primary.isHorizontal?["top","bottom"]:["left","right"],me=Y[0],Ie=Y[1],je=Ke[me]+Ke[K]/2-ut[me]-Oe[K]/2-Se,Xe=Ke[Ie]-Ke[K]/2-ut[Ie]+Oe[K]/2+Se;return(je<0?-je:0)+(Xe>0?-Xe:0)}var we={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function xe(ke,Be,Se){var Ke;if(Be.primary.isCenter)return we;var ut=ke.layer,Oe=ke.trigger,K=ke.arrow,Y=Be.primary.oppositeSizeProp,me=Oe[Y]>ut[Y],Ie=Se+K[Y]/2,je=ut[Y]-K[Y]/2-Se,Xe=pe(ke,Be,Se),_t=Be.primary.prop,pt=Be.primary.oppositeCssProp,Ge=me?ut[Y]/2+Xe:Oe[pt]+Oe[Y]/2-ut[pt];return u({},we,(Ke={},Ke[_t]="100%",Ke[pt]=M(Ge,Ie,je),Ke))}var Ue=function(){function ke(Se,Ke,ut){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=Se,this.config=Ke,this.subjectsBounds=ut}ke.getSidesFromPlacementType=function(Ke){var ut=Ke.split("-"),Oe=ut[0],K=ut[1],Y=ae[Oe],me;return K==="center"?me=fe.center:Y.isHorizontal?me=K==="start"?fe.top:fe.bottom:me=K==="start"?fe.left:fe.right,[Y,me]},ke.create=function(Ke,ut){var Oe={arrow:ut.arrowOffset,container:ut.containerOffset,trigger:ut.triggerOffset};function K(Y){Y===void 0&&(Y=ut.placement);var me=ke.getSidesFromPlacementType(Y),Ie=me[0],je=me[1],Xe=ae[Ie.isHorizontal?ut.preferY:ut.preferX],_t=!Ie.isHorizontal&&Ke.triggerHasBiggerWidth||Ie.isHorizontal&&Ke.triggerHasBiggerHeight;function pt(at,It){return new de(at,It,Ke,ut.layerDimensions,Oe)}var Ge=[];return Ge[0]=pt(Ie,je),Ge[1]=pt(Ie,je.isCenter?Xe:fe.center),Ge[2]=pt(Ie,fe[(je.opposite.isCenter?Xe.opposite:je.opposite).prop]),Ge[3]=pt(Xe,_t?Ie:fe[Ie.opposite.prop]),Ge[4]=pt(Xe,fe.center),Ge[5]=pt(Xe,_t?fe[Ie.opposite.prop]:Ie),Ge[6]=pt(ae[Xe.opposite.prop],_t?Ie:fe[Ie.opposite.prop]),Ge[7]=pt(ae[Xe.opposite.prop],fe.center),Ge[8]=pt(ae[Xe.opposite.prop],_t?fe[Ie.opposite.prop]:Ie),Ge[9]=pt(ae[Ie.opposite.prop],je),Ge[10]=pt(ae[Ie.opposite.prop],je.isCenter?Xe:fe.center),Ge[11]=pt(ae[Ie.opposite.prop],fe[(je.opposite.isCenter?Xe.opposite:je.opposite).prop]),Ge=Ge.filter(function(at){return at.type===ut.placement||ut.possiblePlacements.includes(at.type)}),Ge}return ut.placement==="center"?new ke([new be(fe.center,fe.center,Ke,ut.layerDimensions,Oe)].concat(K(ut.preferY+"-"+ut.preferX)),ut,Ke):new ke(K(),ut,Ke)};var Be=ke.prototype;return Be.filterPlacementsBySide=function(Ke){return this.placements.filter(function(ut){return ut.primary===Ke})},Be.findFirstPlacementThatFits=function(){return this.placements.find(function(Ke){return Ke.fitsContainer})},Be.placementWithBiggestVisibleSurface=function(){var Ke=this.placements.map(function(Oe){return{placement:Oe,surface:Oe.visibleSurface}}).sort(function(Oe,K){return K.surface-Oe.surface}),ut=Ke[0].placement;return ut},Be.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Be.getSecondaryOffset=function(Ke){var ut=this.config,Oe=ut.auto,K=ut.snap;if(!Oe||K||Ke instanceof be)return 0;var Y=this.filterPlacementsBySide(Ke.primary),me=Y.indexOf(Ke)===0;if(me&&Ke.fitsContainer)return 0;var Ie=Y.find(function(at){return!at.fitsContainer});if(!Ie)return 0;var je=Ie.secondaryOffsetSide;if(!je)return 0;var Xe=Ke.getContainerOffsets(),_t=Ke.secondary,pt;Ke.triggerIsBigger||Ie===Ke?pt=je.isPush?-1:1:pt=_t===fe.left||[fe.top,fe.center].includes(_t)&&je.isPush?-1:1;var Ge=Xe[je.prop];return Ge*pt},Be.getStyles=function(Ke,ut,Oe,K){var Y={willChange:"top, left, width, height"},me=xe(this.subjectsBounds.merge({layer:Ke}),ut,this.config.arrowOffset),Ie=this.config.overflowContainer?u({},Y,{position:"fixed",top:Ke.top,left:Ke.left}):u({},Y,{position:"absolute",top:Ke.top-this.subjectsBounds.parent.top+Oe.top-K.top,left:Ke.left-this.subjectsBounds.parent.left+Oe.left-K.left});return{arrow:me,layer:Ie}},Be.getHasDisappeared=function(Ke){var ut=this.config.overflowContainer?this.subjectsBounds.trigger:Ke,Oe=re.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(ut,!0)),K=Object.entries(Oe.negativeSides),Y=K.some(function(me){var Ie=me[0],je=me[1],Xe=ae[Ie];return je<=-ut[Xe.sizeProp]});return Y?"full":Oe.allSidesArePositive?null:"partial"},Be.result=function(Ke,ut){var Oe=this.findSuitablePlacement(),K=this.getSecondaryOffset(Oe),Y=Oe.getLayerBounds(K),me=this.getStyles(Y,Oe,Ke,ut),Ie=Oe.primary.prop;return{styles:me,layerSide:Ie,placement:Oe,layerBounds:Y,hasDisappeared:this.getHasDisappeared(Y)}},ke}(),De=function(){function ke(Se,Ke){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Ke,Object.assign(this,Se)}ke.create=function(Ke,ut,Oe,K,Y,me,Ie,je){var Xe=ce.fromWindow(Ke);return new ke({layer:ce.fromElement(ut,{environment:Ke,withTransform:!1}),trigger:je?ce.create(oe(je())):ce.fromElement(Oe),arrow:Y?ce.fromElement(Y):ce.empty(),parent:K?ce.fromElement(K):Xe,window:Xe,scrollContainers:[Xe].concat(me.map(function(_t){return ce.fromElement(_t,{withScrollbars:!1})}))},Ie)};var Be=ke.prototype;return Be.merge=function(Ke){return new ke(u({},this,Ke),this.overflowContainer)},Be.offsetsToScrollContainers=function(Ke,ut){ut===void 0&&(ut=!1);var Oe=this.overflowContainer&&!ut?[this.window]:this.scrollContainers;return Oe.map(function(K){return K.offsetsTo(Ke)})},d(ke,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),ke}(),_e=null;function ie(ke){typeof document!="undefined"&&(typeof ke=="function"?_e=ke():typeof ke=="string"?_e=document.getElementById(ke):_e=ke)}var ve={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:ee,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function he(ke){var Be,Se=ke.isOpen,Ke=Se===void 0?!1:Se,ut=ke.overflowContainer,Oe=ut===void 0?ve.overflowContainer:ut,K=ke.environment,Y=K===void 0?typeof window!="undefined"?window:void 0:K,me=ke.ResizeObserver,Ie=ke.placement,je=Ie===void 0?ve.placement:Ie,Xe=ke.possiblePlacements,_t=Xe===void 0?ve.possiblePlacements:Xe,pt=ke.preferX,Ge=pt===void 0?ve.preferX:pt,at=ke.preferY,It=at===void 0?ve.preferY:at,zt=ke.auto,Xt=zt===void 0?ve.auto:zt,Dt=ke.snap,ln=Dt===void 0?ve.snap:Dt,qt=ke.triggerOffset,fn=qt===void 0?ve.triggerOffset:qt,Sn=ke.containerOffset,wn=Sn===void 0?ve.containerOffset:Sn,Pn=ke.arrowOffset,jn=Pn===void 0?ve.arrowOffset:Pn,sr=ke.container,_r=sr===void 0?ve.container:sr,hr=ke.layerDimensions,Bn=hr===void 0?null:hr,yr=ke.onDisappear,oo=ke.onOutsideClick,Wr=ke.onParentClose,Zr=ke.trigger,Vr=(0,o.useState)(function(){return{layerSide:je==="center"?"center":Ue.getSidesFromPlacementType(je)[0].prop,styles:{layer:{position:Oe?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),Ur=Vr[0],co=Vr[1],no=(0,o.useRef)(null),Hr=a(Ur,Ke),uo=(0,o.useRef)({cancelled:!1});(0,o.useEffect)(function(){return function(){uo.current.cancelled=!0}},[]);var yo=(0,o.useCallback)(function(Dr,Vt,Qt){var en=Dr.arrow,Rn=Dr.layer,At=Dr.scrollContainers,Zt=Dr.trigger,jt=At[0],nn=De.create(Y,Rn,Zt,jt,en,At,Oe,Zr==null?void 0:Zr.getBounds),gn={placement:je,possiblePlacements:_t,auto:Xt,layerDimensions:Bn,arrowOffset:jn,containerOffset:wn,triggerOffset:fn,preferX:Ge,preferY:It,snap:ln,overflowContainer:Oe},Mn=Ue.create(nn,gn).result(Vt,Qt),Xn=Mn.hasDisappeared,nr=Mn.layerSide,er=Mn.styles,Nn={layerSide:nr,styles:er};if(!Hr.current||Le(Hr.current,Nn)){Hr.current=Nn,uo.current.cancelled=!0;var Sr={cancelled:!1};uo.current=Sr,Promise.resolve().then(function(){Sr.cancelled||co(Nn)})}R(Xn)&&R(yr)&&yr(Xn)},[jn,Xt,wn,Y,Bn,yr,Oe,je,_t,Ge,It,ln,fn,Hr,Zr]),ho=U({ResizeObserverPolyfill:me,environment:Y,enabled:Ke,overflowContainer:Oe,onChange:yo,triggerOption:Zr}),xo=ho.triggerRef,Qo=ho.layerRef,Zo=ho.arrowRef,No=ho.closestScrollContainer,Ro=te({isOpen:Ke,onOutsideClick:oo,onParentClose:Wr}),Ko=Ro.closeOnOutsideClickRefs,Yr=Ro.registrations,Jr={triggerProps:Zr?{}:{ref:N(xo,Ko.trigger,no)},layerProps:{ref:N(Qo,Ko.layer),style:Ur.styles.layer},arrowProps:{ref:Zo,style:Ur.styles.arrow,layerSide:Ur.layerSide},layerSide:Ur.layerSide,triggerBounds:Ke?Zr?Zr.getBounds():(Be=no.current)==null?void 0:Be.getBoundingClientRect():null,renderLayer:function(Dr){return typeof document!="undefined"?(0,o.createPortal)((0,o.createElement)(J,{registrations:Yr,children:Dr}),Oe||!No?ht(_r):No):null}};return Jr}function Le(ke,Be){if(ke.layerSide!==Be.layerSide)return!0;for(var Se=["position","top","left","right","bottom"],Ke=0,ut=Se;Ke<ut.length;Ke++){var Oe=ut[Ke];if(ke.styles.layer[Oe]!==Be.styles.layer[Oe]||ke.styles.arrow[Oe]!==Be.styles.arrow[Oe])return!0}return!1}var He="layers";function ht(ke){var Be;if(typeof ke=="function"){if(Be=ke(),!Be||!(Be instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(ke instanceof HTMLElement)Be=ke;else if(typeof ke=="string"){if(Be=document.getElementById(ke),!Be)throw new Error("react-laag: You've passed element with id '"+ke+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(_e instanceof HTMLElement)return _e;Be=document.getElementById(He),Be||(Be=document.createElement("div"),Be.id=He,Be.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Be))}return Be}var bt=null,Tt="left",Fe="top",nt="bottom",ft="right";function Ye(ke,Be){return Math.tan(ke*(Math.PI/180))*Be}function rt(ke,Be,Se,Ke){var ut,Oe=(ut={},ut[nt]="0 "+-Ke+" "+Be+" "+ke,ut[Fe]="0 0 "+Be+" "+(ke+Ke),ut[ft]=-Ke+" 0 "+ke+" "+Be,ut[Tt]="0 0 "+(ke+Ke)+" "+Be,ut);return Oe[Se.prop]}function $t(ke,Be,Se,Ke,ut){var Oe,K,Y,me=Ke/10*ke*2,Ie=(Oe={},Oe[nt]=[0,ke],Oe[Fe]=[0,0],Oe[ft]=[ke,Be],Oe[Tt]=[0,Be],Oe)[Se.prop].join(" "),je=Se.isHorizontal?"V 0":"H "+Be,Xe=Be/2,_t=Be/2+Ye(ut,ke/8),pt=ke/8,Ge=(K={},K[nt]=["C",_t,pt,Xe+me,0,Xe,0],K[Fe]=["C",_t,ke-pt,Xe+me,ke,Xe,ke],K[ft]=["C",pt,Be-_t,0,Xe-me,0,Xe],K[Tt]=["C",ke-pt,Be-_t,ke,Xe-me,ke,Xe],K)[Se.prop].join(" "),at=Be/2-Ye(ut,ke/8),It=ke/8,zt=(Y={},Y[nt]=["C",Xe-me,0,at,It,Ie],Y[Fe]=["C",Xe-me,ke,at,ke-It,Ie],Y[ft]=["C",0,Xe+me,It,Be-at,Ie],Y[Tt]=["C",ke,Xe+me,ke-It,Be-at,Ie],Y)[Se.prop].join(" ");return["M",Ie,je,Ge,zt].join(" ")}function sn(ke,Be,Se,Ke,ut){var Oe=Ye(ut,Se),K=Ke.isPush?[0,Se]:[ke,ke-Se],Y=K[0],me=K[1];return Ke.isHorizontal?["M",Y,Se,"V",Be-Se,"L",me,Be-Se-Oe,"V",Oe+Se,"Z"].join(" "):["M",Se,Y,"H",Be-Se,"L",Be-Se-Oe,me,"H",Oe+Se,"Z"].join(" ")}var gt=null,Ne;(function(ke){ke[ke.ENTERING=0]="ENTERING",ke[ke.LEAVING=1]="LEAVING",ke[ke.IDLE=2]="IDLE"})(Ne||(Ne={}));function We(ke){var Be=ke===void 0?{}:ke,Se=Be.delayEnter,Ke=Se===void 0?0:Se,ut=Be.delayLeave,Oe=ut===void 0?0:ut,K=Be.hideOnScroll,Y=K===void 0?!0:K,me=(0,o.useState)(!1),Ie=me[0],je=me[1],Xe=(0,o.useRef)(null),_t=(0,o.useRef)(Ne.IDLE),pt=(0,o.useRef)(!1),Ge=(0,o.useCallback)(function(){clearTimeout(Xe.current),Xe.current=null,_t.current=Ne.IDLE},[]);function at(){_t.current===Ne.LEAVING&&Xe.current&&Ge(),!Ie&&(_t.current=Ne.ENTERING,Xe.current=window.setTimeout(function(){je(!0),Xe.current=null,_t.current=Ne.IDLE},Ke))}function It(Xt,Dt){if(_t.current===Ne.ENTERING&&Xe.current&&Ge(),!!Ie){if(Dt){je(!1),Xe.current=null,_t.current=Ne.IDLE;return}_t.current=Ne.LEAVING,Xe.current=window.setTimeout(function(){je(!1),Xe.current=null,_t.current=Ne.IDLE},Oe)}}(0,o.useEffect)(function(){function Xt(){Ie&&Y&&(Ge(),je(!1))}return window.addEventListener("scroll",Xt,!0),function(){window.removeEventListener("scroll",Xt,!0),Xe.current&&clearTimeout(Xe.current)}},[Ie,Y,Ge]);var zt={onMouseEnter:at,onMouseLeave:It,onTouchStart:function(){pt.current=!1},onTouchMove:function(){pt.current=!0},onTouchEnd:function(){!pt.current&&!Ie&&je(!0),pt.current=!1}};return[Ie,zt,function(){return It(null,!0)}]}function st(ke){var Be=ke.isOpen,Se=ke.children,Ke=useState({isOpenInternal:Be,isLeaving:!1}),ut=Ke[0],Oe=Ke[1],K=useRef(!1);return useEffect(function(){Be?Oe({isOpenInternal:!0,isLeaving:!1}):K.current&&Oe({isOpenInternal:!1,isLeaving:!0})},[Be,Oe]),useEffect(function(){},[Se]),useEffect(function(){K.current=!0},[]),!Be&&!ut.isOpenInternal&&!ut.isLeaving?null:Se(ut.isOpenInternal,function(){ut.isOpenInternal||Oe(function(Y){return u({},Y,{isLeaving:!1})})},ut.isLeaving)}},1852:function(z,s,e){(function(o,m){z.exports=m(e(98661))})(typeof self!="undefined"?self:this,function(o){return function(m){function d(g){if(u[g])return u[g].exports;var y=u[g]={i:g,l:!1,exports:{}};return m[g].call(y.exports,y,y.exports,d),y.l=!0,y.exports}var u={};return d.m=m,d.c=u,d.d=function(g,y,w){d.o(g,y)||Object.defineProperty(g,y,{configurable:!1,enumerable:!0,get:w})},d.n=function(g){var y=g&&g.__esModule?function(){return g.default}:function(){return g};return d.d(y,"a",y),y},d.o=function(g,y){return Object.prototype.hasOwnProperty.call(g,y)},d.p="",d(d.s=7)}([function(m,d,u){"use strict";function g(Q,te){return D(Q)||b(Q,te)||w(Q,te)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(Q,te){if(Q){if(typeof Q=="string")return v(Q,te);var ee=Object.prototype.toString.call(Q).slice(8,-1);return ee==="Object"&&Q.constructor&&(ee=Q.constructor.name),ee==="Map"||ee==="Set"?Array.from(Q):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?v(Q,te):void 0}}function v(Q,te){(te==null||te>Q.length)&&(te=Q.length);for(var ee=0,L=new Array(te);ee<te;ee++)L[ee]=Q[ee];return L}function b(Q,te){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Q)){var ee=[],L=!0,V=!1,ne=void 0;try{for(var ae,fe=Q[Symbol.iterator]();!(L=(ae=fe.next()).done)&&(ee.push(ae.value),!te||ee.length!==te);L=!0);}catch(le){V=!0,ne=le}finally{try{L||fe.return==null||fe.return()}finally{if(V)throw ne}}return ee}}function D(Q){if(Array.isArray(Q))return Q}var E=u(1),O=u.n(E),C=u(8),_=u.n(C),a=u(2),l=u(10),P=u.n(l),S=u(3),M=u(6),R=function(Q){return Q.query||Object(S.a)(Q)},N=function(Q){if(!Q)return null;var te=Object.keys(Q);return te.length===0?null:te.reduce(function(ee,L){return ee[Object(a.a)(L)]=Q[L],ee},{})},T=function(){var Q=O.a.useRef(!1);return O.a.useEffect(function(){Q.current=!0},[]),Q.current},A=function(Q){var te=O.a.useContext(M.a),ee=function(){return N(Q)||N(te)},L=O.a.useState(ee),V=g(L,2),ne=V[0],ae=V[1];return O.a.useEffect(function(){var fe=ee();P()(ne,fe)||ae(fe)},[Q,te]),ne},F=function(Q){var te=function(){return R(Q)},ee=O.a.useState(te),L=g(ee,2),V=L[0],ne=L[1];return O.a.useEffect(function(){var ae=te();V!==ae&&ne(ae)},[Q]),V},U=function(Q,te){var ee=function(){return _()(Q,te||{},!!te)},L=O.a.useState(ee),V=g(L,2),ne=V[0],ae=V[1],fe=T();return O.a.useEffect(function(){return fe&&ae(ee()),function(){ne.dispose()}},[Q,te]),ne},G=function(Q){var te=O.a.useState(Q.matches),ee=g(te,2),L=ee[0],V=ee[1];return O.a.useEffect(function(){var ne=function(){V(Q.matches)};return Q.addListener(ne),ne(),function(){Q.removeListener(ne)}},[Q]),L},J=function(Q,te,ee){var L=A(te),V=F(Q);if(!V)throw new Error("Invalid or missing MediaQuery!");var ne=U(V,L),ae=G(ne),fe=T();return O.a.useEffect(function(){fe&&ee&&ee(ae)},[ae]),ae};d.a=J},function(m,d){m.exports=o},function(m,d,u){"use strict";function g(D){return"-"+D.toLowerCase()}function y(D){if(b.hasOwnProperty(D))return b[D];var E=D.replace(w,g);return b[D]=v.test(E)?"-"+E:E}var w=/[A-Z]/g,v=/^ms-/,b={};d.a=y},function(m,d,u){"use strict";var g=u(2),y=u(11),w=function(E){return"not ".concat(E)},v=function(E,O){var C=Object(g.a)(E);return typeof O=="number"&&(O="".concat(O,"px")),O===!0?C:O===!1?w(C):"(".concat(C,": ").concat(O,")")},b=function(E){return E.join(" and ")},D=function(E){var O=[];return Object.keys(y.a.all).forEach(function(C){var _=E[C];_!=null&&O.push(v(C,_))}),b(O)};d.a=D},function(m,d,u){"use strict";m.exports=u(13)},function(m,d,u){"use strict";m.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(m,d,u){"use strict";var g=u(1),y=u.n(g),w=y.a.createContext();d.a=w},function(m,d,u){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var g=u(0),y=u(17),w=u(3),v=u(6);u.d(d,"default",function(){return y.a}),u.d(d,"useMediaQuery",function(){return g.a}),u.d(d,"toQuery",function(){return w.a}),u.d(d,"Context",function(){return v.a})},function(m,d,u){"use strict";function g(b,D,E){function O(S){P&&P.addListener(S)}function C(S){P&&P.removeListener(S)}function _(S){l.matches=S.matches,l.media=S.media}function a(){P&&P.removeListener(_)}var l=this;if(v&&!E){var P=v.call(window,b);this.matches=P.matches,this.media=P.media,P.addListener(_)}else this.matches=w(b,D),this.media=b;this.addListener=O,this.removeListener=C,this.dispose=a}function y(b,D,E){return new g(b,D,E)}var w=u(9).match,v=typeof window!="undefined"?window.matchMedia:null;m.exports=y},function(m,d,u){"use strict";function g(a,l){return y(a).some(function(P){var S=P.inverse,M=P.type==="all"||l.type===P.type;if(M&&S||!M&&!S)return!1;var R=P.expressions.every(function(N){var T=N.feature,A=N.modifier,F=N.value,U=l[T];if(!U)return!1;switch(T){case"orientation":case"scan":return U.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=b(F),U=b(U);break;case"resolution":F=v(F),U=v(U);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=w(F),U=w(U);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,U=parseInt(U,10)||0}switch(A){case"min":return U>=F;case"max":return U<=F;default:return U===F}});return R&&!S||!R&&S})}function y(a){return a.split(",").map(function(l){l=l.trim();var P=l.match(D),S=P[1],M=P[2],R=P[3]||"",N={};return N.inverse=!!S&&S.toLowerCase()==="not",N.type=M?M.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],N.expressions=R.map(function(T){var A=T.match(E),F=A[1].toLowerCase().match(O);return{modifier:F[1],feature:F[2],value:A[2]}}),N})}function w(a){var l,P=Number(a);return P||(l=a.match(/^(\d+)\s*\/\s*(\d+)$/),P=l[1]/l[2]),P}function v(a){var l=parseFloat(a);switch(String(a).match(_)[1]){case"dpcm":return l/2.54;case"dppx":return 96*l;default:return l}}function b(a){var l=parseFloat(a);switch(String(a).match(C)[1]){case"em":case"rem":return 16*l;case"cm":return 96*l/2.54;case"mm":return 96*l/2.54/10;case"in":return 96*l;case"pt":return 72*l;case"pc":return 72*l/12;default:return l}}d.match=g,d.parse=y;var D=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,E=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,O=/^(?:(min|max)-)?(.+)/,C=/(em|rem|px|cm|mm|in|pt|pc)?$/,_=/(dpi|dpcm|dppx)?$/},function(m,d,u){"use strict";function g(y,w){if(y===w)return!0;if(!y||!w)return!1;var v=Object.keys(y),b=Object.keys(w),D=v.length;if(b.length!==D)return!1;for(var E=0;E<D;E++){var O=v[E];if(y[O]!==w[O]||!Object.prototype.hasOwnProperty.call(w,O))return!1}return!0}m.exports=g},function(m,d,u){"use strict";function g(a,l){var P=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);l&&(S=S.filter(function(M){return Object.getOwnPropertyDescriptor(a,M).enumerable})),P.push.apply(P,S)}return P}function y(a){for(var l=1;l<arguments.length;l++){var P=arguments[l]!=null?arguments[l]:{};l%2?g(Object(P),!0).forEach(function(S){w(a,S,P[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(P)):g(Object(P)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(P,S))})}return a}function w(a,l,P){return l in a?Object.defineProperty(a,l,{value:P,enumerable:!0,configurable:!0,writable:!0}):a[l]=P,a}var v=u(12),b=u.n(v),D=b.a.oneOfType([b.a.string,b.a.number]),E={orientation:b.a.oneOf(["portrait","landscape"]),scan:b.a.oneOf(["progressive","interlace"]),aspectRatio:b.a.string,deviceAspectRatio:b.a.string,height:D,deviceHeight:D,width:D,deviceWidth:D,color:b.a.bool,colorIndex:b.a.bool,monochrome:b.a.bool,resolution:D},O=y({minAspectRatio:b.a.string,maxAspectRatio:b.a.string,minDeviceAspectRatio:b.a.string,maxDeviceAspectRatio:b.a.string,minHeight:D,maxHeight:D,minDeviceHeight:D,maxDeviceHeight:D,minWidth:D,maxWidth:D,minDeviceWidth:D,maxDeviceWidth:D,minColor:b.a.number,maxColor:b.a.number,minColorIndex:b.a.number,maxColorIndex:b.a.number,minMonochrome:b.a.number,maxMonochrome:b.a.number,minResolution:D,maxResolution:D},E),C={all:b.a.bool,grid:b.a.bool,aural:b.a.bool,braille:b.a.bool,handheld:b.a.bool,print:b.a.bool,projection:b.a.bool,screen:b.a.bool,tty:b.a.bool,tv:b.a.bool,embossed:b.a.bool},_=y(y({},C),O);E.type=Object.keys(C),d.a={all:_,types:C,matchers:E,features:O}},function(m,d,u){var g=u(4);m.exports=u(14)(g.isElement,!0)},function(m,d,u){"use strict";(function(){function g(Le){return typeof Le=="string"||typeof Le=="function"||Le===A||Le===te||Le===U||Le===F||Le===L||Le===V||typeof Le=="object"&&Le!==null&&(Le.$$typeof===ae||Le.$$typeof===ne||Le.$$typeof===G||Le.$$typeof===J||Le.$$typeof===ee||Le.$$typeof===le||Le.$$typeof===re||Le.$$typeof===$||Le.$$typeof===fe)}function y(Le){if(typeof Le=="object"&&Le!==null){var He=Le.$$typeof;switch(He){case N:var ht=Le.type;switch(ht){case Q:case te:case A:case U:case F:case L:return ht;default:var bt=ht&&ht.$$typeof;switch(bt){case J:case ee:case ae:case ne:case G:return bt;default:return He}}case T:return He}}}function w(Le){return he||(he=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),v(Le)||y(Le)===Q}function v(Le){return y(Le)===te}function b(Le){return y(Le)===J}function D(Le){return y(Le)===G}function E(Le){return typeof Le=="object"&&Le!==null&&Le.$$typeof===N}function O(Le){return y(Le)===ee}function C(Le){return y(Le)===A}function _(Le){return y(Le)===ae}function a(Le){return y(Le)===ne}function l(Le){return y(Le)===T}function P(Le){return y(Le)===U}function S(Le){return y(Le)===F}function M(Le){return y(Le)===L}var R=typeof Symbol=="function"&&Symbol.for,N=R?Symbol.for("react.element"):60103,T=R?Symbol.for("react.portal"):60106,A=R?Symbol.for("react.fragment"):60107,F=R?Symbol.for("react.strict_mode"):60108,U=R?Symbol.for("react.profiler"):60114,G=R?Symbol.for("react.provider"):60109,J=R?Symbol.for("react.context"):60110,Q=R?Symbol.for("react.async_mode"):60111,te=R?Symbol.for("react.concurrent_mode"):60111,ee=R?Symbol.for("react.forward_ref"):60112,L=R?Symbol.for("react.suspense"):60113,V=R?Symbol.for("react.suspense_list"):60120,ne=R?Symbol.for("react.memo"):60115,ae=R?Symbol.for("react.lazy"):60116,fe=R?Symbol.for("react.block"):60121,le=R?Symbol.for("react.fundamental"):60117,re=R?Symbol.for("react.responder"):60118,$=R?Symbol.for("react.scope"):60119,oe=Q,se=te,ce=J,de=G,be=N,pe=ee,we=A,xe=ae,Ue=ne,De=T,_e=U,ie=F,ve=L,he=!1;d.AsyncMode=oe,d.ConcurrentMode=se,d.ContextConsumer=ce,d.ContextProvider=de,d.Element=be,d.ForwardRef=pe,d.Fragment=we,d.Lazy=xe,d.Memo=Ue,d.Portal=De,d.Profiler=_e,d.StrictMode=ie,d.Suspense=ve,d.isAsyncMode=w,d.isConcurrentMode=v,d.isContextConsumer=b,d.isContextProvider=D,d.isElement=E,d.isForwardRef=O,d.isFragment=C,d.isLazy=_,d.isMemo=a,d.isPortal=l,d.isProfiler=P,d.isStrictMode=S,d.isSuspense=M,d.isValidElementType=g,d.typeOf=y})()},function(m,d,u){"use strict";function g(){return null}var y=u(4),w=u(15),v=u(5),b=u(16),D=Function.call.bind(Object.prototype.hasOwnProperty),E=function(){};E=function(O){var C="Warning: "+O;typeof console!="undefined"&&console.error(C);try{throw new Error(C)}catch(_){}},m.exports=function(O,C){function _(le){var re=le&&(V&&le[V]||le[ne]);if(typeof re=="function")return re}function a(le,re){return le===re?le!==0||1/le==1/re:le!==le&&re!==re}function l(le){this.message=le,this.stack=""}function P(le){function re(ce,de,be,pe,we,xe,Ue){if(pe=pe||ae,xe=xe||be,Ue!==v){if(C){var De=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw De.name="Invariant Violation",De}if(typeof console!="undefined"){var _e=pe+":"+be;!$[_e]&&oe<3&&(E("You are manually calling a React.PropTypes validation function for the `"+xe+"` prop on `"+pe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),$[_e]=!0,oe++)}}return de[be]==null?ce?new l(de[be]===null?"The "+we+" `"+xe+"` is marked as required in `"+pe+"`, but its value is `null`.":"The "+we+" `"+xe+"` is marked as required in `"+pe+"`, but its value is `undefined`."):null:le(de,be,pe,we,xe)}var $={},oe=0,se=re.bind(null,!1);return se.isRequired=re.bind(null,!0),se}function S(le){function re($,oe,se,ce,de,be){var pe=$[oe];return Q(pe)!==le?new l("Invalid "+ce+" `"+de+"` of type `"+te(pe)+"` supplied to `"+se+"`, expected `"+le+"`."):null}return P(re)}function M(le){function re($,oe,se,ce,de){if(typeof le!="function")return new l("Property `"+de+"` of component `"+se+"` has invalid PropType notation inside arrayOf.");var be=$[oe];if(!Array.isArray(be))return new l("Invalid "+ce+" `"+de+"` of type `"+Q(be)+"` supplied to `"+se+"`, expected an array.");for(var pe=0;pe<be.length;pe++){var we=le(be,pe,se,ce,de+"["+pe+"]",v);if(we instanceof Error)return we}return null}return P(re)}function R(le){function re($,oe,se,ce,de){if(!($[oe]instanceof le)){var be=le.name||ae;return new l("Invalid "+ce+" `"+de+"` of type `"+L($[oe])+"` supplied to `"+se+"`, expected instance of `"+be+"`.")}return null}return P(re)}function N(le){function re($,oe,se,ce,de){for(var be=$[oe],pe=0;pe<le.length;pe++)if(a(be,le[pe]))return null;var we=JSON.stringify(le,function(xe,Ue){return te(Ue)==="symbol"?String(Ue):Ue});return new l("Invalid "+ce+" `"+de+"` of value `"+String(be)+"` supplied to `"+se+"`, expected one of "+we+".")}return Array.isArray(le)?P(re):(E(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),g)}function T(le){function re($,oe,se,ce,de){if(typeof le!="function")return new l("Property `"+de+"` of component `"+se+"` has invalid PropType notation inside objectOf.");var be=$[oe],pe=Q(be);if(pe!=="object")return new l("Invalid "+ce+" `"+de+"` of type `"+pe+"` supplied to `"+se+"`, expected an object.");for(var we in be)if(D(be,we)){var xe=le(be,we,se,ce,de+"."+we,v);if(xe instanceof Error)return xe}return null}return P(re)}function A(le){function re(se,ce,de,be,pe){for(var we=0;we<le.length;we++)if((0,le[we])(se,ce,de,be,pe,v)==null)return null;return new l("Invalid "+be+" `"+pe+"` supplied to `"+de+"`.")}if(!Array.isArray(le))return E("Invalid argument supplied to oneOfType, expected an instance of array."),g;for(var $=0;$<le.length;$++){var oe=le[$];if(typeof oe!="function")return E("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ee(oe)+" at index "+$+"."),g}return P(re)}function F(le){function re($,oe,se,ce,de){var be=$[oe],pe=Q(be);if(pe!=="object")return new l("Invalid "+ce+" `"+de+"` of type `"+pe+"` supplied to `"+se+"`, expected `object`.");for(var we in le){var xe=le[we];if(xe){var Ue=xe(be,we,se,ce,de+"."+we,v);if(Ue)return Ue}}return null}return P(re)}function U(le){function re($,oe,se,ce,de){var be=$[oe],pe=Q(be);if(pe!=="object")return new l("Invalid "+ce+" `"+de+"` of type `"+pe+"` supplied to `"+se+"`, expected `object`.");var we=w({},$[oe],le);for(var xe in we){var Ue=le[xe];if(!Ue)return new l("Invalid "+ce+" `"+de+"` key `"+xe+"` supplied to `"+se+"`.\nBad object: "+JSON.stringify($[oe],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(le),null,"  "));var De=Ue(be,xe,se,ce,de+"."+xe,v);if(De)return De}return null}return P(re)}function G(le){switch(typeof le){case"number":case"string":case"undefined":return!0;case"boolean":return!le;case"object":if(Array.isArray(le))return le.every(G);if(le===null||O(le))return!0;var re=_(le);if(!re)return!1;var $,oe=re.call(le);if(re!==le.entries){for(;!($=oe.next()).done;)if(!G($.value))return!1}else for(;!($=oe.next()).done;){var se=$.value;if(se&&!G(se[1]))return!1}return!0;default:return!1}}function J(le,re){return le==="symbol"||!!re&&(re["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&re instanceof Symbol)}function Q(le){var re=typeof le;return Array.isArray(le)?"array":le instanceof RegExp?"object":J(re,le)?"symbol":re}function te(le){if(le==null)return""+le;var re=Q(le);if(re==="object"){if(le instanceof Date)return"date";if(le instanceof RegExp)return"regexp"}return re}function ee(le){var re=te(le);switch(re){case"array":case"object":return"an "+re;case"boolean":case"date":case"regexp":return"a "+re;default:return re}}function L(le){return le.constructor&&le.constructor.name?le.constructor.name:ae}var V=typeof Symbol=="function"&&Symbol.iterator,ne="@@iterator",ae="<<anonymous>>",fe={array:S("array"),bool:S("boolean"),func:S("function"),number:S("number"),object:S("object"),string:S("string"),symbol:S("symbol"),any:function(){return P(g)}(),arrayOf:M,element:function(){function le(re,$,oe,se,ce){var de=re[$];return O(de)?null:new l("Invalid "+se+" `"+ce+"` of type `"+Q(de)+"` supplied to `"+oe+"`, expected a single ReactElement.")}return P(le)}(),elementType:function(){function le(re,$,oe,se,ce){var de=re[$];return y.isValidElementType(de)?null:new l("Invalid "+se+" `"+ce+"` of type `"+Q(de)+"` supplied to `"+oe+"`, expected a single ReactElement type.")}return P(le)}(),instanceOf:R,node:function(){function le(re,$,oe,se,ce){return G(re[$])?null:new l("Invalid "+se+" `"+ce+"` supplied to `"+oe+"`, expected a ReactNode.")}return P(le)}(),objectOf:T,oneOf:N,oneOfType:A,shape:F,exact:U};return l.prototype=Error.prototype,fe.checkPropTypes=b,fe.resetWarningCache=b.resetWarningCache,fe.PropTypes=fe,fe}},function(m,d,u){"use strict";function g(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;m.exports=function(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var D={},E=0;E<10;E++)D["_"+String.fromCharCode(E)]=E;if(Object.getOwnPropertyNames(D).map(function(C){return D[C]}).join("")!=="0123456789")return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(C){O[C]=C}),Object.keys(Object.assign({},O)).join("")==="abcdefghijklmnopqrst"}catch(C){return!1}}()?Object.assign:function(b,D){for(var E,O,C=g(b),_=1;_<arguments.length;_++){E=Object(arguments[_]);for(var a in E)w.call(E,a)&&(C[a]=E[a]);if(y){O=y(E);for(var l=0;l<O.length;l++)v.call(E,O[l])&&(C[O[l]]=E[O[l]])}}return C}},function(m,d,u){"use strict";function g(D,E,O,C,_){for(var a in D)if(b(D,a)){var l;try{if(typeof D[a]!="function"){var P=Error((C||"React class")+": "+O+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof D[a]+"`.");throw P.name="Invariant Violation",P}l=D[a](E,a,C,O,null,w)}catch(M){l=M}if(!l||l instanceof Error||y((C||"React class")+": type specification of "+O+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in v)){v[l.message]=!0;var S=_?_():"";y("Failed "+O+" type: "+l.message+(S!=null?S:""))}}}var y=function(){},w=u(5),v={},b=Function.call.bind(Object.prototype.hasOwnProperty);y=function(D){var E="Warning: "+D;typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(O){}},g.resetWarningCache=function(){v={}},m.exports=g},function(m,d,u){"use strict";function g(b,D){if(b==null)return{};var E,O,C=y(b,D);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);for(O=0;O<_.length;O++)E=_[O],D.indexOf(E)>=0||Object.prototype.propertyIsEnumerable.call(b,E)&&(C[E]=b[E])}return C}function y(b,D){if(b==null)return{};var E,O,C={},_=Object.keys(b);for(O=0;O<_.length;O++)E=_[O],D.indexOf(E)>=0||(C[E]=b[E]);return C}function w(b){var D=b.children,E=b.device,O=b.onChange,C=g(b,["children","device","onChange"]),_=Object(v.a)(C,E,O);return typeof D=="function"?D(_):_?D:null}d.a=w;var v=u(0)}])})},91036:(z,s,e)=>{const o=e(35106),m=e(22997),{klona:d}=e(23059),{isPlainObject:u}=e(10977),g=e(9996),y=e(79430),{parse:w}=e(50020),v=e(8575),b=["img","audio","video","picture","svg","object","map","iframe","embed"],D=["script","style"];function E(M,R){M&&Object.keys(M).forEach(function(N){R(M[N],N)})}function O(M,R){return{}.hasOwnProperty.call(M,R)}function C(M,R){const N=[];return E(M,function(T){R(T)&&N.push(T)}),N}function _(M){for(const R in M)if(O(M,R))return!1;return!0}function a(M){return M.map(function(R){if(!R.url)throw new Error("URL missing");return R.url+(R.w?` ${R.w}w`:"")+(R.h?` ${R.h}h`:"")+(R.d?` ${R.d}x`:"")}).join(", ")}z.exports=P;const l=/^[^\0\t\n\f\r /<=>]+$/;function P(M,R,N){let T="",A="";function F(xe,Ue){const De=this;this.tag=xe,this.attribs=Ue||{},this.tagPosition=T.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(V.length){const _e=V[V.length-1];_e.text+=De.text}},this.updateParentNodeMediaChildren=function(){V.length&&b.includes(this.tag)&&V[V.length-1].mediaChildren.push(this.tag)}}R?(R=Object.assign({},P.defaults,R),R.parser?R.parser=Object.assign({},S,R.parser):R.parser=S):(R=P.defaults,R.parser=S),D.forEach(function(xe){R.allowedTags&&R.allowedTags.indexOf(xe)>-1&&!R.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${xe}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const U=R.nonTextTags||["script","style","textarea","option"];let G,J;R.allowedAttributes&&(G={},J={},E(R.allowedAttributes,function(xe,Ue){G[Ue]=[];const De=[];xe.forEach(function(_e){typeof _e=="string"&&_e.indexOf("*")>=0?De.push(m(_e).replace(/\\\*/g,".*")):G[Ue].push(_e)}),J[Ue]=new RegExp("^("+De.join("|")+")$")}));const Q={};E(R.allowedClasses,function(xe,Ue){G&&(O(G,Ue)||(G[Ue]=[]),G[Ue].push("class")),Q[Ue]=xe});const te={};let ee;E(R.transformTags,function(xe,Ue){let De;typeof xe=="function"?De=xe:typeof xe=="string"&&(De=P.simpleTransform(xe)),Ue==="*"?ee=De:te[Ue]=De});let L,V,ne,ae,fe,le,re=!1;oe();const $=new o.Parser({onopentag:function(xe,Ue){if(R.enforceHtmlBoundary&&xe==="html"&&oe(),fe){le++;return}const De=new F(xe,Ue);V.push(De);let _e=!1;const ie=!!De.text;let ve;if(O(te,xe)&&(ve=te[xe](xe,Ue),De.attribs=Ue=ve.attribs,ve.text!==void 0&&(De.innerText=ve.text),xe!==ve.tagName&&(De.name=xe=ve.tagName,ae[L]=ve.tagName)),ee&&(ve=ee(xe,Ue),De.attribs=Ue=ve.attribs,xe!==ve.tagName&&(De.name=xe=ve.tagName,ae[L]=ve.tagName)),(R.allowedTags&&R.allowedTags.indexOf(xe)===-1||R.disallowedTagsMode==="recursiveEscape"&&!_(ne)||R.nestingLimit!=null&&L>=R.nestingLimit)&&(_e=!0,ne[L]=!0,R.disallowedTagsMode==="discard"&&U.indexOf(xe)!==-1&&(fe=!0,le=1),ne[L]=!0),L++,_e){if(R.disallowedTagsMode==="discard")return;A=T,T=""}T+="<"+xe,(!G||O(G,xe)||G["*"])&&E(Ue,function(he,Le){if(!l.test(Le)){delete De.attribs[Le];return}let He,ht=!1;if(!G||O(G,xe)&&G[xe].indexOf(Le)!==-1||G["*"]&&G["*"].indexOf(Le)!==-1||O(J,xe)&&J[xe].test(Le)||J["*"]&&J["*"].test(Le))ht=!0;else if(G&&G[xe]){for(const bt of G[xe])if(u(bt)&&bt.name&&bt.name===Le){ht=!0;let Tt="";if(bt.multiple===!0){const Fe=he.split(" ");for(const nt of Fe)bt.values.indexOf(nt)!==-1&&(Tt===""?Tt=nt:Tt+=" "+nt)}else bt.values.indexOf(he)>=0&&(Tt=he);he=Tt}}if(ht){if(R.allowedSchemesAppliedToAttributes.indexOf(Le)!==-1&&ce(xe,he)){delete De.attribs[Le];return}if(xe==="iframe"&&Le==="src"){let bt=!0;try{if(He=v.parse(he,!1,!0),He&&He.host===null&&He.protocol===null)bt=O(R,"allowIframeRelativeUrls")?R.allowIframeRelativeUrls:!R.allowedIframeHostnames&&!R.allowedIframeDomains;else if(R.allowedIframeHostnames||R.allowedIframeDomains){const Fe=(R.allowedIframeHostnames||[]).find(function(ft){return ft===He.hostname}),nt=(R.allowedIframeDomains||[]).find(function(ft){return He.hostname===ft||He.hostname.endsWith(`.${ft}`)});bt=Fe||nt}}catch(Tt){bt=!1}if(!bt){delete De.attribs[Le];return}}if(Le==="srcset")try{if(He=y(he),He.forEach(function(bt){ce("srcset",bt.url)&&(bt.evil=!0)}),He=C(He,function(bt){return!bt.evil}),He.length)he=a(C(He,function(bt){return!bt.evil})),De.attribs[Le]=he;else{delete De.attribs[Le];return}}catch(bt){delete De.attribs[Le];return}if(Le==="class"){const bt=Q[xe],Tt=Q["*"];if(bt&&Tt?he=we(he,g(bt,Tt)):he=we(he,bt||Tt),!he.length){delete De.attribs[Le];return}}if(Le==="style")try{const bt=w(xe+" {"+he+"}"),Tt=de(bt,R.allowedStyles);if(he=be(Tt),he.length===0){delete De.attribs[Le];return}}catch(bt){delete De.attribs[Le];return}T+=" "+Le,he&&he.length&&(T+='="'+se(he,!0)+'"')}else delete De.attribs[Le]}),R.selfClosing.indexOf(xe)!==-1?T+=" />":(T+=">",De.innerText&&!ie&&!R.textFilter&&(T+=se(De.innerText),re=!0)),_e&&(T=A+se(T),A="")},ontext:function(xe){if(fe)return;const Ue=V[V.length-1];let De;if(Ue&&(De=Ue.tag,xe=Ue.innerText!==void 0?Ue.innerText:xe),R.disallowedTagsMode==="discard"&&(De==="script"||De==="style"))T+=xe;else{const _e=se(xe,!1);R.textFilter&&!re?T+=R.textFilter(_e,De):re||(T+=_e)}if(V.length){const _e=V[V.length-1];_e.text+=xe}},onclosetag:function(xe){if(fe)if(le--,!le)fe=!1;else return;const Ue=V.pop();if(!Ue)return;fe=R.enforceHtmlBoundary?xe==="html":!1,L--;const De=ne[L];if(De){if(delete ne[L],R.disallowedTagsMode==="discard"){Ue.updateParentNodeText();return}A=T,T=""}if(ae[L]&&(xe=ae[L],delete ae[L]),R.exclusiveFilter&&R.exclusiveFilter(Ue)){T=T.substr(0,Ue.tagPosition);return}if(Ue.updateParentNodeMediaChildren(),Ue.updateParentNodeText(),R.selfClosing.indexOf(xe)!==-1){De&&(T=A,A="");return}T+="</"+xe+">",De&&(T=A+se(T),A="")}},R.parser);return $.write(M),$.end(),T;function oe(){T="",L=0,V=[],ne={},ae={},fe=!1,le=0}function se(xe,Ue){return typeof xe!="string"&&(xe=xe+""),R.parser.decodeEntities&&(xe=xe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ue&&(xe=xe.replace(/"/g,"&quot;"))),xe=xe.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ue&&(xe=xe.replace(/"/g,"&quot;")),xe}function ce(xe,Ue){Ue=Ue.replace(/[\x00-\x20]+/g,""),Ue=Ue.replace(/<!--.*?-->/g,"");const De=Ue.match(/^([a-zA-Z]+):/);if(!De)return Ue.match(/^[/\\]{2}/)?!R.allowProtocolRelative:!1;const _e=De[1].toLowerCase();return O(R.allowedSchemesByTag,xe)?R.allowedSchemesByTag[xe].indexOf(_e)===-1:!R.allowedSchemes||R.allowedSchemes.indexOf(_e)===-1}function de(xe,Ue){if(!Ue)return xe;const De=d(xe),_e=xe.nodes[0];let ie;return Ue[_e.selector]&&Ue["*"]?ie=g(Ue[_e.selector],Ue["*"]):ie=Ue[_e.selector]||Ue["*"],ie&&(De.nodes[0].nodes=_e.nodes.reduce(pe(ie),[])),De}function be(xe){return xe.nodes[0].nodes.reduce(function(Ue,De){return Ue.push(De.prop+":"+De.value),Ue},[]).join(";")}function pe(xe){return function(Ue,De){return O(xe,De.prop)&&xe[De.prop].some(function(ie){return ie.test(De.value)})&&Ue.push(De),Ue}}function we(xe,Ue){return Ue?(xe=xe.split(/\s+/),xe.filter(function(De){return Ue.indexOf(De)!==-1}).join(" ")):xe}}const S={decodeEntities:!0};P.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},P.simpleTransform=function(M,R,N){return N=N===void 0?!0:N,R=R||{},function(T,A){let F;if(N)for(F in R)A[F]=R[F];else A=R;return{tagName:M,attribs:A}}}},22997:z=>{"use strict";z.exports=s=>{if(typeof s!="string")throw new TypeError("Expected a string");return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(z,s,e){"use strict";var o=this&&this.__extends||function(){var g=function(y,w){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var D in b)b.hasOwnProperty(D)&&(v[D]=b[D])},g(y,w)};return function(y,w){g(y,w);function v(){this.constructor=y}y.prototype=w===null?Object.create(w):(v.prototype=w.prototype,new v)}}(),m=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(s,"__esModule",{value:!0});var d=m(e(90819)),u=function(g){o(y,g);function y(w){w===void 0&&(w={});var v=g.call(this,function(b){for(var D,E=[],O=1;O<arguments.length;O++)E[O-1]=arguments[O];v.events.push([b].concat(E)),v._cbs[b]&&(D=v._cbs)[b].apply(D,E)})||this;return v._cbs=w,v.events=[],v}return y.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},y.prototype.restart=function(){var w;this._cbs.onreset&&this._cbs.onreset();for(var v=0;v<this.events.length;v++){var b=this.events[v],D=b[0],E=b.slice(1);this._cbs[D]&&(w=this._cbs)[D].apply(w,E)}},y}(d.default);s.CollectingHandler=u},57613:function(z,s,e){"use strict";var o=this&&this.__extends||function(){var l=function(P,S){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var N in R)R.hasOwnProperty(N)&&(M[N]=R[N])},l(P,S)};return function(P,S){l(P,S);function M(){this.constructor=P}P.prototype=S===null?Object.create(S):(M.prototype=S.prototype,new M)}}(),m=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},d=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var P={};if(l!=null)for(var S in l)Object.hasOwnProperty.call(l,S)&&(P[S]=l[S]);return P.default=l,P};Object.defineProperty(s,"__esModule",{value:!0});var u=m(e(47915)),g=d(e(89432)),y=e(16666),w=function(l){o(P,l);function P(S,M){var R=this;return typeof S=="object"&&S!==null&&(S=void 0,M=S),R=l.call(this,S,M)||this,R}return P.prototype.onend=function(){var S={},M=b(C,this.dom);if(M)if(M.name==="feed"){var R=M.children;S.type="atom",O(S,"id","id",R),O(S,"title","title",R);var N=E("href",b("link",R));N&&(S.link=N),O(S,"description","subtitle",R);var T=D("updated",R);T&&(S.updated=new Date(T)),O(S,"author","email",R,!0),S.items=v("entry",R).map(function(A){var F={},U=A.children;O(F,"id","id",U),O(F,"title","title",U);var G=E("href",b("link",U));G&&(F.link=G);var J=D("summary",U)||D("content",U);J&&(F.description=J);var Q=D("updated",U);return Q&&(F.pubDate=new Date(Q)),F})}else{var R=b("channel",M.children).children;S.type=M.name.substr(0,3),S.id="",O(S,"title","title",R),O(S,"link","link",R),O(S,"description","description",R);var T=D("lastBuildDate",R);T&&(S.updated=new Date(T)),O(S,"author","managingEditor",R,!0),S.items=v("item",M.children).map(function(U){var G={},J=U.children;O(G,"id","guid",J),O(G,"title","title",J),O(G,"link","link",J),O(G,"description","description",J);var Q=D("pubDate",J);return Q&&(G.pubDate=new Date(Q)),G})}this.feed=S,this.handleCallback(M?null:Error("couldn't find root of feed"))},P}(u.default);s.FeedHandler=w;function v(l,P){return g.getElementsByTagName(l,P,!0)}function b(l,P){return g.getElementsByTagName(l,P,!0,1)[0]}function D(l,P,S){return S===void 0&&(S=!1),g.getText(g.getElementsByTagName(l,P,S,1)).trim()}function E(l,P){if(!P)return null;var S=P.attribs;return S[l]}function O(l,P,S,M,R){R===void 0&&(R=!1);var N=D(S,M,R);N&&(l[P]=N)}function C(l){return l==="rss"||l==="feed"||l==="rdf:RDF"}var _={xmlMode:!0};function a(l,P){P===void 0&&(P=_);var S=new w(P);return new y.Parser(S,P).end(l),S.feed}s.parseFeed=a},90819:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=function(){function o(m){this._func=m}return o.prototype.onattribute=function(m,d){this._func("onattribute",m,d)},o.prototype.oncdatastart=function(){this._func("oncdatastart")},o.prototype.oncdataend=function(){this._func("oncdataend")},o.prototype.ontext=function(m){this._func("ontext",m)},o.prototype.onprocessinginstruction=function(m,d){this._func("onprocessinginstruction",m,d)},o.prototype.oncomment=function(m){this._func("oncomment",m)},o.prototype.oncommentend=function(){this._func("oncommentend")},o.prototype.onclosetag=function(m){this._func("onclosetag",m)},o.prototype.onopentag=function(m,d){this._func("onopentag",m,d)},o.prototype.onopentagname=function(m){this._func("onopentagname",m)},o.prototype.onerror=function(m){this._func("onerror",m)},o.prototype.onend=function(){this._func("onend")},o.prototype.onparserinit=function(m){this._func("onparserinit",m)},o.prototype.onreset=function(){this._func("onreset")},o}();s.default=e},16666:function(z,s,e){"use strict";var o=this&&this.__extends||function(){var C=function(_,a){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,P){l.__proto__=P}||function(l,P){for(var S in P)P.hasOwnProperty(S)&&(l[S]=P[S])},C(_,a)};return function(_,a){C(_,a);function l(){this.constructor=_}_.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),m=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0});var d=m(e(10034)),u=e(17187),g=new Set(["input","option","optgroup","select","button","datalist","textarea"]),y=new Set(["p"]),w={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:y,h1:y,h2:y,h3:y,h4:y,h5:y,h6:y,select:g,input:g,output:g,button:g,datalist:g,textarea:g,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:y,article:y,aside:y,blockquote:y,details:y,div:y,dl:y,fieldset:y,figcaption:y,figure:y,footer:y,form:y,header:y,hr:y,main:y,nav:y,ol:y,pre:y,section:y,table:y,ul:y,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},v=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),b=new Set(["math","svg"]),D=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),E=/\s|\//,O=function(C){o(_,C);function _(a,l){var P=C.call(this)||this;return P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P.parseChunk=_.prototype.write,P.done=_.prototype.end,P._options=l||{},P._cbs=a||{},P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P._lowerCaseTagNames="lowerCaseTags"in P._options?!!P._options.lowerCaseTags:!P._options.xmlMode,P._lowerCaseAttributeNames="lowerCaseAttributeNames"in P._options?!!P._options.lowerCaseAttributeNames:!P._options.xmlMode,P._tokenizer=new(P._options.Tokenizer||d.default)(P._options,P),P._cbs.onparserinit&&P._cbs.onparserinit(P),P}return _.prototype._updatePosition=function(a){this.endIndex===null?this._tokenizer._sectionStart<=a?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-a:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},_.prototype.ontext=function(a){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(a)},_.prototype.onopentagname=function(a){if(this._lowerCaseTagNames&&(a=a.toLowerCase()),this._tagname=a,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(w,a))for(var l=void 0;w[a].has(l=this._stack[this._stack.length-1]);this.onclosetag(l));(this._options.xmlMode||!v.has(a))&&(this._stack.push(a),b.has(a)?this._foreignContext.push(!0):D.has(a)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(a),this._cbs.onopentag&&(this._attribs={})},_.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&v.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},_.prototype.onclosetag=function(a){if(this._updatePosition(1),this._lowerCaseTagNames&&(a=a.toLowerCase()),(b.has(a)||D.has(a))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!v.has(a))){var l=this._stack.lastIndexOf(a);if(l!==-1)if(this._cbs.onclosetag)for(l=this._stack.length-l;l--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=l;else a==="p"&&!this._options.xmlMode&&(this.onopentagname(a),this._closeCurrentTag())}else!this._options.xmlMode&&(a==="br"||a==="p")&&(this.onopentagname(a),this._closeCurrentTag())},_.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},_.prototype._closeCurrentTag=function(){var a=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===a&&(this._cbs.onclosetag&&this._cbs.onclosetag(a),this._stack.pop())},_.prototype.onattribname=function(a){this._lowerCaseAttributeNames&&(a=a.toLowerCase()),this._attribname=a},_.prototype.onattribdata=function(a){this._attribvalue+=a},_.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},_.prototype._getInstructionName=function(a){var l=a.search(E),P=l<0?a:a.substr(0,l);return this._lowerCaseTagNames&&(P=P.toLowerCase()),P},_.prototype.ondeclaration=function(a){if(this._cbs.onprocessinginstruction){var l=this._getInstructionName(a);this._cbs.onprocessinginstruction("!"+l,"!"+a)}},_.prototype.onprocessinginstruction=function(a){if(this._cbs.onprocessinginstruction){var l=this._getInstructionName(a);this._cbs.onprocessinginstruction("?"+l,"?"+a)}},_.prototype.oncomment=function(a){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(a),this._cbs.oncommentend&&this._cbs.oncommentend()},_.prototype.oncdata=function(a){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(a),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+a+"]]")},_.prototype.onerror=function(a){this._cbs.onerror&&this._cbs.onerror(a)},_.prototype.onend=function(){if(this._cbs.onclosetag)for(var a=this._stack.length;a>0;this._cbs.onclosetag(this._stack[--a]));this._cbs.onend&&this._cbs.onend()},_.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},_.prototype.parseComplete=function(a){this.reset(),this.end(a)},_.prototype.write=function(a){this._tokenizer.write(a)},_.prototype.end=function(a){this._tokenizer.end(a)},_.prototype.pause=function(){this._tokenizer.pause()},_.prototype.resume=function(){this._tokenizer.resume()},_}(u.EventEmitter);s.Parser=O},10034:function(z,s,e){"use strict";var o=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(s,"__esModule",{value:!0});var m=o(e(26)),d=o(e(59323)),u=o(e(29591)),g=o(e(2586));function y(L){return L===" "||L===`
`||L==="	"||L==="\f"||L==="\r"}function w(L,V,ne){var ae=L.toLowerCase();return L===ae?function(fe,le){le===ae?fe._state=V:(fe._state=ne,fe._index--)}:function(fe,le){le===ae||le===L?fe._state=V:(fe._state=ne,fe._index--)}}function v(L,V){var ne=L.toLowerCase();return function(ae,fe){fe===ne||fe===L?ae._state=V:(ae._state=3,ae._index--)}}var b=w("C",23,16),D=w("D",24,16),E=w("A",25,16),O=w("T",26,16),C=w("A",27,16),_=v("R",34),a=v("I",35),l=v("P",36),P=v("T",37),S=w("R",39,1),M=w("I",40,1),R=w("P",41,1),N=w("T",42,1),T=v("Y",44),A=v("L",45),F=v("E",46),U=w("Y",48,1),G=w("L",49,1),J=w("E",50,1),Q=w("#",52,53),te=w("X",55,54),ee=function(){function L(V,ne){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=ne,this._xmlMode=!!(V&&V.xmlMode),this._decodeEntities=!!(V&&V.decodeEntities)}return L.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},L.prototype._stateText=function(V){V==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&V==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeTagName=function(V){V==="/"?this._state=5:V==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):V===">"||this._special!==1||y(V)?this._state=1:V==="!"?(this._state=15,this._sectionStart=this._index+1):V==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(V==="s"||V==="S")?31:3,this._sectionStart=this._index)},L.prototype._stateInTagName=function(V){(V==="/"||V===">"||y(V))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},L.prototype._stateBeforeClosingTagName=function(V){y(V)||(V===">"?this._state=1:this._special!==1?V==="s"||V==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},L.prototype._stateInClosingTagName=function(V){(V===">"||y(V))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},L.prototype._stateAfterClosingTagName=function(V){V===">"&&(this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeAttributeName=function(V){V===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):V==="/"?this._state=4:y(V)||(this._state=9,this._sectionStart=this._index)},L.prototype._stateInSelfClosingTag=function(V){V===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):y(V)||(this._state=8,this._index--)},L.prototype._stateInAttributeName=function(V){(V==="="||V==="/"||V===">"||y(V))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},L.prototype._stateAfterAttributeName=function(V){V==="="?this._state=11:V==="/"||V===">"?(this._cbs.onattribend(),this._state=8,this._index--):y(V)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},L.prototype._stateBeforeAttributeValue=function(V){V==='"'?(this._state=12,this._sectionStart=this._index+1):V==="'"?(this._state=13,this._sectionStart=this._index+1):y(V)||(this._state=14,this._sectionStart=this._index,this._index--)},L.prototype._stateInAttributeValueDoubleQuotes=function(V){V==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueSingleQuotes=function(V){V==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueNoQuotes=function(V){y(V)||V===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&V==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeDeclaration=function(V){this._state=V==="["?22:V==="-"?18:16},L.prototype._stateInDeclaration=function(V){V===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateInProcessingInstruction=function(V){V===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeComment=function(V){V==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},L.prototype._stateInComment=function(V){V==="-"&&(this._state=20)},L.prototype._stateAfterComment1=function(V){V==="-"?this._state=21:this._state=19},L.prototype._stateAfterComment2=function(V){V===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):V!=="-"&&(this._state=19)},L.prototype._stateBeforeCdata6=function(V){V==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},L.prototype._stateInCdata=function(V){V==="]"&&(this._state=29)},L.prototype._stateAfterCdata1=function(V){V==="]"?this._state=30:this._state=28},L.prototype._stateAfterCdata2=function(V){V===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):V!=="]"&&(this._state=28)},L.prototype._stateBeforeSpecial=function(V){V==="c"||V==="C"?this._state=33:V==="t"||V==="T"?this._state=43:(this._state=3,this._index--)},L.prototype._stateBeforeSpecialEnd=function(V){this._special===2&&(V==="c"||V==="C")?this._state=38:this._special===3&&(V==="t"||V==="T")?this._state=47:this._state=1},L.prototype._stateBeforeScript5=function(V){(V==="/"||V===">"||y(V))&&(this._special=2),this._state=3,this._index--},L.prototype._stateAfterScript5=function(V){V===">"||y(V)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},L.prototype._stateBeforeStyle4=function(V){(V==="/"||V===">"||y(V))&&(this._special=3),this._state=3,this._index--},L.prototype._stateAfterStyle4=function(V){V===">"||y(V)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},L.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var V=this._buffer.substring(this._sectionStart+1,this._index),ne=this._xmlMode?g.default:d.default;Object.prototype.hasOwnProperty.call(ne,V)&&(this._emitPartial(ne[V]),this._sectionStart=this._index+1)}},L.prototype._parseLegacyEntity=function(){var V=this._sectionStart+1,ne=this._index-V;for(ne>6&&(ne=6);ne>=2;){var ae=this._buffer.substr(V,ne);if(Object.prototype.hasOwnProperty.call(u.default,ae)){this._emitPartial(u.default[ae]),this._sectionStart+=ne+1;return}else ne--}},L.prototype._stateInNamedEntity=function(V){V===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(V<"a"||V>"z")&&(V<"A"||V>"Z")&&(V<"0"||V>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?V!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},L.prototype._decodeNumericEntity=function(V,ne){var ae=this._sectionStart+V;if(ae!==this._index){var fe=this._buffer.substring(ae,this._index),le=parseInt(fe,ne);this._emitPartial(m.default(le)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},L.prototype._stateInNumericEntity=function(V){V===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(V<"0"||V>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},L.prototype._stateInHexEntity=function(V){V===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(V<"a"||V>"f")&&(V<"A"||V>"F")&&(V<"0"||V>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},L.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},L.prototype.write=function(V){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=V,this._parse()},L.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var V=this._buffer.charAt(this._index);this._state===1?this._stateText(V):this._state===12?this._stateInAttributeValueDoubleQuotes(V):this._state===9?this._stateInAttributeName(V):this._state===19?this._stateInComment(V):this._state===8?this._stateBeforeAttributeName(V):this._state===3?this._stateInTagName(V):this._state===6?this._stateInClosingTagName(V):this._state===2?this._stateBeforeTagName(V):this._state===10?this._stateAfterAttributeName(V):this._state===13?this._stateInAttributeValueSingleQuotes(V):this._state===11?this._stateBeforeAttributeValue(V):this._state===5?this._stateBeforeClosingTagName(V):this._state===7?this._stateAfterClosingTagName(V):this._state===31?this._stateBeforeSpecial(V):this._state===20?this._stateAfterComment1(V):this._state===14?this._stateInAttributeValueNoQuotes(V):this._state===4?this._stateInSelfClosingTag(V):this._state===16?this._stateInDeclaration(V):this._state===15?this._stateBeforeDeclaration(V):this._state===21?this._stateAfterComment2(V):this._state===18?this._stateBeforeComment(V):this._state===32?this._stateBeforeSpecialEnd(V):this._state===38?S(this,V):this._state===39?M(this,V):this._state===40?R(this,V):this._state===33?_(this,V):this._state===34?a(this,V):this._state===35?l(this,V):this._state===36?P(this,V):this._state===37?this._stateBeforeScript5(V):this._state===41?N(this,V):this._state===42?this._stateAfterScript5(V):this._state===43?T(this,V):this._state===28?this._stateInCdata(V):this._state===44?A(this,V):this._state===45?F(this,V):this._state===46?this._stateBeforeStyle4(V):this._state===47?U(this,V):this._state===48?G(this,V):this._state===49?J(this,V):this._state===50?this._stateAfterStyle4(V):this._state===17?this._stateInProcessingInstruction(V):this._state===53?this._stateInNamedEntity(V):this._state===22?b(this,V):this._state===51?Q(this,V):this._state===23?D(this,V):this._state===24?E(this,V):this._state===29?this._stateAfterCdata1(V):this._state===30?this._stateAfterCdata2(V):this._state===25?O(this,V):this._state===26?C(this,V):this._state===27?this._stateBeforeCdata6(V):this._state===55?this._stateInHexEntity(V):this._state===54?this._stateInNumericEntity(V):this._state===52?te(this,V):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},L.prototype.pause=function(){this._running=!1},L.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},L.prototype.end=function(V){this._ended&&this._cbs.onerror(Error(".end() after done!")),V&&this.write(V),this._ended=!0,this._running&&this._finish()},L.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},L.prototype._handleTrailingData=function(){var V=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(V):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(V):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(V)},L.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},L.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},L.prototype._emitToken=function(V){this._cbs[V](this._getSection()),this._sectionStart=-1},L.prototype._emitPartial=function(V){this._baseState!==1?this._cbs.onattribdata(V):this._cbs.ontext(V)},L}();s.default=ee},35106:function(z,s,e){"use strict";function o(E){for(var O in E)s.hasOwnProperty(O)||(s[O]=E[O])}var m=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var O={};if(E!=null)for(var C in E)Object.hasOwnProperty.call(E,C)&&(O[C]=E[C]);return O.default=E,O};Object.defineProperty(s,"__esModule",{value:!0});var d=e(16666);s.Parser=d.Parser;var u=e(47915);s.DomHandler=u.DomHandler,s.DefaultHandler=u.DomHandler;function g(E,O){var C=new u.DomHandler(void 0,O);return new d.Parser(C,O).end(E),C.dom}s.parseDOM=g;function y(E,O,C){var _=new u.DomHandler(E,O,C);return new d.Parser(_,O)}s.createDomStream=y;var w=e(10034);s.Tokenizer=w.default;var v=m(e(99960));s.ElementType=v,s.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},o(e(57613)),o(e(18036)),o(e(16691));var b=m(e(89432));s.DomUtils=b;var D=e(57613);s.RssHandler=D.FeedHandler},10977:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(m){return Object.prototype.toString.call(m)==="[object Object]"}function o(m){var d,u;return e(m)===!1?!1:(d=m.constructor,d===void 0?!0:(u=d.prototype,!(e(u)===!1||u.hasOwnProperty("isPrototypeOf")===!1)))}s.isPlainObject=o},37478:(z,s,e)=>{"use strict";var o=e(40210),m=e(21924),d=e(70631),u=o("%TypeError%"),g=o("%WeakMap%",!0),y=o("%Map%",!0),w=m("WeakMap.prototype.get",!0),v=m("WeakMap.prototype.set",!0),b=m("WeakMap.prototype.has",!0),D=m("Map.prototype.get",!0),E=m("Map.prototype.set",!0),O=m("Map.prototype.has",!0),C=function(P,S){for(var M=P,R;(R=M.next)!==null;M=R)if(R.key===S)return M.next=R.next,R.next=P.next,P.next=R,R},_=function(P,S){var M=C(P,S);return M&&M.value},a=function(P,S,M){var R=C(P,S);R?R.value=M:P.next={key:S,next:P.next,value:M}},l=function(P,S){return!!C(P,S)};z.exports=function(){var S,M,R,N={assert:function(T){if(!N.has(T))throw new u("Side channel does not contain "+d(T))},get:function(T){if(g&&T&&(typeof T=="object"||typeof T=="function")){if(S)return w(S,T)}else if(y){if(M)return D(M,T)}else if(R)return _(R,T)},has:function(T){if(g&&T&&(typeof T=="object"||typeof T=="function")){if(S)return b(S,T)}else if(y){if(M)return O(M,T)}else if(R)return l(R,T);return!1},set:function(T,A){g&&T&&(typeof T=="object"||typeof T=="function")?(S||(S=new g),v(S,T,A)):y?(M||(M=new y),E(M,T,A)):(R||(R={key:{},next:null}),a(R,T,A))}};return N}},79546:(z,s,e)=>{var o=e(62195),m=[e(39627),e(58855),e(45580),e(8728)],d=[];z.exports=o.createStore(m,d)},62195:(z,s,e)=>{var o=e(69078),m=o.slice,d=o.pluck,u=o.each,g=o.bind,y=o.create,w=o.isList,v=o.isFunction,b=o.isObject;z.exports={createStore:O};var D={version:"2.0.12",enabled:!1,get:function(C,_){var a=this.storage.read(this._namespacePrefix+C);return this._deserialize(a,_)},set:function(C,_){return _===void 0?this.remove(C):(this.storage.write(this._namespacePrefix+C,this._serialize(_)),_)},remove:function(C){this.storage.remove(this._namespacePrefix+C)},each:function(C){var _=this;this.storage.each(function(a,l){C.call(_,_._deserialize(a),(l||"").replace(_._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(C){return this._namespacePrefix=="__storejs_"+C+"_"},createStore:function(){return O.apply(this,arguments)},addPlugin:function(C){this._addPlugin(C)},namespace:function(C){return O(this.storage,this.plugins,C)}};function E(){var C=typeof console=="undefined"?null:console;if(C){var _=C.warn?C.warn:C.log;_.apply(C,arguments)}}function O(C,_,a){a||(a=""),C&&!w(C)&&(C=[C]),_&&!w(_)&&(_=[_]);var l=a?"__storejs_"+a+"_":"",P=a?new RegExp("^"+l):null,S=/^[a-zA-Z0-9_\-]*$/;if(!S.test(a))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var M={_namespacePrefix:l,_namespaceRegexp:P,_testStorage:function(N){try{var T="__storejs__test__";N.write(T,T);var A=N.read(T)===T;return N.remove(T),A}catch(F){return!1}},_assignPluginFnProp:function(N,T){var A=this[T];this[T]=function(){var U=m(arguments,0),G=this;function J(){if(A)return u(arguments,function(te,ee){U[ee]=te}),A.apply(G,U)}var Q=[J].concat(U);return N.apply(G,Q)}},_serialize:function(N){return JSON.stringify(N)},_deserialize:function(N,T){if(!N)return T;var A="";try{A=JSON.parse(N)}catch(F){A=N}return A!==void 0?A:T},_addStorage:function(N){this.enabled||this._testStorage(N)&&(this.storage=N,this.enabled=!0)},_addPlugin:function(N){var T=this;if(w(N)){u(N,function(U){T._addPlugin(U)});return}var A=d(this.plugins,function(U){return N===U});if(!A){if(this.plugins.push(N),!v(N))throw new Error("Plugins must be function values that return objects");var F=N.call(this);if(!b(F))throw new Error("Plugins must return an object of function properties");u(F,function(U,G){if(!v(U))throw new Error("Bad plugin property: "+G+" from plugin "+N.name+". Plugins should only return functions.");T._assignPluginFnProp(U,G)})}},addStorage:function(N){E("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(N)}},R=y(M,D,{plugins:[]});return R.raw={},u(R,function(N,T){v(N)&&(R.raw[T]=g(R,N))}),u(C,function(N){R._addStorage(N)}),u(_,function(N){R._addPlugin(N)}),R}},69078:(z,s,e)=>{var o=g(),m=y(),d=w(),u=typeof window!="undefined"?window:e.g;z.exports={assign:o,create:m,trim:d,bind:v,slice:b,each:D,map:E,pluck:O,isList:C,isFunction:_,isObject:a,Global:u};function g(){return Object.assign?Object.assign:function(P,S,M,R){for(var N=1;N<arguments.length;N++)D(Object(arguments[N]),function(T,A){P[A]=T});return P}}function y(){if(Object.create)return function(S,M,R,N){var T=b(arguments,1);return o.apply(this,[Object.create(S)].concat(T))};{let P=function(){};var l=P;return function(M,R,N,T){var A=b(arguments,1);return P.prototype=M,o.apply(this,[new P].concat(A))}}}function w(){return String.prototype.trim?function(P){return String.prototype.trim.call(P)}:function(P){return P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function v(l,P){return function(){return P.apply(l,Array.prototype.slice.call(arguments,0))}}function b(l,P){return Array.prototype.slice.call(l,P||0)}function D(l,P){O(l,function(S,M){return P(S,M),!1})}function E(l,P){var S=C(l)?[]:{};return O(l,function(M,R){return S[R]=P(M,R),!1}),S}function O(l,P){if(C(l)){for(var S=0;S<l.length;S++)if(P(l[S],S))return l[S]}else for(var M in l)if(l.hasOwnProperty(M)&&P(l[M],M))return l[M]}function C(l){return l!=null&&typeof l!="function"&&typeof l.length=="number"}function _(l){return l&&{}.toString.call(l)==="[object Function]"}function a(l){return l&&{}.toString.call(l)==="[object Object]"}},45580:(z,s,e)=>{var o=e(69078),m=o.Global,d=o.trim;z.exports={name:"cookieStorage",read:g,write:w,each:y,remove:v,clearAll:b};var u=m.document;function g(E){if(!E||!D(E))return null;var O="(?:^|.*;\\s*)"+escape(E).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(u.cookie.replace(new RegExp(O),"$1"))}function y(E){for(var O=u.cookie.split(/; ?/g),C=O.length-1;C>=0;C--)if(d(O[C])){var _=O[C].split("="),a=unescape(_[0]),l=unescape(_[1]);E(l,a)}}function w(E,O){E&&(u.cookie=escape(E)+"="+escape(O)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function v(E){!E||!D(E)||(u.cookie=escape(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function b(){y(function(E,O){v(O)})}function D(E){return new RegExp("(?:^|;\\s*)"+escape(E).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(u.cookie)}},39627:(z,s,e)=>{var o=e(69078),m=o.Global;z.exports={name:"localStorage",read:u,write:g,each:y,remove:w,clearAll:v};function d(){return m.localStorage}function u(b){return d().getItem(b)}function g(b,D){return d().setItem(b,D)}function y(b){for(var D=d().length-1;D>=0;D--){var E=d().key(D);b(u(E),E)}}function w(b){return d().removeItem(b)}function v(){return d().clear()}},8728:z=>{z.exports={name:"memoryStorage",read:e,write:o,each:m,remove:d,clearAll:u};var s={};function e(g){return s[g]}function o(g,y){s[g]=y}function m(g){for(var y in s)s.hasOwnProperty(y)&&g(s[y],y)}function d(g){delete s[g]}function u(g){s={}}},58855:(z,s,e)=>{var o=e(69078),m=o.Global;z.exports={name:"sessionStorage",read:u,write:g,each:y,remove:w,clearAll:v};function d(){return m.sessionStorage}function u(b){return d().getItem(b)}function g(b,D){return d().setItem(b,D)}function y(b){for(var D=d().length-1;D>=0;D--){var E=d().key(D);b(u(E),E)}}function w(b){return d().removeItem(b)}function v(){return d().clear()}},37903:z=>{"use strict";function s(y){return d(y)||m(y)||o(y)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(y,w){if(y){if(typeof y=="string")return u(y,w);var v=Object.prototype.toString.call(y).slice(8,-1);if(v==="Object"&&y.constructor&&(v=y.constructor.name),v==="Map"||v==="Set")return Array.from(y);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return u(y,w)}}function m(y){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(y))return Array.from(y)}function d(y){if(Array.isArray(y))return u(y)}function u(y,w){(w==null||w>y.length)&&(w=y.length);for(var v=0,b=new Array(w);v<w;v++)b[v]=y[v];return b}function g(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(y){g.prototype[y]=function(){for(var w=arguments.length,v=new Array(w),b=0;b<w;b++)v[b]=arguments[b];return this._defaults.push({fn:y,args:v}),this}}),g.prototype._setDefaults=function(y){this._defaults.forEach(function(w){y[w.fn].apply(y,s(w.args))})},z.exports=g},80569:(z,s,e)=>{"use strict";function o(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(A){return typeof A}:o=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o(N)}var m;typeof window!="undefined"?m=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),m=void 0):m=self;var d=e(98767),u=e(4445),g=e(80129),y=e(28899),w=e(54960),v=e(81097),b=e(37903);function D(){}z.exports=function(N,T){return typeof T=="function"?new s.Request("GET",N).end(T):arguments.length===1?new s.Request("GET",N):new s.Request(N,T)},s=z.exports;var E=s;s.Request=M,E.getXHR=function(){if(m.XMLHttpRequest&&(!m.location||m.location.protocol!=="file:"||!m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(N){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(N){}throw new Error("Browser-only version of superagent could not find XHR")};var O="".trim?function(N){return N.trim()}:function(N){return N.replace(/(^\s*|\s*$)/g,"")};function C(N){if(!w(N))return N;var T=[];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&_(T,A,N[A]);return T.join("&")}function _(N,T,A){if(A!==void 0){if(A===null){N.push(encodeURI(T));return}if(Array.isArray(A))A.forEach(function(U){_(N,T,U)});else if(w(A))for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&_(N,"".concat(T,"[").concat(F,"]"),A[F]);else N.push(encodeURI(T)+"="+encodeURIComponent(A))}}E.serializeObject=C;function a(N){for(var T={},A=N.split("&"),F,U,G=0,J=A.length;G<J;++G)F=A[G],U=F.indexOf("="),U===-1?T[decodeURIComponent(F)]="":T[decodeURIComponent(F.slice(0,U))]=decodeURIComponent(F.slice(U+1));return T}E.parseString=a,E.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},E.serialize={"application/x-www-form-urlencoded":g.stringify,"application/json":u},E.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse};function l(N){for(var T=N.split(/\r?\n/),A={},F,U,G,J,Q=0,te=T.length;Q<te;++Q)U=T[Q],F=U.indexOf(":"),F!==-1&&(G=U.slice(0,F).toLowerCase(),J=O(U.slice(F+1)),A[G]=J);return A}function P(N){return/[/+]json($|[^-\w])/i.test(N)}function S(N){this.req=N,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var T=this.xhr.status;T===1223&&(T=204),this._setStatusProperties(T),this.headers=l(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&N._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}v(S.prototype),S.prototype._parseBody=function(N){var T=E.parse[this.type];return this.req._parser?this.req._parser(this,N):(!T&&P(this.type)&&(T=E.parse["application/json"]),T&&N&&(N.length>0||N instanceof Object)?T(N):null)},S.prototype.toError=function(){var N=this.req,T=N.method,A=N.url,F="cannot ".concat(T," ").concat(A," (").concat(this.status,")"),U=new Error(F);return U.status=this.status,U.method=T,U.url=A,U},E.Response=S;function M(N,T){var A=this;this._query=this._query||[],this.method=N,this.url=T,this.header={},this._header={},this.on("end",function(){var F=null,U=null;try{U=new S(A)}catch(J){return F=new Error("Parser is unable to parse the response"),F.parse=!0,F.original=J,A.xhr?(F.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,F.status=A.xhr.status?A.xhr.status:null,F.statusCode=F.status):(F.rawResponse=null,F.status=null),A.callback(F)}A.emit("response",U);var G;try{A._isResponseOK(U)||(G=new Error(U.statusText||U.text||"Unsuccessful HTTP response"))}catch(J){G=J}G?(G.original=F,G.response=U,G.status=U.status,A.callback(G,U)):A.callback(null,U)})}d(M.prototype),y(M.prototype),M.prototype.type=function(N){return this.set("Content-Type",E.types[N]||N),this},M.prototype.accept=function(N){return this.set("Accept",E.types[N]||N),this},M.prototype.auth=function(N,T,A){arguments.length===1&&(T=""),o(T)==="object"&&T!==null&&(A=T,T=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var F=function(G){if(typeof btoa=="function")return btoa(G);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(N,T,A,F)},M.prototype.query=function(N){return typeof N!="string"&&(N=C(N)),N&&this._query.push(N),this},M.prototype.attach=function(N,T,A){if(T){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(N,T,A||T.name)}return this},M.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},M.prototype.callback=function(N,T){if(this._shouldRetry(N,T))return this._retry();var A=this._callback;this.clearTimeout(),N&&(this._maxRetries&&(N.retries=this._retries-1),this.emit("error",N)),A(N,T)},M.prototype.crossDomainError=function(){var N=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);N.crossDomain=!0,N.status=this.status,N.method=this.method,N.url=this.url,this.callback(N)},M.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},M.prototype.ca=M.prototype.agent,M.prototype.buffer=M.prototype.ca,M.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},M.prototype.pipe=M.prototype.write,M.prototype._isHost=function(N){return N&&o(N)==="object"&&!Array.isArray(N)&&Object.prototype.toString.call(N)!=="[object Object]"},M.prototype.end=function(N){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=N||D,this._finalizeQueryString(),this._end()},M.prototype._setUploadTimeout=function(){var N=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){N._timeoutError("Upload timeout of ",N._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},M.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var N=this;this.xhr=E.getXHR();var T=this.xhr,A=this._formData||this._data;this._setTimeouts(),T.onreadystatechange=function(){var Q=T.readyState;if(Q>=2&&N._responseTimeoutTimer&&clearTimeout(N._responseTimeoutTimer),Q===4){var te;try{te=T.status}catch(ee){te=0}if(!te)return N.timedout||N._aborted?void 0:N.crossDomainError();N.emit("end")}};var F=function(te,ee){ee.total>0&&(ee.percent=ee.loaded/ee.total*100,ee.percent===100&&clearTimeout(N._uploadTimeoutTimer)),ee.direction=te,N.emit("progress",ee)};if(this.hasListeners("progress"))try{T.addEventListener("progress",F.bind(null,"download")),T.upload&&T.upload.addEventListener("progress",F.bind(null,"upload"))}catch(Q){}T.upload&&this._setUploadTimeout();try{this.username&&this.password?T.open(this.method,this.url,!0,this.username,this.password):T.open(this.method,this.url,!0)}catch(Q){return this.callback(Q)}if(this._withCredentials&&(T.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var U=this._header["content-type"],G=this._serializer||E.serialize[U?U.split(";")[0]:""];!G&&P(U)&&(G=E.serialize["application/json"]),G&&(A=G(A))}for(var J in this.header)this.header[J]!==null&&Object.prototype.hasOwnProperty.call(this.header,J)&&T.setRequestHeader(J,this.header[J]);this._responseType&&(T.responseType=this._responseType),this.emit("request",this),T.send(typeof A=="undefined"?null:A)},E.agent=function(){return new b},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(N){b.prototype[N.toLowerCase()]=function(T,A){var F=new E.Request(N,T);return this._setDefaults(F),A&&F.end(A),F}}),b.prototype.del=b.prototype.delete,E.get=function(N,T,A){var F=E("GET",N);return typeof T=="function"&&(A=T,T=null),T&&F.query(T),A&&F.end(A),F},E.head=function(N,T,A){var F=E("HEAD",N);return typeof T=="function"&&(A=T,T=null),T&&F.query(T),A&&F.end(A),F},E.options=function(N,T,A){var F=E("OPTIONS",N);return typeof T=="function"&&(A=T,T=null),T&&F.send(T),A&&F.end(A),F};function R(N,T,A){var F=E("DELETE",N);return typeof T=="function"&&(A=T,T=null),T&&F.send(T),A&&F.end(A),F}E.del=R,E.delete=R,E.patch=function(N,T,A){var F=E("PATCH",N);return typeof T=="function"&&(A=T,T=null),T&&F.send(T),A&&F.end(A),F},E.post=function(N,T,A){var F=E("POST",N);return typeof T=="function"&&(A=T,T=null),T&&F.send(T),A&&F.end(A),F},E.put=function(N,T,A){var F=E("PUT",N);return typeof T=="function"&&(A=T,T=null),T&&F.send(T),A&&F.end(A),F}},54960:z=>{"use strict";function s(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(d){return typeof d}:s=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(o)}function e(o){return o!==null&&s(o)==="object"}z.exports=e},28899:(z,s,e)=>{"use strict";function o(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(b){return typeof b}:o=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o(w)}var m=e(54960);z.exports=d;function d(w){if(w)return u(w)}function u(w){for(var v in d.prototype)Object.prototype.hasOwnProperty.call(d.prototype,v)&&(w[v]=d.prototype[v]);return w}d.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},d.prototype.parse=function(w){return this._parser=w,this},d.prototype.responseType=function(w){return this._responseType=w,this},d.prototype.serialize=function(w){return this._serializer=w,this},d.prototype.timeout=function(w){if(!w||o(w)!=="object")return this._timeout=w,this._responseTimeout=0,this._uploadTimeout=0,this;for(var v in w)if(Object.prototype.hasOwnProperty.call(w,v))switch(v){case"deadline":this._timeout=w.deadline;break;case"response":this._responseTimeout=w.response;break;case"upload":this._uploadTimeout=w.upload;break;default:console.warn("Unknown timeout option",v)}return this},d.prototype.retry=function(w,v){return(arguments.length===0||w===!0)&&(w=1),w<=0&&(w=0),this._maxRetries=w,this._retries=0,this._retryCallback=v,this};var g=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),y=new Set([408,413,429,500,502,503,504,521,522,524]);d.prototype._shouldRetry=function(w,v){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var b=this._retryCallback(w,v);if(b===!0)return!0;if(b===!1)return!1}catch(D){console.error(D)}return!!(v&&v.status&&y.has(v.status)||w&&(w.code&&g.has(w.code)||w.timeout&&w.code==="ECONNABORTED"||w.crossDomain))},d.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},d.prototype.then=function(w,v){var b=this;if(!this._fullfilledPromise){var D=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(E,O){D.on("abort",function(){if(!(b._maxRetries&&b._maxRetries>b._retries)){if(b.timedout&&b.timedoutError){O(b.timedoutError);return}var C=new Error("Aborted");C.code="ABORTED",C.status=b.status,C.method=b.method,C.url=b.url,O(C)}}),D.end(function(C,_){C?O(C):E(_)})})}return this._fullfilledPromise.then(w,v)},d.prototype.catch=function(w){return this.then(void 0,w)},d.prototype.use=function(w){return w(this),this},d.prototype.ok=function(w){if(typeof w!="function")throw new Error("Callback required");return this._okCallback=w,this},d.prototype._isResponseOK=function(w){return w?this._okCallback?this._okCallback(w):w.status>=200&&w.status<300:!1},d.prototype.get=function(w){return this._header[w.toLowerCase()]},d.prototype.getHeader=d.prototype.get,d.prototype.set=function(w,v){if(m(w)){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&this.set(b,w[b]);return this}return this._header[w.toLowerCase()]=v,this.header[w]=v,this},d.prototype.unset=function(w){return delete this._header[w.toLowerCase()],delete this.header[w],this},d.prototype.field=function(w,v){if(w==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(m(w)){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&this.field(b,w[b]);return this}if(Array.isArray(v)){for(var D in v)Object.prototype.hasOwnProperty.call(v,D)&&this.field(w,v[D]);return this}if(v==null)throw new Error(".field(name, val) val can not be empty");return typeof v=="boolean"&&(v=String(v)),this._getFormData().append(w,v),this},d.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype._auth=function(w,v,b,D){switch(b.type){case"basic":this.set("Authorization","Basic ".concat(D("".concat(w,":").concat(v))));break;case"auto":this.username=w,this.password=v;break;case"bearer":this.set("Authorization","Bearer ".concat(w));break;default:break}return this},d.prototype.withCredentials=function(w){return w===void 0&&(w=!0),this._withCredentials=w,this},d.prototype.redirects=function(w){return this._maxRedirects=w,this},d.prototype.maxResponseSize=function(w){if(typeof w!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=w,this},d.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},d.prototype.send=function(w){var v=m(w),b=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(v&&!this._data)Array.isArray(w)?this._data=[]:this._isHost(w)||(this._data={});else if(w&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(v&&m(this._data))for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(this._data[D]=w[D]);else typeof w=="string"?(b||this.type("form"),b=this._header["content-type"],b&&(b=b.toLowerCase().trim()),b==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(w):w:this._data=(this._data||"")+w):this._data=w;return!v||this._isHost(w)?this:(b||this.type("json"),this)},d.prototype.sortQuery=function(w){return this._sort=typeof w=="undefined"?!0:w,this},d.prototype._finalizeQueryString=function(){var w=this._query.join("&");if(w&&(this.url+=(this.url.includes("?")?"&":"?")+w),this._query.length=0,this._sort){var v=this.url.indexOf("?");if(v>=0){var b=this.url.slice(v+1).split("&");typeof this._sort=="function"?b.sort(this._sort):b.sort(),this.url=this.url.slice(0,v)+"?"+b.join("&")}}},d.prototype._appendQueryString=function(){console.warn("Unsupported")},d.prototype._timeoutError=function(w,v,b){if(!this._aborted){var D=new Error("".concat(w+v,"ms exceeded"));D.timeout=v,D.code="ECONNABORTED",D.errno=b,this.timedout=!0,this.timedoutError=D,this.abort(),this.callback(D)}},d.prototype._setTimeouts=function(){var w=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){w._timeoutError("Timeout of ",w._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){w._timeoutError("Response timeout of ",w._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(z,s,e)=>{"use strict";var o=e(64506);z.exports=m;function m(u){if(u)return d(u)}function d(u){for(var g in m.prototype)Object.prototype.hasOwnProperty.call(m.prototype,g)&&(u[g]=m.prototype[g]);return u}m.prototype.get=function(u){return this.header[u.toLowerCase()]},m.prototype._setHeaderProperties=function(u){var g=u["content-type"]||"";this.type=o.type(g);var y=o.params(g);for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(this[w]=y[w]);this.links={};try{u.link&&(this.links=o.parseLinks(u.link))}catch(v){}},m.prototype._setStatusProperties=function(u){var g=u/100|0;this.statusCode=u,this.status=this.statusCode,this.statusType=g,this.info=g===1,this.ok=g===2,this.redirect=g===3,this.clientError=g===4,this.serverError=g===5,this.error=g===4||g===5?this.toError():!1,this.created=u===201,this.accepted=u===202,this.noContent=u===204,this.badRequest=u===400,this.unauthorized=u===401,this.notAcceptable=u===406,this.forbidden=u===403,this.notFound=u===404,this.unprocessableEntity=u===422}},64506:(z,s)=>{"use strict";function e(d,u){var g;if(typeof Symbol=="undefined"||d[Symbol.iterator]==null){if(Array.isArray(d)||(g=o(d))||u&&d&&typeof d.length=="number"){g&&(d=g);var y=0,w=function(){};return{s:w,n:function(){return y>=d.length?{done:!0}:{done:!1,value:d[y++]}},e:function(O){throw O},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,b=!1,D;return{s:function(){g=d[Symbol.iterator]()},n:function(){var O=g.next();return v=O.done,O},e:function(O){b=!0,D=O},f:function(){try{!v&&g.return!=null&&g.return()}finally{if(b)throw D}}}}function o(d,u){if(d){if(typeof d=="string")return m(d,u);var g=Object.prototype.toString.call(d).slice(8,-1);if(g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set")return Array.from(d);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return m(d,u)}}function m(d,u){(u==null||u>d.length)&&(u=d.length);for(var g=0,y=new Array(u);g<u;g++)y[g]=d[g];return y}s.type=function(d){return d.split(/ *; */).shift()},s.params=function(d){var u={},g=e(d.split(/ *; */)),y;try{for(g.s();!(y=g.n()).done;){var w=y.value,v=w.split(/ *= */),b=v.shift(),D=v.shift();b&&D&&(u[b]=D)}}catch(E){g.e(E)}finally{g.f()}return u},s.parseLinks=function(d){var u={},g=e(d.split(/ *, */)),y;try{for(g.s();!(y=g.n()).done;){var w=y.value,v=w.split(/ *; */),b=v[0].slice(1,-1),D=v[1].split(/ *= */)[1].slice(1,-1);u[D]=b}}catch(E){g.e(E)}finally{g.f()}return u},s.cleanHeader=function(d,u){return delete d["content-type"],delete d["content-length"],delete d["transfer-encoding"],delete d.host,u&&(delete d.authorization,delete d.cookie),d}},79253:(z,s,e)=>{"use strict";e.d(s,{ZP:()=>ko});function o(lt){if(lt==null)return window;if(lt.toString()!=="[object Window]"){var ct=lt.ownerDocument;return ct&&ct.defaultView||window}return lt}function m(lt){var ct=o(lt).Element;return lt instanceof ct||lt instanceof Element}function d(lt){var ct=o(lt).HTMLElement;return lt instanceof ct||lt instanceof HTMLElement}function u(lt){if(typeof ShadowRoot=="undefined")return!1;var ct=o(lt).ShadowRoot;return lt instanceof ct||lt instanceof ShadowRoot}var g=Math.max,y=Math.min,w=Math.round;function v(lt,ct){ct===void 0&&(ct=!1);var Ct=lt.getBoundingClientRect(),Gt=1,rn=1;if(d(lt)&&ct){var _n=lt.offsetHeight,bn=lt.offsetWidth;bn>0&&(Gt=w(Ct.width)/bn||1),_n>0&&(rn=w(Ct.height)/_n||1)}return{width:Ct.width/Gt,height:Ct.height/rn,top:Ct.top/rn,right:Ct.right/Gt,bottom:Ct.bottom/rn,left:Ct.left/Gt,x:Ct.left/Gt,y:Ct.top/rn}}function b(lt){var ct=o(lt),Ct=ct.pageXOffset,Gt=ct.pageYOffset;return{scrollLeft:Ct,scrollTop:Gt}}function D(lt){return{scrollLeft:lt.scrollLeft,scrollTop:lt.scrollTop}}function E(lt){return lt===o(lt)||!d(lt)?b(lt):D(lt)}function O(lt){return lt?(lt.nodeName||"").toLowerCase():null}function C(lt){return((m(lt)?lt.ownerDocument:lt.document)||window.document).documentElement}function _(lt){return v(C(lt)).left+b(lt).scrollLeft}function a(lt){return o(lt).getComputedStyle(lt)}function l(lt){var ct=a(lt),Ct=ct.overflow,Gt=ct.overflowX,rn=ct.overflowY;return/auto|scroll|overlay|hidden/.test(Ct+rn+Gt)}function P(lt){var ct=lt.getBoundingClientRect(),Ct=w(ct.width)/lt.offsetWidth||1,Gt=w(ct.height)/lt.offsetHeight||1;return Ct!==1||Gt!==1}function S(lt,ct,Ct){Ct===void 0&&(Ct=!1);var Gt=d(ct),rn=d(ct)&&P(ct),_n=C(ct),bn=v(lt,rn),An={scrollLeft:0,scrollTop:0},Un={x:0,y:0};return(Gt||!Gt&&!Ct)&&((O(ct)!=="body"||l(_n))&&(An=E(ct)),d(ct)?(Un=v(ct,!0),Un.x+=ct.clientLeft,Un.y+=ct.clientTop):_n&&(Un.x=_(_n))),{x:bn.left+An.scrollLeft-Un.x,y:bn.top+An.scrollTop-Un.y,width:bn.width,height:bn.height}}function M(lt){var ct=v(lt),Ct=lt.offsetWidth,Gt=lt.offsetHeight;return Math.abs(ct.width-Ct)<=1&&(Ct=ct.width),Math.abs(ct.height-Gt)<=1&&(Gt=ct.height),{x:lt.offsetLeft,y:lt.offsetTop,width:Ct,height:Gt}}function R(lt){return O(lt)==="html"?lt:lt.assignedSlot||lt.parentNode||(u(lt)?lt.host:null)||C(lt)}function N(lt){return["html","body","#document"].indexOf(O(lt))>=0?lt.ownerDocument.body:d(lt)&&l(lt)?lt:N(R(lt))}function T(lt,ct){var Ct;ct===void 0&&(ct=[]);var Gt=N(lt),rn=Gt===((Ct=lt.ownerDocument)==null?void 0:Ct.body),_n=o(Gt),bn=rn?[_n].concat(_n.visualViewport||[],l(Gt)?Gt:[]):Gt,An=ct.concat(bn);return rn?An:An.concat(T(R(bn)))}function A(lt){return["table","td","th"].indexOf(O(lt))>=0}function F(lt){return!d(lt)||a(lt).position==="fixed"?null:lt.offsetParent}function U(lt){var ct=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Ct=navigator.userAgent.indexOf("Trident")!==-1;if(Ct&&d(lt)){var Gt=a(lt);if(Gt.position==="fixed")return null}for(var rn=R(lt);d(rn)&&["html","body"].indexOf(O(rn))<0;){var _n=a(rn);if(_n.transform!=="none"||_n.perspective!=="none"||_n.contain==="paint"||["transform","perspective"].indexOf(_n.willChange)!==-1||ct&&_n.willChange==="filter"||ct&&_n.filter&&_n.filter!=="none")return rn;rn=rn.parentNode}return null}function G(lt){for(var ct=o(lt),Ct=F(lt);Ct&&A(Ct)&&a(Ct).position==="static";)Ct=F(Ct);return Ct&&(O(Ct)==="html"||O(Ct)==="body"&&a(Ct).position==="static")?ct:Ct||U(lt)||ct}var J="top",Q="bottom",te="right",ee="left",L="auto",V=[J,Q,te,ee],ne="start",ae="end",fe="clippingParents",le="viewport",re="popper",$="reference",oe=V.reduce(function(lt,ct){return lt.concat([ct+"-"+ne,ct+"-"+ae])},[]),se=[].concat(V,[L]).reduce(function(lt,ct){return lt.concat([ct,ct+"-"+ne,ct+"-"+ae])},[]),ce="beforeRead",de="read",be="afterRead",pe="beforeMain",we="main",xe="afterMain",Ue="beforeWrite",De="write",_e="afterWrite",ie=[ce,de,be,pe,we,xe,Ue,De,_e];function ve(lt){var ct=new Map,Ct=new Set,Gt=[];lt.forEach(function(_n){ct.set(_n.name,_n)});function rn(_n){Ct.add(_n.name);var bn=[].concat(_n.requires||[],_n.requiresIfExists||[]);bn.forEach(function(An){if(!Ct.has(An)){var Un=ct.get(An);Un&&rn(Un)}}),Gt.push(_n)}return lt.forEach(function(_n){Ct.has(_n.name)||rn(_n)}),Gt}function he(lt){var ct=ve(lt);return ie.reduce(function(Ct,Gt){return Ct.concat(ct.filter(function(rn){return rn.phase===Gt}))},[])}function Le(lt){var ct;return function(){return ct||(ct=new Promise(function(Ct){Promise.resolve().then(function(){ct=void 0,Ct(lt())})})),ct}}function He(lt){var ct=lt.reduce(function(Ct,Gt){var rn=Ct[Gt.name];return Ct[Gt.name]=rn?Object.assign({},rn,Gt,{options:Object.assign({},rn.options,Gt.options),data:Object.assign({},rn.data,Gt.data)}):Gt,Ct},{});return Object.keys(ct).map(function(Ct){return ct[Ct]})}var ht="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",bt="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Tt={placement:"bottom",modifiers:[],strategy:"absolute"};function Fe(){for(var lt=arguments.length,ct=new Array(lt),Ct=0;Ct<lt;Ct++)ct[Ct]=arguments[Ct];return!ct.some(function(Gt){return!(Gt&&typeof Gt.getBoundingClientRect=="function")})}function nt(lt){lt===void 0&&(lt={});var ct=lt,Ct=ct.defaultModifiers,Gt=Ct===void 0?[]:Ct,rn=ct.defaultOptions,_n=rn===void 0?Tt:rn;return function(An,Un,pr){pr===void 0&&(pr=_n);var Jn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tt,_n),modifiersData:{},elements:{reference:An,popper:Un},attributes:{},styles:{}},kr=[],Lr=!1,Ir={state:Jn,setOptions:function(ot){var Nt=typeof ot=="function"?ot(Jn.options):ot;vr(),Jn.options=Object.assign({},_n,Jn.options,Nt),Jn.scrollParents={reference:m(An)?T(An):An.contextElement?T(An.contextElement):[],popper:T(Un)};var Ht=he(He([].concat(Gt,Jn.options.modifiers)));if(Jn.orderedModifiers=Ht.filter(function(Ze){return Ze.enabled}),!1)var j,H,Z,ue,Ce,Ae,qe;return wr(),Ir.update()},forceUpdate:function(){if(!Lr){var ot=Jn.elements,Nt=ot.reference,Ht=ot.popper;if(Fe(Nt,Ht)){Jn.rects={reference:S(Nt,G(Ht),Jn.options.strategy==="fixed"),popper:M(Ht)},Jn.reset=!1,Jn.placement=Jn.options.placement,Jn.orderedModifiers.forEach(function(Ze){return Jn.modifiersData[Ze.name]=Object.assign({},Ze.data)});for(var j=0,H=0;H<Jn.orderedModifiers.length;H++){if(Jn.reset===!0){Jn.reset=!1,H=-1;continue}var Z=Jn.orderedModifiers[H],ue=Z.fn,Ce=Z.options,Ae=Ce===void 0?{}:Ce,qe=Z.name;typeof ue=="function"&&(Jn=ue({state:Jn,options:Ae,name:qe,instance:Ir})||Jn)}}}},update:Le(function(){return new Promise(function(Ee){Ir.forceUpdate(),Ee(Jn)})}),destroy:function(){vr(),Lr=!0}};if(!Fe(An,Un))return Ir;Ir.setOptions(pr).then(function(Ee){!Lr&&pr.onFirstUpdate&&pr.onFirstUpdate(Ee)});function wr(){Jn.orderedModifiers.forEach(function(Ee){var ot=Ee.name,Nt=Ee.options,Ht=Nt===void 0?{}:Nt,j=Ee.effect;if(typeof j=="function"){var H=j({state:Jn,name:ot,instance:Ir,options:Ht}),Z=function(){};kr.push(H||Z)}})}function vr(){kr.forEach(function(Ee){return Ee()}),kr=[]}return Ir}}var ft=null,Ye={passive:!0};function rt(lt){var ct=lt.state,Ct=lt.instance,Gt=lt.options,rn=Gt.scroll,_n=rn===void 0?!0:rn,bn=Gt.resize,An=bn===void 0?!0:bn,Un=o(ct.elements.popper),pr=[].concat(ct.scrollParents.reference,ct.scrollParents.popper);return _n&&pr.forEach(function(Jn){Jn.addEventListener("scroll",Ct.update,Ye)}),An&&Un.addEventListener("resize",Ct.update,Ye),function(){_n&&pr.forEach(function(Jn){Jn.removeEventListener("scroll",Ct.update,Ye)}),An&&Un.removeEventListener("resize",Ct.update,Ye)}}const $t={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rt,data:{}};function sn(lt){return lt.split("-")[0]}function gt(lt){return lt.split("-")[1]}function Ne(lt){return["top","bottom"].indexOf(lt)>=0?"x":"y"}function We(lt){var ct=lt.reference,Ct=lt.element,Gt=lt.placement,rn=Gt?sn(Gt):null,_n=Gt?gt(Gt):null,bn=ct.x+ct.width/2-Ct.width/2,An=ct.y+ct.height/2-Ct.height/2,Un;switch(rn){case J:Un={x:bn,y:ct.y-Ct.height};break;case Q:Un={x:bn,y:ct.y+ct.height};break;case te:Un={x:ct.x+ct.width,y:An};break;case ee:Un={x:ct.x-Ct.width,y:An};break;default:Un={x:ct.x,y:ct.y}}var pr=rn?Ne(rn):null;if(pr!=null){var Jn=pr==="y"?"height":"width";switch(_n){case ne:Un[pr]=Un[pr]-(ct[Jn]/2-Ct[Jn]/2);break;case ae:Un[pr]=Un[pr]+(ct[Jn]/2-Ct[Jn]/2);break;default:}}return Un}function st(lt){var ct=lt.state,Ct=lt.name;ct.modifiersData[Ct]=We({reference:ct.rects.reference,element:ct.rects.popper,strategy:"absolute",placement:ct.placement})}const ke={name:"popperOffsets",enabled:!0,phase:"read",fn:st,data:{}};var Be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Se(lt){var ct=lt.x,Ct=lt.y,Gt=window,rn=Gt.devicePixelRatio||1;return{x:w(ct*rn)/rn||0,y:w(Ct*rn)/rn||0}}function Ke(lt){var ct,Ct=lt.popper,Gt=lt.popperRect,rn=lt.placement,_n=lt.variation,bn=lt.offsets,An=lt.position,Un=lt.gpuAcceleration,pr=lt.adaptive,Jn=lt.roundOffsets,kr=lt.isFixed,Lr=bn.x,Ir=Lr===void 0?0:Lr,wr=bn.y,vr=wr===void 0?0:wr,Ee=typeof Jn=="function"?Jn({x:Ir,y:vr}):{x:Ir,y:vr};Ir=Ee.x,vr=Ee.y;var ot=bn.hasOwnProperty("x"),Nt=bn.hasOwnProperty("y"),Ht=ee,j=J,H=window;if(pr){var Z=G(Ct),ue="clientHeight",Ce="clientWidth";if(Z===o(Ct)&&(Z=C(Ct),a(Z).position!=="static"&&An==="absolute"&&(ue="scrollHeight",Ce="scrollWidth")),Z=Z,rn===J||(rn===ee||rn===te)&&_n===ae){j=Q;var Ae=kr&&H.visualViewport?H.visualViewport.height:Z[ue];vr-=Ae-Gt.height,vr*=Un?1:-1}if(rn===ee||(rn===J||rn===Q)&&_n===ae){Ht=te;var qe=kr&&H.visualViewport?H.visualViewport.width:Z[Ce];Ir-=qe-Gt.width,Ir*=Un?1:-1}}var Ze=Object.assign({position:An},pr&&Be),tt=Jn===!0?Se({x:Ir,y:vr}):{x:Ir,y:vr};if(Ir=tt.x,vr=tt.y,Un){var Rt;return Object.assign({},Ze,(Rt={},Rt[j]=Nt?"0":"",Rt[Ht]=ot?"0":"",Rt.transform=(H.devicePixelRatio||1)<=1?"translate("+Ir+"px, "+vr+"px)":"translate3d("+Ir+"px, "+vr+"px, 0)",Rt))}return Object.assign({},Ze,(ct={},ct[j]=Nt?vr+"px":"",ct[Ht]=ot?Ir+"px":"",ct.transform="",ct))}function ut(lt){var ct=lt.state,Ct=lt.options,Gt=Ct.gpuAcceleration,rn=Gt===void 0?!0:Gt,_n=Ct.adaptive,bn=_n===void 0?!0:_n,An=Ct.roundOffsets,Un=An===void 0?!0:An;if(!1)var pr;var Jn={placement:sn(ct.placement),variation:gt(ct.placement),popper:ct.elements.popper,popperRect:ct.rects.popper,gpuAcceleration:rn,isFixed:ct.options.strategy==="fixed"};ct.modifiersData.popperOffsets!=null&&(ct.styles.popper=Object.assign({},ct.styles.popper,Ke(Object.assign({},Jn,{offsets:ct.modifiersData.popperOffsets,position:ct.options.strategy,adaptive:bn,roundOffsets:Un})))),ct.modifiersData.arrow!=null&&(ct.styles.arrow=Object.assign({},ct.styles.arrow,Ke(Object.assign({},Jn,{offsets:ct.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Un})))),ct.attributes.popper=Object.assign({},ct.attributes.popper,{"data-popper-placement":ct.placement})}const Oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ut,data:{}};function K(lt){var ct=lt.state;Object.keys(ct.elements).forEach(function(Ct){var Gt=ct.styles[Ct]||{},rn=ct.attributes[Ct]||{},_n=ct.elements[Ct];!d(_n)||!O(_n)||(Object.assign(_n.style,Gt),Object.keys(rn).forEach(function(bn){var An=rn[bn];An===!1?_n.removeAttribute(bn):_n.setAttribute(bn,An===!0?"":An)}))})}function Y(lt){var ct=lt.state,Ct={popper:{position:ct.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ct.elements.popper.style,Ct.popper),ct.styles=Ct,ct.elements.arrow&&Object.assign(ct.elements.arrow.style,Ct.arrow),function(){Object.keys(ct.elements).forEach(function(Gt){var rn=ct.elements[Gt],_n=ct.attributes[Gt]||{},bn=Object.keys(ct.styles.hasOwnProperty(Gt)?ct.styles[Gt]:Ct[Gt]),An=bn.reduce(function(Un,pr){return Un[pr]="",Un},{});!d(rn)||!O(rn)||(Object.assign(rn.style,An),Object.keys(_n).forEach(function(Un){rn.removeAttribute(Un)}))})}}const me={name:"applyStyles",enabled:!0,phase:"write",fn:K,effect:Y,requires:["computeStyles"]};function Ie(lt,ct,Ct){var Gt=sn(lt),rn=[ee,J].indexOf(Gt)>=0?-1:1,_n=typeof Ct=="function"?Ct(Object.assign({},ct,{placement:lt})):Ct,bn=_n[0],An=_n[1];return bn=bn||0,An=(An||0)*rn,[ee,te].indexOf(Gt)>=0?{x:An,y:bn}:{x:bn,y:An}}function je(lt){var ct=lt.state,Ct=lt.options,Gt=lt.name,rn=Ct.offset,_n=rn===void 0?[0,0]:rn,bn=se.reduce(function(Jn,kr){return Jn[kr]=Ie(kr,ct.rects,_n),Jn},{}),An=bn[ct.placement],Un=An.x,pr=An.y;ct.modifiersData.popperOffsets!=null&&(ct.modifiersData.popperOffsets.x+=Un,ct.modifiersData.popperOffsets.y+=pr),ct.modifiersData[Gt]=bn}const Xe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:je};var _t={left:"right",right:"left",bottom:"top",top:"bottom"};function pt(lt){return lt.replace(/left|right|bottom|top/g,function(ct){return _t[ct]})}var Ge={start:"end",end:"start"};function at(lt){return lt.replace(/start|end/g,function(ct){return Ge[ct]})}function It(lt){var ct=o(lt),Ct=C(lt),Gt=ct.visualViewport,rn=Ct.clientWidth,_n=Ct.clientHeight,bn=0,An=0;return Gt&&(rn=Gt.width,_n=Gt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(bn=Gt.offsetLeft,An=Gt.offsetTop)),{width:rn,height:_n,x:bn+_(lt),y:An}}function zt(lt){var ct,Ct=C(lt),Gt=b(lt),rn=(ct=lt.ownerDocument)==null?void 0:ct.body,_n=g(Ct.scrollWidth,Ct.clientWidth,rn?rn.scrollWidth:0,rn?rn.clientWidth:0),bn=g(Ct.scrollHeight,Ct.clientHeight,rn?rn.scrollHeight:0,rn?rn.clientHeight:0),An=-Gt.scrollLeft+_(lt),Un=-Gt.scrollTop;return a(rn||Ct).direction==="rtl"&&(An+=g(Ct.clientWidth,rn?rn.clientWidth:0)-_n),{width:_n,height:bn,x:An,y:Un}}function Xt(lt,ct){var Ct=ct.getRootNode&&ct.getRootNode();if(lt.contains(ct))return!0;if(Ct&&u(Ct)){var Gt=ct;do{if(Gt&&lt.isSameNode(Gt))return!0;Gt=Gt.parentNode||Gt.host}while(Gt)}return!1}function Dt(lt){return Object.assign({},lt,{left:lt.x,top:lt.y,right:lt.x+lt.width,bottom:lt.y+lt.height})}function ln(lt){var ct=v(lt);return ct.top=ct.top+lt.clientTop,ct.left=ct.left+lt.clientLeft,ct.bottom=ct.top+lt.clientHeight,ct.right=ct.left+lt.clientWidth,ct.width=lt.clientWidth,ct.height=lt.clientHeight,ct.x=ct.left,ct.y=ct.top,ct}function qt(lt,ct){return ct===le?Dt(It(lt)):m(ct)?ln(ct):Dt(zt(C(lt)))}function fn(lt){var ct=T(R(lt)),Ct=["absolute","fixed"].indexOf(a(lt).position)>=0,Gt=Ct&&d(lt)?G(lt):lt;return m(Gt)?ct.filter(function(rn){return m(rn)&&Xt(rn,Gt)&&O(rn)!=="body"}):[]}function Sn(lt,ct,Ct){var Gt=ct==="clippingParents"?fn(lt):[].concat(ct),rn=[].concat(Gt,[Ct]),_n=rn[0],bn=rn.reduce(function(An,Un){var pr=qt(lt,Un);return An.top=g(pr.top,An.top),An.right=y(pr.right,An.right),An.bottom=y(pr.bottom,An.bottom),An.left=g(pr.left,An.left),An},qt(lt,_n));return bn.width=bn.right-bn.left,bn.height=bn.bottom-bn.top,bn.x=bn.left,bn.y=bn.top,bn}function wn(){return{top:0,right:0,bottom:0,left:0}}function Pn(lt){return Object.assign({},wn(),lt)}function jn(lt,ct){return ct.reduce(function(Ct,Gt){return Ct[Gt]=lt,Ct},{})}function sr(lt,ct){ct===void 0&&(ct={});var Ct=ct,Gt=Ct.placement,rn=Gt===void 0?lt.placement:Gt,_n=Ct.boundary,bn=_n===void 0?fe:_n,An=Ct.rootBoundary,Un=An===void 0?le:An,pr=Ct.elementContext,Jn=pr===void 0?re:pr,kr=Ct.altBoundary,Lr=kr===void 0?!1:kr,Ir=Ct.padding,wr=Ir===void 0?0:Ir,vr=Pn(typeof wr!="number"?wr:jn(wr,V)),Ee=Jn===re?$:re,ot=lt.rects.popper,Nt=lt.elements[Lr?Ee:Jn],Ht=Sn(m(Nt)?Nt:Nt.contextElement||C(lt.elements.popper),bn,Un),j=v(lt.elements.reference),H=We({reference:j,element:ot,strategy:"absolute",placement:rn}),Z=Dt(Object.assign({},ot,H)),ue=Jn===re?Z:j,Ce={top:Ht.top-ue.top+vr.top,bottom:ue.bottom-Ht.bottom+vr.bottom,left:Ht.left-ue.left+vr.left,right:ue.right-Ht.right+vr.right},Ae=lt.modifiersData.offset;if(Jn===re&&Ae){var qe=Ae[rn];Object.keys(Ce).forEach(function(Ze){var tt=[te,Q].indexOf(Ze)>=0?1:-1,Rt=[J,Q].indexOf(Ze)>=0?"y":"x";Ce[Ze]+=qe[Rt]*tt})}return Ce}function _r(lt,ct){ct===void 0&&(ct={});var Ct=ct,Gt=Ct.placement,rn=Ct.boundary,_n=Ct.rootBoundary,bn=Ct.padding,An=Ct.flipVariations,Un=Ct.allowedAutoPlacements,pr=Un===void 0?se:Un,Jn=gt(Gt),kr=Jn?An?oe:oe.filter(function(wr){return gt(wr)===Jn}):V,Lr=kr.filter(function(wr){return pr.indexOf(wr)>=0});Lr.length===0&&(Lr=kr);var Ir=Lr.reduce(function(wr,vr){return wr[vr]=sr(lt,{placement:vr,boundary:rn,rootBoundary:_n,padding:bn})[sn(vr)],wr},{});return Object.keys(Ir).sort(function(wr,vr){return Ir[wr]-Ir[vr]})}function hr(lt){if(sn(lt)===L)return[];var ct=pt(lt);return[at(lt),ct,at(ct)]}function Bn(lt){var ct=lt.state,Ct=lt.options,Gt=lt.name;if(!ct.modifiersData[Gt]._skip){for(var rn=Ct.mainAxis,_n=rn===void 0?!0:rn,bn=Ct.altAxis,An=bn===void 0?!0:bn,Un=Ct.fallbackPlacements,pr=Ct.padding,Jn=Ct.boundary,kr=Ct.rootBoundary,Lr=Ct.altBoundary,Ir=Ct.flipVariations,wr=Ir===void 0?!0:Ir,vr=Ct.allowedAutoPlacements,Ee=ct.options.placement,ot=sn(Ee),Nt=ot===Ee,Ht=Un||(Nt||!wr?[pt(Ee)]:hr(Ee)),j=[Ee].concat(Ht).reduce(function(ui,Wo){return ui.concat(sn(Wo)===L?_r(ct,{placement:Wo,boundary:Jn,rootBoundary:kr,padding:pr,flipVariations:wr,allowedAutoPlacements:vr}):Wo)},[]),H=ct.rects.reference,Z=ct.rects.popper,ue=new Map,Ce=!0,Ae=j[0],qe=0;qe<j.length;qe++){var Ze=j[qe],tt=sn(Ze),Rt=gt(Ze)===ne,Kt=[J,Q].indexOf(tt)>=0,Tn=Kt?"width":"height",xn=sr(ct,{placement:Ze,boundary:Jn,rootBoundary:kr,altBoundary:Lr,padding:pr}),On=Kt?Rt?te:ee:Rt?Q:J;H[Tn]>Z[Tn]&&(On=pt(On));var ir=pt(On),Mr=[];if(_n&&Mr.push(xn[tt]<=0),An&&Mr.push(xn[On]<=0,xn[ir]<=0),Mr.every(function(ui){return ui})){Ae=Ze,Ce=!1;break}ue.set(Ze,Mr)}if(Ce)for(var Kr=wr?3:1,fo=function(Wo){var Si=j.find(function(gi){var $r=ue.get(gi);if($r)return $r.slice(0,Wo).every(function(Ui){return Ui})});if(Si)return Ae=Si,"break"},Yo=Kr;Yo>0;Yo--){var ti=fo(Yo);if(ti==="break")break}ct.placement!==Ae&&(ct.modifiersData[Gt]._skip=!0,ct.placement=Ae,ct.reset=!0)}}const yr={name:"flip",enabled:!0,phase:"main",fn:Bn,requiresIfExists:["offset"],data:{_skip:!1}};function oo(lt){return lt==="x"?"y":"x"}function Wr(lt,ct,Ct){return g(lt,y(ct,Ct))}function Zr(lt,ct,Ct){var Gt=Wr(lt,ct,Ct);return Gt>Ct?Ct:Gt}function Vr(lt){var ct=lt.state,Ct=lt.options,Gt=lt.name,rn=Ct.mainAxis,_n=rn===void 0?!0:rn,bn=Ct.altAxis,An=bn===void 0?!1:bn,Un=Ct.boundary,pr=Ct.rootBoundary,Jn=Ct.altBoundary,kr=Ct.padding,Lr=Ct.tether,Ir=Lr===void 0?!0:Lr,wr=Ct.tetherOffset,vr=wr===void 0?0:wr,Ee=sr(ct,{boundary:Un,rootBoundary:pr,padding:kr,altBoundary:Jn}),ot=sn(ct.placement),Nt=gt(ct.placement),Ht=!Nt,j=Ne(ot),H=oo(j),Z=ct.modifiersData.popperOffsets,ue=ct.rects.reference,Ce=ct.rects.popper,Ae=typeof vr=="function"?vr(Object.assign({},ct.rects,{placement:ct.placement})):vr,qe=typeof Ae=="number"?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),Ze=ct.modifiersData.offset?ct.modifiersData.offset[ct.placement]:null,tt={x:0,y:0};if(Z){if(_n){var Rt,Kt=j==="y"?J:ee,Tn=j==="y"?Q:te,xn=j==="y"?"height":"width",On=Z[j],ir=On+Ee[Kt],Mr=On-Ee[Tn],Kr=Ir?-Ce[xn]/2:0,fo=Nt===ne?ue[xn]:Ce[xn],Yo=Nt===ne?-Ce[xn]:-ue[xn],ti=ct.elements.arrow,ui=Ir&&ti?M(ti):{width:0,height:0},Wo=ct.modifiersData["arrow#persistent"]?ct.modifiersData["arrow#persistent"].padding:wn(),Si=Wo[Kt],gi=Wo[Tn],$r=Wr(0,ue[xn],ui[xn]),Ui=Ht?ue[xn]/2-Kr-$r-Si-qe.mainAxis:fo-$r-Si-qe.mainAxis,Yi=Ht?-ue[xn]/2+Kr+$r+gi+qe.mainAxis:Yo+$r+gi+qe.mainAxis,vi=ct.elements.arrow&&G(ct.elements.arrow),Fi=vi?j==="y"?vi.clientTop||0:vi.clientLeft||0:0,Po=(Rt=Ze==null?void 0:Ze[j])!=null?Rt:0,Xa=On+Ui-Po-Fi,ws=On+Yi-Po,qa=Wr(Ir?y(ir,Xa):ir,On,Ir?g(Mr,ws):Mr);Z[j]=qa,tt[j]=qa-On}if(An){var es,Cs=j==="x"?J:ee,Os=j==="x"?Q:te,oa=Z[H],_a=H==="y"?"height":"width",ts=oa+Ee[Cs],ga=oa-Ee[Os],ns=[J,ee].indexOf(ot)!==-1,Ss=(es=Ze==null?void 0:Ze[H])!=null?es:0,ol=ns?ts:oa-ue[_a]-Ce[_a]-Ss+qe.altAxis,Ts=ns?oa+ue[_a]+Ce[_a]-Ss-qe.altAxis:ga,Is=Ir&&ns?Zr(ol,oa,Ts):Wr(Ir?ol:ts,oa,Ir?Ts:ga);Z[H]=Is,tt[H]=Is-oa}ct.modifiersData[Gt]=tt}}const Ur={name:"preventOverflow",enabled:!0,phase:"main",fn:Vr,requiresIfExists:["offset"]};var co=function(ct,Ct){return ct=typeof ct=="function"?ct(Object.assign({},Ct.rects,{placement:Ct.placement})):ct,Pn(typeof ct!="number"?ct:jn(ct,V))};function no(lt){var ct,Ct=lt.state,Gt=lt.name,rn=lt.options,_n=Ct.elements.arrow,bn=Ct.modifiersData.popperOffsets,An=sn(Ct.placement),Un=Ne(An),pr=[ee,te].indexOf(An)>=0,Jn=pr?"height":"width";if(!(!_n||!bn)){var kr=co(rn.padding,Ct),Lr=M(_n),Ir=Un==="y"?J:ee,wr=Un==="y"?Q:te,vr=Ct.rects.reference[Jn]+Ct.rects.reference[Un]-bn[Un]-Ct.rects.popper[Jn],Ee=bn[Un]-Ct.rects.reference[Un],ot=G(_n),Nt=ot?Un==="y"?ot.clientHeight||0:ot.clientWidth||0:0,Ht=vr/2-Ee/2,j=kr[Ir],H=Nt-Lr[Jn]-kr[wr],Z=Nt/2-Lr[Jn]/2+Ht,ue=Wr(j,Z,H),Ce=Un;Ct.modifiersData[Gt]=(ct={},ct[Ce]=ue,ct.centerOffset=ue-Z,ct)}}function Hr(lt){var ct=lt.state,Ct=lt.options,Gt=Ct.element,rn=Gt===void 0?"[data-popper-arrow]":Gt;rn!=null&&(typeof rn=="string"&&(rn=ct.elements.popper.querySelector(rn),!rn)||Xt(ct.elements.popper,rn)&&(ct.elements.arrow=rn))}const uo={name:"arrow",enabled:!0,phase:"main",fn:no,effect:Hr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yo(lt,ct,Ct){return Ct===void 0&&(Ct={x:0,y:0}),{top:lt.top-ct.height-Ct.y,right:lt.right-ct.width+Ct.x,bottom:lt.bottom-ct.height+Ct.y,left:lt.left-ct.width-Ct.x}}function ho(lt){return[J,te,Q,ee].some(function(ct){return lt[ct]>=0})}function xo(lt){var ct=lt.state,Ct=lt.name,Gt=ct.rects.reference,rn=ct.rects.popper,_n=ct.modifiersData.preventOverflow,bn=sr(ct,{elementContext:"reference"}),An=sr(ct,{altBoundary:!0}),Un=yo(bn,Gt),pr=yo(An,rn,_n),Jn=ho(Un),kr=ho(pr);ct.modifiersData[Ct]={referenceClippingOffsets:Un,popperEscapeOffsets:pr,isReferenceHidden:Jn,hasPopperEscaped:kr},ct.attributes.popper=Object.assign({},ct.attributes.popper,{"data-popper-reference-hidden":Jn,"data-popper-escaped":kr})}var Zo=[$t,ke,Oe,me,Xe,yr,Ur,uo,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xo}],No=nt({defaultModifiers:Zo}),Ro='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Ko="tippy-box",Yr="tippy-content",Jr="tippy-backdrop",jr="tippy-arrow",Dr="tippy-svg-arrow",Vt={passive:!0,capture:!0},Qt=function(){return document.body};function en(lt,ct){return{}.hasOwnProperty.call(lt,ct)}function Rn(lt,ct,Ct){if(Array.isArray(lt)){var Gt=lt[ct];return Gt==null?Array.isArray(Ct)?Ct[ct]:Ct:Gt}return lt}function At(lt,ct){var Ct={}.toString.call(lt);return Ct.indexOf("[object")===0&&Ct.indexOf(ct+"]")>-1}function Zt(lt,ct){return typeof lt=="function"?lt.apply(void 0,ct):lt}function jt(lt,ct){if(ct===0)return lt;var Ct;return function(Gt){clearTimeout(Ct),Ct=setTimeout(function(){lt(Gt)},ct)}}function nn(lt,ct){var Ct=Object.assign({},lt);return ct.forEach(function(Gt){delete Ct[Gt]}),Ct}function gn(lt){return lt.split(/\s+/).filter(Boolean)}function Mn(lt){return[].concat(lt)}function Xn(lt,ct){lt.indexOf(ct)===-1&&lt.push(ct)}function nr(lt){return lt.filter(function(ct,Ct){return lt.indexOf(ct)===Ct})}function er(lt){return lt.split("-")[0]}function Nn(lt){return[].slice.call(lt)}function Sr(lt){return Object.keys(lt).reduce(function(ct,Ct){return lt[Ct]!==void 0&&(ct[Ct]=lt[Ct]),ct},{})}function Tr(){return document.createElement("div")}function br(lt){return["Element","Fragment"].some(function(ct){return At(lt,ct)})}function Rr(lt){return At(lt,"NodeList")}function so(lt){return At(lt,"MouseEvent")}function eo(lt){return!!(lt&&lt._tippy&&lt._tippy.reference===lt)}function Cr(lt){return br(lt)?[lt]:Rr(lt)?Nn(lt):Array.isArray(lt)?lt:Nn(document.querySelectorAll(lt))}function Co(lt,ct){lt.forEach(function(Ct){Ct&&(Ct.style.transitionDuration=ct+"ms")})}function po(lt,ct){lt.forEach(function(Ct){Ct&&Ct.setAttribute("data-state",ct)})}function jo(lt){var ct,Ct=Mn(lt),Gt=Ct[0];return Gt!=null&&(ct=Gt.ownerDocument)!=null&&ct.body?Gt.ownerDocument:document}function vo(lt,ct){var Ct=ct.clientX,Gt=ct.clientY;return lt.every(function(rn){var _n=rn.popperRect,bn=rn.popperState,An=rn.props,Un=An.interactiveBorder,pr=er(bn.placement),Jn=bn.modifiersData.offset;if(!Jn)return!0;var kr=pr==="bottom"?Jn.top.y:0,Lr=pr==="top"?Jn.bottom.y:0,Ir=pr==="right"?Jn.left.x:0,wr=pr==="left"?Jn.right.x:0,vr=_n.top-Gt+kr>Un,Ee=Gt-_n.bottom-Lr>Un,ot=_n.left-Ct+Ir>Un,Nt=Ct-_n.right-wr>Un;return vr||Ee||ot||Nt})}function Oo(lt,ct,Ct){var Gt=ct+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(rn){lt[Gt](rn,Ct)})}function Lo(lt,ct){for(var Ct=ct;Ct;){var Gt;if(lt.contains(Ct))return!0;Ct=Ct.getRootNode==null||(Gt=Ct.getRootNode())==null?void 0:Gt.host}return!1}var So={isTouch:!1},Ci=0;function io(){So.isTouch||(So.isTouch=!0,window.performance&&document.addEventListener("mousemove",li))}function li(){var lt=performance.now();lt-Ci<20&&(So.isTouch=!1,document.removeEventListener("mousemove",li)),Ci=lt}function fi(){var lt=document.activeElement;if(eo(lt)){var ct=lt._tippy;lt.blur&&!ct.state.isVisible&&lt.blur()}}function Mi(){document.addEventListener("touchstart",io,Vt),window.addEventListener("blur",fi)}var pi=typeof window!="undefined"&&typeof document!="undefined",Li=pi?!!window.msCrypto:!1;function Bi(lt){var ct=lt==="destroy"?"n already-":" ";return[lt+"() was called on a"+ct+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function ki(lt){var ct=/[ \t]{2,}/g,Ct=/^[ \t]*/gm;return lt.replace(ct," ").replace(Ct,"").trim()}function ra(lt){return ki(`
  %ctippy.js

  %c`+ki(lt)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function Xo(lt){return[ra(lt),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var ci;function bo(){ci=new Set}function ii(lt,ct){if(lt&&!ci.has(ct)){var Ct;ci.add(ct),(Ct=console).warn.apply(Ct,Xo(ct))}}function di(lt,ct){if(lt&&!ci.has(ct)){var Ct;ci.add(ct),(Ct=console).error.apply(Ct,Xo(ct))}}function ai(lt){var ct=!lt,Ct=Object.prototype.toString.call(lt)==="[object Object]"&&!lt.addEventListener;di(ct,["tippy() was passed","`"+String(lt)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),di(Ct,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var it={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},$e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Qe=Object.assign({appendTo:Qt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},it,$e),mt=Object.keys(Qe),yt=function(ct){var Ct=Object.keys(ct);Ct.forEach(function(Gt){Qe[Gt]=ct[Gt]})};function Ut(lt){var ct=lt.plugins||[],Ct=ct.reduce(function(Gt,rn){var _n=rn.name,bn=rn.defaultValue;if(_n){var An;Gt[_n]=lt[_n]!==void 0?lt[_n]:(An=Qe[_n])!=null?An:bn}return Gt},{});return Object.assign({},lt,Ct)}function Lt(lt,ct){var Ct=ct?Object.keys(Ut(Object.assign({},Qe,{plugins:ct}))):mt,Gt=Ct.reduce(function(rn,_n){var bn=(lt.getAttribute("data-tippy-"+_n)||"").trim();if(!bn)return rn;if(_n==="content")rn[_n]=bn;else try{rn[_n]=JSON.parse(bn)}catch(An){rn[_n]=bn}return rn},{});return Gt}function Te(lt,ct){var Ct=Object.assign({},ct,{content:Zt(ct.content,[lt])},ct.ignoreAttributes?{}:Lt(lt,ct.plugins));return Ct.aria=Object.assign({},Qe.aria,Ct.aria),Ct.aria={expanded:Ct.aria.expanded==="auto"?ct.interactive:Ct.aria.expanded,content:Ct.aria.content==="auto"?ct.interactive?null:"describedby":Ct.aria.content},Ct}function ge(lt,ct){lt===void 0&&(lt={}),ct===void 0&&(ct=[]);var Ct=Object.keys(lt);Ct.forEach(function(Gt){var rn=nn(Qe,Object.keys(it)),_n=!en(rn,Gt);_n&&(_n=ct.filter(function(bn){return bn.name===Gt}).length===0),ii(_n,["`"+Gt+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Pe=function(){return"innerHTML"};function Ve(lt,ct){lt[Pe()]=ct}function vt(lt){var ct=Tr();return lt===!0?ct.className=jr:(ct.className=Dr,br(lt)?ct.appendChild(lt):Ve(ct,lt)),ct}function Pt(lt,ct){br(ct.content)?(Ve(lt,""),lt.appendChild(ct.content)):typeof ct.content!="function"&&(ct.allowHTML?Ve(lt,ct.content):lt.textContent=ct.content)}function Ot(lt){var ct=lt.firstElementChild,Ct=Nn(ct.children);return{box:ct,content:Ct.find(function(Gt){return Gt.classList.contains(Yr)}),arrow:Ct.find(function(Gt){return Gt.classList.contains(jr)||Gt.classList.contains(Dr)}),backdrop:Ct.find(function(Gt){return Gt.classList.contains(Jr)})}}function Mt(lt){var ct=Tr(),Ct=Tr();Ct.className=Ko,Ct.setAttribute("data-state","hidden"),Ct.setAttribute("tabindex","-1");var Gt=Tr();Gt.className=Yr,Gt.setAttribute("data-state","hidden"),Pt(Gt,lt.props),ct.appendChild(Ct),Ct.appendChild(Gt),rn(lt.props,lt.props);function rn(_n,bn){var An=Ot(ct),Un=An.box,pr=An.content,Jn=An.arrow;bn.theme?Un.setAttribute("data-theme",bn.theme):Un.removeAttribute("data-theme"),typeof bn.animation=="string"?Un.setAttribute("data-animation",bn.animation):Un.removeAttribute("data-animation"),bn.inertia?Un.setAttribute("data-inertia",""):Un.removeAttribute("data-inertia"),Un.style.maxWidth=typeof bn.maxWidth=="number"?bn.maxWidth+"px":bn.maxWidth,bn.role?Un.setAttribute("role",bn.role):Un.removeAttribute("role"),(_n.content!==bn.content||_n.allowHTML!==bn.allowHTML)&&Pt(pr,lt.props),bn.arrow?Jn?_n.arrow!==bn.arrow&&(Un.removeChild(Jn),Un.appendChild(vt(bn.arrow))):Un.appendChild(vt(bn.arrow)):Jn&&Un.removeChild(Jn)}return{popper:ct,onUpdate:rn}}Mt.$$tippy=!0;var Ft=1,Wt=[],un=[];function tn(lt,ct){var Ct=Te(lt,Object.assign({},Qe,Ut(Sr(ct)))),Gt,rn,_n,bn=!1,An=!1,Un=!1,pr=!1,Jn,kr,Lr,Ir=[],wr=jt(Xa,Ct.interactiveDebounce),vr,Ee=Ft++,ot=null,Nt=nr(Ct.plugins),Ht={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},j={id:Ee,reference:lt,popper:Tr(),popperInstance:ot,props:Ct,state:Ht,plugins:Nt,clearDelayTimeouts:ol,setProps:Ts,setContent:Is,show:Zc,hide:Yc,hideWithInteractivity:su,enable:ns,disable:Ss,unmount:Jc,destroy:Qc};if(!Ct.render)return j;var H=Ct.render(j),Z=H.popper,ue=H.onUpdate;Z.setAttribute("data-tippy-root",""),Z.id="tippy-"+j.id,j.popper=Z,lt._tippy=j,Z._tippy=j;var Ce=Nt.map(function(kn){return kn.fn(j)}),Ae=lt.hasAttribute("aria-expanded");return vi(),Kr(),On(),ir("onCreate",[j]),Ct.showOnCreate&&ts(),Z.addEventListener("mouseenter",function(){j.props.interactive&&j.state.isVisible&&j.clearDelayTimeouts()}),Z.addEventListener("mouseleave",function(){j.props.interactive&&j.props.trigger.indexOf("mouseenter")>=0&&Kt().addEventListener("mousemove",wr)}),j;function qe(){var kn=j.props.touch;return Array.isArray(kn)?kn:[kn,0]}function Ze(){return qe()[0]==="hold"}function tt(){var kn;return!!((kn=j.props.render)!=null&&kn.$$tippy)}function Rt(){return vr||lt}function Kt(){var kn=Rt().parentNode;return kn?jo(kn):document}function Tn(){return Ot(Z)}function xn(kn){return j.state.isMounted&&!j.state.isVisible||So.isTouch||Jn&&Jn.type==="focus"?0:Rn(j.props.delay,kn?0:1,Qe.delay)}function On(kn){kn===void 0&&(kn=!1),Z.style.pointerEvents=j.props.interactive&&!kn?"":"none",Z.style.zIndex=""+j.props.zIndex}function ir(kn,xr,zr){if(zr===void 0&&(zr=!0),Ce.forEach(function(mo){mo[kn]&&mo[kn].apply(mo,xr)}),zr){var Mo;(Mo=j.props)[kn].apply(Mo,xr)}}function Mr(){var kn=j.props.aria;if(kn.content){var xr="aria-"+kn.content,zr=Z.id,Mo=Mn(j.props.triggerTarget||lt);Mo.forEach(function(mo){var yi=mo.getAttribute(xr);if(j.state.isVisible)mo.setAttribute(xr,yi?yi+" "+zr:zr);else{var ji=yi&&yi.replace(zr,"").trim();ji?mo.setAttribute(xr,ji):mo.removeAttribute(xr)}})}}function Kr(){if(!(Ae||!j.props.aria.expanded)){var kn=Mn(j.props.triggerTarget||lt);kn.forEach(function(xr){j.props.interactive?xr.setAttribute("aria-expanded",j.state.isVisible&&xr===Rt()?"true":"false"):xr.removeAttribute("aria-expanded")})}}function fo(){Kt().removeEventListener("mousemove",wr),Wt=Wt.filter(function(kn){return kn!==wr})}function Yo(kn){if(!(So.isTouch&&(Un||kn.type==="mousedown"))){var xr=kn.composedPath&&kn.composedPath()[0]||kn.target;if(!(j.props.interactive&&Lo(Z,xr))){if(Mn(j.props.triggerTarget||lt).some(function(zr){return Lo(zr,xr)})){if(So.isTouch||j.state.isVisible&&j.props.trigger.indexOf("click")>=0)return}else ir("onClickOutside",[j,kn]);j.props.hideOnClick===!0&&(j.clearDelayTimeouts(),j.hide(),An=!0,setTimeout(function(){An=!1}),j.state.isMounted||Si())}}}function ti(){Un=!0}function ui(){Un=!1}function Wo(){var kn=Kt();kn.addEventListener("mousedown",Yo,!0),kn.addEventListener("touchend",Yo,Vt),kn.addEventListener("touchstart",ui,Vt),kn.addEventListener("touchmove",ti,Vt)}function Si(){var kn=Kt();kn.removeEventListener("mousedown",Yo,!0),kn.removeEventListener("touchend",Yo,Vt),kn.removeEventListener("touchstart",ui,Vt),kn.removeEventListener("touchmove",ti,Vt)}function gi(kn,xr){Ui(kn,function(){!j.state.isVisible&&Z.parentNode&&Z.parentNode.contains(Z)&&xr()})}function $r(kn,xr){Ui(kn,xr)}function Ui(kn,xr){var zr=Tn().box;function Mo(mo){mo.target===zr&&(Oo(zr,"remove",Mo),xr())}if(kn===0)return xr();Oo(zr,"remove",kr),Oo(zr,"add",Mo),kr=Mo}function Yi(kn,xr,zr){zr===void 0&&(zr=!1);var Mo=Mn(j.props.triggerTarget||lt);Mo.forEach(function(mo){mo.addEventListener(kn,xr,zr),Ir.push({node:mo,eventType:kn,handler:xr,options:zr})})}function vi(){Ze()&&(Yi("touchstart",Po,{passive:!0}),Yi("touchend",ws,{passive:!0})),gn(j.props.trigger).forEach(function(kn){if(kn!=="manual")switch(Yi(kn,Po),kn){case"mouseenter":Yi("mouseleave",ws);break;case"focus":Yi(Li?"focusout":"blur",qa);break;case"focusin":Yi("focusout",qa);break}})}function Fi(){Ir.forEach(function(kn){var xr=kn.node,zr=kn.eventType,Mo=kn.handler,mo=kn.options;xr.removeEventListener(zr,Mo,mo)}),Ir=[]}function Po(kn){var xr,zr=!1;if(!(!j.state.isEnabled||es(kn)||An)){var Mo=((xr=Jn)==null?void 0:xr.type)==="focus";Jn=kn,vr=kn.currentTarget,Kr(),!j.state.isVisible&&so(kn)&&Wt.forEach(function(mo){return mo(kn)}),kn.type==="click"&&(j.props.trigger.indexOf("mouseenter")<0||bn)&&j.props.hideOnClick!==!1&&j.state.isVisible?zr=!0:ts(kn),kn.type==="click"&&(bn=!zr),zr&&!Mo&&ga(kn)}}function Xa(kn){var xr=kn.target,zr=Rt().contains(xr)||Z.contains(xr);if(!(kn.type==="mousemove"&&zr)){var Mo=_a().concat(Z).map(function(mo){var yi,ji=mo._tippy,Ra=(yi=ji.popperInstance)==null?void 0:yi.state;return Ra?{popperRect:mo.getBoundingClientRect(),popperState:Ra,props:Ct}:null}).filter(Boolean);vo(Mo,kn)&&(fo(),ga(kn))}}function ws(kn){var xr=es(kn)||j.props.trigger.indexOf("click")>=0&&bn;if(!xr){if(j.props.interactive){j.hideWithInteractivity(kn);return}ga(kn)}}function qa(kn){j.props.trigger.indexOf("focusin")<0&&kn.target!==Rt()||j.props.interactive&&kn.relatedTarget&&Z.contains(kn.relatedTarget)||ga(kn)}function es(kn){return So.isTouch?Ze()!==kn.type.indexOf("touch")>=0:!1}function Cs(){Os();var kn=j.props,xr=kn.popperOptions,zr=kn.placement,Mo=kn.offset,mo=kn.getReferenceClientRect,yi=kn.moveTransition,ji=tt()?Ot(Z).arrow:null,Ra=mo?{getBoundingClientRect:mo,contextElement:mo.contextElement||Rt()}:lt,il={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(rs){var La=rs.state;if(tt()){var Xc=Tn(),lu=Xc.box;["placement","reference-hidden","escaped"].forEach(function(Ds){Ds==="placement"?lu.setAttribute("data-placement",La.placement):La.attributes.popper["data-popper-"+Ds]?lu.setAttribute("data-"+Ds,""):lu.removeAttribute("data-"+Ds)}),La.attributes.popper={}}}},wa=[{name:"offset",options:{offset:Mo}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!yi}},il];tt()&&ji&&wa.push({name:"arrow",options:{element:ji,padding:3}}),wa.push.apply(wa,(xr==null?void 0:xr.modifiers)||[]),j.popperInstance=No(Ra,Z,Object.assign({},xr,{placement:zr,onFirstUpdate:Lr,modifiers:wa}))}function Os(){j.popperInstance&&(j.popperInstance.destroy(),j.popperInstance=null)}function oa(){var kn=j.props.appendTo,xr,zr=Rt();j.props.interactive&&kn===Qt||kn==="parent"?xr=zr.parentNode:xr=Zt(kn,[zr]),xr.contains(Z)||xr.appendChild(Z),j.state.isMounted=!0,Cs()}function _a(){return Nn(Z.querySelectorAll("[data-tippy-root]"))}function ts(kn){j.clearDelayTimeouts(),kn&&ir("onTrigger",[j,kn]),Wo();var xr=xn(!0),zr=qe(),Mo=zr[0],mo=zr[1];So.isTouch&&Mo==="hold"&&mo&&(xr=mo),xr?Gt=setTimeout(function(){j.show()},xr):j.show()}function ga(kn){if(j.clearDelayTimeouts(),ir("onUntrigger",[j,kn]),!j.state.isVisible){Si();return}if(!(j.props.trigger.indexOf("mouseenter")>=0&&j.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(kn.type)>=0&&bn)){var xr=xn(!1);xr?rn=setTimeout(function(){j.state.isVisible&&j.hide()},xr):_n=requestAnimationFrame(function(){j.hide()})}}function ns(){j.state.isEnabled=!0}function Ss(){j.hide(),j.state.isEnabled=!1}function ol(){clearTimeout(Gt),clearTimeout(rn),cancelAnimationFrame(_n)}function Ts(kn){if(!j.state.isDestroyed){ir("onBeforeUpdate",[j,kn]),Fi();var xr=j.props,zr=Te(lt,Object.assign({},xr,Sr(kn),{ignoreAttributes:!0}));j.props=zr,vi(),xr.interactiveDebounce!==zr.interactiveDebounce&&(fo(),wr=jt(Xa,zr.interactiveDebounce)),xr.triggerTarget&&!zr.triggerTarget?Mn(xr.triggerTarget).forEach(function(Mo){Mo.removeAttribute("aria-expanded")}):zr.triggerTarget&&lt.removeAttribute("aria-expanded"),Kr(),On(),ue&&ue(xr,zr),j.popperInstance&&(Cs(),_a().forEach(function(Mo){requestAnimationFrame(Mo._tippy.popperInstance.forceUpdate)})),ir("onAfterUpdate",[j,kn])}}function Is(kn){j.setProps({content:kn})}function Zc(){var kn=j.state.isVisible,xr=j.state.isDestroyed,zr=!j.state.isEnabled,Mo=So.isTouch&&!j.props.touch,mo=Rn(j.props.duration,0,Qe.duration);if(!(kn||xr||zr||Mo)&&!Rt().hasAttribute("disabled")&&(ir("onShow",[j],!1),j.props.onShow(j)!==!1)){if(j.state.isVisible=!0,tt()&&(Z.style.visibility="visible"),On(),Wo(),j.state.isMounted||(Z.style.transition="none"),tt()){var yi=Tn(),ji=yi.box,Ra=yi.content;Co([ji,Ra],0)}Lr=function(){var wa;if(!(!j.state.isVisible||pr)){if(pr=!0,Z.offsetHeight,Z.style.transition=j.props.moveTransition,tt()&&j.props.animation){var al=Tn(),rs=al.box,La=al.content;Co([rs,La],mo),po([rs,La],"visible")}Mr(),Kr(),Xn(un,j),(wa=j.popperInstance)==null||wa.forceUpdate(),ir("onMount",[j]),j.props.animation&&tt()&&$r(mo,function(){j.state.isShown=!0,ir("onShown",[j])})}},oa()}}function Yc(){var kn=!j.state.isVisible,xr=j.state.isDestroyed,zr=!j.state.isEnabled,Mo=Rn(j.props.duration,1,Qe.duration);if(!(kn||xr||zr)&&(ir("onHide",[j],!1),j.props.onHide(j)!==!1)){if(j.state.isVisible=!1,j.state.isShown=!1,pr=!1,bn=!1,tt()&&(Z.style.visibility="hidden"),fo(),Si(),On(!0),tt()){var mo=Tn(),yi=mo.box,ji=mo.content;j.props.animation&&(Co([yi,ji],Mo),po([yi,ji],"hidden"))}Mr(),Kr(),j.props.animation?tt()&&gi(Mo,j.unmount):j.unmount()}}function su(kn){Kt().addEventListener("mousemove",wr),Xn(Wt,wr),wr(kn)}function Jc(){j.state.isVisible&&j.hide(),j.state.isMounted&&(Os(),_a().forEach(function(kn){kn._tippy.unmount()}),Z.parentNode&&Z.parentNode.removeChild(Z),un=un.filter(function(kn){return kn!==j}),j.state.isMounted=!1,ir("onHidden",[j]))}function Qc(){j.state.isDestroyed||(j.clearDelayTimeouts(),j.unmount(),Fi(),delete lt._tippy,j.state.isDestroyed=!0,ir("onDestroy",[j]))}}function dn(lt,ct){ct===void 0&&(ct={});var Ct=Qe.plugins.concat(ct.plugins||[]);Mi();var Gt=Object.assign({},ct,{plugins:Ct}),rn=Cr(lt);if(!1)var _n,bn;var An=rn.reduce(function(Un,pr){var Jn=pr&&tn(pr,Gt);return Jn&&Un.push(Jn),Un},[]);return br(lt)?An[0]:An}dn.defaultProps=Qe,dn.setDefaultProps=yt,dn.currentInput=So;var Dn=function(ct){var Ct=ct===void 0?{}:ct,Gt=Ct.exclude,rn=Ct.duration;un.forEach(function(_n){var bn=!1;if(Gt&&(bn=eo(Gt)?_n.reference===Gt:_n.popper===Gt.popper),!bn){var An=_n.props.duration;_n.setProps({duration:rn}),_n.hide(),_n.state.isDestroyed||_n.setProps({duration:An})}})},Wn=Object.assign({},me,{effect:function(ct){var Ct=ct.state,Gt={popper:{position:Ct.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Ct.elements.popper.style,Gt.popper),Ct.styles=Gt,Ct.elements.arrow&&Object.assign(Ct.elements.arrow.style,Gt.arrow)}}),fr=function(ct,Ct){var Gt;Ct===void 0&&(Ct={});var rn=ct,_n=[],bn=[],An,Un=Ct.overrides,pr=[],Jn=!1;function kr(){bn=rn.map(function(j){return Mn(j.props.triggerTarget||j.reference)}).reduce(function(j,H){return j.concat(H)},[])}function Lr(){_n=rn.map(function(j){return j.reference})}function Ir(j){rn.forEach(function(H){j?H.enable():H.disable()})}function wr(j){return rn.map(function(H){var Z=H.setProps;return H.setProps=function(ue){Z(ue),H.reference===An&&j.setProps(ue)},function(){H.setProps=Z}})}function vr(j,H){var Z=bn.indexOf(H);if(H!==An){An=H;var ue=(Un||[]).concat("content").reduce(function(Ce,Ae){return Ce[Ae]=rn[Z].props[Ae],Ce},{});j.setProps(Object.assign({},ue,{getReferenceClientRect:typeof ue.getReferenceClientRect=="function"?ue.getReferenceClientRect:function(){var Ce;return(Ce=_n[Z])==null?void 0:Ce.getBoundingClientRect()}}))}}Ir(!1),Lr(),kr();var Ee={fn:function(){return{onDestroy:function(){Ir(!0)},onHidden:function(){An=null},onClickOutside:function(Z){Z.props.showOnCreate&&!Jn&&(Jn=!0,An=null)},onShow:function(Z){Z.props.showOnCreate&&!Jn&&(Jn=!0,vr(Z,_n[0]))},onTrigger:function(Z,ue){vr(Z,ue.currentTarget)}}}},ot=dn(Tr(),Object.assign({},nn(Ct,["overrides"]),{plugins:[Ee].concat(Ct.plugins||[]),triggerTarget:bn,popperOptions:Object.assign({},Ct.popperOptions,{modifiers:[].concat(((Gt=Ct.popperOptions)==null?void 0:Gt.modifiers)||[],[Wn])})})),Nt=ot.show;ot.show=function(j){if(Nt(),!An&&j==null)return vr(ot,_n[0]);if(!(An&&j==null)){if(typeof j=="number")return _n[j]&&vr(ot,_n[j]);if(rn.indexOf(j)>=0){var H=j.reference;return vr(ot,H)}if(_n.indexOf(j)>=0)return vr(ot,j)}},ot.showNext=function(){var j=_n[0];if(!An)return ot.show(0);var H=_n.indexOf(An);ot.show(_n[H+1]||j)},ot.showPrevious=function(){var j=_n[_n.length-1];if(!An)return ot.show(j);var H=_n.indexOf(An),Z=_n[H-1]||j;ot.show(Z)};var Ht=ot.setProps;return ot.setProps=function(j){Un=j.overrides||Un,Ht(j)},ot.setInstances=function(j){Ir(!0),pr.forEach(function(H){return H()}),rn=j,Ir(!1),Lr(),kr(),pr=wr(ot),ot.setProps({triggerTarget:bn})},pr=wr(ot),ot},rr={mouseover:"mouseenter",focusin:"focus",click:"click"};function Cn(lt,ct){var Ct=[],Gt=[],rn=!1,_n=ct.target,bn=nn(ct,["target"]),An=Object.assign({},bn,{trigger:"manual",touch:!1}),Un=Object.assign({touch:Qe.touch},bn,{showOnCreate:!0}),pr=dn(lt,An),Jn=Mn(pr);function kr(Ee){if(!(!Ee.target||rn)){var ot=Ee.target.closest(_n);if(ot){var Nt=ot.getAttribute("data-tippy-trigger")||ct.trigger||Qe.trigger;if(!ot._tippy&&!(Ee.type==="touchstart"&&typeof Un.touch=="boolean")&&!(Ee.type!=="touchstart"&&Nt.indexOf(rr[Ee.type])<0)){var Ht=dn(ot,Un);Ht&&(Gt=Gt.concat(Ht))}}}}function Lr(Ee,ot,Nt,Ht){Ht===void 0&&(Ht=!1),Ee.addEventListener(ot,Nt,Ht),Ct.push({node:Ee,eventType:ot,handler:Nt,options:Ht})}function Ir(Ee){var ot=Ee.reference;Lr(ot,"touchstart",kr,Vt),Lr(ot,"mouseover",kr),Lr(ot,"focusin",kr),Lr(ot,"click",kr)}function wr(){Ct.forEach(function(Ee){var ot=Ee.node,Nt=Ee.eventType,Ht=Ee.handler,j=Ee.options;ot.removeEventListener(Nt,Ht,j)}),Ct=[]}function vr(Ee){var ot=Ee.destroy,Nt=Ee.enable,Ht=Ee.disable;Ee.destroy=function(j){j===void 0&&(j=!0),j&&Gt.forEach(function(H){H.destroy()}),Gt=[],wr(),ot()},Ee.enable=function(){Nt(),Gt.forEach(function(j){return j.enable()}),rn=!1},Ee.disable=function(){Ht(),Gt.forEach(function(j){return j.disable()}),rn=!0},Ir(Ee)}return Jn.forEach(vr),pr}var Gn={name:"animateFill",defaultValue:!1,fn:function(ct){var Ct;if(!((Ct=ct.props.render)!=null&&Ct.$$tippy))return{};var Gt=Ot(ct.popper),rn=Gt.box,_n=Gt.content,bn=ct.props.animateFill?ar():null;return{onCreate:function(){bn&&(rn.insertBefore(bn,rn.firstElementChild),rn.setAttribute("data-animatefill",""),rn.style.overflow="hidden",ct.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(bn){var Un=rn.style.transitionDuration,pr=Number(Un.replace("ms",""));_n.style.transitionDelay=Math.round(pr/10)+"ms",bn.style.transitionDuration=Un,po([bn],"visible")}},onShow:function(){bn&&(bn.style.transitionDuration="0ms")},onHide:function(){bn&&po([bn],"hidden")}}}};function ar(){var lt=Tr();return lt.className=Jr,po([lt],"hidden"),lt}var Er={clientX:0,clientY:0},Pr=[];function ao(lt){var ct=lt.clientX,Ct=lt.clientY;Er={clientX:ct,clientY:Ct}}function _o(lt){lt.addEventListener("mousemove",ao)}function To(lt){lt.removeEventListener("mousemove",ao)}var ei={name:"followCursor",defaultValue:!1,fn:function(ct){var Ct=ct.reference,Gt=jo(ct.props.triggerTarget||Ct),rn=!1,_n=!1,bn=!0,An=ct.props;function Un(){return ct.props.followCursor==="initial"&&ct.state.isVisible}function pr(){Gt.addEventListener("mousemove",Lr)}function Jn(){Gt.removeEventListener("mousemove",Lr)}function kr(){rn=!0,ct.setProps({getReferenceClientRect:null}),rn=!1}function Lr(vr){var Ee=vr.target?Ct.contains(vr.target):!0,ot=ct.props.followCursor,Nt=vr.clientX,Ht=vr.clientY,j=Ct.getBoundingClientRect(),H=Nt-j.left,Z=Ht-j.top;(Ee||!ct.props.interactive)&&ct.setProps({getReferenceClientRect:function(){var Ce=Ct.getBoundingClientRect(),Ae=Nt,qe=Ht;ot==="initial"&&(Ae=Ce.left+H,qe=Ce.top+Z);var Ze=ot==="horizontal"?Ce.top:qe,tt=ot==="vertical"?Ce.right:Ae,Rt=ot==="horizontal"?Ce.bottom:qe,Kt=ot==="vertical"?Ce.left:Ae;return{width:tt-Kt,height:Rt-Ze,top:Ze,right:tt,bottom:Rt,left:Kt}}})}function Ir(){ct.props.followCursor&&(Pr.push({instance:ct,doc:Gt}),_o(Gt))}function wr(){Pr=Pr.filter(function(vr){return vr.instance!==ct}),Pr.filter(function(vr){return vr.doc===Gt}).length===0&&To(Gt)}return{onCreate:Ir,onDestroy:wr,onBeforeUpdate:function(){An=ct.props},onAfterUpdate:function(Ee,ot){var Nt=ot.followCursor;rn||Nt!==void 0&&An.followCursor!==Nt&&(wr(),Nt?(Ir(),ct.state.isMounted&&!_n&&!Un()&&pr()):(Jn(),kr()))},onMount:function(){ct.props.followCursor&&!_n&&(bn&&(Lr(Er),bn=!1),Un()||pr())},onTrigger:function(Ee,ot){so(ot)&&(Er={clientX:ot.clientX,clientY:ot.clientY}),_n=ot.type==="focus"},onHidden:function(){ct.props.followCursor&&(kr(),Jn(),bn=!0)}}}};function Bo(lt,ct){var Ct;return{popperOptions:Object.assign({},lt.popperOptions,{modifiers:[].concat((((Ct=lt.popperOptions)==null?void 0:Ct.modifiers)||[]).filter(function(Gt){var rn=Gt.name;return rn!==ct.name}),[ct])})}}var $o={name:"inlinePositioning",defaultValue:!1,fn:function(ct){var Ct=ct.reference;function Gt(){return!!ct.props.inlinePositioning}var rn,_n=-1,bn=!1,An=[],Un={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Ir){var wr=Ir.state;Gt()&&(An.indexOf(wr.placement)!==-1&&(An=[]),rn!==wr.placement&&An.indexOf(wr.placement)===-1&&(An.push(wr.placement),ct.setProps({getReferenceClientRect:function(){return pr(wr.placement)}})),rn=wr.placement)}};function pr(Lr){return Oi(er(Lr),Ct.getBoundingClientRect(),Nn(Ct.getClientRects()),_n)}function Jn(Lr){bn=!0,ct.setProps(Lr),bn=!1}function kr(){bn||Jn(Bo(ct.props,Un))}return{onCreate:kr,onAfterUpdate:kr,onTrigger:function(Ir,wr){if(so(wr)){var vr=Nn(ct.reference.getClientRects()),Ee=vr.find(function(Nt){return Nt.left-2<=wr.clientX&&Nt.right+2>=wr.clientX&&Nt.top-2<=wr.clientY&&Nt.bottom+2>=wr.clientY}),ot=vr.indexOf(Ee);_n=ot>-1?ot:_n}},onHidden:function(){_n=-1}}}};function Oi(lt,ct,Ct,Gt){if(Ct.length<2||lt===null)return ct;if(Ct.length===2&&Gt>=0&&Ct[0].left>Ct[1].right)return Ct[Gt]||ct;switch(lt){case"top":case"bottom":{var rn=Ct[0],_n=Ct[Ct.length-1],bn=lt==="top",An=rn.top,Un=_n.bottom,pr=bn?rn.left:_n.left,Jn=bn?rn.right:_n.right,kr=Jn-pr,Lr=Un-An;return{top:An,bottom:Un,left:pr,right:Jn,width:kr,height:Lr}}case"left":case"right":{var Ir=Math.min.apply(Math,Ct.map(function(Z){return Z.left})),wr=Math.max.apply(Math,Ct.map(function(Z){return Z.right})),vr=Ct.filter(function(Z){return lt==="left"?Z.left===Ir:Z.right===wr}),Ee=vr[0].top,ot=vr[vr.length-1].bottom,Nt=Ir,Ht=wr,j=Ht-Nt,H=ot-Ee;return{top:Ee,bottom:ot,left:Nt,right:Ht,width:j,height:H}}default:return ct}}var Ai={name:"sticky",defaultValue:!1,fn:function(ct){var Ct=ct.reference,Gt=ct.popper;function rn(){return ct.popperInstance?ct.popperInstance.state.elements.reference:Ct}function _n(pr){return ct.props.sticky===!0||ct.props.sticky===pr}var bn=null,An=null;function Un(){var pr=_n("reference")?rn().getBoundingClientRect():null,Jn=_n("popper")?Gt.getBoundingClientRect():null;(pr&&_i(bn,pr)||Jn&&_i(An,Jn))&&ct.popperInstance&&ct.popperInstance.update(),bn=pr,An=Jn,ct.state.isMounted&&requestAnimationFrame(Un)}return{onMount:function(){ct.props.sticky&&Un()}}}};function _i(lt,ct){return lt&&ct?lt.top!==ct.top||lt.right!==ct.right||lt.bottom!==ct.bottom||lt.left!==ct.left:!0}dn.setDefaultProps({render:Mt});const ko=dn},8575:(z,s,e)=>{var o=e(74971);s.parse=P,s.resolve=M,s.resolveObject=R,s.format=S,s.Url=m;function m(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var d=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],y=["{","}","|","\\","^","`"].concat(g),w=["'"].concat(y),v=["%","/","?",";","#"].concat(w),b=["/","?","#"],D=255,E=/^[a-z0-9A-Z_-]{0,63}$/,O=/^([a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},a={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},l=e(17673);function P(U,G,J){if(U&&T(U)&&U instanceof m)return U;var Q=new m;return Q.parse(U,G,J),Q}m.prototype.parse=function(U,G,J){if(!N(U))throw new TypeError("Parameter 'url' must be a string, not "+typeof U);var Q=U;Q=Q.trim();var te=d.exec(Q);if(te){te=te[0];var ee=te.toLowerCase();this.protocol=ee,Q=Q.substr(te.length)}if(J||te||Q.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=Q.substr(0,2)==="//";L&&!(te&&_[te])&&(Q=Q.substr(2),this.slashes=!0)}if(!_[te]&&(L||te&&!a[te])){for(var V=-1,ne=0;ne<b.length;ne++){var ae=Q.indexOf(b[ne]);ae!==-1&&(V===-1||ae<V)&&(V=ae)}var fe,le;V===-1?le=Q.lastIndexOf("@"):le=Q.lastIndexOf("@",V),le!==-1&&(fe=Q.slice(0,le),Q=Q.slice(le+1),this.auth=decodeURIComponent(fe)),V=-1;for(var ne=0;ne<v.length;ne++){var ae=Q.indexOf(v[ne]);ae!==-1&&(V===-1||ae<V)&&(V=ae)}V===-1&&(V=Q.length),this.host=Q.slice(0,V),Q=Q.slice(V),this.parseHost(),this.hostname=this.hostname||"";var re=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!re)for(var $=this.hostname.split(/\./),ne=0,oe=$.length;ne<oe;ne++){var se=$[ne];if(se&&!se.match(E)){for(var ce="",de=0,be=se.length;de<be;de++)se.charCodeAt(de)>127?ce+="x":ce+=se[de];if(!ce.match(E)){var pe=$.slice(0,ne),we=$.slice(ne+1),xe=se.match(O);xe&&(pe.push(xe[1]),we.unshift(xe[2])),we.length&&(Q="/"+we.join(".")+Q),this.hostname=pe.join(".");break}}}if(this.hostname.length>D?this.hostname="":this.hostname=this.hostname.toLowerCase(),!re){for(var Ue=this.hostname.split("."),De=[],ne=0;ne<Ue.length;++ne){var _e=Ue[ne];De.push(_e.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(_e):_e)}this.hostname=De.join(".")}var ie=this.port?":"+this.port:"",ve=this.hostname||"";this.host=ve+ie,this.href+=this.host,re&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!C[ee])for(var ne=0,oe=w.length;ne<oe;ne++){var he=w[ne],Le=encodeURIComponent(he);Le===he&&(Le=escape(he)),Q=Q.split(he).join(Le)}var He=Q.indexOf("#");He!==-1&&(this.hash=Q.substr(He),Q=Q.slice(0,He));var ht=Q.indexOf("?");if(ht!==-1?(this.search=Q.substr(ht),this.query=Q.substr(ht+1),G&&(this.query=l.parse(this.query)),Q=Q.slice(0,ht)):G&&(this.search="",this.query={}),Q&&(this.pathname=Q),a[ee]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ie=this.pathname||"",_e=this.search||"";this.path=ie+_e}return this.href=this.format(),this};function S(U){return N(U)&&(U=P(U)),U instanceof m?U.format():m.prototype.format.call(U)}m.prototype.format=function(){var U=this.auth||"";U&&(U=encodeURIComponent(U),U=U.replace(/%3A/i,":"),U+="@");var G=this.protocol||"",J=this.pathname||"",Q=this.hash||"",te=!1,ee="";this.host?te=U+this.host:this.hostname&&(te=U+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(te+=":"+this.port)),this.query&&T(this.query)&&Object.keys(this.query).length&&(ee=l.stringify(this.query));var L=this.search||ee&&"?"+ee||"";return G&&G.substr(-1)!==":"&&(G+=":"),this.slashes||(!G||a[G])&&te!==!1?(te="//"+(te||""),J&&J.charAt(0)!=="/"&&(J="/"+J)):te||(te=""),Q&&Q.charAt(0)!=="#"&&(Q="#"+Q),L&&L.charAt(0)!=="?"&&(L="?"+L),J=J.replace(/[?#]/g,function(V){return encodeURIComponent(V)}),L=L.replace("#","%23"),G+te+J+L+Q};function M(U,G){return P(U,!1,!0).resolve(G)}m.prototype.resolve=function(U){return this.resolveObject(P(U,!1,!0)).format()};function R(U,G){return U?P(U,!1,!0).resolveObject(G):G}m.prototype.resolveObject=function(U){if(N(U)){var G=new m;G.parse(U,!1,!0),U=G}var J=new m;if(Object.keys(this).forEach(function(be){J[be]=this[be]},this),J.hash=U.hash,U.href==="")return J.href=J.format(),J;if(U.slashes&&!U.protocol)return Object.keys(U).forEach(function(be){be!=="protocol"&&(J[be]=U[be])}),a[J.protocol]&&J.hostname&&!J.pathname&&(J.path=J.pathname="/"),J.href=J.format(),J;if(U.protocol&&U.protocol!==J.protocol){if(!a[U.protocol])return Object.keys(U).forEach(function(be){J[be]=U[be]}),J.href=J.format(),J;if(J.protocol=U.protocol,!U.host&&!_[U.protocol]){for(var fe=(U.pathname||"").split("/");fe.length&&!(U.host=fe.shift()););U.host||(U.host=""),U.hostname||(U.hostname=""),fe[0]!==""&&fe.unshift(""),fe.length<2&&fe.unshift(""),J.pathname=fe.join("/")}else J.pathname=U.pathname;if(J.search=U.search,J.query=U.query,J.host=U.host||"",J.auth=U.auth,J.hostname=U.hostname||U.host,J.port=U.port,J.pathname||J.search){var Q=J.pathname||"",te=J.search||"";J.path=Q+te}return J.slashes=J.slashes||U.slashes,J.href=J.format(),J}var ee=J.pathname&&J.pathname.charAt(0)==="/",L=U.host||U.pathname&&U.pathname.charAt(0)==="/",V=L||ee||J.host&&U.pathname,ne=V,ae=J.pathname&&J.pathname.split("/")||[],fe=U.pathname&&U.pathname.split("/")||[],le=J.protocol&&!a[J.protocol];if(le&&(J.hostname="",J.port=null,J.host&&(ae[0]===""?ae[0]=J.host:ae.unshift(J.host)),J.host="",U.protocol&&(U.hostname=null,U.port=null,U.host&&(fe[0]===""?fe[0]=U.host:fe.unshift(U.host)),U.host=null),V=V&&(fe[0]===""||ae[0]==="")),L)J.host=U.host||U.host===""?U.host:J.host,J.hostname=U.hostname||U.hostname===""?U.hostname:J.hostname,J.search=U.search,J.query=U.query,ae=fe;else if(fe.length)ae||(ae=[]),ae.pop(),ae=ae.concat(fe),J.search=U.search,J.query=U.query;else if(!F(U.search)){if(le){J.hostname=J.host=ae.shift();var re=J.host&&J.host.indexOf("@")>0?J.host.split("@"):!1;re&&(J.auth=re.shift(),J.host=J.hostname=re.shift())}return J.search=U.search,J.query=U.query,(!A(J.pathname)||!A(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.href=J.format(),J}if(!ae.length)return J.pathname=null,J.search?J.path="/"+J.search:J.path=null,J.href=J.format(),J;for(var $=ae.slice(-1)[0],oe=(J.host||U.host)&&($==="."||$==="..")||$==="",se=0,ce=ae.length;ce>=0;ce--)$=ae[ce],$=="."?ae.splice(ce,1):$===".."?(ae.splice(ce,1),se++):se&&(ae.splice(ce,1),se--);if(!V&&!ne)for(;se--;se)ae.unshift("..");V&&ae[0]!==""&&(!ae[0]||ae[0].charAt(0)!=="/")&&ae.unshift(""),oe&&ae.join("/").substr(-1)!=="/"&&ae.push("");var de=ae[0]===""||ae[0]&&ae[0].charAt(0)==="/";if(le){J.hostname=J.host=de?"":ae.length?ae.shift():"";var re=J.host&&J.host.indexOf("@")>0?J.host.split("@"):!1;re&&(J.auth=re.shift(),J.host=J.hostname=re.shift())}return V=V||J.host&&ae.length,V&&!de&&ae.unshift(""),ae.length?J.pathname=ae.join("/"):(J.pathname=null,J.path=null),(!A(J.pathname)||!A(J.search))&&(J.path=(J.pathname?J.pathname:"")+(J.search?J.search:"")),J.auth=U.auth||J.auth,J.slashes=J.slashes||U.slashes,J.href=J.format(),J},m.prototype.parseHost=function(){var U=this.host,G=u.exec(U);G&&(G=G[0],G!==":"&&(this.port=G.substr(1)),U=U.substr(0,U.length-G.length)),U&&(this.hostname=U)};function N(U){return typeof U=="string"}function T(U){return typeof U=="object"&&U!==null}function A(U){return U===null}function F(U){return U==null}},53250:(z,s,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=e(98661);function m(O,C){return O===C&&(O!==0||1/O===1/C)||O!==O&&C!==C}var d=typeof Object.is=="function"?Object.is:m,u=o.useState,g=o.useEffect,y=o.useLayoutEffect,w=o.useDebugValue;function v(O,C){var _=C(),a=u({inst:{value:_,getSnapshot:C}}),l=a[0].inst,P=a[1];return y(function(){l.value=_,l.getSnapshot=C,b(l)&&P({inst:l})},[O,_,C]),g(function(){return b(l)&&P({inst:l}),O(function(){b(l)&&P({inst:l})})},[O]),w(_),_}function b(O){var C=O.getSnapshot;O=O.value;try{var _=C();return!d(O,_)}catch(a){return!0}}function D(O,C){return C()}var E=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?D:v;s.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:E},61688:(z,s,e)=>{"use strict";z.exports=e(53250)},45327:z=>{for(var s=[],e=0;e<256;++e)s[e]=(e+256).toString(16).substr(1);function o(m,d){var u=d||0,g=s;return g[m[u++]]+g[m[u++]]+g[m[u++]]+g[m[u++]]+"-"+g[m[u++]]+g[m[u++]]+"-"+g[m[u++]]+g[m[u++]]+"-"+g[m[u++]]+g[m[u++]]+"-"+g[m[u++]]+g[m[u++]]+g[m[u++]]+g[m[u++]]+g[m[u++]]+g[m[u++]]}z.exports=o},85217:z=>{var s=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(s){var e=new Uint8Array(16);z.exports=function(){return s(e),e}}else{var o=new Array(16);z.exports=function(){for(var d=0,u;d<16;d++)d&3||(u=Math.random()*4294967296),o[d]=u>>>((d&3)<<3)&255;return o}}},71171:(z,s,e)=>{var o=e(85217),m=e(45327);function d(u,g,y){var w=g&&y||0;typeof u=="string"&&(g=u==="binary"?new Array(16):null,u=null),u=u||{};var v=u.random||(u.rng||o)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,g)for(var b=0;b<16;++b)g[w+b]=v[b];return g||m(v)}z.exports=d},93235:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=u;var o=m(e(65571));function m(g){return g&&g.__esModule?g:{default:g}}function d(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(w){return typeof w}:d=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(g)}function u(g,y){(0,o.default)(g);var w,v;d(y)==="object"?(w=y.min||0,v=y.max):(w=arguments[1],v=arguments[2]);var b=encodeURI(g).split(/%..|./).length-1;return b>=w&&(typeof v=="undefined"||b<=v)}z.exports=s.default,z.exports.default=s.default},83868:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=l;var o=y(e(65571)),m=y(e(84808)),d=y(e(93235)),u=y(e(10221)),g=y(e(61028));function y(P){return P&&P.__esModule?P:{default:P}}var w={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,b=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,D=/^[a-z\d]+$/,E=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,O=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,C=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,_=254;function a(P){var S=P.replace(/^"(.+)"$/,"$1");if(!S.trim())return!1;var M=/[\.";<>]/.test(S);if(M){if(S===P)return!1;var R=S.split('"').length===S.split('\\"').length;if(!R)return!1}return!0}function l(P,S){if((0,o.default)(P),S=(0,m.default)(S,w),S.require_display_name||S.allow_display_name){var M=P.match(v);if(M){var R=M[1];if(P=P.replace(R,"").replace(/(^<|>$)/g,""),R.endsWith(" ")&&(R=R.substr(0,R.length-1)),!a(R))return!1}else if(S.require_display_name)return!1}if(!S.ignore_max_length&&P.length>_)return!1;var N=P.split("@"),T=N.pop(),A=T.toLowerCase();if(S.host_blacklist.includes(A))return!1;var F=N.join("@");if(S.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){F=F.toLowerCase();var U=F.split("+")[0];if(!(0,d.default)(U.replace(/\./g,""),{min:6,max:30}))return!1;for(var G=U.split("."),J=0;J<G.length;J++)if(!D.test(G[J]))return!1}if(S.ignore_max_length===!1&&(!(0,d.default)(F,{max:64})||!(0,d.default)(T,{max:254})))return!1;if(!(0,u.default)(T,{require_tld:S.require_tld})){if(!S.allow_ip_domain)return!1;if(!(0,g.default)(T)){if(!T.startsWith("[")||!T.endsWith("]"))return!1;var Q=T.substr(1,T.length-2);if(Q.length===0||!(0,g.default)(Q))return!1}}if(F[0]==='"')return F=F.slice(1,F.length-1),S.allow_utf8_local_part?C.test(F):E.test(F);for(var te=S.allow_utf8_local_part?O:b,ee=F.split("."),L=0;L<ee.length;L++)if(!te.test(ee[L]))return!1;return!(S.blacklisted_chars&&F.search(new RegExp("[".concat(S.blacklisted_chars,"]+"),"g"))!==-1)}z.exports=s.default,z.exports.default=s.default},10221:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=g;var o=d(e(65571)),m=d(e(84808));function d(y){return y&&y.__esModule?y:{default:y}}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function g(y,w){(0,o.default)(y),w=(0,m.default)(w,u),w.allow_trailing_dot&&y[y.length-1]==="."&&(y=y.substring(0,y.length-1)),w.allow_wildcard===!0&&y.indexOf("*.")===0&&(y=y.substring(2));var v=y.split("."),b=v[v.length-1];return w.require_tld&&(v.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(b)||/\s/.test(b))||!w.allow_numeric_tld&&/^\d+$/.test(b)?!1:v.every(function(D){return!(D.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(D)||/[\uff01-\uff5e]/.test(D)||/^-|-$/.test(D)||!w.allow_underscores&&/_/.test(D))})}z.exports=s.default,z.exports.default=s.default},61028:(z,s,e)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=v;var o=m(e(65571));function m(b){return b&&b.__esModule?b:{default:b}}var d="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",u="(".concat(d,"[.]){3}").concat(d),g=new RegExp("^".concat(u,"$")),y="(?:[0-9a-fA-F]{1,4})",w=new RegExp("^("+"(?:".concat(y,":){7}(?:").concat(y,"|:)|")+"(?:".concat(y,":){6}(?:").concat(u,"|:").concat(y,"|:)|")+"(?:".concat(y,":){5}(?::").concat(u,"|(:").concat(y,"){1,2}|:)|")+"(?:".concat(y,":){4}(?:(:").concat(y,"){0,1}:").concat(u,"|(:").concat(y,"){1,3}|:)|")+"(?:".concat(y,":){3}(?:(:").concat(y,"){0,2}:").concat(u,"|(:").concat(y,"){1,4}|:)|")+"(?:".concat(y,":){2}(?:(:").concat(y,"){0,3}:").concat(u,"|(:").concat(y,"){1,5}|:)|")+"(?:".concat(y,":){1}(?:(:").concat(y,"){0,4}:").concat(u,"|(:").concat(y,"){1,6}|:)|")+"(?::((?::".concat(y,"){0,5}:").concat(u,"|(?::").concat(y,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function v(b){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,o.default)(b),D=String(D),!D)return v(b,4)||v(b,6);if(D==="4"){if(!g.test(b))return!1;var E=b.split(".").sort(function(O,C){return O-C});return E[3]<=255}return D==="6"?!!w.test(b):!1}z.exports=s.default,z.exports.default=s.default},65571:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=o;function e(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(u){return typeof u}:e=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(m)}function o(m){var d=typeof m=="string"||m instanceof String;if(!d){var u=e(m);throw m===null?u="null":u==="object"&&(u=m.constructor.name),new TypeError("Expected a string but received a ".concat(u))}}z.exports=s.default,z.exports.default=s.default},84808:(z,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;for(var d in m)typeof o[d]=="undefined"&&(o[d]=m[d]);return o}z.exports=s.default,z.exports.default=s.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:z=>{let s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(m,d=21)=>(u=d)=>{let g="",y=u;for(;y--;)g+=m[Math.random()*m.length|0];return g},o=(m=21)=>{let d="",u=m;for(;u--;)d+=s[Math.random()*64|0];return d};z.exports={nanoid:o,customAlphabet:e}},39516:(z,s,e)=>{"use strict";e.d(s,{d:()=>E,f:()=>b});var o=e(98661),m=e(19946),d=e(12351),u=e(16723),g=e(23784),y=e(73781);let w=(0,o.createContext)(null);function v(){let O=(0,o.useContext)(w);if(O===null){let C=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(C,v),C}return O}function b(){let[O,C]=(0,o.useState)([]);return[O.length>0?O.join(" "):void 0,(0,o.useMemo)(()=>function(_){let a=(0,y.z)(P=>(C(S=>[...S,P]),()=>C(S=>{let M=S.slice(),R=M.indexOf(P);return R!==-1&&M.splice(R,1),M}))),l=(0,o.useMemo)(()=>({register:a,slot:_.slot,name:_.name,props:_.props}),[a,_.slot,_.name,_.props]);return o.default.createElement(w.Provider,{value:l},_.children)},[C])]}let D="p",E=(0,d.yV)(function(O,C){let _=v(),a=`headlessui-description-${(0,m.M)()}`,l=(0,g.T)(C);(0,u.e)(()=>_.register(a),[a,_.register]);let P=O,S=Fo(or({ref:l},_.props),{id:a});return(0,d.sY)({ourProps:S,theirProps:P,slot:_.slot||{},defaultTag:D,name:_.name||"Description"})})},53789:(z,s,e)=>{"use strict";e.d(s,{V:()=>Xt});var o=e(98661),m=e(32984),d=e(12351),u=e(23784),g=e(61363),y=e(64103),w=e(19946),v=e(82180),b=e(46045),D=e(43393);function E(Dt){return D.s?null:Dt instanceof Node?Dt.ownerDocument:Dt!=null&&Dt.hasOwnProperty("current")&&Dt.current instanceof Node?Dt.current.ownerDocument:document}let O=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(Dt=>`${Dt}:not([tabindex='-1'])`).join(",");var C=(Dt=>(Dt[Dt.First=1]="First",Dt[Dt.Previous=2]="Previous",Dt[Dt.Next=4]="Next",Dt[Dt.Last=8]="Last",Dt[Dt.WrapAround=16]="WrapAround",Dt[Dt.NoScroll=32]="NoScroll",Dt))(C||{}),_=(Dt=>(Dt[Dt.Error=0]="Error",Dt[Dt.Overflow=1]="Overflow",Dt[Dt.Success=2]="Success",Dt[Dt.Underflow=3]="Underflow",Dt))(_||{}),a=(Dt=>(Dt[Dt.Previous=-1]="Previous",Dt[Dt.Next=1]="Next",Dt))(a||{});function l(Dt=document.body){return Dt==null?[]:Array.from(Dt.querySelectorAll(O))}var P=(Dt=>(Dt[Dt.Strict=0]="Strict",Dt[Dt.Loose=1]="Loose",Dt))(P||{});function S(Dt,ln=0){var qt;return Dt===((qt=E(Dt))==null?void 0:qt.body)?!1:(0,m.E)(ln,{[0](){return Dt.matches(O)},[1](){let fn=Dt;for(;fn!==null;){if(fn.matches(O))return!0;fn=fn.parentElement}return!1}})}function M(Dt){let ln=c(Dt);p().nextFrame(()=>{ln&&!S(ln.activeElement,0)&&R(Dt)})}function R(Dt){Dt==null||Dt.focus({preventScroll:!0})}let N=["textarea","input"].join(",");function T(Dt){var ln,qt;return(qt=(ln=Dt==null?void 0:Dt.matches)==null?void 0:ln.call(Dt,N))!=null?qt:!1}function A(Dt,ln=qt=>qt){return Dt.slice().sort((qt,fn)=>{let Sn=ln(qt),wn=ln(fn);if(Sn===null||wn===null)return 0;let Pn=Sn.compareDocumentPosition(wn);return Pn&Node.DOCUMENT_POSITION_FOLLOWING?-1:Pn&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function F(Dt,ln){return U(l(),ln,!0,Dt)}function U(Dt,ln,qt=!0,fn=null){let Sn=Array.isArray(Dt)?Dt.length>0?Dt[0].ownerDocument:document:Dt.ownerDocument,wn=Array.isArray(Dt)?qt?A(Dt):Dt:l(Dt);fn=fn!=null?fn:Sn.activeElement;let Pn=(()=>{if(ln&5)return 1;if(ln&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),jn=(()=>{if(ln&1)return 0;if(ln&2)return Math.max(0,wn.indexOf(fn))-1;if(ln&4)return Math.max(0,wn.indexOf(fn))+1;if(ln&8)return wn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),sr=ln&32?{preventScroll:!0}:{},_r=0,hr=wn.length,Bn;do{if(_r>=hr||_r+hr<=0)return 0;let yr=jn+_r;if(ln&16)yr=(yr+hr)%hr;else{if(yr<0)return 3;if(yr>=hr)return 1}Bn=wn[yr],Bn==null||Bn.focus(sr),_r+=Pn}while(Bn!==Sn.activeElement);return ln&6&&T(Bn)&&Bn.select(),Bn.hasAttribute("tabindex")||Bn.setAttribute("tabindex","0"),2}var G=e(73781),J=e(3855);function Q(Dt,ln,qt){let fn=(0,J.E)(ln);(0,o.useEffect)(()=>{function Sn(wn){fn.current(wn)}return window.addEventListener(Dt,Sn,qt),()=>window.removeEventListener(Dt,Sn,qt)},[Dt,qt])}var te=(Dt=>(Dt[Dt.Forwards=0]="Forwards",Dt[Dt.Backwards=1]="Backwards",Dt))(te||{});function ee(){let Dt=(0,o.useRef)(0);return Q("keydown",ln=>{ln.key==="Tab"&&(Dt.current=ln.shiftKey?1:0)},!0),Dt}var L=e(14879);function V(...Dt){return(0,o.useMemo)(()=>E(...Dt),[...Dt])}function ne(Dt,ln,qt,fn){let Sn=(0,J.E)(qt);(0,o.useEffect)(()=>{Dt=Dt!=null?Dt:window;function wn(Pn){Sn.current(Pn)}return Dt.addEventListener(ln,wn,fn),()=>Dt.removeEventListener(ln,wn,fn)},[Dt,ln,fn])}var ae=e(81021);function fe(Dt,ln){let qt=(0,o.useRef)([]),fn=(0,G.z)(Dt);(0,o.useEffect)(()=>{let Sn=[...qt.current];for(let[wn,Pn]of ln.entries())if(qt.current[wn]!==Pn){let jn=fn(ln,Sn);return qt.current=ln,jn}},[fn,...ln])}let le="div";var re=(Dt=>(Dt[Dt.None=1]="None",Dt[Dt.InitialFocus=2]="InitialFocus",Dt[Dt.TabLock=4]="TabLock",Dt[Dt.FocusLock=8]="FocusLock",Dt[Dt.RestoreFocus=16]="RestoreFocus",Dt[Dt.All=30]="All",Dt))(re||{});let $=Object.assign((0,d.yV)(function(Dt,ln){let qt=(0,o.useRef)(null),fn=(0,u.T)(qt,ln),oo=Dt,{initialFocus:Sn,containers:wn,features:Pn=30}=oo,jn=Zi(oo,["initialFocus","containers","features"]);(0,v.H)()||(Pn=1);let sr=V(qt);oe({ownerDocument:sr},!!(Pn&16));let _r=se({ownerDocument:sr,container:qt,initialFocus:Sn},!!(Pn&2));ce({ownerDocument:sr,container:qt,containers:wn,previousActiveElement:_r},!!(Pn&8));let hr=ee(),Bn=(0,G.z)(()=>{let Wr=qt.current;!Wr||(0,m.E)(hr.current,{[te.Forwards]:()=>U(Wr,C.First),[te.Backwards]:()=>U(Wr,C.Last)})}),yr={ref:fn};return o.default.createElement(o.default.Fragment,null,!!(Pn&4)&&o.default.createElement(b._,{as:"button",type:"button",onFocus:Bn,features:b.A.Focusable}),(0,d.sY)({ourProps:yr,theirProps:jn,defaultTag:le,name:"FocusTrap"}),!!(Pn&4)&&o.default.createElement(b._,{as:"button",type:"button",onFocus:Bn,features:b.A.Focusable}))}),{features:re});function oe({ownerDocument:Dt},ln){let qt=(0,o.useRef)(null);ne(Dt==null?void 0:Dt.defaultView,"focusout",Sn=>{!ln||qt.current||(qt.current=Sn.target)},!0),fe(()=>{ln||((Dt==null?void 0:Dt.activeElement)===(Dt==null?void 0:Dt.body)&&R(qt.current),qt.current=null)},[ln]);let fn=(0,o.useRef)(!1);(0,o.useEffect)(()=>(fn.current=!1,()=>{fn.current=!0,(0,ae.Y)(()=>{!fn.current||(R(qt.current),qt.current=null)})}),[])}function se({ownerDocument:Dt,container:ln,initialFocus:qt},fn){let Sn=(0,o.useRef)(null),wn=(0,L.t)();return fe(()=>{if(!fn)return;let Pn=ln.current;!Pn||(0,ae.Y)(()=>{if(!wn.current)return;let jn=Dt==null?void 0:Dt.activeElement;if(qt!=null&&qt.current){if((qt==null?void 0:qt.current)===jn){Sn.current=jn;return}}else if(Pn.contains(jn)){Sn.current=jn;return}qt!=null&&qt.current?R(qt.current):U(Pn,C.First)===_.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),Sn.current=Dt==null?void 0:Dt.activeElement})},[fn]),Sn}function ce({ownerDocument:Dt,container:ln,containers:qt,previousActiveElement:fn},Sn){let wn=(0,L.t)();ne(Dt==null?void 0:Dt.defaultView,"focus",Pn=>{if(!Sn||!wn.current)return;let jn=new Set(qt==null?void 0:qt.current);jn.add(ln);let sr=fn.current;if(!sr)return;let _r=Pn.target;_r&&_r instanceof HTMLElement?de(jn,_r)?(fn.current=_r,R(_r)):(Pn.preventDefault(),Pn.stopPropagation(),R(sr)):R(fn.current)},!0)}function de(Dt,ln){var qt;for(let fn of Dt)if((qt=fn.current)!=null&&qt.contains(ln))return!0;return!1}var be=e(16723);let pe=new Set,we=new Map;function xe(Dt){Dt.setAttribute("aria-hidden","true"),Dt.inert=!0}function Ue(Dt){let ln=we.get(Dt);!ln||(ln["aria-hidden"]===null?Dt.removeAttribute("aria-hidden"):Dt.setAttribute("aria-hidden",ln["aria-hidden"]),Dt.inert=ln.inert)}function De(Dt,ln=!0){(0,be.e)(()=>{if(!ln||!Dt.current)return;let qt=Dt.current,fn=E(qt);if(fn){pe.add(qt);for(let Sn of we.keys())Sn.contains(qt)&&(Ue(Sn),we.delete(Sn));return fn.querySelectorAll("body > *").forEach(Sn=>{if(Sn instanceof HTMLElement){for(let wn of pe)if(Sn.contains(wn))return;pe.size===1&&(we.set(Sn,{"aria-hidden":Sn.getAttribute("aria-hidden"),inert:Sn.inert}),xe(Sn))}}),()=>{if(pe.delete(qt),pe.size>0)fn.querySelectorAll("body > *").forEach(Sn=>{if(Sn instanceof HTMLElement&&!we.has(Sn)){for(let wn of pe)if(Sn.contains(wn))return;we.set(Sn,{"aria-hidden":Sn.getAttribute("aria-hidden"),inert:Sn.inert}),xe(Sn)}});else for(let Sn of we.keys())Ue(Sn),we.delete(Sn)}}},[ln])}let _e=(0,o.createContext)(!1);function ie(){return(0,o.useContext)(_e)}function ve(Dt){return o.default.createElement(_e.Provider,{value:Dt.force},Dt.children)}function he(Dt){let ln=ie(),qt=(0,o.useContext)(bt),fn=V(Dt),[Sn,wn]=(0,o.useState)(()=>{if(!ln&&qt!==null||D.s)return null;let Pn=fn==null?void 0:fn.getElementById("headlessui-portal-root");if(Pn)return Pn;if(fn===null)return null;let jn=fn.createElement("div");return jn.setAttribute("id","headlessui-portal-root"),fn.body.appendChild(jn)});return(0,o.useEffect)(()=>{Sn!==null&&(fn!=null&&fn.body.contains(Sn)||fn==null||fn.body.appendChild(Sn))},[Sn,fn]),(0,o.useEffect)(()=>{ln||qt!==null&&wn(qt.current)},[qt,wn,ln]),Sn}let Le=o.Fragment,He=(0,d.yV)(function(Dt,ln){let qt=Dt,fn=(0,o.useRef)(null),Sn=(0,u.T)((0,u.h)(hr=>{fn.current=hr}),ln),wn=V(fn),Pn=he(fn),[jn]=(0,o.useState)(()=>{var hr;return D.s?null:(hr=wn==null?void 0:wn.createElement("div"))!=null?hr:null}),sr=(0,v.H)(),_r=(0,o.useRef)(!1);return(0,be.e)(()=>{if(_r.current=!1,!(!Pn||!jn))return Pn.contains(jn)||(jn.setAttribute("data-headlessui-portal",""),Pn.appendChild(jn)),()=>{_r.current=!0,(0,ae.Y)(()=>{var hr;!_r.current||!Pn||!jn||(Pn.removeChild(jn),Pn.childNodes.length<=0&&((hr=Pn.parentElement)==null||hr.removeChild(Pn)))})}},[Pn,jn]),sr?!Pn||!jn?null:(0,o.createPortal)((0,d.sY)({ourProps:{ref:Sn},theirProps:qt,defaultTag:Le,name:"Portal"}),jn):null}),ht=o.Fragment,bt=(0,o.createContext)(null),Tt=(0,d.yV)(function(Dt,ln){let wn=Dt,{target:qt}=wn,fn=Zi(wn,["target"]),Sn={ref:(0,u.T)(ln)};return o.default.createElement(bt.Provider,{value:qt},(0,d.sY)({ourProps:Sn,theirProps:fn,defaultTag:ht,name:"Popover.Group"}))}),Fe=Object.assign(He,{Group:Tt});var nt=e(39516),ft=e(16567);let Ye=(0,o.createContext)(()=>{});Ye.displayName="StackContext";var rt=(Dt=>(Dt[Dt.Add=0]="Add",Dt[Dt.Remove=1]="Remove",Dt))(rt||{});function $t(){return(0,o.useContext)(Ye)}function sn({children:Dt,onUpdate:ln,type:qt,element:fn,enabled:Sn}){let wn=$t(),Pn=(0,G.z)((...jn)=>{ln==null||ln(...jn),wn(...jn)});return(0,be.e)(()=>{let jn=Sn===void 0||Sn===!0;return jn&&Pn(0,qt,fn),()=>{jn&&Pn(1,qt,fn)}},[Pn,qt,fn,Sn]),o.default.createElement(Ye.Provider,{value:Pn},Dt)}function gt(Dt,ln,qt){let fn=(0,J.E)(ln);(0,o.useEffect)(()=>{function Sn(wn){fn.current(wn)}return document.addEventListener(Dt,Sn,qt),()=>document.removeEventListener(Dt,Sn,qt)},[Dt,qt])}function Ne(Dt,ln,qt=!0){let fn=(0,o.useRef)(!1);(0,o.useEffect)(()=>{requestAnimationFrame(()=>{fn.current=qt})},[qt]);function Sn(Pn,jn){if(!fn.current||Pn.defaultPrevented)return;let sr=function hr(Bn){return typeof Bn=="function"?hr(Bn()):Array.isArray(Bn)||Bn instanceof Set?Bn:[Bn]}(Dt),_r=jn(Pn);if(_r!==null&&_r.getRootNode().contains(_r)){for(let hr of sr){if(hr===null)continue;let Bn=hr instanceof HTMLElement?hr:hr.current;if(Bn!=null&&Bn.contains(_r))return}return!S(_r,P.Loose)&&_r.tabIndex!==-1&&Pn.preventDefault(),ln(Pn,_r)}}let wn=(0,o.useRef)(null);gt("mousedown",Pn=>{var jn,sr;fn.current&&(wn.current=((sr=(jn=Pn.composedPath)==null?void 0:jn.call(Pn))==null?void 0:sr[0])||Pn.target)},!0),gt("click",Pn=>{!wn.current||(Sn(Pn,()=>wn.current),wn.current=null)},!0),gt("blur",Pn=>Sn(Pn,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var We=e(9362);function st(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var ke=(Dt=>(Dt[Dt.Open=0]="Open",Dt[Dt.Closed=1]="Closed",Dt))(ke||{}),Be=(Dt=>(Dt[Dt.SetTitleId=0]="SetTitleId",Dt))(Be||{});let Se={[0](Dt,ln){return Dt.titleId===ln.id?Dt:Fo(or({},Dt),{titleId:ln.id})}},Ke=(0,o.createContext)(null);Ke.displayName="DialogContext";function ut(Dt){let ln=(0,o.useContext)(Ke);if(ln===null){let qt=new Error(`<${Dt} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(qt,ut),qt}return ln}function Oe(Dt,ln){(0,o.useEffect)(()=>{var qt;if(!ln||!Dt)return;let fn=(0,We.k)();function Sn(jn,sr,_r){let hr=jn.style.getPropertyValue(sr);return Object.assign(jn.style,{[sr]:_r}),fn.add(()=>{Object.assign(jn.style,{[sr]:hr})})}let wn=Dt.documentElement,Pn=((qt=Dt.defaultView)!=null?qt:window).innerWidth-wn.clientWidth;if(Sn(wn,"overflow","hidden"),Pn>0){let jn=wn.clientWidth-wn.offsetWidth,sr=Pn-jn;Sn(wn,"paddingRight",`${sr}px`)}if(st()){let jn=window.pageYOffset;Sn(wn,"position","fixed"),Sn(wn,"marginTop",`-${jn}px`),Sn(wn,"width","100%"),fn.add(()=>window.scrollTo(0,jn))}return fn.dispose},[Dt,ln])}function K(Dt,ln){return(0,m.E)(ln.type,Se,Dt,ln)}let Y="div",me=d.AN.RenderStrategy|d.AN.Static,Ie=(0,d.yV)(function(Dt,ln){let jr=Dt,{open:qt,onClose:fn,initialFocus:Sn,__demoMode:wn=!1}=jr,Pn=Zi(jr,["open","onClose","initialFocus","__demoMode"]),[jn,sr]=(0,o.useState)(0),_r=(0,ft.oJ)();qt===void 0&&_r!==null&&(qt=(0,m.E)(_r,{[ft.ZM.Open]:!0,[ft.ZM.Closed]:!1}));let hr=(0,o.useRef)(new Set),Bn=(0,o.useRef)(null),yr=(0,u.T)(Bn,ln),oo=(0,o.useRef)(null),Wr=V(Bn),Zr=Dt.hasOwnProperty("open")||_r!==null,Vr=Dt.hasOwnProperty("onClose");if(!Zr&&!Vr)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Zr)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Vr)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof qt!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${qt}`);if(typeof fn!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${fn}`);let Ur=qt?0:1,[co,no]=(0,o.useReducer)(K,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),Hr=(0,G.z)(()=>fn(!1)),uo=(0,G.z)(Dr=>no({type:0,id:Dr})),yo=(0,v.H)()?wn?!1:Ur===0:!1,ho=jn>1,xo=(0,o.useContext)(Ke)!==null,Qo=ho?"parent":"leaf";De(Bn,ho?yo:!1),Ne(()=>{var Dr,Vt;return[...Array.from((Dr=Wr==null?void 0:Wr.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?Dr:[]).filter(Qt=>!(!(Qt instanceof HTMLElement)||Qt.contains(oo.current)||co.panelRef.current&&Qt.contains(co.panelRef.current))),(Vt=co.panelRef.current)!=null?Vt:Bn.current]},Hr,yo&&!ho),ne(Wr==null?void 0:Wr.defaultView,"keydown",Dr=>{Dr.defaultPrevented||Dr.key===g.R.Escape&&Ur===0&&(ho||(Dr.preventDefault(),Dr.stopPropagation(),Hr()))}),Oe(Wr,Ur===0&&!xo),(0,o.useEffect)(()=>{if(Ur!==0||!Bn.current)return;let Dr=new IntersectionObserver(Vt=>{for(let Qt of Vt)Qt.boundingClientRect.x===0&&Qt.boundingClientRect.y===0&&Qt.boundingClientRect.width===0&&Qt.boundingClientRect.height===0&&Hr()});return Dr.observe(Bn.current),()=>Dr.disconnect()},[Ur,Bn,Hr]);let[Zo,No]=(0,nt.f)(),Ro=`headlessui-dialog-${(0,w.M)()}`,Ko=(0,o.useMemo)(()=>[{dialogState:Ur,close:Hr,setTitleId:uo},co],[Ur,co,Hr,uo]),Yr=(0,o.useMemo)(()=>({open:Ur===0}),[Ur]),Jr={ref:yr,id:Ro,role:"dialog","aria-modal":Ur===0?!0:void 0,"aria-labelledby":co.titleId,"aria-describedby":Zo};return o.default.createElement(sn,{type:"Dialog",enabled:Ur===0,element:Bn,onUpdate:(0,G.z)((Dr,Vt,Qt)=>{Vt==="Dialog"&&(0,m.E)(Dr,{[rt.Add](){hr.current.add(Qt),sr(en=>en+1)},[rt.Remove](){hr.current.add(Qt),sr(en=>en-1)}})})},o.default.createElement(ve,{force:!0},o.default.createElement(Fe,null,o.default.createElement(Ke.Provider,{value:Ko},o.default.createElement(Fe.Group,{target:Bn},o.default.createElement(ve,{force:!1},o.default.createElement(No,{slot:Yr,name:"Dialog.Description"},o.default.createElement($,{initialFocus:Sn,containers:hr,features:yo?(0,m.E)(Qo,{parent:$.features.RestoreFocus,leaf:$.features.All&~$.features.FocusLock}):$.features.None},(0,d.sY)({ourProps:Jr,theirProps:Pn,slot:Yr,defaultTag:Y,features:me,visible:Ur===0,name:"Dialog"})))))))),o.default.createElement(b._,{features:b.A.Hidden,ref:oo}))}),je="div",Xe=(0,d.yV)(function(Dt,ln){let[{dialogState:qt,close:fn}]=ut("Dialog.Overlay"),Sn=(0,u.T)(ln),wn=`headlessui-dialog-overlay-${(0,w.M)()}`,Pn=(0,G.z)(sr=>{if(sr.target===sr.currentTarget){if((0,y.P)(sr.currentTarget))return sr.preventDefault();sr.preventDefault(),sr.stopPropagation(),fn()}}),jn=(0,o.useMemo)(()=>({open:qt===0}),[qt]);return(0,d.sY)({ourProps:{ref:Sn,id:wn,"aria-hidden":!0,onClick:Pn},theirProps:Dt,slot:jn,defaultTag:je,name:"Dialog.Overlay"})}),_t="div",pt=(0,d.yV)(function(Dt,ln){let[{dialogState:qt},fn]=ut("Dialog.Backdrop"),Sn=(0,u.T)(ln),wn=`headlessui-dialog-backdrop-${(0,w.M)()}`;(0,o.useEffect)(()=>{if(fn.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[fn.panelRef]);let Pn=(0,o.useMemo)(()=>({open:qt===0}),[qt]);return o.default.createElement(ve,{force:!0},o.default.createElement(Fe,null,(0,d.sY)({ourProps:{ref:Sn,id:wn,"aria-hidden":!0},theirProps:Dt,slot:Pn,defaultTag:_t,name:"Dialog.Backdrop"})))}),Ge="div",at=(0,d.yV)(function(Dt,ln){let[{dialogState:qt},fn]=ut("Dialog.Panel"),Sn=(0,u.T)(ln,fn.panelRef),wn=`headlessui-dialog-panel-${(0,w.M)()}`,Pn=(0,o.useMemo)(()=>({open:qt===0}),[qt]),jn=(0,G.z)(sr=>{sr.stopPropagation()});return(0,d.sY)({ourProps:{ref:Sn,id:wn,onClick:jn},theirProps:Dt,slot:Pn,defaultTag:Ge,name:"Dialog.Panel"})}),It="h2",zt=(0,d.yV)(function(Dt,ln){let[{dialogState:qt,setTitleId:fn}]=ut("Dialog.Title"),Sn=`headlessui-dialog-title-${(0,w.M)()}`,wn=(0,u.T)(ln);(0,o.useEffect)(()=>(fn(Sn),()=>fn(null)),[Sn,fn]);let Pn=(0,o.useMemo)(()=>({open:qt===0}),[qt]);return(0,d.sY)({ourProps:{ref:wn,id:Sn},theirProps:Dt,slot:Pn,defaultTag:It,name:"Dialog.Title"})}),Xt=Object.assign(Ie,{Backdrop:pt,Panel:at,Overlay:Xe,Title:zt,Description:nt.d})},61363:(z,s,e)=>{"use strict";e.d(s,{R:()=>o});var o=(m=>(m.Space=" ",m.Enter="Enter",m.Escape="Escape",m.Backspace="Backspace",m.Delete="Delete",m.ArrowLeft="ArrowLeft",m.ArrowUp="ArrowUp",m.ArrowRight="ArrowRight",m.ArrowDown="ArrowDown",m.Home="Home",m.End="End",m.PageUp="PageUp",m.PageDown="PageDown",m.Tab="Tab",m))(o||{})},34875:(z,s,e)=>{"use strict";e.d(s,{u:()=>re});var o=e(98661),m=e(12351),d=e(16567),u=e(32984),g=e(14879),y=e(16723),w=e(3855),v=e(82180),b=e(23784);function D($){let oe={called:!1};return(...se)=>{if(!oe.called)return oe.called=!0,$(...se)}}var E=e(9362);function O($,...oe){$&&oe.length>0&&$.classList.add(...oe)}function C($,...oe){$&&oe.length>0&&$.classList.remove(...oe)}var _=($=>($.Ended="ended",$.Cancelled="cancelled",$))(_||{});function a($,oe){let se=(0,E.k)();if(!$)return se.dispose;let{transitionDuration:ce,transitionDelay:de}=getComputedStyle($),[be,pe]=[ce,de].map(we=>{let[xe=0]=we.split(",").filter(Boolean).map(Ue=>Ue.includes("ms")?parseFloat(Ue):parseFloat(Ue)*1e3).sort((Ue,De)=>De-Ue);return xe});if(be+pe!==0){let we=[];we.push(se.addEventListener($,"transitionrun",xe=>{xe.target===xe.currentTarget&&(we.splice(0).forEach(Ue=>Ue()),we.push(se.addEventListener($,"transitionend",Ue=>{Ue.target===Ue.currentTarget&&(oe("ended"),we.splice(0).forEach(De=>De()))}),se.addEventListener($,"transitioncancel",Ue=>{Ue.target===Ue.currentTarget&&(oe("cancelled"),we.splice(0).forEach(De=>De()))})))}))}else oe("ended");return se.add(()=>oe("cancelled")),se.dispose}function l($,oe,se,ce){let de=se?"enter":"leave",be=(0,E.k)(),pe=ce!==void 0?D(ce):()=>{};de==="enter"&&($.removeAttribute("hidden"),$.style.display="");let we=(0,u.E)(de,{enter:()=>oe.enter,leave:()=>oe.leave}),xe=(0,u.E)(de,{enter:()=>oe.enterTo,leave:()=>oe.leaveTo}),Ue=(0,u.E)(de,{enter:()=>oe.enterFrom,leave:()=>oe.leaveFrom});return C($,...oe.enter,...oe.enterTo,...oe.enterFrom,...oe.leave,...oe.leaveFrom,...oe.leaveTo,...oe.entered),O($,...we,...Ue),be.nextFrame(()=>{C($,...Ue),O($,...xe),a($,De=>(De==="ended"&&(C($,...we),O($,...oe.entered)),pe(De)))}),be.dispose}function P(){let[$]=(0,o.useState)(E.k);return(0,o.useEffect)(()=>()=>$.dispose(),[$]),$}function S({container:$,direction:oe,classes:se,onStart:ce,onStop:de}){let be=(0,g.t)(),pe=P(),we=(0,w.E)(oe);(0,y.e)(()=>{let xe=(0,E.k)();pe.add(xe.dispose);let Ue=$.current;if(Ue&&we.current!=="idle"&&be.current)return xe.dispose(),ce.current(we.current),xe.add(l(Ue,se.current,we.current==="enter",De=>{xe.dispose(),(0,u.E)(De,{[_.Ended](){de.current(we.current)},[_.Cancelled]:()=>{}})})),xe.dispose},[oe])}var M=e(73781);function R($=""){return $.split(" ").filter(oe=>oe.trim().length>1)}let N=(0,o.createContext)(null);N.displayName="TransitionContext";var T=($=>($.Visible="visible",$.Hidden="hidden",$))(T||{});function A(){let $=(0,o.useContext)(N);if($===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return $}function F(){let $=(0,o.useContext)(U);if($===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return $}let U=(0,o.createContext)(null);U.displayName="NestingContext";function G($){return"children"in $?G($.children):$.current.filter(({el:oe})=>oe.current!==null).filter(({state:oe})=>oe==="visible").length>0}function J($,oe){let se=(0,w.E)($),ce=(0,o.useRef)([]),de=(0,g.t)(),be=P(),pe=(0,M.z)((ve,he=m.l4.Hidden)=>{let Le=ce.current.findIndex(({el:He})=>He===ve);Le!==-1&&((0,u.E)(he,{[m.l4.Unmount](){ce.current.splice(Le,1)},[m.l4.Hidden](){ce.current[Le].state="hidden"}}),be.microTask(()=>{var He;!G(ce)&&de.current&&((He=se.current)==null||He.call(se))}))}),we=(0,M.z)(ve=>{let he=ce.current.find(({el:Le})=>Le===ve);return he?he.state!=="visible"&&(he.state="visible"):ce.current.push({el:ve,state:"visible"}),()=>pe(ve,m.l4.Unmount)}),xe=(0,o.useRef)([]),Ue=(0,o.useRef)(Promise.resolve()),De=(0,o.useRef)({enter:[],leave:[],idle:[]}),_e=(0,M.z)((ve,he,Le)=>{xe.current.splice(0),oe&&(oe.chains.current[he]=oe.chains.current[he].filter(([He])=>He!==ve)),oe==null||oe.chains.current[he].push([ve,new Promise(He=>{xe.current.push(He)})]),oe==null||oe.chains.current[he].push([ve,new Promise(He=>{Promise.all(De.current[he].map(([ht,bt])=>bt)).then(()=>He())})]),he==="enter"?Ue.current=Ue.current.then(()=>oe==null?void 0:oe.wait.current).then(()=>Le(he)):Le(he)}),ie=(0,M.z)((ve,he,Le)=>{Promise.all(De.current[he].splice(0).map(([He,ht])=>ht)).then(()=>{var He;(He=xe.current.shift())==null||He()}).then(()=>Le(he))});return(0,o.useMemo)(()=>({children:ce,register:we,unregister:pe,onStart:_e,onStop:ie,wait:Ue,chains:De}),[we,pe,ce,_e,ie,De,Ue])}function Q(){}let te=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ee($){var oe;let se={};for(let ce of te)se[ce]=(oe=$[ce])!=null?oe:Q;return se}function L($){let oe=(0,o.useRef)(ee($));return(0,o.useEffect)(()=>{oe.current=ee($)},[$]),oe}let V="div",ne=m.AN.RenderStrategy,ae=(0,m.yV)(function($,oe){let Oe=$,{beforeEnter:se,afterEnter:ce,beforeLeave:de,afterLeave:be,enter:pe,enterFrom:we,enterTo:xe,entered:Ue,leave:De,leaveFrom:_e,leaveTo:ie}=Oe,ve=Zi(Oe,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),he=(0,o.useRef)(null),Le=(0,b.T)(he,oe),He=ve.unmount?m.l4.Unmount:m.l4.Hidden,{show:ht,appear:bt,initial:Tt}=A(),[Fe,nt]=(0,o.useState)(ht?"visible":"hidden"),ft=F(),{register:Ye,unregister:rt}=ft,$t=(0,o.useRef)(null);(0,o.useEffect)(()=>Ye(he),[Ye,he]),(0,o.useEffect)(()=>{if(He===m.l4.Hidden&&he.current){if(ht&&Fe!=="visible"){nt("visible");return}return(0,u.E)(Fe,{hidden:()=>rt(he),visible:()=>Ye(he)})}},[Fe,he,Ye,rt,ht,He]);let sn=(0,w.E)({enter:R(pe),enterFrom:R(we),enterTo:R(xe),entered:R(Ue),leave:R(De),leaveFrom:R(_e),leaveTo:R(ie)}),gt=L({beforeEnter:se,afterEnter:ce,beforeLeave:de,afterLeave:be}),Ne=(0,v.H)();(0,o.useEffect)(()=>{if(Ne&&Fe==="visible"&&he.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[he,Fe,Ne]);let We=Tt&&!bt,st=(()=>!Ne||We||$t.current===ht?"idle":ht?"enter":"leave")(),ke=(0,M.z)(K=>(0,u.E)(K,{enter:()=>gt.current.beforeEnter(),leave:()=>gt.current.beforeLeave(),idle:()=>{}})),Be=(0,M.z)(K=>(0,u.E)(K,{enter:()=>gt.current.afterEnter(),leave:()=>gt.current.afterLeave(),idle:()=>{}})),Se=J(()=>{nt("hidden"),rt(he)},ft);S({container:he,classes:sn,direction:st,onStart:(0,w.E)(K=>{Se.onStart(he,K,ke)}),onStop:(0,w.E)(K=>{Se.onStop(he,K,Be),K==="leave"&&!G(Se)&&(nt("hidden"),rt(he))})}),(0,o.useEffect)(()=>{!We||(He===m.l4.Hidden?$t.current=null:$t.current=ht)},[ht,We,Fe]);let Ke=ve,ut={ref:Le};return o.default.createElement(U.Provider,{value:Se},o.default.createElement(d.up,{value:(0,u.E)(Fe,{visible:d.ZM.Open,hidden:d.ZM.Closed})},(0,m.sY)({ourProps:ut,theirProps:Ke,defaultTag:V,features:ne,visible:Fe==="visible",name:"Transition.Child"})))}),fe=(0,m.yV)(function($,oe){let ht=$,{show:se,appear:ce=!1,unmount:de}=ht,be=Zi(ht,["show","appear","unmount"]),pe=(0,o.useRef)(null),we=(0,b.T)(pe,oe);(0,v.H)();let xe=(0,d.oJ)();if(se===void 0&&xe!==null&&(se=(0,u.E)(xe,{[d.ZM.Open]:!0,[d.ZM.Closed]:!1})),![!0,!1].includes(se))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Ue,De]=(0,o.useState)(se?"visible":"hidden"),_e=J(()=>{De("hidden")}),[ie,ve]=(0,o.useState)(!0),he=(0,o.useRef)([se]);(0,y.e)(()=>{ie!==!1&&he.current[he.current.length-1]!==se&&(he.current.push(se),ve(!1))},[he,se]);let Le=(0,o.useMemo)(()=>({show:se,appear:ce,initial:ie}),[se,ce,ie]);(0,o.useEffect)(()=>{if(se)De("visible");else if(!G(_e))De("hidden");else{let bt=pe.current;if(!bt)return;let Tt=bt.getBoundingClientRect();Tt.x===0&&Tt.y===0&&Tt.width===0&&Tt.height===0&&De("hidden")}},[se,_e]);let He={unmount:de};return o.default.createElement(U.Provider,{value:_e},o.default.createElement(N.Provider,{value:Le},(0,m.sY)({ourProps:Fo(or({},He),{as:o.Fragment,children:o.default.createElement(ae,or(or({ref:we},He),be))}),theirProps:{},defaultTag:o.Fragment,features:ne,visible:Ue==="visible",name:"Transition"})))}),le=(0,m.yV)(function($,oe){let se=(0,o.useContext)(N)!==null,ce=(0,d.oJ)()!==null;return o.default.createElement(o.default.Fragment,null,!se&&ce?o.default.createElement(fe,or({ref:oe},$)):o.default.createElement(ae,or({ref:oe},$)))}),re=Object.assign(fe,{Child:le,Root:fe})},73781:(z,s,e)=>{"use strict";e.d(s,{z:()=>d});var o=e(98661),m=e(3855);let d=function(u){let g=(0,m.E)(u);return o.default.useCallback((...y)=>g.current(...y),[g])}},19946:(z,s,e)=>{"use strict";e.d(s,{M:()=>w});var o=e(98661),m=e(16723),d=e(82180),u;let g=0;function y(){return++g}let w=(u=o.default.useId)!=null?u:function(){let v=(0,d.H)(),[b,D]=o.default.useState(v?y:null);return(0,m.e)(()=>{b===null&&D(y())},[b]),b!=null?""+b:void 0}},14879:(z,s,e)=>{"use strict";e.d(s,{t:()=>d});var o=e(98661),m=e(16723);function d(){let u=(0,o.useRef)(!1);return(0,m.e)(()=>(u.current=!0,()=>{u.current=!1}),[]),u}},16723:(z,s,e)=>{"use strict";e.d(s,{e:()=>d});var o=e(98661),m=e(43393);let d=m.s?o.useEffect:o.useLayoutEffect},3855:(z,s,e)=>{"use strict";e.d(s,{E:()=>d});var o=e(98661),m=e(16723);function d(u){let g=(0,o.useRef)(u);return(0,m.e)(()=>{g.current=u},[u]),g}},82180:(z,s,e)=>{"use strict";e.d(s,{H:()=>d});var o=e(98661);let m={serverHandoffComplete:!1};function d(){let[u,g]=(0,o.useState)(m.serverHandoffComplete);return(0,o.useEffect)(()=>{u!==!0&&g(!0)},[u]),(0,o.useEffect)(()=>{m.serverHandoffComplete===!1&&(m.serverHandoffComplete=!0)},[]),u}},23784:(z,s,e)=>{"use strict";e.d(s,{T:()=>g,h:()=>u});var o=e(98661),m=e(73781);let d=Symbol();function u(y,w=!0){return Object.assign(y,{[d]:w})}function g(...y){let w=(0,o.useRef)(y);(0,o.useEffect)(()=>{w.current=y},[y]);let v=(0,m.z)(b=>{for(let D of w.current)D!=null&&(typeof D=="function"?D(b):D.current=b)});return y.every(b=>b==null||(b==null?void 0:b[d]))?void 0:v}},46045:(z,s,e)=>{"use strict";e.d(s,{A:()=>d,_:()=>u});var o=e(12351);let m="div";var d=(g=>(g[g.None=1]="None",g[g.Focusable=2]="Focusable",g[g.Hidden=4]="Hidden",g))(d||{});let u=(0,o.yV)(function(g,y){let D=g,{features:w=1}=D,v=Zi(D,["features"]),b={ref:y,"aria-hidden":(w&2)===2?!0:void 0,style:or({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(w&4)===4&&(w&2)!==2&&{display:"none"})};return(0,o.sY)({ourProps:b,theirProps:v,slot:{},defaultTag:m,name:"Hidden"})})},16567:(z,s,e)=>{"use strict";e.d(s,{ZM:()=>d,oJ:()=>u,up:()=>g});var o=e(98661);let m=(0,o.createContext)(null);m.displayName="OpenClosedContext";var d=(y=>(y[y.Open=0]="Open",y[y.Closed=1]="Closed",y))(d||{});function u(){return(0,o.useContext)(m)}function g({value:y,children:w}){return o.default.createElement(m.Provider,{value:y},w)}},64103:(z,s,e)=>{"use strict";e.d(s,{P:()=>o});function o(d){let u=d.parentElement,g=null;for(;u&&!(u instanceof HTMLFieldSetElement);)u instanceof HTMLLegendElement&&(g=u),u=u.parentElement;let y=(u==null?void 0:u.getAttribute("disabled"))==="";return y&&m(g)?!1:y}function m(d){if(!d)return!1;let u=d.previousElementSibling;for(;u!==null;){if(u instanceof HTMLLegendElement)return!1;u=u.previousElementSibling}return!0}},9362:(z,s,e)=>{"use strict";e.d(s,{k:()=>m});var o=e(81021);function m(){let d=[],u=[],g={enqueue(w){u.push(w)},addEventListener(w,v,b,D){return w.addEventListener(v,b,D),g.add(()=>w.removeEventListener(v,b,D))},requestAnimationFrame(...w){let v=requestAnimationFrame(...w);return g.add(()=>cancelAnimationFrame(v))},nextFrame(...w){return g.requestAnimationFrame(()=>g.requestAnimationFrame(...w))},setTimeout(...w){let v=setTimeout(...w);return g.add(()=>clearTimeout(v))},microTask(...w){let v={current:!0};return(0,o.Y)(()=>{v.current&&w[0]()}),g.add(()=>{v.current=!1})},add(w){return d.push(w),()=>{let v=d.indexOf(w);if(v>=0){let[b]=d.splice(v,1);b()}}},dispose(){for(let w of d.splice(0))w()},workQueue(){return rl(this,null,function*(){for(let w of u.splice(0))yield w()})}};return g}},32984:(z,s,e)=>{"use strict";e.d(s,{E:()=>o});function o(m,d,...u){if(m in d){let y=d[m];return typeof y=="function"?y(...u):y}let g=new Error(`Tried to handle "${m}" but there is no handler defined. Only defined handlers are: ${Object.keys(d).map(y=>`"${y}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,o),g}},81021:(z,s,e)=>{"use strict";e.d(s,{Y:()=>o});function o(m){typeof queueMicrotask=="function"?queueMicrotask(m):Promise.resolve().then(m).catch(d=>setTimeout(()=>{throw d}))}},12351:(z,s,e)=>{"use strict";e.d(s,{AN:()=>d,l4:()=>u,sY:()=>g,yV:()=>b});var o=e(98661),m=e(32984),d=(O=>(O[O.None=0]="None",O[O.RenderStrategy=1]="RenderStrategy",O[O.Static=2]="Static",O))(d||{}),u=(O=>(O[O.Unmount=0]="Unmount",O[O.Hidden=1]="Hidden",O))(u||{});function g({ourProps:O,theirProps:C,slot:_,defaultTag:a,features:l,visible:P=!0,name:S}){let M=v(C,O);if(P)return y(M,_,a,S);let R=l!=null?l:0;if(R&2){let N=M,{static:A=!1}=N,F=Zi(N,["static"]);if(A)return y(F,_,a,S)}if(R&1){let T=M,{unmount:A=!0}=T,F=Zi(T,["unmount"]);return(0,m.E)(A?0:1,{[0](){return null},[1](){return y(Fo(or({},F),{hidden:!0,style:{display:"none"}}),_,a,S)}})}return y(M,_,a,S)}function y(O,C={},_,a){let A=E(O,["unmount","static"]),{as:l=_,children:P,refName:S="ref"}=A,M=Zi(A,["as","children","refName"]),R=O.ref!==void 0?{[S]:O.ref}:{},N=typeof P=="function"?P(C):P;M.className&&typeof M.className=="function"&&(M.className=M.className(C));let T={};if(C){let F=!1,U=[];for(let[G,J]of Object.entries(C))typeof J=="boolean"&&(F=!0),J===!0&&U.push(G);F&&(T["data-headlessui-state"]=U.join(" "))}if(l===o.Fragment&&Object.keys(D(M)).length>0){if(!(0,o.isValidElement)(N)||Array.isArray(N)&&N.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(M).map(F=>`  - ${F}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(F=>`  - ${F}`).join(`
`)].join(`
`));return(0,o.cloneElement)(N,Object.assign({},v(N.props,D(E(M,["ref"]))),T,R,w(N.ref,R.ref)))}return(0,o.createElement)(l,Object.assign({},E(M,["ref"]),l!==o.Fragment&&R,l!==o.Fragment&&T),N)}function w(...O){return{ref:O.every(C=>C==null)?void 0:C=>{for(let _ of O)_!=null&&(typeof _=="function"?_(C):_.current=C)}}}function v(...O){var C;if(O.length===0)return{};if(O.length===1)return O[0];let _={},a={};for(let l of O)for(let P in l)P.startsWith("on")&&typeof l[P]=="function"?((C=a[P])!=null||(a[P]=[]),a[P].push(l[P])):_[P]=l[P];if(_.disabled||_["aria-disabled"])return Object.assign(_,Object.fromEntries(Object.keys(a).map(l=>[l,void 0])));for(let l in a)Object.assign(_,{[l](P,...S){let M=a[l];for(let R of M){if((P instanceof Event||(P==null?void 0:P.nativeEvent)instanceof Event)&&P.defaultPrevented)return;R(P,...S)}}});return _}function b(O){var C;return Object.assign((0,o.forwardRef)(O),{displayName:(C=O.displayName)!=null?C:O.name})}function D(O){let C=Object.assign({},O);for(let _ in C)C[_]===void 0&&delete C[_];return C}function E(O,C=[]){let _=Object.assign({},O);for(let a of C)a in _&&delete _[a];return _}},43393:(z,s,e)=>{"use strict";e.d(s,{s:()=>o});const o=typeof window=="undefined"||typeof document=="undefined"},5865:(z,s,e)=>{"use strict";e.d(s,{AW:()=>uo,Cf:()=>ra,DK:()=>it,DS:()=>bo,EG:()=>Rn,Jo:()=>xo,K9:()=>$e,ML:()=>ki,NB:()=>ai,Ov:()=>Qe,P1:()=>a,QC:()=>Ko,S0:()=>ii,XP:()=>yr,_4:()=>ho,b5:()=>Zr,hj:()=>de,pr:()=>At,tI:()=>Jr,u9:()=>Zo,vc:()=>di,xh:()=>sn,zK:()=>ci});var o=e(2376),m=e(84348),d=e(60440),u=e(87823),g=e(16560),y=e(25804),w=e(53833);function v(Te){const{state:ge,transaction:Pe}=Te;let{selection:Ve}=Pe,{doc:vt}=Pe,{storedMarks:Pt}=Pe;return Fo(or({},ge),{apply:ge.apply.bind(ge),applyTransaction:ge.applyTransaction.bind(ge),filterTransaction:ge.filterTransaction,plugins:ge.plugins,schema:ge.schema,reconfigure:ge.reconfigure.bind(ge),toJSON:ge.toJSON.bind(ge),get storedMarks(){return Pt},get selection(){return Ve},get doc(){return vt},get tr(){return Ve=Pe.selection,vt=Pe.doc,Pt=Pe.storedMarks,Pe}})}class b{constructor(ge){this.editor=ge.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=ge.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:ge,editor:Pe,state:Ve}=this,{view:vt}=Pe,{tr:Pt}=Ve,Ot=this.buildProps(Pt);return Object.fromEntries(Object.entries(ge).map(([Mt,Ft])=>[Mt,(...un)=>{const tn=Ft(...un)(Ot);return!Pt.getMeta("preventDispatch")&&!this.hasCustomState&&vt.dispatch(Pt),tn}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(ge,Pe=!0){const{rawCommands:Ve,editor:vt,state:Pt}=this,{view:Ot}=vt,Mt=[],Ft=!!ge,Wt=ge||Pt.tr,un=()=>(!Ft&&Pe&&!Wt.getMeta("preventDispatch")&&!this.hasCustomState&&Ot.dispatch(Wt),Mt.every(dn=>dn===!0)),tn=Fo(or({},Object.fromEntries(Object.entries(Ve).map(([dn,Dn])=>[dn,(...fr)=>{const rr=this.buildProps(Wt,Pe),Cn=Dn(...fr)(rr);return Mt.push(Cn),tn}]))),{run:un});return tn}createCan(ge){const{rawCommands:Pe,state:Ve}=this,vt=!1,Pt=ge||Ve.tr,Ot=this.buildProps(Pt,vt),Mt=Object.fromEntries(Object.entries(Pe).map(([Ft,Wt])=>[Ft,(...un)=>Wt(...un)(Fo(or({},Ot),{dispatch:void 0}))]));return Fo(or({},Mt),{chain:()=>this.createChain(Pt,vt)})}buildProps(ge,Pe=!0){const{rawCommands:Ve,editor:vt,state:Pt}=this,{view:Ot}=vt;Pt.storedMarks&&ge.setStoredMarks(Pt.storedMarks);const Mt={tr:ge,editor:vt,view:Ot,state:v({state:Pt,transaction:ge}),dispatch:Pe?()=>{}:void 0,chain:()=>this.createChain(ge),can:()=>this.createCan(ge),get commands(){return Object.fromEntries(Object.entries(Ve).map(([Ft,Wt])=>[Ft,(...un)=>Wt(...un)(Mt)]))}};return Mt}}class D{constructor(){this.callbacks={}}on(ge,Pe){return this.callbacks[ge]||(this.callbacks[ge]=[]),this.callbacks[ge].push(Pe),this}emit(ge,...Pe){const Ve=this.callbacks[ge];return Ve&&Ve.forEach(vt=>vt.apply(this,Pe)),this}off(ge,Pe){const Ve=this.callbacks[ge];return Ve&&(Pe?this.callbacks[ge]=Ve.filter(vt=>vt!==Pe):delete this.callbacks[ge]),this}removeAllListeners(){this.callbacks={}}}function E(Te,ge,Pe){return Te.config[ge]===void 0&&Te.parent?E(Te.parent,ge,Pe):typeof Te.config[ge]=="function"?Te.config[ge].bind(Fo(or({},Pe),{parent:Te.parent?E(Te.parent,ge,Pe):null})):Te.config[ge]}function O(Te){const ge=Te.filter(vt=>vt.type==="extension"),Pe=Te.filter(vt=>vt.type==="node"),Ve=Te.filter(vt=>vt.type==="mark");return{baseExtensions:ge,nodeExtensions:Pe,markExtensions:Ve}}function C(Te){const ge=[],{nodeExtensions:Pe,markExtensions:Ve}=O(Te),vt=[...Pe,...Ve],Pt={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return Te.forEach(Ot=>{const Mt={name:Ot.name,options:Ot.options,storage:Ot.storage},Ft=E(Ot,"addGlobalAttributes",Mt);if(!Ft)return;Ft().forEach(un=>{un.types.forEach(tn=>{Object.entries(un.attributes).forEach(([dn,Dn])=>{ge.push({type:tn,name:dn,attribute:or(or({},Pt),Dn)})})})})}),vt.forEach(Ot=>{const Mt={name:Ot.name,options:Ot.options,storage:Ot.storage},Ft=E(Ot,"addAttributes",Mt);if(!Ft)return;const Wt=Ft();Object.entries(Wt).forEach(([un,tn])=>{const dn=or(or({},Pt),tn);typeof(dn==null?void 0:dn.default)=="function"&&(dn.default=dn.default()),dn!=null&&dn.isRequired&&(dn==null?void 0:dn.default)===void 0&&delete dn.default,ge.push({type:Ot.name,name:un,attribute:dn})})}),ge}function _(Te,ge){if(typeof Te=="string"){if(!ge.nodes[Te])throw Error(`There is no node type named '${Te}'. Maybe you forgot to add the extension?`);return ge.nodes[Te]}return Te}function a(...Te){return Te.filter(ge=>!!ge).reduce((ge,Pe)=>{const Ve=or({},ge);return Object.entries(Pe).forEach(([vt,Pt])=>{if(!Ve[vt]){Ve[vt]=Pt;return}vt==="class"?Ve[vt]=[Ve[vt],Pt].join(" "):vt==="style"?Ve[vt]=[Ve[vt],Pt].join("; "):Ve[vt]=Pt}),Ve},{})}function l(Te,ge){return ge.filter(Pe=>Pe.attribute.rendered).map(Pe=>Pe.attribute.renderHTML?Pe.attribute.renderHTML(Te.attrs)||{}:{[Pe.name]:Te.attrs[Pe.name]}).reduce((Pe,Ve)=>a(Pe,Ve),{})}function P(Te){return typeof Te=="function"}function S(Te,ge=void 0,...Pe){return P(Te)?ge?Te.bind(ge)(...Pe):Te(...Pe):Te}function M(Te={}){return Object.keys(Te).length===0&&Te.constructor===Object}function R(Te){return typeof Te!="string"?Te:Te.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(Te):Te==="true"?!0:Te==="false"?!1:Te}function N(Te,ge){return Te.style?Te:Fo(or({},Te),{getAttrs:Pe=>{const Ve=Te.getAttrs?Te.getAttrs(Pe):Te.attrs;if(Ve===!1)return!1;const vt=ge.reduce((Pt,Ot)=>{const Mt=Ot.attribute.parseHTML?Ot.attribute.parseHTML(Pe):R(Pe.getAttribute(Ot.name));return Mt==null?Pt:Fo(or({},Pt),{[Ot.name]:Mt})},{});return or(or({},Ve),vt)}})}function T(Te){return Object.fromEntries(Object.entries(Te).filter(([ge,Pe])=>ge==="attrs"&&M(Pe)?!1:Pe!=null))}function A(Te,ge){var Pe;const Ve=C(Te),{nodeExtensions:vt,markExtensions:Pt}=O(Te),Ot=(Pe=vt.find(Wt=>E(Wt,"topNode")))===null||Pe===void 0?void 0:Pe.name,Mt=Object.fromEntries(vt.map(Wt=>{const un=Ve.filter(Cn=>Cn.type===Wt.name),tn={name:Wt.name,options:Wt.options,storage:Wt.storage,editor:ge},dn=Te.reduce((Cn,Gn)=>{const ar=E(Gn,"extendNodeSchema",tn);return or(or({},Cn),ar?ar(Wt):{})},{}),Dn=T(Fo(or({},dn),{content:S(E(Wt,"content",tn)),marks:S(E(Wt,"marks",tn)),group:S(E(Wt,"group",tn)),inline:S(E(Wt,"inline",tn)),atom:S(E(Wt,"atom",tn)),selectable:S(E(Wt,"selectable",tn)),draggable:S(E(Wt,"draggable",tn)),code:S(E(Wt,"code",tn)),defining:S(E(Wt,"defining",tn)),isolating:S(E(Wt,"isolating",tn)),attrs:Object.fromEntries(un.map(Cn=>{var Gn;return[Cn.name,{default:(Gn=Cn==null?void 0:Cn.attribute)===null||Gn===void 0?void 0:Gn.default}]}))})),Wn=S(E(Wt,"parseHTML",tn));Wn&&(Dn.parseDOM=Wn.map(Cn=>N(Cn,un)));const fr=E(Wt,"renderHTML",tn);fr&&(Dn.toDOM=Cn=>fr({node:Cn,HTMLAttributes:l(Cn,un)}));const rr=E(Wt,"renderText",tn);return rr&&(Dn.toText=rr),[Wt.name,Dn]})),Ft=Object.fromEntries(Pt.map(Wt=>{const un=Ve.filter(rr=>rr.type===Wt.name),tn={name:Wt.name,options:Wt.options,storage:Wt.storage,editor:ge},dn=Te.reduce((rr,Cn)=>{const Gn=E(Cn,"extendMarkSchema",tn);return or(or({},rr),Gn?Gn(Wt):{})},{}),Dn=T(Fo(or({},dn),{inclusive:S(E(Wt,"inclusive",tn)),excludes:S(E(Wt,"excludes",tn)),group:S(E(Wt,"group",tn)),spanning:S(E(Wt,"spanning",tn)),code:S(E(Wt,"code",tn)),attrs:Object.fromEntries(un.map(rr=>{var Cn;return[rr.name,{default:(Cn=rr==null?void 0:rr.attribute)===null||Cn===void 0?void 0:Cn.default}]}))})),Wn=S(E(Wt,"parseHTML",tn));Wn&&(Dn.parseDOM=Wn.map(rr=>N(rr,un)));const fr=E(Wt,"renderHTML",tn);return fr&&(Dn.toDOM=rr=>fr({mark:rr,HTMLAttributes:l(rr,un)})),[Wt.name,Dn]}));return new u.V_({topNode:Ot,nodes:Mt,marks:Ft})}function F(Te,ge){return ge.nodes[Te]||ge.marks[Te]||null}function U(Te,ge){return Array.isArray(ge)?ge.some(Pe=>(typeof Pe=="string"?Pe:Pe.name)===Te.name):ge}const G=(Te,ge=500)=>{let Pe="";const Ve=Te.parentOffset;return Te.parent.nodesBetween(Math.max(0,Ve-ge),Ve,(vt,Pt,Ot,Mt)=>{var Ft,Wt;const un=((Wt=(Ft=vt.type.spec).toText)===null||Wt===void 0?void 0:Wt.call(Ft,{node:vt,pos:Pt,parent:Ot,index:Mt}))||vt.textContent||"%leaf%";Pe+=un.slice(0,Math.max(0,Ve-Pt))}),Pe};function J(Te){return Object.prototype.toString.call(Te)==="[object RegExp]"}class Q{constructor(ge){this.find=ge.find,this.handler=ge.handler}}const te=(Te,ge)=>{if(J(ge))return ge.exec(Te);const Pe=ge(Te);if(!Pe)return null;const Ve=[Pe.text];return Ve.index=Pe.index,Ve.input=Te,Ve.data=Pe.data,Pe.replaceWith&&(Pe.text.includes(Pe.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),Ve.push(Pe.replaceWith)),Ve};function ee(Te){var ge;const{editor:Pe,from:Ve,to:vt,text:Pt,rules:Ot,plugin:Mt}=Te,{view:Ft}=Pe;if(Ft.composing)return!1;const Wt=Ft.state.doc.resolve(Ve);if(Wt.parent.type.spec.code||!((ge=Wt.nodeBefore||Wt.nodeAfter)===null||ge===void 0)&&ge.marks.find(dn=>dn.type.spec.code))return!1;let un=!1;const tn=G(Wt)+Pt;return Ot.forEach(dn=>{if(un)return;const Dn=te(tn,dn.find);if(!Dn)return;const Wn=Ft.state.tr,fr=v({state:Ft.state,transaction:Wn}),rr={from:Ve-(Dn[0].length-Pt.length),to:vt},{commands:Cn,chain:Gn,can:ar}=new b({editor:Pe,state:fr});dn.handler({state:fr,range:rr,match:Dn,commands:Cn,chain:Gn,can:ar})===null||!Wn.steps.length||(Wn.setMeta(Mt,{transform:Wn,from:Ve,to:vt,text:Pt}),Ft.dispatch(Wn),un=!0)}),un}function L(Te){const{editor:ge,rules:Pe}=Te,Ve=new o.Sy({state:{init(){return null},apply(vt,Pt){const Ot=vt.getMeta(Ve);return Ot||(vt.selectionSet||vt.docChanged?null:Pt)}},props:{handleTextInput(vt,Pt,Ot,Mt){return ee({editor:ge,from:Pt,to:Ot,text:Mt,rules:Pe,plugin:Ve})},handleDOMEvents:{compositionend:vt=>(setTimeout(()=>{const{$cursor:Pt}=vt.state.selection;Pt&&ee({editor:ge,from:Pt.pos,to:Pt.pos,text:"",rules:Pe,plugin:Ve})}),!1)},handleKeyDown(vt,Pt){if(Pt.key!=="Enter")return!1;const{$cursor:Ot}=vt.state.selection;return Ot?ee({editor:ge,from:Ot.pos,to:Ot.pos,text:`
`,rules:Pe,plugin:Ve}):!1}},isInputRules:!0});return Ve}function V(Te){return typeof Te=="number"}class ne{constructor(ge){this.find=ge.find,this.handler=ge.handler}}const ae=(Te,ge)=>{if(J(ge))return[...Te.matchAll(ge)];const Pe=ge(Te);return Pe?Pe.map(Ve=>{const vt=[Ve.text];return vt.index=Ve.index,vt.input=Te,vt.data=Ve.data,Ve.replaceWith&&(Ve.text.includes(Ve.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),vt.push(Ve.replaceWith)),vt}):[]};function fe(Te){const{editor:ge,state:Pe,from:Ve,to:vt,rule:Pt}=Te,{commands:Ot,chain:Mt,can:Ft}=new b({editor:ge,state:Pe}),Wt=[];return Pe.doc.nodesBetween(Ve,vt,(tn,dn)=>{if(!tn.isTextblock||tn.type.spec.code)return;const Dn=Math.max(Ve,dn),Wn=Math.min(vt,dn+tn.content.size),fr=tn.textBetween(Dn-dn,Wn-dn,void 0,"\uFFFC");ae(fr,Pt.find).forEach(Cn=>{if(Cn.index===void 0)return;const Gn=Dn+Cn.index+1,ar=Gn+Cn[0].length,Er={from:Pe.tr.mapping.map(Gn),to:Pe.tr.mapping.map(ar)},Pr=Pt.handler({state:Pe,range:Er,match:Cn,commands:Ot,chain:Mt,can:Ft});Wt.push(Pr)})}),Wt.every(tn=>tn!==null)}function le(Te){const{editor:ge,rules:Pe}=Te;let Ve=null,vt=!1,Pt=!1;return Pe.map(Mt=>new o.Sy({view(Ft){const Wt=un=>{var tn;Ve=!((tn=Ft.dom.parentElement)===null||tn===void 0)&&tn.contains(un.target)?Ft.dom.parentElement:null};return window.addEventListener("dragstart",Wt),{destroy(){window.removeEventListener("dragstart",Wt)}}},props:{handleDOMEvents:{drop:Ft=>(Pt=Ve===Ft.dom.parentElement,!1),paste:(Ft,Wt)=>{var un;const tn=(un=Wt.clipboardData)===null||un===void 0?void 0:un.getData("text/html");return vt=!!(tn!=null&&tn.includes("data-pm-slice")),!1}}},appendTransaction:(Ft,Wt,un)=>{const tn=Ft[0],dn=tn.getMeta("uiEvent")==="paste"&&!vt,Dn=tn.getMeta("uiEvent")==="drop"&&!Pt;if(!dn&&!Dn)return;const Wn=Wt.doc.content.findDiffStart(un.doc.content),fr=Wt.doc.content.findDiffEnd(un.doc.content);if(!V(Wn)||!fr||Wn===fr.b)return;const rr=un.tr,Cn=v({state:un,transaction:rr});if(!(!fe({editor:ge,state:Cn,from:Math.max(Wn-1,0),to:fr.b-1,rule:Mt})||!rr.steps.length))return rr}}))}function re(Te){const ge=Te.filter((Pe,Ve)=>Te.indexOf(Pe)!==Ve);return[...new Set(ge)]}class ${constructor(ge,Pe){this.splittableMarks=[],this.editor=Pe,this.extensions=$.resolve(ge),this.schema=A(this.extensions,Pe),this.extensions.forEach(Ve=>{var vt;this.editor.extensionStorage[Ve.name]=Ve.storage;const Pt={name:Ve.name,options:Ve.options,storage:Ve.storage,editor:this.editor,type:F(Ve.name,this.schema)};Ve.type==="mark"&&(!((vt=S(E(Ve,"keepOnSplit",Pt)))!==null&&vt!==void 0)||vt)&&this.splittableMarks.push(Ve.name);const Ot=E(Ve,"onBeforeCreate",Pt);Ot&&this.editor.on("beforeCreate",Ot);const Mt=E(Ve,"onCreate",Pt);Mt&&this.editor.on("create",Mt);const Ft=E(Ve,"onUpdate",Pt);Ft&&this.editor.on("update",Ft);const Wt=E(Ve,"onSelectionUpdate",Pt);Wt&&this.editor.on("selectionUpdate",Wt);const un=E(Ve,"onTransaction",Pt);un&&this.editor.on("transaction",un);const tn=E(Ve,"onFocus",Pt);tn&&this.editor.on("focus",tn);const dn=E(Ve,"onBlur",Pt);dn&&this.editor.on("blur",dn);const Dn=E(Ve,"onDestroy",Pt);Dn&&this.editor.on("destroy",Dn)})}static resolve(ge){const Pe=$.sort($.flatten(ge)),Ve=re(Pe.map(vt=>vt.name));return Ve.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${Ve.map(vt=>`'${vt}'`).join(", ")}]. This can lead to issues.`),Pe}static flatten(ge){return ge.map(Pe=>{const Ve={name:Pe.name,options:Pe.options,storage:Pe.storage},vt=E(Pe,"addExtensions",Ve);return vt?[Pe,...this.flatten(vt())]:Pe}).flat(10)}static sort(ge){return ge.sort((Ve,vt)=>{const Pt=E(Ve,"priority")||100,Ot=E(vt,"priority")||100;return Pt>Ot?-1:Pt<Ot?1:0})}get commands(){return this.extensions.reduce((ge,Pe)=>{const Ve={name:Pe.name,options:Pe.options,storage:Pe.storage,editor:this.editor,type:F(Pe.name,this.schema)},vt=E(Pe,"addCommands",Ve);return vt?or(or({},ge),vt()):ge},{})}get plugins(){const{editor:ge}=this,Pe=$.sort([...this.extensions].reverse()),Ve=[],vt=[],Pt=Pe.map(Ot=>{const Mt={name:Ot.name,options:Ot.options,storage:Ot.storage,editor:ge,type:F(Ot.name,this.schema)},Ft=[],Wt=E(Ot,"addKeyboardShortcuts",Mt);let un={};if(Ot.type==="mark"&&Ot.config.exitable&&(un.ArrowRight=()=>di.handleExit({editor:ge,mark:Ot})),Wt){const fr=Object.fromEntries(Object.entries(Wt()).map(([rr,Cn])=>[rr,()=>Cn({editor:ge})]));un=or(or({},un),fr)}const tn=(0,d.h)(un);Ft.push(tn);const dn=E(Ot,"addInputRules",Mt);U(Ot,ge.options.enableInputRules)&&dn&&Ve.push(...dn());const Dn=E(Ot,"addPasteRules",Mt);U(Ot,ge.options.enablePasteRules)&&Dn&&vt.push(...Dn());const Wn=E(Ot,"addProseMirrorPlugins",Mt);if(Wn){const fr=Wn();Ft.push(...fr)}return Ft}).flat();return[L({editor:ge,rules:Ve}),...le({editor:ge,rules:vt}),...Pt]}get attributes(){return C(this.extensions)}get nodeViews(){const{editor:ge}=this,{nodeExtensions:Pe}=O(this.extensions);return Object.fromEntries(Pe.filter(Ve=>!!E(Ve,"addNodeView")).map(Ve=>{const vt=this.attributes.filter(Ft=>Ft.type===Ve.name),Pt={name:Ve.name,options:Ve.options,storage:Ve.storage,editor:ge,type:_(Ve.name,this.schema)},Ot=E(Ve,"addNodeView",Pt);if(!Ot)return[];const Mt=(Ft,Wt,un,tn)=>{const dn=l(Ft,vt);return Ot()({editor:ge,node:Ft,getPos:un,decorations:tn,HTMLAttributes:dn,extension:Ve})};return[Ve.name,Mt]}))}}function oe(Te){return Object.prototype.toString.call(Te).slice(8,-1)}function se(Te){return oe(Te)!=="Object"?!1:Te.constructor===Object&&Object.getPrototypeOf(Te)===Object.prototype}function ce(Te,ge){const Pe=or({},Te);return se(Te)&&se(ge)&&Object.keys(ge).forEach(Ve=>{se(ge[Ve])?Ve in Te?Pe[Ve]=ce(Te[Ve],ge[Ve]):Object.assign(Pe,{[Ve]:ge[Ve]}):Object.assign(Pe,{[Ve]:ge[Ve]})}),Pe}class de{constructor(ge={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=or(or({},this.config),ge),this.name=this.config.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(ge={}){return new de(ge)}configure(ge={}){const Pe=this.extend();return Pe.options=ce(this.options,ge),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(ge={}){const Pe=new de(ge);return Pe.parent=this,this.child=Pe,Pe.name=ge.name?ge.name:Pe.parent.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}}function be(Te,ge,Pe){const{from:Ve,to:vt}=ge,{blockSeparator:Pt=`

`,textSerializers:Ot={}}=Pe||{};let Mt="",Ft=!0;return Te.nodesBetween(Ve,vt,(Wt,un,tn,dn)=>{var Dn;const Wn=Ot==null?void 0:Ot[Wt.type.name];Wn?(Wt.isBlock&&!Ft&&(Mt+=Pt,Ft=!0),tn&&(Mt+=Wn({node:Wt,pos:un,parent:tn,index:dn,range:ge}))):Wt.isText?(Mt+=(Dn=Wt==null?void 0:Wt.text)===null||Dn===void 0?void 0:Dn.slice(Math.max(Ve,un)-un,vt-un),Ft=!1):Wt.isBlock&&!Ft&&(Mt+=Pt,Ft=!0)}),Mt}function pe(Te){return Object.fromEntries(Object.entries(Te.nodes).filter(([,ge])=>ge.spec.toText).map(([ge,Pe])=>[ge,Pe.spec.toText]))}const we=de.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:Te}=this,{state:ge,schema:Pe}=Te,{doc:Ve,selection:vt}=ge,{ranges:Pt}=vt,Ot=Math.min(...Pt.map(un=>un.$from.pos)),Mt=Math.max(...Pt.map(un=>un.$to.pos)),Ft=pe(Pe);return be(Ve,{from:Ot,to:Mt},{textSerializers:Ft})}}})]}}),xe=()=>({editor:Te,view:ge})=>(requestAnimationFrame(()=>{var Pe;Te.isDestroyed||(ge.dom.blur(),(Pe=window==null?void 0:window.getSelection())===null||Pe===void 0||Pe.removeAllRanges())}),!0),Ue=(Te=!1)=>({commands:ge})=>ge.setContent("",Te),De=()=>({state:Te,tr:ge,dispatch:Pe})=>{const{selection:Ve}=ge,{ranges:vt}=Ve;return Pe&&vt.forEach(({$from:Pt,$to:Ot})=>{Te.doc.nodesBetween(Pt.pos,Ot.pos,(Mt,Ft)=>{if(Mt.type.isText)return;const{doc:Wt,mapping:un}=ge,tn=Wt.resolve(un.map(Ft)),dn=Wt.resolve(un.map(Ft+Mt.nodeSize)),Dn=tn.blockRange(dn);if(!Dn)return;const Wn=(0,g.k9)(Dn);if(Mt.type.isTextblock){const{defaultType:fr}=tn.parent.contentMatchAt(tn.index());ge.setNodeMarkup(Dn.start,fr)}(Wn||Wn===0)&&ge.lift(Dn,Wn)})}),!0},_e=Te=>ge=>Te(ge),ie=()=>({state:Te,dispatch:ge})=>(0,y.mD)(Te,ge),ve=()=>({tr:Te,dispatch:ge})=>{const{selection:Pe}=Te,Ve=Pe.$anchor.node();if(Ve.content.size>0)return!1;const vt=Te.selection.$anchor;for(let Pt=vt.depth;Pt>0;Pt-=1)if(vt.node(Pt).type===Ve.type){if(ge){const Mt=vt.before(Pt),Ft=vt.after(Pt);Te.delete(Mt,Ft).scrollIntoView()}return!0}return!1},he=Te=>({tr:ge,state:Pe,dispatch:Ve})=>{const vt=_(Te,Pe.schema),Pt=ge.selection.$anchor;for(let Ot=Pt.depth;Ot>0;Ot-=1)if(Pt.node(Ot).type===vt){if(Ve){const Ft=Pt.before(Ot),Wt=Pt.after(Ot);ge.delete(Ft,Wt).scrollIntoView()}return!0}return!1},Le=Te=>({tr:ge,dispatch:Pe})=>{const{from:Ve,to:vt}=Te;return Pe&&ge.delete(Ve,vt),!0},He=()=>({state:Te,dispatch:ge})=>(0,y.NE)(Te,ge),ht=()=>({commands:Te})=>Te.keyboardShortcut("Enter"),bt=()=>({state:Te,dispatch:ge})=>(0,y.uo)(Te,ge);function Tt(Te,ge,Pe={strict:!0}){const Ve=Object.keys(ge);return Ve.length?Ve.every(vt=>Pe.strict?ge[vt]===Te[vt]:J(ge[vt])?ge[vt].test(Te[vt]):ge[vt]===Te[vt]):!0}function Fe(Te,ge,Pe={}){return Te.find(Ve=>Ve.type===ge&&Tt(Ve.attrs,Pe))}function nt(Te,ge,Pe={}){return!!Fe(Te,ge,Pe)}function ft(Te,ge,Pe={}){if(!Te||!ge)return;let Ve=Te.parent.childAfter(Te.parentOffset);if(Te.parentOffset===Ve.offset&&Ve.offset!==0&&(Ve=Te.parent.childBefore(Te.parentOffset)),!Ve.node)return;const vt=Fe([...Ve.node.marks],ge,Pe);if(!vt)return;let Pt=Ve.index,Ot=Te.start()+Ve.offset,Mt=Pt+1,Ft=Ot+Ve.node.nodeSize;for(Fe([...Ve.node.marks],ge,Pe);Pt>0&&vt.isInSet(Te.parent.child(Pt-1).marks);)Pt-=1,Ot-=Te.parent.child(Pt).nodeSize;for(;Mt<Te.parent.childCount&&nt([...Te.parent.child(Mt).marks],ge,Pe);)Ft+=Te.parent.child(Mt).nodeSize,Mt+=1;return{from:Ot,to:Ft}}function Ye(Te,ge){if(typeof Te=="string"){if(!ge.marks[Te])throw Error(`There is no mark type named '${Te}'. Maybe you forgot to add the extension?`);return ge.marks[Te]}return Te}const rt=(Te,ge={})=>({tr:Pe,state:Ve,dispatch:vt})=>{const Pt=Ye(Te,Ve.schema),{doc:Ot,selection:Mt}=Pe,{$from:Ft,from:Wt,to:un}=Mt;if(vt){const tn=ft(Ft,Pt,ge);if(tn&&tn.from<=Wt&&tn.to>=un){const dn=o.Bs.create(Ot,tn.from,tn.to);Pe.setSelection(dn)}}return!0},$t=Te=>ge=>{const Pe=typeof Te=="function"?Te(ge):Te;for(let Ve=0;Ve<Pe.length;Ve+=1)if(Pe[Ve](ge))return!0;return!1};function sn(Te){return Te instanceof o.Bs}function gt(Te=0,ge=0,Pe=0){return Math.min(Math.max(Te,ge),Pe)}function Ne(Te,ge=null){if(!ge)return null;const Pe=o.Y1.atStart(Te),Ve=o.Y1.atEnd(Te);if(ge==="start"||ge===!0)return Pe;if(ge==="end")return Ve;const vt=Pe.from,Pt=Ve.to;return ge==="all"?o.Bs.create(Te,gt(0,vt,Pt),gt(Te.content.size,vt,Pt)):o.Bs.create(Te,gt(ge,vt,Pt),gt(ge,vt,Pt))}function We(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const st=(Te=null,ge={})=>({editor:Pe,view:Ve,tr:vt,dispatch:Pt})=>{ge=or({scrollIntoView:!0},ge);const Ot=()=>{We()&&Ve.dom.focus(),requestAnimationFrame(()=>{Pe.isDestroyed||(Ve.focus(),ge!=null&&ge.scrollIntoView&&Pe.commands.scrollIntoView())})};if(Ve.hasFocus()&&Te===null||Te===!1)return!0;if(Pt&&Te===null&&!sn(Pe.state.selection))return Ot(),!0;const Mt=Ne(vt.doc,Te)||Pe.state.selection,Ft=Pe.state.selection.eq(Mt);return Pt&&(Ft||vt.setSelection(Mt),Ft&&vt.storedMarks&&vt.setStoredMarks(vt.storedMarks),Ot()),!0},ke=(Te,ge)=>Pe=>Te.every((Ve,vt)=>ge(Ve,Fo(or({},Pe),{index:vt}))),Be=(Te,ge)=>({tr:Pe,commands:Ve})=>Ve.insertContentAt({from:Pe.selection.from,to:Pe.selection.to},Te,ge);function Se(Te){const ge=`<body>${Te}</body>`;return new window.DOMParser().parseFromString(ge,"text/html").body}function Ke(Te,ge,Pe){if(Pe=or({slice:!0,parseOptions:{}},Pe),typeof Te=="object"&&Te!==null)try{return Array.isArray(Te)&&Te.length>0?u.HY.fromArray(Te.map(Ve=>ge.nodeFromJSON(Ve))):ge.nodeFromJSON(Te)}catch(Ve){return console.warn("[tiptap warn]: Invalid content.","Passed value:",Te,"Error:",Ve),Ke("",ge,Pe)}if(typeof Te=="string"){const Ve=u.aw.fromSchema(ge);return Pe.slice?Ve.parseSlice(Se(Te),Pe.parseOptions).content:Ve.parse(Se(Te),Pe.parseOptions)}return Ke("",ge,Pe)}function ut(Te,ge,Pe){const Ve=Te.steps.length-1;if(Ve<ge)return;const vt=Te.steps[Ve];if(!(vt instanceof g.Pu||vt instanceof g.FC))return;const Pt=Te.mapping.maps[Ve];let Ot=0;Pt.forEach((Mt,Ft,Wt,un)=>{Ot===0&&(Ot=un)}),Te.setSelection(o.Y1.near(Te.doc.resolve(Ot),Pe))}const Oe=Te=>Te.toString().startsWith("<"),K=(Te,ge,Pe)=>({tr:Ve,dispatch:vt,editor:Pt})=>{if(vt){Pe=or({parseOptions:{},updateSelection:!0},Pe);const Ot=Ke(ge,Pt.schema,{parseOptions:or({preserveWhitespace:"full"},Pe.parseOptions)});if(Ot.toString()==="<>")return!0;let{from:Mt,to:Ft}=typeof Te=="number"?{from:Te,to:Te}:Te,Wt=!0,un=!0;if((Oe(Ot)?Ot:[Ot]).forEach(dn=>{dn.check(),Wt=Wt?dn.isText&&dn.marks.length===0:!1,un=un?dn.isBlock:!1}),Mt===Ft&&un){const{parent:dn}=Ve.doc.resolve(Mt);dn.isTextblock&&!dn.type.spec.code&&!dn.childCount&&(Mt-=1,Ft+=1)}Wt?Array.isArray(ge)?Ve.insertText(ge.map(dn=>dn.text||"").join(""),Mt,Ft):typeof ge=="object"&&ge&&ge.text?Ve.insertText(ge.text,Mt,Ft):Ve.insertText(ge,Mt,Ft):Ve.replaceWith(Mt,Ft,Ot),Pe.updateSelection&&ut(Ve,Ve.steps.length-1,-1)}return!0},Y=()=>({state:Te,dispatch:ge})=>(0,y.MI)(Te,ge),me=()=>({state:Te,dispatch:ge})=>(0,y.Ig)(Te,ge),Ie=()=>({state:Te,dispatch:ge})=>(0,y.al)(Te,ge),je=()=>({state:Te,dispatch:ge})=>(0,y.Y_)(Te,ge);function Xe(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function _t(Te){const ge=Te.split(/-(?!$)/);let Pe=ge[ge.length-1];Pe==="Space"&&(Pe=" ");let Ve,vt,Pt,Ot;for(let Mt=0;Mt<ge.length-1;Mt+=1){const Ft=ge[Mt];if(/^(cmd|meta|m)$/i.test(Ft))Ot=!0;else if(/^a(lt)?$/i.test(Ft))Ve=!0;else if(/^(c|ctrl|control)$/i.test(Ft))vt=!0;else if(/^s(hift)?$/i.test(Ft))Pt=!0;else if(/^mod$/i.test(Ft))We()||Xe()?Ot=!0:vt=!0;else throw new Error(`Unrecognized modifier name: ${Ft}`)}return Ve&&(Pe=`Alt-${Pe}`),vt&&(Pe=`Ctrl-${Pe}`),Ot&&(Pe=`Meta-${Pe}`),Pt&&(Pe=`Shift-${Pe}`),Pe}const pt=Te=>({editor:ge,view:Pe,tr:Ve,dispatch:vt})=>{const Pt=_t(Te).split(/-(?!$)/),Ot=Pt.find(Wt=>!["Alt","Ctrl","Meta","Shift"].includes(Wt)),Mt=new KeyboardEvent("keydown",{key:Ot==="Space"?" ":Ot,altKey:Pt.includes("Alt"),ctrlKey:Pt.includes("Ctrl"),metaKey:Pt.includes("Meta"),shiftKey:Pt.includes("Shift"),bubbles:!0,cancelable:!0}),Ft=ge.captureTransaction(()=>{Pe.someProp("handleKeyDown",Wt=>Wt(Pe,Mt))});return Ft==null||Ft.steps.forEach(Wt=>{const un=Wt.map(Ve.mapping);un&&vt&&Ve.maybeStep(un)}),!0};function Ge(Te,ge,Pe={}){const{from:Ve,to:vt,empty:Pt}=Te.selection,Ot=ge?_(ge,Te.schema):null,Mt=[];Te.doc.nodesBetween(Ve,vt,(tn,dn)=>{if(tn.isText)return;const Dn=Math.max(Ve,dn),Wn=Math.min(vt,dn+tn.nodeSize);Mt.push({node:tn,from:Dn,to:Wn})});const Ft=vt-Ve,Wt=Mt.filter(tn=>Ot?Ot.name===tn.node.type.name:!0).filter(tn=>Tt(tn.node.attrs,Pe,{strict:!1}));return Pt?!!Wt.length:Wt.reduce((tn,dn)=>tn+dn.to-dn.from,0)>=Ft}const at=(Te,ge={})=>({state:Pe,dispatch:Ve})=>{const vt=_(Te,Pe.schema);return Ge(Pe,vt,ge)?(0,y.xb)(Pe,Ve):!1},It=()=>({state:Te,dispatch:ge})=>(0,y.X0)(Te,ge),zt=Te=>({state:ge,dispatch:Pe})=>{const Ve=_(Te,ge.schema);return(0,w.IB)(Ve)(ge,Pe)},Xt=()=>({state:Te,dispatch:ge})=>(0,y.QK)(Te,ge);function Dt(Te,ge){return ge.nodes[Te]?"node":ge.marks[Te]?"mark":null}function ln(Te,ge){const Pe=typeof ge=="string"?[ge]:ge;return Object.keys(Te).reduce((Ve,vt)=>(Pe.includes(vt)||(Ve[vt]=Te[vt]),Ve),{})}const qt=(Te,ge)=>({tr:Pe,state:Ve,dispatch:vt})=>{let Pt=null,Ot=null;const Mt=Dt(typeof Te=="string"?Te:Te.name,Ve.schema);return Mt?(Mt==="node"&&(Pt=_(Te,Ve.schema)),Mt==="mark"&&(Ot=Ye(Te,Ve.schema)),vt&&Pe.selection.ranges.forEach(Ft=>{Ve.doc.nodesBetween(Ft.$from.pos,Ft.$to.pos,(Wt,un)=>{Pt&&Pt===Wt.type&&Pe.setNodeMarkup(un,void 0,ln(Wt.attrs,ge)),Ot&&Wt.marks.length&&Wt.marks.forEach(tn=>{Ot===tn.type&&Pe.addMark(un,un+Wt.nodeSize,Ot.create(ln(tn.attrs,ge)))})})}),!0):!1},fn=()=>({tr:Te,dispatch:ge})=>(ge&&Te.scrollIntoView(),!0),Sn=()=>({tr:Te,commands:ge})=>ge.setTextSelection({from:0,to:Te.doc.content.size}),wn=()=>({state:Te,dispatch:ge})=>(0,y._M)(Te,ge),Pn=()=>({state:Te,dispatch:ge})=>(0,y.o)(Te,ge),jn=()=>({state:Te,dispatch:ge})=>(0,y.N0)(Te,ge),sr=()=>({state:Te,dispatch:ge})=>(0,y.nw)(Te,ge),_r=()=>({state:Te,dispatch:ge})=>(0,y.U9)(Te,ge);function hr(Te,ge,Pe={}){return Ke(Te,ge,{slice:!1,parseOptions:Pe})}const Bn=(Te,ge=!1,Pe={})=>({tr:Ve,editor:vt,dispatch:Pt})=>{const{doc:Ot}=Ve,Mt=hr(Te,vt.schema,Pe);return Pt&&Ve.replaceWith(0,Ot.content.size,Mt).setMeta("preventUpdate",!ge),!0};function yr(Te,ge){const Pe=new g.wx(Te);return ge.forEach(Ve=>{Ve.steps.forEach(vt=>{Pe.step(vt)})}),Pe}function oo(Te){for(let ge=0;ge<Te.edgeCount;ge+=1){const{type:Pe}=Te.edge(ge);if(Pe.isTextblock&&!Pe.hasRequiredAttrs())return Pe}return null}function Wr(Te,ge){const Pe=[];return Te.descendants((Ve,vt)=>{ge(Ve)&&Pe.push({node:Ve,pos:vt})}),Pe}function Zr(Te,ge,Pe){const Ve=[];return Te.nodesBetween(ge.from,ge.to,(vt,Pt)=>{Pe(vt)&&Ve.push({node:vt,pos:Pt})}),Ve}function Vr(Te,ge){for(let Pe=Te.depth;Pe>0;Pe-=1){const Ve=Te.node(Pe);if(ge(Ve))return{pos:Pe>0?Te.before(Pe):0,start:Te.start(Pe),depth:Pe,node:Ve}}}function Ur(Te){return ge=>Vr(ge.$from,Te)}function co(Te,ge){const Pe=u.PW.fromSchema(ge).serializeFragment(Te),vt=document.implementation.createHTMLDocument().createElement("div");return vt.appendChild(Pe),vt.innerHTML}function no(Te,ge){const Pe=$.resolve(Te);return A(Pe,ge)}function Hr(Te,ge){const Pe=no(ge),Ve=Node$1.fromJSON(Pe,Te);return co(Ve.content,Pe)}function uo(Te,ge){const Pe=no(ge),Ve=Se(Te);return u.aw.fromSchema(Pe).parse(Ve).toJSON()}function yo(Te,ge){const Pe={from:0,to:Te.content.size};return be(Te,Pe,ge)}function ho(Te,ge,Pe){const{blockSeparator:Ve=`

`,textSerializers:vt={}}=Pe||{},Pt=no(ge),Ot=u.NB.fromJSON(Pt,Te);return yo(Ot,{blockSeparator:Ve,textSerializers:or(or({},pe(Pt)),vt)})}function xo(Te,ge){const Pe=Ye(ge,Te.schema),{from:Ve,to:vt,empty:Pt}=Te.selection,Ot=[];Pt?(Te.storedMarks&&Ot.push(...Te.storedMarks),Ot.push(...Te.selection.$head.marks())):Te.doc.nodesBetween(Ve,vt,Ft=>{Ot.push(...Ft.marks)});const Mt=Ot.find(Ft=>Ft.type.name===Pe.name);return Mt?or({},Mt.attrs):{}}function Qo(Te,ge){const Pe=_(ge,Te.schema),{from:Ve,to:vt}=Te.selection,Pt=[];Te.doc.nodesBetween(Ve,vt,Mt=>{Pt.push(Mt)});const Ot=Pt.reverse().find(Mt=>Mt.type.name===Pe.name);return Ot?or({},Ot.attrs):{}}function Zo(Te,ge){const Pe=Dt(typeof ge=="string"?ge:ge.name,Te.schema);return Pe==="node"?Qo(Te,ge):Pe==="mark"?xo(Te,ge):{}}function No(Te,ge=JSON.stringify){const Pe={};return Te.filter(Ve=>{const vt=ge(Ve);return Object.prototype.hasOwnProperty.call(Pe,vt)?!1:Pe[vt]=!0})}function Ro(Te){const ge=No(Te);return ge.length===1?ge:ge.filter((Pe,Ve)=>!ge.filter((Pt,Ot)=>Ot!==Ve).some(Pt=>Pe.oldRange.from>=Pt.oldRange.from&&Pe.oldRange.to<=Pt.oldRange.to&&Pe.newRange.from>=Pt.newRange.from&&Pe.newRange.to<=Pt.newRange.to))}function Ko(Te){const{mapping:ge,steps:Pe}=Te,Ve=[];return ge.maps.forEach((vt,Pt)=>{const Ot=[];if(vt.ranges.length)vt.forEach((Mt,Ft)=>{Ot.push({from:Mt,to:Ft})});else{const{from:Mt,to:Ft}=Pe[Pt];if(Mt===void 0||Ft===void 0)return;Ot.push({from:Mt,to:Ft})}Ot.forEach(({from:Mt,to:Ft})=>{const Wt=ge.slice(Pt).map(Mt,-1),un=ge.slice(Pt).map(Ft),tn=ge.invert().map(Wt,-1),dn=ge.invert().map(un);Ve.push({oldRange:{from:tn,to:dn},newRange:{from:Wt,to:un}})})}),Ro(Ve)}function Yr(Te,ge=0){const Ve=Te.type===Te.type.schema.topNodeType?0:1,vt=ge,Pt=vt+Te.nodeSize,Ot=Te.marks.map(Wt=>{const un={type:Wt.type.name};return Object.keys(Wt.attrs).length&&(un.attrs=or({},Wt.attrs)),un}),Mt=or({},Te.attrs),Ft={type:Te.type.name,from:vt,to:Pt};return Object.keys(Mt).length&&(Ft.attrs=Mt),Ot.length&&(Ft.marks=Ot),Te.content.childCount&&(Ft.content=[],Te.forEach((Wt,un)=>{var tn;(tn=Ft.content)===null||tn===void 0||tn.push(Yr(Wt,ge+un+Ve))})),Te.text&&(Ft.text=Te.text),Ft}function Jr(Te,ge,Pe){const Ve=[];return Te===ge?Pe.resolve(Te).marks().forEach(vt=>{const Pt=Pe.resolve(Te-1),Ot=ft(Pt,vt.type);Ot&&Ve.push(or({mark:vt},Ot))}):Pe.nodesBetween(Te,ge,(vt,Pt)=>{Ve.push(...vt.marks.map(Ot=>({from:Pt,to:Pt+vt.nodeSize,mark:Ot})))}),Ve}function jr(Te,ge,Pe){return Object.fromEntries(Object.entries(Pe).filter(([Ve])=>{const vt=Te.find(Pt=>Pt.type===ge&&Pt.name===Ve);return vt?vt.attribute.keepOnSplit:!1}))}function Dr(Te,ge,Pe={}){const{empty:Ve,ranges:vt}=Te.selection,Pt=ge?Ye(ge,Te.schema):null;if(Ve)return!!(Te.storedMarks||Te.selection.$from.marks()).filter(tn=>Pt?Pt.name===tn.type.name:!0).find(tn=>Tt(tn.attrs,Pe,{strict:!1}));let Ot=0;const Mt=[];if(vt.forEach(({$from:tn,$to:dn})=>{const Dn=tn.pos,Wn=dn.pos;Te.doc.nodesBetween(Dn,Wn,(fr,rr)=>{if(!fr.isText&&!fr.marks.length)return;const Cn=Math.max(Dn,rr),Gn=Math.min(Wn,rr+fr.nodeSize),ar=Gn-Cn;Ot+=ar,Mt.push(...fr.marks.map(Er=>({mark:Er,from:Cn,to:Gn})))})}),Ot===0)return!1;const Ft=Mt.filter(tn=>Pt?Pt.name===tn.mark.type.name:!0).filter(tn=>Tt(tn.mark.attrs,Pe,{strict:!1})).reduce((tn,dn)=>tn+dn.to-dn.from,0),Wt=Mt.filter(tn=>Pt?tn.mark.type!==Pt&&tn.mark.type.excludes(Pt):!0).reduce((tn,dn)=>tn+dn.to-dn.from,0);return(Ft>0?Ft+Wt:Ft)>=Ot}function Vt(Te,ge,Pe={}){if(!ge)return Ge(Te,null,Pe)||Dr(Te,null,Pe);const Ve=Dt(ge,Te.schema);return Ve==="node"?Ge(Te,ge,Pe):Ve==="mark"?Dr(Te,ge,Pe):!1}function Qt(Te,ge){const{nodeExtensions:Pe}=O(ge),Ve=Pe.find(Ot=>Ot.name===Te);if(!Ve)return!1;const vt={name:Ve.name,options:Ve.options,storage:Ve.storage},Pt=S(E(Ve,"group",vt));return typeof Pt!="string"?!1:Pt.split(" ").includes("list")}function en(Te){var ge;const Pe=(ge=Te.type.createAndFill())===null||ge===void 0?void 0:ge.toJSON(),Ve=Te.toJSON();return JSON.stringify(Pe)===JSON.stringify(Ve)}function Rn(Te){return Te instanceof o.qv}function At(Te,ge,Pe){const vt=Te.state.doc.content.size,Pt=gt(ge,0,vt),Ot=gt(Pe,0,vt),Mt=Te.coordsAtPos(Pt),Ft=Te.coordsAtPos(Ot,-1),Wt=Math.min(Mt.top,Ft.top),un=Math.max(Mt.bottom,Ft.bottom),tn=Math.min(Mt.left,Ft.left),dn=Math.max(Mt.right,Ft.right),Dn=dn-tn,Wn=un-Wt,Cn={top:Wt,bottom:un,left:tn,right:dn,width:Dn,height:Wn,x:tn,y:Wt};return Fo(or({},Cn),{toJSON:()=>Cn})}function Zt(Te,ge,Pe){var Ve;const{selection:vt}=ge;let Pt=null;if(sn(vt)&&(Pt=vt.$cursor),Pt){const Mt=(Ve=Te.storedMarks)!==null&&Ve!==void 0?Ve:Pt.marks();return!!Pe.isInSet(Mt)||!Mt.some(Ft=>Ft.type.excludes(Pe))}const{ranges:Ot}=vt;return Ot.some(({$from:Mt,$to:Ft})=>{let Wt=Mt.depth===0?Te.doc.inlineContent&&Te.doc.type.allowsMarkType(Pe):!1;return Te.doc.nodesBetween(Mt.pos,Ft.pos,(un,tn,dn)=>{if(Wt)return!1;if(un.isInline){const Dn=!dn||dn.type.allowsMarkType(Pe),Wn=!!Pe.isInSet(un.marks)||!un.marks.some(fr=>fr.type.excludes(Pe));Wt=Dn&&Wn}return!Wt}),Wt})}const jt=(Te,ge={})=>({tr:Pe,state:Ve,dispatch:vt})=>{const{selection:Pt}=Pe,{empty:Ot,ranges:Mt}=Pt,Ft=Ye(Te,Ve.schema);if(vt)if(Ot){const Wt=xo(Ve,Ft);Pe.addStoredMark(Ft.create(or(or({},Wt),ge)))}else Mt.forEach(Wt=>{const un=Wt.$from.pos,tn=Wt.$to.pos;Ve.doc.nodesBetween(un,tn,(dn,Dn)=>{const Wn=Math.max(Dn,un),fr=Math.min(Dn+dn.nodeSize,tn);dn.marks.find(Cn=>Cn.type===Ft)?dn.marks.forEach(Cn=>{Ft===Cn.type&&Pe.addMark(Wn,fr,Ft.create(or(or({},Cn.attrs),ge)))}):Pe.addMark(Wn,fr,Ft.create(ge))})});return Zt(Ve,Pe,Ft)},nn=(Te,ge)=>({tr:Pe})=>(Pe.setMeta(Te,ge),!0),gn=(Te,ge={})=>({state:Pe,dispatch:Ve,chain:vt})=>{const Pt=_(Te,Pe.schema);return Pt.isTextblock?vt().command(({commands:Ot})=>(0,y.uJ)(Pt,ge)(Pe)?!0:Ot.clearNodes()).command(({state:Ot})=>(0,y.uJ)(Pt,ge)(Ot,Ve)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Mn=Te=>({tr:ge,dispatch:Pe})=>{if(Pe){const{doc:Ve}=ge,vt=gt(Te,0,Ve.content.size),Pt=o.qv.create(Ve,vt);ge.setSelection(Pt)}return!0},Xn=Te=>({tr:ge,dispatch:Pe})=>{if(Pe){const{doc:Ve}=ge,{from:vt,to:Pt}=typeof Te=="number"?{from:Te,to:Te}:Te,Ot=o.Bs.atStart(Ve).from,Mt=o.Bs.atEnd(Ve).to,Ft=gt(vt,Ot,Mt),Wt=gt(Pt,Ot,Mt),un=o.Bs.create(Ve,Ft,Wt);ge.setSelection(un)}return!0},nr=Te=>({state:ge,dispatch:Pe})=>{const Ve=_(Te,ge.schema);return(0,w.bw)(Ve)(ge,Pe)};function er(Te,ge){const Pe=Te.storedMarks||Te.selection.$to.parentOffset&&Te.selection.$from.marks();if(Pe){const Ve=Pe.filter(vt=>ge==null?void 0:ge.includes(vt.type.name));Te.tr.ensureMarks(Ve)}}const Nn=({keepMarks:Te=!0}={})=>({tr:ge,state:Pe,dispatch:Ve,editor:vt})=>{const{selection:Pt,doc:Ot}=ge,{$from:Mt,$to:Ft}=Pt,Wt=vt.extensionManager.attributes,un=jr(Wt,Mt.node().type.name,Mt.node().attrs);if(Pt instanceof o.qv&&Pt.node.isBlock)return!Mt.parentOffset||!(0,g.Ax)(Ot,Mt.pos)?!1:(Ve&&(Te&&er(Pe,vt.extensionManager.splittableMarks),ge.split(Mt.pos).scrollIntoView()),!0);if(!Mt.parent.isBlock)return!1;if(Ve){const tn=Ft.parentOffset===Ft.parent.content.size;Pt instanceof o.Bs&&ge.deleteSelection();const dn=Mt.depth===0?void 0:oo(Mt.node(-1).contentMatchAt(Mt.indexAfter(-1)));let Dn=tn&&dn?[{type:dn,attrs:un}]:void 0,Wn=(0,g.Ax)(ge.doc,ge.mapping.map(Mt.pos),1,Dn);if(!Dn&&!Wn&&(0,g.Ax)(ge.doc,ge.mapping.map(Mt.pos),1,dn?[{type:dn}]:void 0)&&(Wn=!0,Dn=dn?[{type:dn,attrs:un}]:void 0),Wn&&(ge.split(ge.mapping.map(Mt.pos),1,Dn),dn&&!tn&&!Mt.parentOffset&&Mt.parent.type!==dn)){const fr=ge.mapping.map(Mt.before()),rr=ge.doc.resolve(fr);Mt.node(-1).canReplaceWith(rr.index(),rr.index()+1,dn)&&ge.setNodeMarkup(ge.mapping.map(Mt.before()),dn)}Te&&er(Pe,vt.extensionManager.splittableMarks),ge.scrollIntoView()}return!0},Sr=Te=>({tr:ge,state:Pe,dispatch:Ve,editor:vt})=>{var Pt;const Ot=_(Te,Pe.schema),{$from:Mt,$to:Ft}=Pe.selection,Wt=Pe.selection.node;if(Wt&&Wt.isBlock||Mt.depth<2||!Mt.sameParent(Ft))return!1;const un=Mt.node(-1);if(un.type!==Ot)return!1;const tn=vt.extensionManager.attributes;if(Mt.parent.content.size===0&&Mt.node(-1).childCount===Mt.indexAfter(-1)){if(Mt.depth===2||Mt.node(-3).type!==Ot||Mt.index(-2)!==Mt.node(-2).childCount-1)return!1;if(Ve){let rr=u.HY.empty;const Cn=Mt.index(-1)?1:Mt.index(-2)?2:3;for(let _o=Mt.depth-Cn;_o>=Mt.depth-3;_o-=1)rr=u.HY.from(Mt.node(_o).copy(rr));const Gn=Mt.indexAfter(-1)<Mt.node(-2).childCount?1:Mt.indexAfter(-2)<Mt.node(-3).childCount?2:3,ar=jr(tn,Mt.node().type.name,Mt.node().attrs),Er=((Pt=Ot.contentMatch.defaultType)===null||Pt===void 0?void 0:Pt.createAndFill(ar))||void 0;rr=rr.append(u.HY.from(Ot.createAndFill(null,Er)||void 0));const Pr=Mt.before(Mt.depth-(Cn-1));ge.replace(Pr,Mt.after(-Gn),new u.p2(rr,4-Cn,0));let ao=-1;ge.doc.nodesBetween(Pr,ge.doc.content.size,(_o,To)=>{if(ao>-1)return!1;_o.isTextblock&&_o.content.size===0&&(ao=To+1)}),ao>-1&&ge.setSelection(o.Bs.near(ge.doc.resolve(ao))),ge.scrollIntoView()}return!0}const dn=Ft.pos===Mt.end()?un.contentMatchAt(0).defaultType:null,Dn=jr(tn,un.type.name,un.attrs),Wn=jr(tn,Mt.node().type.name,Mt.node().attrs);ge.delete(Mt.pos,Ft.pos);const fr=dn?[{type:Ot,attrs:Dn},{type:dn,attrs:Wn}]:[{type:Ot,attrs:Dn}];if(!(0,g.Ax)(ge.doc,Mt.pos,2))return!1;if(Ve){const{selection:rr,storedMarks:Cn}=Pe,{splittableMarks:Gn}=vt.extensionManager,ar=Cn||rr.$to.parentOffset&&rr.$from.marks();if(ge.split(Mt.pos,2,fr).scrollIntoView(),!ar||!Ve)return!0;const Er=ar.filter(Pr=>Gn.includes(Pr.type.name));ge.ensureMarks(Er)}return!0},Tr=(Te,ge)=>{const Pe=Ur(Ot=>Ot.type===ge)(Te.selection);if(!Pe)return!0;const Ve=Te.doc.resolve(Math.max(0,Pe.pos-1)).before(Pe.depth);if(Ve===void 0)return!0;const vt=Te.doc.nodeAt(Ve);return Pe.node.type===(vt==null?void 0:vt.type)&&(0,g.Mn)(Te.doc,Pe.pos)&&Te.join(Pe.pos),!0},br=(Te,ge)=>{const Pe=Ur(Ot=>Ot.type===ge)(Te.selection);if(!Pe)return!0;const Ve=Te.doc.resolve(Pe.start).after(Pe.depth);if(Ve===void 0)return!0;const vt=Te.doc.nodeAt(Ve);return Pe.node.type===(vt==null?void 0:vt.type)&&(0,g.Mn)(Te.doc,Ve)&&Te.join(Ve),!0};var So=Object.freeze({__proto__:null,blur:xe,clearContent:Ue,clearNodes:De,command:_e,createParagraphNear:ie,deleteCurrentNode:ve,deleteNode:he,deleteRange:Le,deleteSelection:He,enter:ht,exitCode:bt,extendMarkRange:rt,first:$t,focus:st,forEach:ke,insertContent:Be,insertContentAt:K,joinUp:Y,joinDown:me,joinBackward:Ie,joinForward:je,keyboardShortcut:pt,lift:at,liftEmptyBlock:It,liftListItem:zt,newlineInCode:Xt,resetAttributes:qt,scrollIntoView:fn,selectAll:Sn,selectNodeBackward:wn,selectNodeForward:Pn,selectParentNode:jn,selectTextblockEnd:sr,selectTextblockStart:_r,setContent:Bn,setMark:jt,setMeta:nn,setNode:gn,setNodeSelection:Mn,setTextSelection:Xn,sinkListItem:nr,splitBlock:Nn,splitListItem:Sr,toggleList:(Te,ge,Pe,Ve={})=>({editor:vt,tr:Pt,state:Ot,dispatch:Mt,chain:Ft,commands:Wt,can:un})=>{const{extensions:tn,splittableMarks:dn}=vt.extensionManager,Dn=_(Te,Ot.schema),Wn=_(ge,Ot.schema),{selection:fr,storedMarks:rr}=Ot,{$from:Cn,$to:Gn}=fr,ar=Cn.blockRange(Gn),Er=rr||fr.$to.parentOffset&&fr.$from.marks();if(!ar)return!1;const Pr=Ur(ao=>Qt(ao.type.name,tn))(fr);if(ar.depth>=1&&Pr&&ar.depth-Pr.depth<=1){if(Pr.node.type===Dn)return Wt.liftListItem(Wn);if(Qt(Pr.node.type.name,tn)&&Dn.validContent(Pr.node.content)&&Mt)return Ft().command(()=>(Pt.setNodeMarkup(Pr.pos,Dn),!0)).command(()=>Tr(Pt,Dn)).command(()=>br(Pt,Dn)).run()}return!Pe||!Er||!Mt?Ft().command(()=>un().wrapInList(Dn,Ve)?!0:Wt.clearNodes()).wrapInList(Dn,Ve).command(()=>Tr(Pt,Dn)).command(()=>br(Pt,Dn)).run():Ft().command(()=>{const ao=un().wrapInList(Dn,Ve),_o=Er.filter(To=>dn.includes(To.type.name));return Pt.ensureMarks(_o),ao?!0:Wt.clearNodes()}).wrapInList(Dn,Ve).command(()=>Tr(Pt,Dn)).command(()=>br(Pt,Dn)).run()},toggleMark:(Te,ge={},Pe={})=>({state:Ve,commands:vt})=>{const{extendEmptyMarkRange:Pt=!1}=Pe,Ot=Ye(Te,Ve.schema);return Dr(Ve,Ot,ge)?vt.unsetMark(Ot,{extendEmptyMarkRange:Pt}):vt.setMark(Ot,ge)},toggleNode:(Te,ge,Pe={})=>({state:Ve,commands:vt})=>{const Pt=_(Te,Ve.schema),Ot=_(ge,Ve.schema);return Ge(Ve,Pt,Pe)?vt.setNode(Ot):vt.setNode(Pt,Pe)},toggleWrap:(Te,ge={})=>({state:Pe,commands:Ve})=>{const vt=_(Te,Pe.schema);return Ge(Pe,vt,ge)?Ve.lift(vt):Ve.wrapIn(vt,ge)},undoInputRule:()=>({state:Te,dispatch:ge})=>{const Pe=Te.plugins;for(let Ve=0;Ve<Pe.length;Ve+=1){const vt=Pe[Ve];let Pt;if(vt.spec.isInputRules&&(Pt=vt.getState(Te))){if(ge){const Ot=Te.tr,Mt=Pt.transform;for(let Ft=Mt.steps.length-1;Ft>=0;Ft-=1)Ot.step(Mt.steps[Ft].invert(Mt.docs[Ft]));if(Pt.text){const Ft=Ot.doc.resolve(Pt.from).marks();Ot.replaceWith(Pt.from,Pt.to,Te.schema.text(Pt.text,Ft))}else Ot.delete(Pt.from,Pt.to)}return!0}}return!1},unsetAllMarks:()=>({tr:Te,dispatch:ge})=>{const{selection:Pe}=Te,{empty:Ve,ranges:vt}=Pe;return Ve||ge&&vt.forEach(Pt=>{Te.removeMark(Pt.$from.pos,Pt.$to.pos)}),!0},unsetMark:(Te,ge={})=>({tr:Pe,state:Ve,dispatch:vt})=>{var Pt;const{extendEmptyMarkRange:Ot=!1}=ge,{selection:Mt}=Pe,Ft=Ye(Te,Ve.schema),{$from:Wt,empty:un,ranges:tn}=Mt;if(!vt)return!0;if(un&&Ot){let{from:dn,to:Dn}=Mt;const Wn=(Pt=Wt.marks().find(rr=>rr.type===Ft))===null||Pt===void 0?void 0:Pt.attrs,fr=ft(Wt,Ft,Wn);fr&&(dn=fr.from,Dn=fr.to),Pe.removeMark(dn,Dn,Ft)}else tn.forEach(dn=>{Pe.removeMark(dn.$from.pos,dn.$to.pos,Ft)});return Pe.removeStoredMark(Ft),!0},updateAttributes:(Te,ge={})=>({tr:Pe,state:Ve,dispatch:vt})=>{let Pt=null,Ot=null;const Mt=Dt(typeof Te=="string"?Te:Te.name,Ve.schema);return Mt?(Mt==="node"&&(Pt=_(Te,Ve.schema)),Mt==="mark"&&(Ot=Ye(Te,Ve.schema)),vt&&Pe.selection.ranges.forEach(Ft=>{const Wt=Ft.$from.pos,un=Ft.$to.pos;Ve.doc.nodesBetween(Wt,un,(tn,dn)=>{Pt&&Pt===tn.type&&Pe.setNodeMarkup(dn,void 0,or(or({},tn.attrs),ge)),Ot&&tn.marks.length&&tn.marks.forEach(Dn=>{if(Ot===Dn.type){const Wn=Math.max(dn,Wt),fr=Math.min(dn+tn.nodeSize,un);Pe.addMark(Wn,fr,Ot.create(or(or({},Dn.attrs),ge)))}})})}),!0):!1},wrapIn:(Te,ge={})=>({state:Pe,dispatch:Ve})=>{const vt=_(Te,Pe.schema);return(0,y.ym)(vt,ge)(Pe,Ve)},wrapInList:(Te,ge={})=>({state:Pe,dispatch:Ve})=>{const vt=_(Te,Pe.schema);return(0,w.KI)(vt,ge)(Pe,Ve)}});const Ci=de.create({name:"commands",addCommands(){return or({},So)}}),io=de.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),li=de.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:Te}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(ge,Pe)=>{Te.isFocused=!0;const Ve=Te.state.tr.setMeta("focus",{event:Pe}).setMeta("addToHistory",!1);return ge.dispatch(Ve),!1},blur:(ge,Pe)=>{Te.isFocused=!1;const Ve=Te.state.tr.setMeta("blur",{event:Pe}).setMeta("addToHistory",!1);return ge.dispatch(Ve),!1}}}})]}}),fi=de.create({name:"keymap",addKeyboardShortcuts(){const Te=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.undoInputRule(),()=>Ot.command(({tr:Mt})=>{const{selection:Ft,doc:Wt}=Mt,{empty:un,$anchor:tn}=Ft,{pos:dn,parent:Dn}=tn,Wn=o.Y1.atStart(Wt).from===dn;return!un||!Wn||!Dn.type.isTextblock||Dn.textContent.length?!1:Ot.clearNodes()}),()=>Ot.deleteSelection(),()=>Ot.joinBackward(),()=>Ot.selectNodeBackward()]),ge=()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.deleteSelection(),()=>Ot.deleteCurrentNode(),()=>Ot.joinForward(),()=>Ot.selectNodeForward()]),Ve={Enter:()=>this.editor.commands.first(({commands:Ot})=>[()=>Ot.newlineInCode(),()=>Ot.createParagraphNear(),()=>Ot.liftEmptyBlock(),()=>Ot.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:Te,"Mod-Backspace":Te,"Shift-Backspace":Te,Delete:ge,"Mod-Delete":ge,"Mod-a":()=>this.editor.commands.selectAll()},vt=or({},Ve),Pt=Fo(or({},Ve),{"Ctrl-h":Te,"Alt-Backspace":Te,"Ctrl-d":ge,"Ctrl-Alt-Backspace":ge,"Alt-Delete":ge,"Alt-d":ge,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return We()||Xe()?Pt:vt},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(Te,ge,Pe)=>{if(!(Te.some(Wn=>Wn.docChanged)&&!ge.doc.eq(Pe.doc)))return;const{empty:vt,from:Pt,to:Ot}=ge.selection,Mt=o.Y1.atStart(ge.doc).from,Ft=o.Y1.atEnd(ge.doc).to;if(vt||!(Pt===Mt&&Ot===Ft)||!(Pe.doc.textBetween(0,Pe.doc.content.size," "," ").length===0))return;const tn=Pe.tr,dn=v({state:Pe,transaction:tn}),{commands:Dn}=new b({editor:this.editor,state:dn});if(Dn.clearNodes(),!!tn.steps.length)return tn}})]}}),Mi=de.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var pi=Object.freeze({__proto__:null,ClipboardTextSerializer:we,Commands:Ci,Editable:io,FocusEvents:li,Keymap:fi,Tabindex:Mi});const Li=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Bi(Te,ge){const Pe=document.querySelector("style[data-tiptap-style]");if(Pe!==null)return Pe;const Ve=document.createElement("style");return ge&&Ve.setAttribute("nonce",ge),Ve.setAttribute("data-tiptap-style",""),Ve.innerHTML=Te,document.getElementsByTagName("head")[0].appendChild(Ve),Ve}class ki extends D{constructor(ge={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(ge),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Bi(Li,this.options.injectNonce))}setOptions(ge={}){this.options=or(or({},this.options),ge),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(ge,Pe=!0){this.setOptions({editable:ge}),Pe&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(ge,Pe){const Ve=P(Pe)?Pe(ge,[...this.state.plugins]):[...this.state.plugins,ge],vt=this.state.reconfigure({plugins:Ve});this.view.updateState(vt)}unregisterPlugin(ge){if(this.isDestroyed)return;const Pe=typeof ge=="string"?`${ge}$`:ge.key,Ve=this.state.reconfigure({plugins:this.state.plugins.filter(vt=>!vt.key.startsWith(Pe))});this.view.updateState(Ve)}createExtensionManager(){const Pe=[...this.options.enableCoreExtensions?Object.values(pi):[],...this.options.extensions].filter(Ve=>["extension","node","mark"].includes(Ve==null?void 0:Ve.type));this.extensionManager=new $(Pe,this)}createCommandManager(){this.commandManager=new b({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const ge=hr(this.options.content,this.schema,this.options.parseOptions),Pe=Ne(ge,this.options.autofocus);this.view=new m.tk(this.options.element,Fo(or({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:ge,selection:Pe||void 0})}));const Ve=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Ve),this.createNodeViews();const vt=this.view.dom;vt.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(ge){this.isCapturingTransaction=!0,ge(),this.isCapturingTransaction=!1;const Pe=this.capturedTransaction;return this.capturedTransaction=null,Pe}dispatchTransaction(ge){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=ge;return}ge.steps.forEach(Ot=>{var Mt;return(Mt=this.capturedTransaction)===null||Mt===void 0?void 0:Mt.step(Ot)});return}const Pe=this.state.apply(ge),Ve=!this.state.selection.eq(Pe.selection);this.view.updateState(Pe),this.emit("transaction",{editor:this,transaction:ge}),Ve&&this.emit("selectionUpdate",{editor:this,transaction:ge});const vt=ge.getMeta("focus"),Pt=ge.getMeta("blur");vt&&this.emit("focus",{editor:this,event:vt.event,transaction:ge}),Pt&&this.emit("blur",{editor:this,event:Pt.event,transaction:ge}),!(!ge.docChanged||ge.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:ge})}getAttributes(ge){return Zo(this.state,ge)}isActive(ge,Pe){const Ve=typeof ge=="string"?ge:null,vt=typeof ge=="string"?Pe:ge;return Vt(this.state,Ve,vt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return co(this.state.doc.content,this.schema)}getText(ge){const{blockSeparator:Pe=`

`,textSerializers:Ve={}}=ge||{};return yo(this.state.doc,{blockSeparator:Pe,textSerializers:or(or({},pe(this.schema)),Ve)})}get isEmpty(){return en(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var ge;return!(!((ge=this.view)===null||ge===void 0)&&ge.docView)}}function ra(Te){return new Q({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{const vt=S(Te.getAttributes,void 0,Ve);if(vt===!1||vt===null)return null;const{tr:Pt}=ge,Ot=Ve[Ve.length-1],Mt=Ve[0];let Ft=Pe.to;if(Ot){const Wt=Mt.search(/\S/),un=Pe.from+Mt.indexOf(Ot),tn=un+Ot.length;if(Jr(Pe.from,Pe.to,ge.doc).filter(Dn=>Dn.mark.type.excluded.find(fr=>fr===Te.type&&fr!==Dn.mark.type)).filter(Dn=>Dn.to>un).length)return null;tn<Pe.to&&Pt.delete(tn,Pe.to),un>Pe.from&&Pt.delete(Pe.from+Wt,un),Ft=Pe.from+Wt+Ot.length,Pt.addMark(Pe.from+Wt,Ft,Te.type.create(vt||{})),Pt.removeStoredMark(Te.type)}}})}function Xo(Te){return new Q({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{const vt=S(Te.getAttributes,void 0,Ve)||{},{tr:Pt}=ge,Ot=Pe.from;let Mt=Pe.to;if(Ve[1]){const Ft=Ve[0].lastIndexOf(Ve[1]);let Wt=Ot+Ft;Wt>Mt?Wt=Mt:Mt=Wt+Ve[1].length;const un=Ve[0][Ve[0].length-1];Pt.insertText(un,Ot+Ve[0].length-1),Pt.replaceWith(Wt,Mt,Te.type.create(vt))}else Ve[0]&&Pt.replaceWith(Ot,Mt,Te.type.create(vt))}})}function ci(Te){return new Q({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{const vt=ge.doc.resolve(Pe.from),Pt=S(Te.getAttributes,void 0,Ve)||{};if(!vt.node(-1).canReplaceWith(vt.index(-1),vt.indexAfter(-1),Te.type))return null;ge.tr.delete(Pe.from,Pe.to).setBlockType(Pe.from,Pe.from,Te.type,Pt)}})}function bo(Te){return new Q({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{let vt=Te.replace,Pt=Pe.from;const Ot=Pe.to;if(Ve[1]){const Mt=Ve[0].lastIndexOf(Ve[1]);vt+=Ve[0].slice(Mt+Ve[1].length),Pt+=Mt;const Ft=Pt-Ot;Ft>0&&(vt=Ve[0].slice(Mt-Ft,Mt)+vt,Pt=Ot)}ge.tr.insertText(vt,Pt,Ot)}})}function ii(Te){return new Q({find:Te.find,handler:({state:ge,range:Pe,match:Ve,chain:vt})=>{const Pt=S(Te.getAttributes,void 0,Ve)||{},Ot=ge.tr.delete(Pe.from,Pe.to),Ft=Ot.doc.resolve(Pe.from).blockRange(),Wt=Ft&&(0,g.nd)(Ft,Te.type,Pt);if(!Wt)return null;if(Ot.wrap(Ft,Wt),Te.keepMarks&&Te.editor){const{selection:tn,storedMarks:dn}=ge,{splittableMarks:Dn}=Te.editor.extensionManager,Wn=dn||tn.$to.parentOffset&&tn.$from.marks();if(Wn){const fr=Wn.filter(rr=>Dn.includes(rr.type.name));Ot.ensureMarks(fr)}}if(Te.keepAttributes){const tn=Te.type.name==="bulletList"||Te.type.name==="orderedList"?"listItem":"taskList";vt().updateAttributes(tn,Pt).run()}const un=Ot.doc.resolve(Pe.from-1).nodeBefore;un&&un.type===Te.type&&(0,g.Mn)(Ot.doc,Pe.from-1)&&(!Te.joinPredicate||Te.joinPredicate(Ve,un))&&Ot.join(Pe.from-1)}})}class di{constructor(ge={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=or(or({},this.config),ge),this.name=this.config.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(ge={}){return new di(ge)}configure(ge={}){const Pe=this.extend();return Pe.options=ce(this.options,ge),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(ge={}){const Pe=new di(ge);return Pe.parent=this,this.child=Pe,Pe.name=ge.name?ge.name:Pe.parent.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}static handleExit({editor:ge,mark:Pe}){const{tr:Ve}=ge.state,vt=ge.state.selection.$from;if(vt.pos===vt.end()){const Ot=vt.marks();if(!!!Ot.find(Wt=>(Wt==null?void 0:Wt.type.name)===Pe.name))return!1;const Ft=Ot.find(Wt=>(Wt==null?void 0:Wt.type.name)===Pe.name);return Ft&&Ve.removeStoredMark(Ft),Ve.insertText(" ",vt.pos),ge.view.dispatch(Ve),!0}return!1}}class ai{constructor(ge={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=or(or({},this.config),ge),this.name=this.config.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=S(E(this,"addOptions",{name:this.name}))),this.storage=S(E(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(ge={}){return new ai(ge)}configure(ge={}){const Pe=this.extend();return Pe.options=ce(this.options,ge),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}extend(ge={}){const Pe=new ai(ge);return Pe.parent=this,this.child=Pe,Pe.name=ge.name?ge.name:Pe.parent.name,ge.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Pe.name}".`),Pe.options=S(E(Pe,"addOptions",{name:Pe.name})),Pe.storage=S(E(Pe,"addStorage",{name:Pe.name,options:Pe.options})),Pe}}class it{constructor(ge,Pe,Ve){this.isDragging=!1,this.component=ge,this.editor=Pe.editor,this.options=or({stopEvent:null,ignoreMutation:null},Ve),this.extension=Pe.extension,this.node=Pe.node,this.decorations=Pe.decorations,this.getPos=Pe.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(ge){var Pe,Ve,vt,Pt,Ot,Mt,Ft;const{view:Wt}=this.editor,un=ge.target,tn=un.nodeType===3?(Pe=un.parentElement)===null||Pe===void 0?void 0:Pe.closest("[data-drag-handle]"):un.closest("[data-drag-handle]");if(!this.dom||!((Ve=this.contentDOM)===null||Ve===void 0)&&Ve.contains(un)||!tn)return;let dn=0,Dn=0;if(this.dom!==tn){const rr=this.dom.getBoundingClientRect(),Cn=tn.getBoundingClientRect(),Gn=(vt=ge.offsetX)!==null&&vt!==void 0?vt:(Pt=ge.nativeEvent)===null||Pt===void 0?void 0:Pt.offsetX,ar=(Ot=ge.offsetY)!==null&&Ot!==void 0?Ot:(Mt=ge.nativeEvent)===null||Mt===void 0?void 0:Mt.offsetY;dn=Cn.x-rr.x+Gn,Dn=Cn.y-rr.y+ar}(Ft=ge.dataTransfer)===null||Ft===void 0||Ft.setDragImage(this.dom,dn,Dn);const Wn=o.qv.create(Wt.state.doc,this.getPos()),fr=Wt.state.tr.setSelection(Wn);Wt.dispatch(fr)}stopEvent(ge){var Pe;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:ge});const Ve=ge.target;if(!(this.dom.contains(Ve)&&!(!((Pe=this.contentDOM)===null||Pe===void 0)&&Pe.contains(Ve))))return!1;const Pt=ge.type.startsWith("drag"),Ot=ge.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(Ve.tagName)||Ve.isContentEditable)&&!Ot&&!Pt)return!0;const{isEditable:Ft}=this.editor,{isDragging:Wt}=this,un=!!this.node.type.spec.draggable,tn=o.qv.isSelectable(this.node),dn=ge.type==="copy",Dn=ge.type==="paste",Wn=ge.type==="cut",fr=ge.type==="mousedown";if(!un&&tn&&Pt&&ge.preventDefault(),un&&Pt&&!Wt)return ge.preventDefault(),!1;if(un&&Ft&&!Wt&&fr){const rr=Ve.closest("[data-drag-handle]");rr&&(this.dom===rr||this.dom.contains(rr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(Wt||Ot||dn||Dn||Wn||fr&&tn)}ignoreMutation(ge){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:ge}):this.node.isLeaf||this.node.isAtom?!0:ge.type==="selection"||this.dom.contains(ge.target)&&ge.type==="childList"&&We()&&this.editor.isFocused&&[...Array.from(ge.addedNodes),...Array.from(ge.removedNodes)].every(Ve=>Ve.isContentEditable)?!1:this.contentDOM===ge.target&&ge.type==="attributes"?!0:!this.contentDOM.contains(ge.target)}updateAttributes(ge){this.editor.commands.command(({tr:Pe})=>{const Ve=this.getPos();return Pe.setNodeMarkup(Ve,void 0,or(or({},this.node.attrs),ge)),!0})}deleteNode(){const ge=this.getPos(),Pe=ge+this.node.nodeSize;this.editor.commands.deleteRange({from:ge,to:Pe})}}function $e(Te){return new ne({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{const vt=S(Te.getAttributes,void 0,Ve);if(vt===!1||vt===null)return null;const{tr:Pt}=ge,Ot=Ve[Ve.length-1],Mt=Ve[0];let Ft=Pe.to;if(Ot){const Wt=Mt.search(/\S/),un=Pe.from+Mt.indexOf(Ot),tn=un+Ot.length;if(Jr(Pe.from,Pe.to,ge.doc).filter(Dn=>Dn.mark.type.excluded.find(fr=>fr===Te.type&&fr!==Dn.mark.type)).filter(Dn=>Dn.to>un).length)return null;tn<Pe.to&&Pt.delete(tn,Pe.to),un>Pe.from&&Pt.delete(Pe.from+Wt,un),Ft=Pe.from+Wt+Ot.length,Pt.addMark(Pe.from+Wt,Ft,Te.type.create(vt||{})),Pt.removeStoredMark(Te.type)}}})}function Qe(Te){return Te.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function mt(Te){return typeof Te=="string"}function yt(Te){return new ne({find:Te.find,handler({match:ge,chain:Pe,range:Ve}){const vt=S(Te.getAttributes,void 0,ge);if(vt===!1||vt===null)return null;ge.input&&Pe().deleteRange(Ve).insertContentAt(Ve.from,{type:Te.type.name,attrs:vt})}})}function Ut(Te){return new ne({find:Te.find,handler:({state:ge,range:Pe,match:Ve})=>{let vt=Te.replace,Pt=Pe.from;const Ot=Pe.to;if(Ve[1]){const Mt=Ve[0].lastIndexOf(Ve[1]);vt+=Ve[0].slice(Mt+Ve[1].length),Pt+=Mt;const Ft=Pt-Ot;Ft>0&&(vt=Ve[0].slice(Mt-Ft,Mt)+vt,Pt=Ot)}ge.tr.insertText(vt,Pt,Ot)}})}class Lt{constructor(ge){this.transaction=ge,this.currentStep=this.transaction.steps.length}map(ge){let Pe=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((vt,Pt)=>{const Ot=Pt.getMap().mapResult(vt);return Ot.deleted&&(Pe=!0),Ot.pos},ge),deleted:Pe}}}},9353:(z,s,e)=>{"use strict";e.d(s,{q3:()=>g});var o=e(5865),m=e(2376),d=e(79253);class u{constructor({editor:v,element:b,view:D,tippyOptions:E={},updateDelay:O=250,shouldShow:C}){this.preventHide=!1,this.shouldShow=({view:_,state:a,from:l,to:P})=>{const{doc:S,selection:M}=a,{empty:R}=M,N=!S.textBetween(l,P).length&&(0,o.xh)(a.selection),T=this.element.contains(document.activeElement);return!(!(_.hasFocus()||T)||R||N||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:_})=>{var a;if(this.preventHide){this.preventHide=!1;return}_!=null&&_.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(_.relatedTarget))||this.hide()},this.tippyBlurHandler=_=>{this.blurHandler({event:_})},this.handleDebouncedUpdate=(_,a)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(_,a)},this.updateDelay)},this.updateHandler=(_,a)=>{var l,P,S;const{state:M,composing:R}=_,{doc:N,selection:T}=M,A=a&&a.doc.eq(N)&&a.selection.eq(T);if(R||A)return;this.createTooltip();const{ranges:F}=T,U=Math.min(...F.map(Q=>Q.$from.pos)),G=Math.max(...F.map(Q=>Q.$to.pos));if(!((l=this.shouldShow)===null||l===void 0?void 0:l.call(this,{editor:this.editor,view:_,state:M,oldState:a,from:U,to:G}))){this.hide();return}(P=this.tippy)===null||P===void 0||P.setProps({getReferenceClientRect:((S=this.tippyOptions)===null||S===void 0?void 0:S.getReferenceClientRect)||(()=>{if((0,o.EG)(M.selection)){let Q=_.nodeDOM(U);const te=Q.dataset.nodeViewWrapper?Q:Q.querySelector("[data-node-view-wrapper]");if(te&&(Q=te.firstChild),Q)return Q.getBoundingClientRect()}return(0,o.pr)(_,U,G)})}),this.show()},this.editor=v,this.element=b,this.view=D,this.updateDelay=O,C&&(this.shouldShow=C),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=E,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:v}=this.editor.options,b=!!v.parentElement;this.tippy||!b||(this.tippy=(0,d.ZP)(v,or({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(v,b){const{state:D}=v,E=D.selection.$from.pos!==D.selection.$to.pos;if(this.updateDelay>0&&E){this.handleDebouncedUpdate(v,b);return}this.updateHandler(v,b)}show(){var v;(v=this.tippy)===null||v===void 0||v.show()}hide(){var v;(v=this.tippy)===null||v===void 0||v.hide()}destroy(){var v,b;!((v=this.tippy)===null||v===void 0)&&v.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(b=this.tippy)===null||b===void 0||b.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const g=w=>new m.Sy({key:typeof w.pluginKey=="string"?new m.H$(w.pluginKey):w.pluginKey,view:v=>new u(or({view:v},w))}),y=o.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[g({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},71284:(z,s,e)=>{"use strict";e.d(s,{M_:()=>l,NM:()=>u,T5:()=>C,fW:()=>S,jE:()=>R,kg:()=>v});var o=e(9353),m=e(98661),d=e(5865);const u=N=>{const[T,A]=(0,m.useState)(null);return(0,m.useEffect)(()=>{if(!T||N.editor.isDestroyed)return;const{pluginKey:F="bubbleMenu",editor:U,tippyOptions:G={},updateDelay:J,shouldShow:Q=null}=N,te=(0,o.q3)({updateDelay:J,editor:U,element:T,pluginKey:F,shouldShow:Q,tippyOptions:G});return U.registerPlugin(te),()=>U.unregisterPlugin(F)},[N.editor,T]),m.default.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)};class g extends d.ML{constructor(){super(...arguments),this.contentComponent=null}}const y=({renderers:N})=>m.default.createElement(m.default.Fragment,null,Object.entries(N).map(([T,A])=>m.default.createPortal(A.reactElement,A.element,T)));class w extends m.default.Component{constructor(T){super(T),this.editorContentRef=m.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:T}=this.props;if(T&&T.options.element){if(T.contentComponent)return;const A=this.editorContentRef.current;A.append(...T.options.element.childNodes),T.setOptions({element:A}),T.contentComponent=this,T.createNodeViews(),this.initialized=!0}}maybeFlushSync(T){this.initialized?(0,m.flushSync)(T):T()}setRenderer(T,A){this.maybeFlushSync(()=>{this.setState(({renderers:F})=>({renderers:Fo(or({},F),{[T]:A})}))})}removeRenderer(T){this.maybeFlushSync(()=>{this.setState(({renderers:A})=>{const F=or({},A);return delete F[T],{renderers:F}})})}componentWillUnmount(){const{editor:T}=this.props;if(!T||(this.initialized=!1,T.isDestroyed||T.view.setProps({nodeViews:{}}),T.contentComponent=null,!T.options.element.firstChild))return;const A=document.createElement("div");A.append(...T.options.element.childNodes),T.setOptions({element:A})}render(){const F=this.props,{editor:T}=F,A=Zi(F,["editor"]);return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",or({ref:this.editorContentRef},A)),m.default.createElement(y,{renderers:this.state.renderers}))}}const v=m.default.memo(w),b=N=>{const[T,A]=useState(null);return useEffect(()=>{if(!T||N.editor.isDestroyed)return;const{pluginKey:F="floatingMenu",editor:U,tippyOptions:G={},shouldShow:J=null}=N,Q=FloatingMenuPlugin({pluginKey:F,editor:U,element:T,tippyOptions:G,shouldShow:J});return U.registerPlugin(Q),()=>U.unregisterPlugin(F)},[N.editor,T]),React.createElement("div",{ref:A,className:N.className,style:{visibility:"hidden"}},N.children)},D=(0,m.createContext)({onDragStart:void 0}),E=()=>(0,m.useContext)(D),O=N=>{const T=N.as||"div",{nodeViewContentRef:A}=E();return React.createElement(T,Fo(or({},N),{ref:A,"data-node-view-content":"",style:or({whiteSpace:"pre-wrap"},N.style)}))},C=m.default.forwardRef((N,T)=>{const{onDragStart:A}=E(),F=N.as||"div";return m.default.createElement(F,Fo(or({},N),{ref:T,"data-node-view-wrapper":"",onDragStart:A,style:or({whiteSpace:"normal"},N.style)}))});function _(N){return!!(typeof N=="function"&&N.prototype&&N.prototype.isReactComponent)}function a(N){var T;return typeof N=="object"&&((T=N.$$typeof)===null||T===void 0?void 0:T.toString())==="Symbol(react.forward_ref)"}class l{constructor(T,{editor:A,props:F={},as:U="div",className:G="",attrs:J}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=T,this.editor=A,this.props=F,this.element=document.createElement(U),this.element.classList.add("react-renderer"),G&&this.element.classList.add(...G.split(" ")),J&&Object.keys(J).forEach(Q=>{this.element.setAttribute(Q,J[Q])}),this.render()}render(){var T,A;const F=this.component,U=this.props;(_(F)||a(F))&&(U.ref=G=>{this.ref=G}),this.reactElement=m.default.createElement(F,or({},U)),(A=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||A===void 0||A.setRenderer(this.id,this)}updateProps(T={}){this.props=or(or({},this.props),T),this.render()}destroy(){var T,A;(A=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||A===void 0||A.removeRenderer(this.id)}}class P extends d.DK{mount(){const T={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(G={})=>this.updateAttributes(G),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const G=J=>J.charAt(0).toUpperCase()+J.substring(1);this.component.displayName=G(this.extension.name)}const A=G=>{const J=this.component,Q=this.onDragStart.bind(this),te=ee=>{ee&&this.contentDOMElement&&ee.firstChild!==this.contentDOMElement&&ee.appendChild(this.contentDOMElement)};return m.default.createElement(m.default.Fragment,null,m.default.createElement(D.Provider,{value:{onDragStart:Q,nodeViewContentRef:te}},m.default.createElement(J,or({},G))))};A.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let F=this.node.isInline?"span":"div";this.options.as&&(F=this.options.as);const{className:U=""}=this.options;this.renderer=new l(A,{editor:this.editor,props:T,as:F,className:`node-${this.node.type.name} ${U}`.trim(),attrs:this.options.attrs})}get dom(){var T;if(this.renderer.element.firstElementChild&&!(!((T=this.renderer.element.firstElementChild)===null||T===void 0)&&T.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(T,A){const F=U=>{this.renderer.updateProps(U)};if(T.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const U=this.node,G=this.decorations;return this.node=T,this.decorations=A,this.options.update({oldNode:U,oldDecorations:G,newNode:T,newDecorations:A,updateProps:()=>F({node:T,decorations:A})})}return T===this.node&&this.decorations===A||(this.node=T,this.decorations=A,F({node:T,decorations:A})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function S(N,T){return A=>A.editor.contentComponent?new P(N,A,T):{}}function M(){const[,N]=(0,m.useState)(0);return()=>N(T=>T+1)}const R=(N={},T=[])=>{const[A,F]=(0,m.useState)(null),U=M(),{onBeforeCreate:G,onBlur:J,onCreate:Q,onDestroy:te,onFocus:ee,onSelectionUpdate:L,onTransaction:V,onUpdate:ne}=N;return(0,m.useEffect)(()=>{A&&(G&&(A.off("beforeCreate"),A.on("beforeCreate",G)),J&&(A.off("blur"),A.on("blur",J)),Q&&(A.off("create"),A.on("create",Q)),te&&(A.off("destroy"),A.on("destroy",te)),ee&&(A.off("focus"),A.on("focus",ee)),L&&(A.off("selectionUpdate"),A.on("selectionUpdate",L)),V&&(A.off("transaction"),A.on("transaction",V)),ne&&(A.off("update"),A.on("update",ne)))},[G,J,Q,te,ee,L,V,ne]),(0,m.useEffect)(()=>{let ae=!0;const fe=new g(N);return F(fe),fe.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{ae&&U()})})}),()=>{fe.destroy(),ae=!1}},T),A}},48583:(z,s,e)=>{"use strict";e.d(s,{KO:()=>D});var o=e(98661),m=e(15103);const d=(0,o.createContext)(void 0),u=E=>{const O=(0,o.useContext)(d);return(E==null?void 0:E.store)||O||(0,m.K7)()},g=({children:E,store:O})=>{const C=useRef();return!O&&!C.current&&(C.current=createStore()),createElement(d.Provider,{value:O||C.current},E)},y=E=>E instanceof Promise,w=o.default.use||(E=>{if(E.status==="pending")throw E;if(E.status==="fulfilled")return E.value;throw E.status==="rejected"?E.reason:(E.status="pending",E.then(O=>{E.status="fulfilled",E.value=O},O=>{E.status="rejected",E.reason=O}),E)});function v(E,O){const C=u(O),[[_,a,l],P]=(0,o.useReducer)(R=>{const N=C.get(E);return Object.is(R[0],N)&&R[1]===C&&R[2]===E?R:[N,C,E]},void 0,()=>[C.get(E),C,E]);let S=_;(a!==C||l!==E)&&(P(),S=C.get(E));const M=O==null?void 0:O.delay;return(0,o.useEffect)(()=>{const R=C.sub(E,()=>{if(typeof M=="number"){setTimeout(P,M);return}P()});return P(),R},[C,E,M]),(0,o.useDebugValue)(S),y(S)?w(S):S}function b(E,O){const C=u(O);return(0,o.useCallback)((...a)=>{if(!("write"in E))throw new Error("not writable atom");return C.set(E,...a)},[C,E])}function D(E,O){return[v(E,O),b(E,O)]}},15103:(z,s,e)=>{"use strict";e.d(s,{K7:()=>l,cn:()=>m});let o=0;function m(P,S){const M=`atom${++o}`,R={toString:()=>M};return typeof P=="function"?R.read=P:(R.init=P,R.read=N=>N(R),R.write=(N,T,A)=>T(R,typeof A=="function"?A(N(R)):A)),S&&(R.write=S),R}const d=P=>"init"in P,u=P=>!!P.write,g=new WeakMap,y=(P,S)=>{g.set(P,S),P.catch(()=>{}).finally(()=>g.delete(P))},w=(P,S)=>{const M=g.get(P);M&&(g.delete(P),M(S))},v=(P,S)=>{P.status="fulfilled",P.value=S},b=(P,S)=>{P.status="rejected",P.reason=S},D=(P,S)=>"v"in P&&"v"in S&&Object.is(P.v,S.v),E=(P,S)=>"e"in P&&"e"in S&&Object.is(P.e,S.e),O=P=>"v"in P&&P.v instanceof Promise,C=P=>{if("e"in P)throw P.e;return P.v},_=()=>{const P=new WeakMap,S=new WeakMap,M=new Map;let R,N,T;R=new Set,N=new Set,T=new Set;const A=ce=>P.get(ce),F=(ce,de)=>{Object.freeze(de);const be=P.get(ce);if(P.set(ce,de),M.has(ce)||M.set(ce,be),be&&O(be)){const pe="v"in de?de.v instanceof Promise?de.v:Promise.resolve(de.v):Promise.reject(de.e);w(be.v,pe)}},U=(ce,de,be)=>{const pe=new Map;let we=!1;be.forEach(xe=>{const Ue=xe===ce?de:A(xe);Ue?(pe.set(xe,Ue),de.d.get(xe)!==Ue&&(we=!0)):console.warn("[Bug] atom state not found")}),(we||de.d.size!==pe.size)&&(de.d=pe)},G=(ce,de,be)=>{const pe=A(ce),we={d:(pe==null?void 0:pe.d)||new Map,v:de};return be&&U(ce,we,be),pe&&D(pe,we)&&pe.d===we.d?pe:(F(ce,we),we)},J=(ce,de,be)=>{const pe=A(ce),we={d:(pe==null?void 0:pe.d)||new Map,e:de};return be&&U(ce,we,be),pe&&E(pe,we)&&pe.d===we.d?pe:(F(ce,we),we)},Q=ce=>{const de=A(ce);if(de&&(de.d.forEach((_e,ie)=>{ie!==ce&&!S.has(ie)&&Q(ie)}),Array.from(de.d).every(([_e,ie])=>_e===ce||A(_e)===ie)))return de;const be=new Set;let pe=!0;const we=_e=>{if(be.add(_e),_e===ce){const ve=A(_e);if(ve)return C(ve);if(d(_e))return _e.init;throw new Error("no atom init")}const ie=Q(_e);return C(ie)};let xe,Ue;const De={get signal(){return xe||(xe=new AbortController),xe.signal},get setSelf(){return u(ce)||console.warn("setSelf function cannot be used with read-only atom"),!Ue&&u(ce)&&(Ue=(..._e)=>{if(pe&&console.warn("setSelf function cannot be called in sync"),!pe)return fe(ce,..._e)}),Ue}};try{const _e=ce.read(we,De);if(_e instanceof Promise){let ie;const ve=new Promise((he,Le)=>{let He=!1;_e.then(ht=>{He||(He=!0,G(ce,ve,be),v(ve,ht),he(ht))},ht=>{He||(He=!0,G(ce,ve,be),b(ve,ht),Le(ht))}),ie=ht=>{He||(He=!0,ht.then(bt=>v(ve,bt),bt=>b(ve,bt)),he(ht))}});return ve.status="pending",y(ve,he=>{he&&ie(he),xe==null||xe.abort()}),G(ce,ve,be)}return G(ce,_e,be)}catch(_e){return J(ce,_e,be)}finally{pe=!1}},te=ce=>C(Q(ce)),ee=ce=>{let de=S.get(ce);return de||(de=le(ce)),de},L=(ce,de)=>!de.l.size&&(!de.t.size||de.t.size===1&&de.t.has(ce)),V=ce=>{const de=S.get(ce);de&&L(ce,de)&&re(ce)},ne=ce=>{const de=S.get(ce);de==null||de.t.forEach(be=>{if(be!==ce){const pe=A(be),we=Q(be);(!pe||!D(pe,we))&&ne(be)}})},ae=(ce,...de)=>{let be=!0;const pe=Ue=>C(Q(Ue)),we=(Ue,...De)=>{let _e;if(Ue===ce){if(!d(Ue))throw new Error("atom not writable");const ie=A(Ue),ve=G(Ue,De[0]);(!ie||!D(ie,ve))&&ne(Ue)}else _e=ae(Ue,...De);return be||oe(),_e},xe=ce.write(pe,we,...de);return be=!1,xe},fe=(ce,...de)=>{const be=ae(ce,...de);return oe(),be},le=(ce,de)=>{const be={t:new Set(de&&[de]),l:new Set};if(S.set(ce,be),T.add(ce),Q(ce).d.forEach((pe,we)=>{const xe=S.get(we);xe?xe.t.add(ce):we!==ce&&le(we,ce)}),Q(ce),u(ce)&&ce.onMount){const pe=ce.onMount((...we)=>fe(ce,...we));pe&&(be.u=pe)}return be},re=ce=>{var de;const be=(de=S.get(ce))==null?void 0:de.u;be&&be(),S.delete(ce),T.delete(ce);const pe=A(ce);pe?(O(pe)&&w(pe.v),pe.d.forEach((we,xe)=>{if(xe!==ce){const Ue=S.get(xe);Ue&&(Ue.t.delete(ce),L(xe,Ue)&&re(xe))}})):console.warn("[Bug] could not find atom state to unmount",ce)},$=(ce,de,be)=>{const pe=new Set(de.d.keys());be==null||be.forEach((we,xe)=>{if(pe.has(xe)){pe.delete(xe);return}const Ue=S.get(xe);Ue&&(Ue.t.delete(ce),L(xe,Ue)&&re(xe))}),pe.forEach(we=>{const xe=S.get(we);xe?xe.t.add(ce):S.has(ce)&&le(we,ce)})},oe=()=>{for(;M.size;){const ce=Array.from(M);M.clear(),ce.forEach(([de,be])=>{const pe=A(de);if(pe){pe.d!==(be==null?void 0:be.d)&&$(de,pe,be==null?void 0:be.d);const we=S.get(de);we&&!(be&&!O(be)&&(D(be,pe)||E(be,pe)))&&we.l.forEach(xe=>xe())}else console.warn("[Bug] no atom state to flush")})}R.forEach(ce=>ce()),N.forEach(ce=>ce("state"))},se=(ce,de)=>{const be=ee(ce);oe();const pe=be.l;return pe.add(de),N.forEach(we=>we("sub")),()=>{pe.delete(de),V(ce),N.forEach(we=>we("unsub"))}};return{get:te,set:fe,sub:se,dev_subscribe_state:ce=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),R.add(ce),()=>{R.delete(ce)}),dev_subscribe_store:ce=>(N.add(ce),()=>{N.delete(ce)}),dev_get_mounted_atoms:()=>T.values(),dev_get_atom_state:ce=>P.get(ce),dev_get_mounted:ce=>S.get(ce),dev_restore_atoms:ce=>{for(const[de,be]of ce)d(de)&&(G(de,be),ne(de));oe()}}};let a;const l=()=>(a||(a=_()),a)},95495:(z,s,e)=>{"use strict";e.d(s,{xu:()=>u});const o=Symbol();function m(re){const $=atom(re,(oe,se,ce)=>{const de=typeof ce=="function"?ce(oe($)):ce;se($,de===o?re:de)});return $}function d(re,$){const oe=atom(re,(se,ce,de)=>ce(oe,$(se(oe),de)));return oe}function u(re,$){let oe=null;const se=new Map,ce=de=>{let be;if($===void 0)be=se.get(de);else for(const[we,xe]of se)if($(we,de)){be=xe;break}if(be!==void 0)if(oe!=null&&oe(be[1],de))ce.remove(de);else return be[0];const pe=re(de);return se.set(de,[pe,Date.now()]),pe};return ce.remove=de=>{if($===void 0)se.delete(de);else for(const[be]of se)if($(be,de)){se.delete(be);break}},ce.setShouldRemove=de=>{if(oe=de,!!oe)for(const[be,pe]of se)oe(pe[1],be)&&se.delete(be)},ce}const g=(re,$,oe)=>($.has(oe)?$:$.set(oe,re())).get(oe),y=new WeakMap,w=(re,$,oe,se)=>{const ce=g(()=>new WeakMap,y,$),de=g(()=>new WeakMap,ce,oe);return g(re,de,se)};function v(re,$,oe=Object.is){return w(()=>{const se=Symbol(),ce=([be,pe])=>{if(pe===se)return $(be);const we=$(be,pe);return oe(pe,we)?pe:we},de=atom(be=>{const pe=be(de),we=be(re);return we instanceof Promise||pe instanceof Promise?Promise.all([we,pe]).then(ce):ce([we,pe])});return de.init=se,de},re,$,oe)}const b=new WeakMap,D=(re,$)=>(b.has($)?b:b.set($,re())).get($),E=re=>{if(typeof re!="object"||re===null)return;Object.freeze(re);const $=Object.getOwnPropertyNames(re);for(const oe of $){const se=re[oe];E(se)}return re};function O(re){return D(()=>atom(oe=>E(oe(re)),(oe,se,ce)=>se(re,ce)),re)}function C(re){return(...$)=>{const oe=re(...$),se=oe.read;return oe.read=(ce,de)=>E(se(ce,de)),oe}}const _=(re,$,oe)=>($.has(oe)?$:$.set(oe,re())).get(oe),a=new WeakMap,l=(re,$,oe)=>{const se=_(()=>new WeakMap,a,$);return _(re,se,oe)},P={},S=re=>!!re.write,M=re=>typeof re=="function";function R(re,$){return l(()=>{const oe=new WeakMap,se=(be,pe)=>{let we=oe.get(be);if(we)return we;const xe=pe&&oe.get(pe),Ue=[],De=[];return be.forEach((_e,ie)=>{const ve=$?$(_e):ie;De[ie]=ve;const he=xe&&xe.atomList[xe.keyList.indexOf(ve)];if(he){Ue[ie]=he;return}const Le=ht=>{const bt=ht(ce),Tt=ht(re),nt=se(Tt,bt==null?void 0:bt.arr).keyList.indexOf(ve);if(nt<0||nt>=Tt.length){const ft=be[se(be).keyList.indexOf(ve)];if(ft)return ft;throw new Error("splitAtom: index out of bounds for read")}return Tt[nt]},He=(ht,bt,Tt)=>{const Fe=ht(ce),nt=ht(re),Ye=se(nt,Fe==null?void 0:Fe.arr).keyList.indexOf(ve);if(Ye<0||Ye>=nt.length)throw new Error("splitAtom: index out of bounds for write");const rt=M(Tt)?Tt(nt[Ye]):Tt;bt(re,[...nt.slice(0,Ye),rt,...nt.slice(Ye+1)])};Ue[ie]=S(re)?atom(Le,He):atom(Le)}),xe&&xe.keyList.length===De.length&&xe.keyList.every((_e,ie)=>_e===De[ie])?we=xe:we={arr:be,atomList:Ue,keyList:De},oe.set(be,we),we},ce=atom(be=>{const pe=be(ce),we=be(re);return se(we,pe==null?void 0:pe.arr)});ce.debugPrivate=!0,ce.init=void 0;const de=S(re)?atom(be=>be(ce).atomList,(be,pe,we)=>{switch(we.type){case"remove":{const xe=be(de).indexOf(we.atom);if(xe>=0){const Ue=be(re);pe(re,[...Ue.slice(0,xe),...Ue.slice(xe+1)])}break}case"insert":{const xe=we.before?be(de).indexOf(we.before):be(de).length;if(xe>=0){const Ue=be(re);pe(re,[...Ue.slice(0,xe),we.value,...Ue.slice(xe)])}break}case"move":{const xe=be(de).indexOf(we.atom),Ue=we.before?be(de).indexOf(we.before):be(de).length;if(xe>=0&&Ue>=0){const De=be(re);xe<Ue?pe(re,[...De.slice(0,xe),...De.slice(xe+1,Ue),De[xe],...De.slice(Ue)]):pe(re,[...De.slice(0,Ue),De[xe],...De.slice(Ue,xe),...De.slice(xe+1)])}break}}}):atom(be=>be(ce).atomList);return de},re,$||P)}const N=(re,$)=>typeof $=="function"?$(re):$;function T(re){const $=Symbol(),oe=atom($);oe.debugPrivate=!0;const se=atom((ce,de)=>{const be=ce(oe);return be!==$?be:re(ce,de)},(ce,de,be)=>{if(be===o)return de(oe,$);const pe=ce(se);return pe instanceof Promise?pe.then(we=>de(oe,N(we,be))):de(oe,N(pe,be))});return se}const A=Symbol();function F(re){let $,oe;const se={getItem:ce=>{var de,be;const pe=xe=>{if(xe=xe||"",$!==xe){try{oe=JSON.parse(xe)}catch(Ue){return A}$=xe}return oe},we=(be=(de=re())==null?void 0:de.getItem(ce))!=null?be:null;return we instanceof Promise?we.then(pe):pe(we)},setItem:(ce,de)=>{var be;return(be=re())==null?void 0:be.setItem(ce,JSON.stringify(de))},removeItem:ce=>{var de;return(de=re())==null?void 0:de.removeItem(ce)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(se.subscribe=(ce,de)=>{const be=pe=>{pe.storageArea===re()&&pe.key===ce&&pe.newValue&&de(JSON.parse(pe.newValue))};return window.addEventListener("storage",be),()=>{window.removeEventListener("storage",be)}}),se}const U=F(()=>typeof window!="undefined"?window.localStorage:void 0);function G(re,$,oe=U){const se=atom($);return se.debugPrivate=!0,se.onMount=de=>{const be=oe.getItem(re);be instanceof Promise?be.then(we=>de(we===A?$:we)):de(be===A?$:be);let pe;return oe.subscribe&&(pe=oe.subscribe(re,de)),pe},atom(de=>de(se),(de,be,pe)=>{const we=typeof pe=="function"?pe(de(se)):pe;return we===o?(be(se,$),oe.removeItem(re)):(be(se,we),oe.setItem(re,we))})}function J(re,$){const oe=de=>{if("e"in de)throw de.e;return de.d},se=atom(de=>{var be;let pe=re(de);const we=(be=pe[Symbol.observable])==null?void 0:be.call(pe);we&&(pe=we);let xe;const Ue=()=>new Promise(Tt=>{xe=Tt}),De=$&&"initialValue"in $?{d:typeof $.initialValue=="function"?$.initialValue():$.initialValue}:Ue();let _e,ie;const ve=Tt=>{ie=Tt,xe==null||xe(Tt),_e==null||_e(Tt)};let he,Le;const He=()=>!_e,ht=()=>{he&&(clearTimeout(Le),he.unsubscribe()),he=pe.subscribe({next:Tt=>ve({d:Tt}),error:Tt=>ve({e:Tt}),complete:()=>{}}),He()&&($!=null&&$.unstable_timeout)&&(Le=setTimeout(()=>{he&&(he.unsubscribe(),he=void 0)},$.unstable_timeout))};ht();const bt=atom(ie||De);return bt.debugPrivate=!0,bt.onMount=Tt=>(_e=Tt,ie&&Tt(ie),he?clearTimeout(Le):ht(),()=>{_e=void 0,he&&(he.unsubscribe(),he=void 0)}),[bt,pe,Ue,ht,He]});return se.debugPrivate=!0,atom(de=>{const[be]=de(se),pe=de(be);return pe instanceof Promise?pe.then(oe):oe(pe)},(de,be,pe)=>{const[we,xe,Ue,De,_e]=de(se);if("next"in xe)_e()&&(be(we,Ue()),De()),xe.next(pe);else throw new Error("observable is not subject")})}const Q=new WeakMap,te=(re,$)=>(Q.has($)?Q:Q.set($,re())).get($),ee={state:"loading"};function L(re){return te(()=>{const $=new WeakMap,oe=atom(0);oe.debugPrivate=!0;const se=atom((ce,{setSelf:de})=>{ce(oe);const be=ce(re);if(!(be instanceof Promise))return{state:"hasData",data:be};const pe=$.get(be);return pe||($.set(be,ee),be.then(we=>{$.set(be,{state:"hasData",data:we})},we=>{$.set(be,{state:"hasError",error:we})}).finally(de),ee)},(ce,de)=>{de(oe,be=>be+1)});return se.debugPrivate=!0,atom(ce=>ce(se))},re)}const V=(re,$,oe)=>($.has(oe)?$:$.set(oe,re())).get(oe),ne=new WeakMap,ae=(re,$,oe)=>{const se=V(()=>new WeakMap,ne,$);return V(re,se,oe)},fe=()=>{};function le(re,$=fe){return ae(()=>{const oe=new WeakMap,se=new WeakMap,ce=atom(0);ce.debugPrivate=!0;const de=atom((be,{setSelf:pe})=>{be(ce);const we=be(de),xe=be(re);if(xe===(we==null?void 0:we.p)){if(oe.has(xe))throw oe.get(xe);if(se.has(xe))return{p:xe,v:se.get(xe)}}return xe!==(we==null?void 0:we.p)&&xe.then(Ue=>se.set(xe,Ue),Ue=>oe.set(xe,Ue)).finally(pe),we&&"v"in we?{p:xe,f:$(we.v)}:{p:xe,f:$()}},(be,pe)=>{pe(ce,we=>we+1)});return de.init=void 0,de.debugPrivate=!0,atom(be=>{const pe=be(de);return"v"in pe?pe.v:pe.f})},re,$)}},25804:(z,s,e)=>{"use strict";e.d(s,{Ig:()=>S,MI:()=>P,N0:()=>Q,NE:()=>u,QK:()=>R,U9:()=>ne,X0:()=>F,Y_:()=>_,_M:()=>E,al:()=>y,mD:()=>A,nw:()=>ae,o:()=>a,uJ:()=>le,uo:()=>T,xb:()=>M,ym:()=>fe});var o=e(16560),m=e(87823),d=e(2376);const u=(De,_e)=>De.selection.empty?!1:(_e&&_e(De.tr.deleteSelection().scrollIntoView()),!0);function g(De,_e){let{$cursor:ie}=De.selection;return!ie||(_e?!_e.endOfTextblock("backward",De):ie.parentOffset>0)?null:ie}const y=(De,_e,ie)=>{let ve=g(De,ie);if(!ve)return!1;let he=O(ve);if(!he){let He=ve.blockRange(),ht=He&&(0,o.k9)(He);return ht==null?!1:(_e&&_e(De.tr.lift(He,ht).scrollIntoView()),!0)}let Le=he.nodeBefore;if(!Le.type.spec.isolating&&L(De,he,_e))return!0;if(ve.parent.content.size==0&&(D(Le,"end")||d.qv.isSelectable(Le))){let He=(0,o.dR)(De.doc,ve.before(),ve.after(),m.p2.empty);if(He&&He.slice.size<He.to-He.from){if(_e){let ht=De.tr.step(He);ht.setSelection(D(Le,"end")?d.Y1.findFrom(ht.doc.resolve(ht.mapping.map(he.pos,-1)),-1):d.qv.create(ht.doc,he.pos-Le.nodeSize)),_e(ht.scrollIntoView())}return!0}}return Le.isAtom&&he.depth==ve.depth-1?(_e&&_e(De.tr.delete(he.pos-Le.nodeSize,he.pos).scrollIntoView()),!0):!1},w=(De,_e,ie)=>{let ve=g(De,ie);if(!ve)return!1;let he=O(ve);return he?b(De,he,_e):!1},v=(De,_e,ie)=>{let ve=C(De,ie);if(!ve)return!1;let he=l(ve);return he?b(De,he,_e):!1};function b(De,_e,ie){let ve=_e.nodeBefore,he=ve,Le=_e.pos-1;for(;!he.isTextblock;Le--){if(he.type.spec.isolating)return!1;let Fe=he.lastChild;if(!Fe)return!1;he=Fe}let He=_e.nodeAfter,ht=He,bt=_e.pos+1;for(;!ht.isTextblock;bt++){if(ht.type.spec.isolating)return!1;let Fe=ht.firstChild;if(!Fe)return!1;ht=Fe}let Tt=replaceStep(De.doc,Le,bt,Slice.empty);if(!Tt||Tt.from!=Le||Tt.slice.size>=bt-Le)return!1;if(ie){let Fe=De.tr.step(Tt);Fe.setSelection(TextSelection.create(Fe.doc,Le)),ie(Fe.scrollIntoView())}return!0}function D(De,_e,ie=!1){for(let ve=De;ve;ve=_e=="start"?ve.firstChild:ve.lastChild){if(ve.isTextblock)return!0;if(ie&&ve.childCount!=1)return!1}return!1}const E=(De,_e,ie)=>{let{$head:ve,empty:he}=De.selection,Le=ve;if(!he)return!1;if(ve.parent.isTextblock){if(ie?!ie.endOfTextblock("backward",De):ve.parentOffset>0)return!1;Le=O(ve)}let He=Le&&Le.nodeBefore;return!He||!d.qv.isSelectable(He)?!1:(_e&&_e(De.tr.setSelection(d.qv.create(De.doc,Le.pos-He.nodeSize)).scrollIntoView()),!0)};function O(De){if(!De.parent.type.spec.isolating)for(let _e=De.depth-1;_e>=0;_e--){if(De.index(_e)>0)return De.doc.resolve(De.before(_e+1));if(De.node(_e).type.spec.isolating)break}return null}function C(De,_e){let{$cursor:ie}=De.selection;return!ie||(_e?!_e.endOfTextblock("forward",De):ie.parentOffset<ie.parent.content.size)?null:ie}const _=(De,_e,ie)=>{let ve=C(De,ie);if(!ve)return!1;let he=l(ve);if(!he)return!1;let Le=he.nodeAfter;if(L(De,he,_e))return!0;if(ve.parent.content.size==0&&(D(Le,"start")||d.qv.isSelectable(Le))){let He=(0,o.dR)(De.doc,ve.before(),ve.after(),m.p2.empty);if(He&&He.slice.size<He.to-He.from){if(_e){let ht=De.tr.step(He);ht.setSelection(D(Le,"start")?d.Y1.findFrom(ht.doc.resolve(ht.mapping.map(he.pos)),1):d.qv.create(ht.doc,ht.mapping.map(he.pos))),_e(ht.scrollIntoView())}return!0}}return Le.isAtom&&he.depth==ve.depth-1?(_e&&_e(De.tr.delete(he.pos,he.pos+Le.nodeSize).scrollIntoView()),!0):!1},a=(De,_e,ie)=>{let{$head:ve,empty:he}=De.selection,Le=ve;if(!he)return!1;if(ve.parent.isTextblock){if(ie?!ie.endOfTextblock("forward",De):ve.parentOffset<ve.parent.content.size)return!1;Le=l(ve)}let He=Le&&Le.nodeAfter;return!He||!d.qv.isSelectable(He)?!1:(_e&&_e(De.tr.setSelection(d.qv.create(De.doc,Le.pos)).scrollIntoView()),!0)};function l(De){if(!De.parent.type.spec.isolating)for(let _e=De.depth-1;_e>=0;_e--){let ie=De.node(_e);if(De.index(_e)+1<ie.childCount)return De.doc.resolve(De.after(_e+1));if(ie.type.spec.isolating)break}return null}const P=(De,_e)=>{let ie=De.selection,ve=ie instanceof d.qv,he;if(ve){if(ie.node.isTextblock||!(0,o.Mn)(De.doc,ie.from))return!1;he=ie.from}else if(he=(0,o.GJ)(De.doc,ie.from,-1),he==null)return!1;if(_e){let Le=De.tr.join(he);ve&&Le.setSelection(d.qv.create(Le.doc,he-De.doc.resolve(he).nodeBefore.nodeSize)),_e(Le.scrollIntoView())}return!0},S=(De,_e)=>{let ie=De.selection,ve;if(ie instanceof d.qv){if(ie.node.isTextblock||!(0,o.Mn)(De.doc,ie.to))return!1;ve=ie.to}else if(ve=(0,o.GJ)(De.doc,ie.to,1),ve==null)return!1;return _e&&_e(De.tr.join(ve).scrollIntoView()),!0},M=(De,_e)=>{let{$from:ie,$to:ve}=De.selection,he=ie.blockRange(ve),Le=he&&(0,o.k9)(he);return Le==null?!1:(_e&&_e(De.tr.lift(he,Le).scrollIntoView()),!0)},R=(De,_e)=>{let{$head:ie,$anchor:ve}=De.selection;return!ie.parent.type.spec.code||!ie.sameParent(ve)?!1:(_e&&_e(De.tr.insertText(`
`).scrollIntoView()),!0)};function N(De){for(let _e=0;_e<De.edgeCount;_e++){let{type:ie}=De.edge(_e);if(ie.isTextblock&&!ie.hasRequiredAttrs())return ie}return null}const T=(De,_e)=>{let{$head:ie,$anchor:ve}=De.selection;if(!ie.parent.type.spec.code||!ie.sameParent(ve))return!1;let he=ie.node(-1),Le=ie.indexAfter(-1),He=N(he.contentMatchAt(Le));if(!He||!he.canReplaceWith(Le,Le,He))return!1;if(_e){let ht=ie.after(),bt=De.tr.replaceWith(ht,ht,He.createAndFill());bt.setSelection(d.Y1.near(bt.doc.resolve(ht),1)),_e(bt.scrollIntoView())}return!0},A=(De,_e)=>{let ie=De.selection,{$from:ve,$to:he}=ie;if(ie instanceof d.C1||ve.parent.inlineContent||he.parent.inlineContent)return!1;let Le=N(he.parent.contentMatchAt(he.indexAfter()));if(!Le||!Le.isTextblock)return!1;if(_e){let He=(!ve.parentOffset&&he.index()<he.parent.childCount?ve:he).pos,ht=De.tr.insert(He,Le.createAndFill());ht.setSelection(d.Bs.create(ht.doc,He+1)),_e(ht.scrollIntoView())}return!0},F=(De,_e)=>{let{$cursor:ie}=De.selection;if(!ie||ie.parent.content.size)return!1;if(ie.depth>1&&ie.after()!=ie.end(-1)){let Le=ie.before();if((0,o.Ax)(De.doc,Le))return _e&&_e(De.tr.split(Le).scrollIntoView()),!0}let ve=ie.blockRange(),he=ve&&(0,o.k9)(ve);return he==null?!1:(_e&&_e(De.tr.lift(ve,he).scrollIntoView()),!0)};function U(De){return(_e,ie)=>{let{$from:ve,$to:he}=_e.selection;if(_e.selection instanceof d.qv&&_e.selection.node.isBlock)return!ve.parentOffset||!(0,o.Ax)(_e.doc,ve.pos)?!1:(ie&&ie(_e.tr.split(ve.pos).scrollIntoView()),!0);if(!ve.parent.isBlock)return!1;if(ie){let Le=he.parentOffset==he.parent.content.size,He=_e.tr;(_e.selection instanceof d.Bs||_e.selection instanceof d.C1)&&He.deleteSelection();let ht=ve.depth==0?null:N(ve.node(-1).contentMatchAt(ve.indexAfter(-1))),bt=De&&De(he.parent,Le),Tt=bt?[bt]:Le&&ht?[{type:ht}]:void 0,Fe=(0,o.Ax)(He.doc,He.mapping.map(ve.pos),1,Tt);if(!Tt&&!Fe&&(0,o.Ax)(He.doc,He.mapping.map(ve.pos),1,ht?[{type:ht}]:void 0)&&(ht&&(Tt=[{type:ht}]),Fe=!0),Fe&&(He.split(He.mapping.map(ve.pos),1,Tt),!Le&&!ve.parentOffset&&ve.parent.type!=ht)){let nt=He.mapping.map(ve.before()),ft=He.doc.resolve(nt);ht&&ve.node(-1).canReplaceWith(ft.index(),ft.index()+1,ht)&&He.setNodeMarkup(He.mapping.map(ve.before()),ht)}ie(He.scrollIntoView())}return!0}}const G=U(),J=(De,_e)=>G(De,_e&&(ie=>{let ve=De.storedMarks||De.selection.$to.parentOffset&&De.selection.$from.marks();ve&&ie.ensureMarks(ve),_e(ie)})),Q=(De,_e)=>{let{$from:ie,to:ve}=De.selection,he,Le=ie.sharedDepth(ve);return Le==0?!1:(he=ie.before(Le),_e&&_e(De.tr.setSelection(d.qv.create(De.doc,he))),!0)},te=(De,_e)=>(_e&&_e(De.tr.setSelection(new d.C1(De.doc))),!0);function ee(De,_e,ie){let ve=_e.nodeBefore,he=_e.nodeAfter,Le=_e.index();return!ve||!he||!ve.type.compatibleContent(he.type)?!1:!ve.content.size&&_e.parent.canReplace(Le-1,Le)?(ie&&ie(De.tr.delete(_e.pos-ve.nodeSize,_e.pos).scrollIntoView()),!0):!_e.parent.canReplace(Le,Le+1)||!(he.isTextblock||(0,o.Mn)(De.doc,_e.pos))?!1:(ie&&ie(De.tr.clearIncompatible(_e.pos,ve.type,ve.contentMatchAt(ve.childCount)).join(_e.pos).scrollIntoView()),!0)}function L(De,_e,ie){let ve=_e.nodeBefore,he=_e.nodeAfter,Le,He;if(ve.type.spec.isolating||he.type.spec.isolating)return!1;if(ee(De,_e,ie))return!0;let ht=_e.parent.canReplace(_e.index(),_e.index()+1);if(ht&&(Le=(He=ve.contentMatchAt(ve.childCount)).findWrapping(he.type))&&He.matchType(Le[0]||he.type).validEnd){if(ie){let nt=_e.pos+he.nodeSize,ft=m.HY.empty;for(let $t=Le.length-1;$t>=0;$t--)ft=m.HY.from(Le[$t].create(null,ft));ft=m.HY.from(ve.copy(ft));let Ye=De.tr.step(new o.FC(_e.pos-1,nt,_e.pos,nt,new m.p2(ft,1,0),Le.length,!0)),rt=nt+2*Le.length;(0,o.Mn)(Ye.doc,rt)&&Ye.join(rt),ie(Ye.scrollIntoView())}return!0}let bt=d.Y1.findFrom(_e,1),Tt=bt&&bt.$from.blockRange(bt.$to),Fe=Tt&&(0,o.k9)(Tt);if(Fe!=null&&Fe>=_e.depth)return ie&&ie(De.tr.lift(Tt,Fe).scrollIntoView()),!0;if(ht&&D(he,"start",!0)&&D(ve,"end")){let nt=ve,ft=[];for(;ft.push(nt),!nt.isTextblock;)nt=nt.lastChild;let Ye=he,rt=1;for(;!Ye.isTextblock;Ye=Ye.firstChild)rt++;if(nt.canReplace(nt.childCount,nt.childCount,Ye.content)){if(ie){let $t=m.HY.empty;for(let gt=ft.length-1;gt>=0;gt--)$t=m.HY.from(ft[gt].copy($t));let sn=De.tr.step(new o.FC(_e.pos-ft.length,_e.pos+he.nodeSize,_e.pos+rt,_e.pos+he.nodeSize-rt,new m.p2($t,ft.length,0),0,!0));ie(sn.scrollIntoView())}return!0}}return!1}function V(De){return function(_e,ie){let ve=_e.selection,he=De<0?ve.$from:ve.$to,Le=he.depth;for(;he.node(Le).isInline;){if(!Le)return!1;Le--}return he.node(Le).isTextblock?(ie&&ie(_e.tr.setSelection(d.Bs.create(_e.doc,De<0?he.start(Le):he.end(Le)))),!0):!1}}const ne=V(-1),ae=V(1);function fe(De,_e=null){return function(ie,ve){let{$from:he,$to:Le}=ie.selection,He=he.blockRange(Le),ht=He&&(0,o.nd)(He,De,_e);return ht?(ve&&ve(ie.tr.wrap(He,ht).scrollIntoView()),!0):!1}}function le(De,_e=null){return function(ie,ve){let he=!1;for(let Le=0;Le<ie.selection.ranges.length&&!he;Le++){let{$from:{pos:He},$to:{pos:ht}}=ie.selection.ranges[Le];ie.doc.nodesBetween(He,ht,(bt,Tt)=>{if(he)return!1;if(!(!bt.isTextblock||bt.hasMarkup(De,_e)))if(bt.type==De)he=!0;else{let Fe=ie.doc.resolve(Tt),nt=Fe.index();he=Fe.parent.canReplaceWith(nt,nt+1,De)}})}if(!he)return!1;if(ve){let Le=ie.tr;for(let He=0;He<ie.selection.ranges.length;He++){let{$from:{pos:ht},$to:{pos:bt}}=ie.selection.ranges[He];Le.setBlockType(ht,bt,De,_e)}ve(Le.scrollIntoView())}return!0}}function re(De,_e,ie){for(let ve=0;ve<_e.length;ve++){let{$from:he,$to:Le}=_e[ve],He=he.depth==0?De.inlineContent&&De.type.allowsMarkType(ie):!1;if(De.nodesBetween(he.pos,Le.pos,ht=>{if(He)return!1;He=ht.inlineContent&&ht.type.allowsMarkType(ie)}),He)return!0}return!1}function $(De,_e=null){return function(ie,ve){let{empty:he,$cursor:Le,ranges:He}=ie.selection;if(he&&!Le||!re(ie.doc,He,De))return!1;if(ve)if(Le)De.isInSet(ie.storedMarks||Le.marks())?ve(ie.tr.removeStoredMark(De)):ve(ie.tr.addStoredMark(De.create(_e)));else{let ht=!1,bt=ie.tr;for(let Tt=0;!ht&&Tt<He.length;Tt++){let{$from:Fe,$to:nt}=He[Tt];ht=ie.doc.rangeHasMark(Fe.pos,nt.pos,De)}for(let Tt=0;Tt<He.length;Tt++){let{$from:Fe,$to:nt}=He[Tt];if(ht)bt.removeMark(Fe.pos,nt.pos,De);else{let ft=Fe.pos,Ye=nt.pos,rt=Fe.nodeAfter,$t=nt.nodeBefore,sn=rt&&rt.isText?/^\s*/.exec(rt.text)[0].length:0,gt=$t&&$t.isText?/\s*$/.exec($t.text)[0].length:0;ft+sn<Ye&&(ft+=sn,Ye-=gt),bt.addMark(ft,Ye,De.create(_e))}}ve(bt.scrollIntoView())}return!0}}function oe(De,_e){return ie=>{if(!ie.isGeneric)return De(ie);let ve=[];for(let Le=0;Le<ie.mapping.maps.length;Le++){let He=ie.mapping.maps[Le];for(let ht=0;ht<ve.length;ht++)ve[ht]=He.map(ve[ht]);He.forEach((ht,bt,Tt,Fe)=>ve.push(Tt,Fe))}let he=[];for(let Le=0;Le<ve.length;Le+=2){let He=ve[Le],ht=ve[Le+1],bt=ie.doc.resolve(He),Tt=bt.sharedDepth(ht),Fe=bt.node(Tt);for(let nt=bt.indexAfter(Tt),ft=bt.after(Tt+1);ft<=ht;++nt){let Ye=Fe.maybeChild(nt);if(!Ye)break;if(nt&&he.indexOf(ft)==-1){let rt=Fe.child(nt-1);rt.type==Ye.type&&_e(rt,Ye)&&he.push(ft)}ft+=Ye.nodeSize}}he.sort((Le,He)=>Le-He);for(let Le=he.length-1;Le>=0;Le--)canJoin(ie.doc,he[Le])&&ie.join(he[Le]);De(ie)}}function se(De,_e){let ie=Array.isArray(_e)?ve=>_e.indexOf(ve.type.name)>-1:_e;return(ve,he,Le)=>De(ve,he&&oe(he,ie),Le)}function ce(...De){return function(_e,ie,ve){for(let he=0;he<De.length;he++)if(De[he](_e,ie,ve))return!0;return!1}}let de=ce(u,y,E),be=ce(u,_,a);const pe={Enter:ce(R,A,F,G),"Mod-Enter":T,Backspace:de,"Mod-Backspace":de,"Shift-Backspace":de,Delete:be,"Mod-Delete":be,"Mod-a":te},we={"Ctrl-h":pe.Backspace,"Alt-Backspace":pe["Mod-Backspace"],"Ctrl-d":pe.Delete,"Ctrl-Alt-Backspace":pe["Mod-Delete"],"Alt-Delete":pe["Mod-Delete"],"Alt-d":pe["Mod-Delete"],"Ctrl-a":ne,"Ctrl-e":ae};for(let De in pe)we[De]=pe[De];const xe=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,Ue=null},60440:(z,s,e)=>{"use strict";e.d(s,{h:()=>w});var o=e(33952),m=e(2376);const d=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function u(b){let D=b.split(/-(?!$)/),E=D[D.length-1];E=="Space"&&(E=" ");let O,C,_,a;for(let l=0;l<D.length-1;l++){let P=D[l];if(/^(cmd|meta|m)$/i.test(P))a=!0;else if(/^a(lt)?$/i.test(P))O=!0;else if(/^(c|ctrl|control)$/i.test(P))C=!0;else if(/^s(hift)?$/i.test(P))_=!0;else if(/^mod$/i.test(P))d?a=!0:C=!0;else throw new Error("Unrecognized modifier name: "+P)}return O&&(E="Alt-"+E),C&&(E="Ctrl-"+E),a&&(E="Meta-"+E),_&&(E="Shift-"+E),E}function g(b){let D=Object.create(null);for(let E in b)D[u(E)]=b[E];return D}function y(b,D,E=!0){return D.altKey&&(b="Alt-"+b),D.ctrlKey&&(b="Ctrl-"+b),D.metaKey&&(b="Meta-"+b),E&&D.shiftKey&&(b="Shift-"+b),b}function w(b){return new m.Sy({props:{handleKeyDown:v(b)}})}function v(b){let D=g(b);return function(E,O){let C=(0,o.YG)(O),_,a=D[y(C,O)];if(a&&a(E.state,E.dispatch,E))return!0;if(C.length==1&&C!=" "){if(O.shiftKey){let l=D[y(C,O,!1)];if(l&&l(E.state,E.dispatch,E))return!0}if((O.shiftKey||O.altKey||O.metaKey||C.charCodeAt(0)>127)&&(_=o.ue[O.keyCode])&&_!=C){let l=D[y(_,O)];if(l&&l(E.state,E.dispatch,E))return!0}}return!1}}},87823:(z,s,e)=>{"use strict";e.d(s,{aw:()=>ht,PW:()=>Se,HY:()=>g,vc:()=>b,ZU:()=>he,NB:()=>ee,Ts:()=>Q,e4:()=>D,V_:()=>Le,p2:()=>E});function o(Oe){this.content=Oe}o.prototype={constructor:o,find:function(Oe){for(var K=0;K<this.content.length;K+=2)if(this.content[K]===Oe)return K;return-1},get:function(Oe){var K=this.find(Oe);return K==-1?void 0:this.content[K+1]},update:function(Oe,K,Y){var me=Y&&Y!=Oe?this.remove(Y):this,Ie=me.find(Oe),je=me.content.slice();return Ie==-1?je.push(Y||Oe,K):(je[Ie+1]=K,Y&&(je[Ie]=Y)),new o(je)},remove:function(Oe){var K=this.find(Oe);if(K==-1)return this;var Y=this.content.slice();return Y.splice(K,2),new o(Y)},addToStart:function(Oe,K){return new o([Oe,K].concat(this.remove(Oe).content))},addToEnd:function(Oe,K){var Y=this.remove(Oe).content.slice();return Y.push(Oe,K),new o(Y)},addBefore:function(Oe,K,Y){var me=this.remove(K),Ie=me.content.slice(),je=me.find(Oe);return Ie.splice(je==-1?Ie.length:je,0,K,Y),new o(Ie)},forEach:function(Oe){for(var K=0;K<this.content.length;K+=2)Oe(this.content[K],this.content[K+1])},prepend:function(Oe){return Oe=o.from(Oe),Oe.size?new o(Oe.content.concat(this.subtract(Oe).content)):this},append:function(Oe){return Oe=o.from(Oe),Oe.size?new o(this.subtract(Oe).content.concat(Oe.content)):this},subtract:function(Oe){var K=this;Oe=o.from(Oe);for(var Y=0;Y<Oe.content.length;Y+=2)K=K.remove(Oe.content[Y]);return K},toObject:function(){var Oe={};return this.forEach(function(K,Y){Oe[K]=Y}),Oe},get size(){return this.content.length>>1}},o.from=function(Oe){if(Oe instanceof o)return Oe;var K=[];if(Oe)for(var Y in Oe)K.push(Y,Oe[Y]);return new o(K)};const m=o;function d(Oe,K,Y){for(let me=0;;me++){if(me==Oe.childCount||me==K.childCount)return Oe.childCount==K.childCount?null:Y;let Ie=Oe.child(me),je=K.child(me);if(Ie==je){Y+=Ie.nodeSize;continue}if(!Ie.sameMarkup(je))return Y;if(Ie.isText&&Ie.text!=je.text){for(let Xe=0;Ie.text[Xe]==je.text[Xe];Xe++)Y++;return Y}if(Ie.content.size||je.content.size){let Xe=d(Ie.content,je.content,Y+1);if(Xe!=null)return Xe}Y+=Ie.nodeSize}}function u(Oe,K,Y,me){for(let Ie=Oe.childCount,je=K.childCount;;){if(Ie==0||je==0)return Ie==je?null:{a:Y,b:me};let Xe=Oe.child(--Ie),_t=K.child(--je),pt=Xe.nodeSize;if(Xe==_t){Y-=pt,me-=pt;continue}if(!Xe.sameMarkup(_t))return{a:Y,b:me};if(Xe.isText&&Xe.text!=_t.text){let Ge=0,at=Math.min(Xe.text.length,_t.text.length);for(;Ge<at&&Xe.text[Xe.text.length-Ge-1]==_t.text[_t.text.length-Ge-1];)Ge++,Y--,me--;return{a:Y,b:me}}if(Xe.content.size||_t.content.size){let Ge=u(Xe.content,_t.content,Y-1,me-1);if(Ge)return Ge}Y-=pt,me-=pt}}class g{constructor(K,Y){if(this.content=K,this.size=Y||0,Y==null)for(let me=0;me<K.length;me++)this.size+=K[me].nodeSize}nodesBetween(K,Y,me,Ie=0,je){for(let Xe=0,_t=0;_t<Y;Xe++){let pt=this.content[Xe],Ge=_t+pt.nodeSize;if(Ge>K&&me(pt,Ie+_t,je||null,Xe)!==!1&&pt.content.size){let at=_t+1;pt.nodesBetween(Math.max(0,K-at),Math.min(pt.content.size,Y-at),me,Ie+at)}_t=Ge}}descendants(K){this.nodesBetween(0,this.size,K)}textBetween(K,Y,me,Ie){let je="",Xe=!0;return this.nodesBetween(K,Y,(_t,pt)=>{_t.isText?(je+=_t.text.slice(Math.max(K,pt)-pt,Y-pt),Xe=!me):_t.isLeaf?(Ie?je+=typeof Ie=="function"?Ie(_t):Ie:_t.type.spec.leafText&&(je+=_t.type.spec.leafText(_t)),Xe=!me):!Xe&&_t.isBlock&&(je+=me,Xe=!0)},0),je}append(K){if(!K.size)return this;if(!this.size)return K;let Y=this.lastChild,me=K.firstChild,Ie=this.content.slice(),je=0;for(Y.isText&&Y.sameMarkup(me)&&(Ie[Ie.length-1]=Y.withText(Y.text+me.text),je=1);je<K.content.length;je++)Ie.push(K.content[je]);return new g(Ie,this.size+K.size)}cut(K,Y=this.size){if(K==0&&Y==this.size)return this;let me=[],Ie=0;if(Y>K)for(let je=0,Xe=0;Xe<Y;je++){let _t=this.content[je],pt=Xe+_t.nodeSize;pt>K&&((Xe<K||pt>Y)&&(_t.isText?_t=_t.cut(Math.max(0,K-Xe),Math.min(_t.text.length,Y-Xe)):_t=_t.cut(Math.max(0,K-Xe-1),Math.min(_t.content.size,Y-Xe-1))),me.push(_t),Ie+=_t.nodeSize),Xe=pt}return new g(me,Ie)}cutByIndex(K,Y){return K==Y?g.empty:K==0&&Y==this.content.length?this:new g(this.content.slice(K,Y))}replaceChild(K,Y){let me=this.content[K];if(me==Y)return this;let Ie=this.content.slice(),je=this.size+Y.nodeSize-me.nodeSize;return Ie[K]=Y,new g(Ie,je)}addToStart(K){return new g([K].concat(this.content),this.size+K.nodeSize)}addToEnd(K){return new g(this.content.concat(K),this.size+K.nodeSize)}eq(K){if(this.content.length!=K.content.length)return!1;for(let Y=0;Y<this.content.length;Y++)if(!this.content[Y].eq(K.content[Y]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(K){let Y=this.content[K];if(!Y)throw new RangeError("Index "+K+" out of range for "+this);return Y}maybeChild(K){return this.content[K]||null}forEach(K){for(let Y=0,me=0;Y<this.content.length;Y++){let Ie=this.content[Y];K(Ie,me,Y),me+=Ie.nodeSize}}findDiffStart(K,Y=0){return d(this,K,Y)}findDiffEnd(K,Y=this.size,me=K.size){return u(this,K,Y,me)}findIndex(K,Y=-1){if(K==0)return w(0,K);if(K==this.size)return w(this.content.length,K);if(K>this.size||K<0)throw new RangeError(`Position ${K} outside of fragment (${this})`);for(let me=0,Ie=0;;me++){let je=this.child(me),Xe=Ie+je.nodeSize;if(Xe>=K)return Xe==K||Y>0?w(me+1,Xe):w(me,Ie);Ie=Xe}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(K=>K.toJSON()):null}static fromJSON(K,Y){if(!Y)return g.empty;if(!Array.isArray(Y))throw new RangeError("Invalid input for Fragment.fromJSON");return new g(Y.map(K.nodeFromJSON))}static fromArray(K){if(!K.length)return g.empty;let Y,me=0;for(let Ie=0;Ie<K.length;Ie++){let je=K[Ie];me+=je.nodeSize,Ie&&je.isText&&K[Ie-1].sameMarkup(je)?(Y||(Y=K.slice(0,Ie)),Y[Y.length-1]=je.withText(Y[Y.length-1].text+je.text)):Y&&Y.push(je)}return new g(Y||K,me)}static from(K){if(!K)return g.empty;if(K instanceof g)return K;if(Array.isArray(K))return this.fromArray(K);if(K.attrs)return new g([K],K.nodeSize);throw new RangeError("Can not convert "+K+" to a Fragment"+(K.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}g.empty=new g([],0);const y={index:0,offset:0};function w(Oe,K){return y.index=Oe,y.offset=K,y}function v(Oe,K){if(Oe===K)return!0;if(!(Oe&&typeof Oe=="object")||!(K&&typeof K=="object"))return!1;let Y=Array.isArray(Oe);if(Array.isArray(K)!=Y)return!1;if(Y){if(Oe.length!=K.length)return!1;for(let me=0;me<Oe.length;me++)if(!v(Oe[me],K[me]))return!1}else{for(let me in Oe)if(!(me in K)||!v(Oe[me],K[me]))return!1;for(let me in K)if(!(me in Oe))return!1}return!0}class b{constructor(K,Y){this.type=K,this.attrs=Y}addToSet(K){let Y,me=!1;for(let Ie=0;Ie<K.length;Ie++){let je=K[Ie];if(this.eq(je))return K;if(this.type.excludes(je.type))Y||(Y=K.slice(0,Ie));else{if(je.type.excludes(this.type))return K;!me&&je.type.rank>this.type.rank&&(Y||(Y=K.slice(0,Ie)),Y.push(this),me=!0),Y&&Y.push(je)}}return Y||(Y=K.slice()),me||Y.push(this),Y}removeFromSet(K){for(let Y=0;Y<K.length;Y++)if(this.eq(K[Y]))return K.slice(0,Y).concat(K.slice(Y+1));return K}isInSet(K){for(let Y=0;Y<K.length;Y++)if(this.eq(K[Y]))return!0;return!1}eq(K){return this==K||this.type==K.type&&v(this.attrs,K.attrs)}toJSON(){let K={type:this.type.name};for(let Y in this.attrs){K.attrs=this.attrs;break}return K}static fromJSON(K,Y){if(!Y)throw new RangeError("Invalid input for Mark.fromJSON");let me=K.marks[Y.type];if(!me)throw new RangeError(`There is no mark type ${Y.type} in this schema`);return me.create(Y.attrs)}static sameSet(K,Y){if(K==Y)return!0;if(K.length!=Y.length)return!1;for(let me=0;me<K.length;me++)if(!K[me].eq(Y[me]))return!1;return!0}static setFrom(K){if(!K||Array.isArray(K)&&K.length==0)return b.none;if(K instanceof b)return[K];let Y=K.slice();return Y.sort((me,Ie)=>me.type.rank-Ie.type.rank),Y}}b.none=[];class D extends Error{}class E{constructor(K,Y,me){this.content=K,this.openStart=Y,this.openEnd=me}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(K,Y){let me=C(this.content,K+this.openStart,Y);return me&&new E(me,this.openStart,this.openEnd)}removeBetween(K,Y){return new E(O(this.content,K+this.openStart,Y+this.openStart),this.openStart,this.openEnd)}eq(K){return this.content.eq(K.content)&&this.openStart==K.openStart&&this.openEnd==K.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let K={content:this.content.toJSON()};return this.openStart>0&&(K.openStart=this.openStart),this.openEnd>0&&(K.openEnd=this.openEnd),K}static fromJSON(K,Y){if(!Y)return E.empty;let me=Y.openStart||0,Ie=Y.openEnd||0;if(typeof me!="number"||typeof Ie!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new E(g.fromJSON(K,Y.content),me,Ie)}static maxOpen(K,Y=!0){let me=0,Ie=0;for(let je=K.firstChild;je&&!je.isLeaf&&(Y||!je.type.spec.isolating);je=je.firstChild)me++;for(let je=K.lastChild;je&&!je.isLeaf&&(Y||!je.type.spec.isolating);je=je.lastChild)Ie++;return new E(K,me,Ie)}}E.empty=new E(g.empty,0,0);function O(Oe,K,Y){let{index:me,offset:Ie}=Oe.findIndex(K),je=Oe.maybeChild(me),{index:Xe,offset:_t}=Oe.findIndex(Y);if(Ie==K||je.isText){if(_t!=Y&&!Oe.child(Xe).isText)throw new RangeError("Removing non-flat range");return Oe.cut(0,K).append(Oe.cut(Y))}if(me!=Xe)throw new RangeError("Removing non-flat range");return Oe.replaceChild(me,je.copy(O(je.content,K-Ie-1,Y-Ie-1)))}function C(Oe,K,Y,me){let{index:Ie,offset:je}=Oe.findIndex(K),Xe=Oe.maybeChild(Ie);if(je==K||Xe.isText)return me&&!me.canReplace(Ie,Ie,Y)?null:Oe.cut(0,K).append(Y).append(Oe.cut(K));let _t=C(Xe.content,K-je-1,Y);return _t&&Oe.replaceChild(Ie,Xe.copy(_t))}function _(Oe,K,Y){if(Y.openStart>Oe.depth)throw new D("Inserted content deeper than insertion position");if(Oe.depth-Y.openStart!=K.depth-Y.openEnd)throw new D("Inconsistent open depths");return a(Oe,K,Y,0)}function a(Oe,K,Y,me){let Ie=Oe.index(me),je=Oe.node(me);if(Ie==K.index(me)&&me<Oe.depth-Y.openStart){let Xe=a(Oe,K,Y,me+1);return je.copy(je.content.replaceChild(Ie,Xe))}else if(Y.content.size)if(!Y.openStart&&!Y.openEnd&&Oe.depth==me&&K.depth==me){let Xe=Oe.parent,_t=Xe.content;return R(Xe,_t.cut(0,Oe.parentOffset).append(Y.content).append(_t.cut(K.parentOffset)))}else{let{start:Xe,end:_t}=A(Y,Oe);return R(je,N(Oe,Xe,_t,K,me))}else return R(je,T(Oe,K,me))}function l(Oe,K){if(!K.type.compatibleContent(Oe.type))throw new D("Cannot join "+K.type.name+" onto "+Oe.type.name)}function P(Oe,K,Y){let me=Oe.node(Y);return l(me,K.node(Y)),me}function S(Oe,K){let Y=K.length-1;Y>=0&&Oe.isText&&Oe.sameMarkup(K[Y])?K[Y]=Oe.withText(K[Y].text+Oe.text):K.push(Oe)}function M(Oe,K,Y,me){let Ie=(K||Oe).node(Y),je=0,Xe=K?K.index(Y):Ie.childCount;Oe&&(je=Oe.index(Y),Oe.depth>Y?je++:Oe.textOffset&&(S(Oe.nodeAfter,me),je++));for(let _t=je;_t<Xe;_t++)S(Ie.child(_t),me);K&&K.depth==Y&&K.textOffset&&S(K.nodeBefore,me)}function R(Oe,K){return Oe.type.checkContent(K),Oe.copy(K)}function N(Oe,K,Y,me,Ie){let je=Oe.depth>Ie&&P(Oe,K,Ie+1),Xe=me.depth>Ie&&P(Y,me,Ie+1),_t=[];return M(null,Oe,Ie,_t),je&&Xe&&K.index(Ie)==Y.index(Ie)?(l(je,Xe),S(R(je,N(Oe,K,Y,me,Ie+1)),_t)):(je&&S(R(je,T(Oe,K,Ie+1)),_t),M(K,Y,Ie,_t),Xe&&S(R(Xe,T(Y,me,Ie+1)),_t)),M(me,null,Ie,_t),new g(_t)}function T(Oe,K,Y){let me=[];if(M(null,Oe,Y,me),Oe.depth>Y){let Ie=P(Oe,K,Y+1);S(R(Ie,T(Oe,K,Y+1)),me)}return M(K,null,Y,me),new g(me)}function A(Oe,K){let Y=K.depth-Oe.openStart,Ie=K.node(Y).copy(Oe.content);for(let je=Y-1;je>=0;je--)Ie=K.node(je).copy(g.from(Ie));return{start:Ie.resolveNoCache(Oe.openStart+Y),end:Ie.resolveNoCache(Ie.content.size-Oe.openEnd-Y)}}class F{constructor(K,Y,me){this.pos=K,this.path=Y,this.parentOffset=me,this.depth=Y.length/3-1}resolveDepth(K){return K==null?this.depth:K<0?this.depth+K:K}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(K){return this.path[this.resolveDepth(K)*3]}index(K){return this.path[this.resolveDepth(K)*3+1]}indexAfter(K){return K=this.resolveDepth(K),this.index(K)+(K==this.depth&&!this.textOffset?0:1)}start(K){return K=this.resolveDepth(K),K==0?0:this.path[K*3-1]+1}end(K){return K=this.resolveDepth(K),this.start(K)+this.node(K).content.size}before(K){if(K=this.resolveDepth(K),!K)throw new RangeError("There is no position before the top-level node");return K==this.depth+1?this.pos:this.path[K*3-1]}after(K){if(K=this.resolveDepth(K),!K)throw new RangeError("There is no position after the top-level node");return K==this.depth+1?this.pos:this.path[K*3-1]+this.path[K*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let K=this.parent,Y=this.index(this.depth);if(Y==K.childCount)return null;let me=this.pos-this.path[this.path.length-1],Ie=K.child(Y);return me?K.child(Y).cut(me):Ie}get nodeBefore(){let K=this.index(this.depth),Y=this.pos-this.path[this.path.length-1];return Y?this.parent.child(K).cut(0,Y):K==0?null:this.parent.child(K-1)}posAtIndex(K,Y){Y=this.resolveDepth(Y);let me=this.path[Y*3],Ie=Y==0?0:this.path[Y*3-1]+1;for(let je=0;je<K;je++)Ie+=me.child(je).nodeSize;return Ie}marks(){let K=this.parent,Y=this.index();if(K.content.size==0)return b.none;if(this.textOffset)return K.child(Y).marks;let me=K.maybeChild(Y-1),Ie=K.maybeChild(Y);if(!me){let _t=me;me=Ie,Ie=_t}let je=me.marks;for(var Xe=0;Xe<je.length;Xe++)je[Xe].type.spec.inclusive===!1&&(!Ie||!je[Xe].isInSet(Ie.marks))&&(je=je[Xe--].removeFromSet(je));return je}marksAcross(K){let Y=this.parent.maybeChild(this.index());if(!Y||!Y.isInline)return null;let me=Y.marks,Ie=K.parent.maybeChild(K.index());for(var je=0;je<me.length;je++)me[je].type.spec.inclusive===!1&&(!Ie||!me[je].isInSet(Ie.marks))&&(me=me[je--].removeFromSet(me));return me}sharedDepth(K){for(let Y=this.depth;Y>0;Y--)if(this.start(Y)<=K&&this.end(Y)>=K)return Y;return 0}blockRange(K=this,Y){if(K.pos<this.pos)return K.blockRange(this);for(let me=this.depth-(this.parent.inlineContent||this.pos==K.pos?1:0);me>=0;me--)if(K.pos<=this.end(me)&&(!Y||Y(this.node(me))))return new Q(this,K,me);return null}sameParent(K){return this.pos-this.parentOffset==K.pos-K.parentOffset}max(K){return K.pos>this.pos?K:this}min(K){return K.pos<this.pos?K:this}toString(){let K="";for(let Y=1;Y<=this.depth;Y++)K+=(K?"/":"")+this.node(Y).type.name+"_"+this.index(Y-1);return K+":"+this.parentOffset}static resolve(K,Y){if(!(Y>=0&&Y<=K.content.size))throw new RangeError("Position "+Y+" out of range");let me=[],Ie=0,je=Y;for(let Xe=K;;){let{index:_t,offset:pt}=Xe.content.findIndex(je),Ge=je-pt;if(me.push(Xe,_t,Ie+pt),!Ge||(Xe=Xe.child(_t),Xe.isText))break;je=Ge-1,Ie+=pt+1}return new F(Y,me,je)}static resolveCached(K,Y){for(let Ie=0;Ie<U.length;Ie++){let je=U[Ie];if(je.pos==Y&&je.doc==K)return je}let me=U[G]=F.resolve(K,Y);return G=(G+1)%J,me}}let U=[],G=0,J=12;class Q{constructor(K,Y,me){this.$from=K,this.$to=Y,this.depth=me}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const te=Object.create(null);class ee{constructor(K,Y,me,Ie=b.none){this.type=K,this.attrs=Y,this.marks=Ie,this.content=me||g.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(K){return this.content.child(K)}maybeChild(K){return this.content.maybeChild(K)}forEach(K){this.content.forEach(K)}nodesBetween(K,Y,me,Ie=0){this.content.nodesBetween(K,Y,me,Ie,this)}descendants(K){this.nodesBetween(0,this.content.size,K)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(K,Y,me,Ie){return this.content.textBetween(K,Y,me,Ie)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(K){return this==K||this.sameMarkup(K)&&this.content.eq(K.content)}sameMarkup(K){return this.hasMarkup(K.type,K.attrs,K.marks)}hasMarkup(K,Y,me){return this.type==K&&v(this.attrs,Y||K.defaultAttrs||te)&&b.sameSet(this.marks,me||b.none)}copy(K=null){return K==this.content?this:new ee(this.type,this.attrs,K,this.marks)}mark(K){return K==this.marks?this:new ee(this.type,this.attrs,this.content,K)}cut(K,Y=this.content.size){return K==0&&Y==this.content.size?this:this.copy(this.content.cut(K,Y))}slice(K,Y=this.content.size,me=!1){if(K==Y)return E.empty;let Ie=this.resolve(K),je=this.resolve(Y),Xe=me?0:Ie.sharedDepth(Y),_t=Ie.start(Xe),Ge=Ie.node(Xe).content.cut(Ie.pos-_t,je.pos-_t);return new E(Ge,Ie.depth-Xe,je.depth-Xe)}replace(K,Y,me){return _(this.resolve(K),this.resolve(Y),me)}nodeAt(K){for(let Y=this;;){let{index:me,offset:Ie}=Y.content.findIndex(K);if(Y=Y.maybeChild(me),!Y)return null;if(Ie==K||Y.isText)return Y;K-=Ie+1}}childAfter(K){let{index:Y,offset:me}=this.content.findIndex(K);return{node:this.content.maybeChild(Y),index:Y,offset:me}}childBefore(K){if(K==0)return{node:null,index:0,offset:0};let{index:Y,offset:me}=this.content.findIndex(K);if(me<K)return{node:this.content.child(Y),index:Y,offset:me};let Ie=this.content.child(Y-1);return{node:Ie,index:Y-1,offset:me-Ie.nodeSize}}resolve(K){return F.resolveCached(this,K)}resolveNoCache(K){return F.resolve(this,K)}rangeHasMark(K,Y,me){let Ie=!1;return Y>K&&this.nodesBetween(K,Y,je=>(me.isInSet(je.marks)&&(Ie=!0),!Ie)),Ie}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let K=this.type.name;return this.content.size&&(K+="("+this.content.toStringInner()+")"),V(this.marks,K)}contentMatchAt(K){let Y=this.type.contentMatch.matchFragment(this.content,0,K);if(!Y)throw new Error("Called contentMatchAt on a node with invalid content");return Y}canReplace(K,Y,me=g.empty,Ie=0,je=me.childCount){let Xe=this.contentMatchAt(K).matchFragment(me,Ie,je),_t=Xe&&Xe.matchFragment(this.content,Y);if(!_t||!_t.validEnd)return!1;for(let pt=Ie;pt<je;pt++)if(!this.type.allowsMarks(me.child(pt).marks))return!1;return!0}canReplaceWith(K,Y,me,Ie){if(Ie&&!this.type.allowsMarks(Ie))return!1;let je=this.contentMatchAt(K).matchType(me),Xe=je&&je.matchFragment(this.content,Y);return Xe?Xe.validEnd:!1}canAppend(K){return K.content.size?this.canReplace(this.childCount,this.childCount,K.content):this.type.compatibleContent(K.type)}check(){this.type.checkContent(this.content);let K=b.none;for(let Y=0;Y<this.marks.length;Y++)K=this.marks[Y].addToSet(K);if(!b.sameSet(K,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(Y=>Y.type.name)}`);this.content.forEach(Y=>Y.check())}toJSON(){let K={type:this.type.name};for(let Y in this.attrs){K.attrs=this.attrs;break}return this.content.size&&(K.content=this.content.toJSON()),this.marks.length&&(K.marks=this.marks.map(Y=>Y.toJSON())),K}static fromJSON(K,Y){if(!Y)throw new RangeError("Invalid input for Node.fromJSON");let me=null;if(Y.marks){if(!Array.isArray(Y.marks))throw new RangeError("Invalid mark data for Node.fromJSON");me=Y.marks.map(K.markFromJSON)}if(Y.type=="text"){if(typeof Y.text!="string")throw new RangeError("Invalid text node in JSON");return K.text(Y.text,me)}let Ie=g.fromJSON(K,Y.content);return K.nodeType(Y.type).create(Y.attrs,Ie,me)}}ee.prototype.text=void 0;class L extends ee{constructor(K,Y,me,Ie){if(super(K,Y,null,Ie),!me)throw new RangeError("Empty text nodes are not allowed");this.text=me}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(K,Y){return this.text.slice(K,Y)}get nodeSize(){return this.text.length}mark(K){return K==this.marks?this:new L(this.type,this.attrs,this.text,K)}withText(K){return K==this.text?this:new L(this.type,this.attrs,K,this.marks)}cut(K=0,Y=this.text.length){return K==0&&Y==this.text.length?this:this.withText(this.text.slice(K,Y))}eq(K){return this.sameMarkup(K)&&this.text==K.text}toJSON(){let K=super.toJSON();return K.text=this.text,K}}function V(Oe,K){for(let Y=Oe.length-1;Y>=0;Y--)K=Oe[Y].type.name+"("+K+")";return K}class ne{constructor(K){this.validEnd=K,this.next=[],this.wrapCache=[]}static parse(K,Y){let me=new ae(K,Y);if(me.next==null)return ne.empty;let Ie=fe(me);me.next&&me.err("Unexpected trailing text");let je=we(de(Ie));return xe(je,me),je}matchType(K){for(let Y=0;Y<this.next.length;Y++)if(this.next[Y].type==K)return this.next[Y].next;return null}matchFragment(K,Y=0,me=K.childCount){let Ie=this;for(let je=Y;Ie&&je<me;je++)Ie=Ie.matchType(K.child(je).type);return Ie}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let K=0;K<this.next.length;K++){let{type:Y}=this.next[K];if(!(Y.isText||Y.hasRequiredAttrs()))return Y}return null}compatible(K){for(let Y=0;Y<this.next.length;Y++)for(let me=0;me<K.next.length;me++)if(this.next[Y].type==K.next[me].type)return!0;return!1}fillBefore(K,Y=!1,me=0){let Ie=[this];function je(Xe,_t){let pt=Xe.matchFragment(K,me);if(pt&&(!Y||pt.validEnd))return g.from(_t.map(Ge=>Ge.createAndFill()));for(let Ge=0;Ge<Xe.next.length;Ge++){let{type:at,next:It}=Xe.next[Ge];if(!(at.isText||at.hasRequiredAttrs())&&Ie.indexOf(It)==-1){Ie.push(It);let zt=je(It,_t.concat(at));if(zt)return zt}}return null}return je(this,[])}findWrapping(K){for(let me=0;me<this.wrapCache.length;me+=2)if(this.wrapCache[me]==K)return this.wrapCache[me+1];let Y=this.computeWrapping(K);return this.wrapCache.push(K,Y),Y}computeWrapping(K){let Y=Object.create(null),me=[{match:this,type:null,via:null}];for(;me.length;){let Ie=me.shift(),je=Ie.match;if(je.matchType(K)){let Xe=[];for(let _t=Ie;_t.type;_t=_t.via)Xe.push(_t.type);return Xe.reverse()}for(let Xe=0;Xe<je.next.length;Xe++){let{type:_t,next:pt}=je.next[Xe];!_t.isLeaf&&!_t.hasRequiredAttrs()&&!(_t.name in Y)&&(!Ie.type||pt.validEnd)&&(me.push({match:_t.contentMatch,type:_t,via:Ie}),Y[_t.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(K){if(K>=this.next.length)throw new RangeError(`There's no ${K}th edge in this content match`);return this.next[K]}toString(){let K=[];function Y(me){K.push(me);for(let Ie=0;Ie<me.next.length;Ie++)K.indexOf(me.next[Ie].next)==-1&&Y(me.next[Ie].next)}return Y(this),K.map((me,Ie)=>{let je=Ie+(me.validEnd?"*":" ")+" ";for(let Xe=0;Xe<me.next.length;Xe++)je+=(Xe?", ":"")+me.next[Xe].type.name+"->"+K.indexOf(me.next[Xe].next);return je}).join(`
`)}}ne.empty=new ne(!0);class ae{constructor(K,Y){this.string=K,this.nodeTypes=Y,this.inline=null,this.pos=0,this.tokens=K.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(K){return this.next==K&&(this.pos++||!0)}err(K){throw new SyntaxError(K+" (in content expression '"+this.string+"')")}}function fe(Oe){let K=[];do K.push(le(Oe));while(Oe.eat("|"));return K.length==1?K[0]:{type:"choice",exprs:K}}function le(Oe){let K=[];do K.push(re(Oe));while(Oe.next&&Oe.next!=")"&&Oe.next!="|");return K.length==1?K[0]:{type:"seq",exprs:K}}function re(Oe){let K=ce(Oe);for(;;)if(Oe.eat("+"))K={type:"plus",expr:K};else if(Oe.eat("*"))K={type:"star",expr:K};else if(Oe.eat("?"))K={type:"opt",expr:K};else if(Oe.eat("{"))K=oe(Oe,K);else break;return K}function $(Oe){/\D/.test(Oe.next)&&Oe.err("Expected number, got '"+Oe.next+"'");let K=Number(Oe.next);return Oe.pos++,K}function oe(Oe,K){let Y=$(Oe),me=Y;return Oe.eat(",")&&(Oe.next!="}"?me=$(Oe):me=-1),Oe.eat("}")||Oe.err("Unclosed braced range"),{type:"range",min:Y,max:me,expr:K}}function se(Oe,K){let Y=Oe.nodeTypes,me=Y[K];if(me)return[me];let Ie=[];for(let je in Y){let Xe=Y[je];Xe.groups.indexOf(K)>-1&&Ie.push(Xe)}return Ie.length==0&&Oe.err("No node type or group '"+K+"' found"),Ie}function ce(Oe){if(Oe.eat("(")){let K=fe(Oe);return Oe.eat(")")||Oe.err("Missing closing paren"),K}else if(/\W/.test(Oe.next))Oe.err("Unexpected token '"+Oe.next+"'");else{let K=se(Oe,Oe.next).map(Y=>(Oe.inline==null?Oe.inline=Y.isInline:Oe.inline!=Y.isInline&&Oe.err("Mixing inline and block content"),{type:"name",value:Y}));return Oe.pos++,K.length==1?K[0]:{type:"choice",exprs:K}}}function de(Oe){let K=[[]];return Ie(je(Oe,0),Y()),K;function Y(){return K.push([])-1}function me(Xe,_t,pt){let Ge={term:pt,to:_t};return K[Xe].push(Ge),Ge}function Ie(Xe,_t){Xe.forEach(pt=>pt.to=_t)}function je(Xe,_t){if(Xe.type=="choice")return Xe.exprs.reduce((pt,Ge)=>pt.concat(je(Ge,_t)),[]);if(Xe.type=="seq")for(let pt=0;;pt++){let Ge=je(Xe.exprs[pt],_t);if(pt==Xe.exprs.length-1)return Ge;Ie(Ge,_t=Y())}else if(Xe.type=="star"){let pt=Y();return me(_t,pt),Ie(je(Xe.expr,pt),pt),[me(pt)]}else if(Xe.type=="plus"){let pt=Y();return Ie(je(Xe.expr,_t),pt),Ie(je(Xe.expr,pt),pt),[me(pt)]}else{if(Xe.type=="opt")return[me(_t)].concat(je(Xe.expr,_t));if(Xe.type=="range"){let pt=_t;for(let Ge=0;Ge<Xe.min;Ge++){let at=Y();Ie(je(Xe.expr,pt),at),pt=at}if(Xe.max==-1)Ie(je(Xe.expr,pt),pt);else for(let Ge=Xe.min;Ge<Xe.max;Ge++){let at=Y();me(pt,at),Ie(je(Xe.expr,pt),at),pt=at}return[me(pt)]}else{if(Xe.type=="name")return[me(_t,void 0,Xe.value)];throw new Error("Unknown expr type")}}}}function be(Oe,K){return K-Oe}function pe(Oe,K){let Y=[];return me(K),Y.sort(be);function me(Ie){let je=Oe[Ie];if(je.length==1&&!je[0].term)return me(je[0].to);Y.push(Ie);for(let Xe=0;Xe<je.length;Xe++){let{term:_t,to:pt}=je[Xe];!_t&&Y.indexOf(pt)==-1&&me(pt)}}}function we(Oe){let K=Object.create(null);return Y(pe(Oe,0));function Y(me){let Ie=[];me.forEach(Xe=>{Oe[Xe].forEach(({term:_t,to:pt})=>{if(!_t)return;let Ge;for(let at=0;at<Ie.length;at++)Ie[at][0]==_t&&(Ge=Ie[at][1]);pe(Oe,pt).forEach(at=>{Ge||Ie.push([_t,Ge=[]]),Ge.indexOf(at)==-1&&Ge.push(at)})})});let je=K[me.join(",")]=new ne(me.indexOf(Oe.length-1)>-1);for(let Xe=0;Xe<Ie.length;Xe++){let _t=Ie[Xe][1].sort(be);je.next.push({type:Ie[Xe][0],next:K[_t.join(",")]||Y(_t)})}return je}}function xe(Oe,K){for(let Y=0,me=[Oe];Y<me.length;Y++){let Ie=me[Y],je=!Ie.validEnd,Xe=[];for(let _t=0;_t<Ie.next.length;_t++){let{type:pt,next:Ge}=Ie.next[_t];Xe.push(pt.name),je&&!(pt.isText||pt.hasRequiredAttrs())&&(je=!1),me.indexOf(Ge)==-1&&me.push(Ge)}je&&K.err("Only non-generatable nodes ("+Xe.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ue(Oe){let K=Object.create(null);for(let Y in Oe){let me=Oe[Y];if(!me.hasDefault)return null;K[Y]=me.default}return K}function De(Oe,K){let Y=Object.create(null);for(let me in Oe){let Ie=K&&K[me];if(Ie===void 0){let je=Oe[me];if(je.hasDefault)Ie=je.default;else throw new RangeError("No value supplied for attribute "+me)}Y[me]=Ie}return Y}function _e(Oe){let K=Object.create(null);if(Oe)for(let Y in Oe)K[Y]=new ve(Oe[Y]);return K}class ie{constructor(K,Y,me){this.name=K,this.schema=Y,this.spec=me,this.markSet=null,this.groups=me.group?me.group.split(" "):[],this.attrs=_e(me.attrs),this.defaultAttrs=Ue(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(me.inline||K=="text"),this.isText=K=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ne.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let K in this.attrs)if(this.attrs[K].isRequired)return!0;return!1}compatibleContent(K){return this==K||this.contentMatch.compatible(K.contentMatch)}computeAttrs(K){return!K&&this.defaultAttrs?this.defaultAttrs:De(this.attrs,K)}create(K=null,Y,me){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ee(this,this.computeAttrs(K),g.from(Y),b.setFrom(me))}createChecked(K=null,Y,me){return Y=g.from(Y),this.checkContent(Y),new ee(this,this.computeAttrs(K),Y,b.setFrom(me))}createAndFill(K=null,Y,me){if(K=this.computeAttrs(K),Y=g.from(Y),Y.size){let Xe=this.contentMatch.fillBefore(Y);if(!Xe)return null;Y=Xe.append(Y)}let Ie=this.contentMatch.matchFragment(Y),je=Ie&&Ie.fillBefore(g.empty,!0);return je?new ee(this,K,Y.append(je),b.setFrom(me)):null}validContent(K){let Y=this.contentMatch.matchFragment(K);if(!Y||!Y.validEnd)return!1;for(let me=0;me<K.childCount;me++)if(!this.allowsMarks(K.child(me).marks))return!1;return!0}checkContent(K){if(!this.validContent(K))throw new RangeError(`Invalid content for node ${this.name}: ${K.toString().slice(0,50)}`)}allowsMarkType(K){return this.markSet==null||this.markSet.indexOf(K)>-1}allowsMarks(K){if(this.markSet==null)return!0;for(let Y=0;Y<K.length;Y++)if(!this.allowsMarkType(K[Y].type))return!1;return!0}allowedMarks(K){if(this.markSet==null)return K;let Y;for(let me=0;me<K.length;me++)this.allowsMarkType(K[me].type)?Y&&Y.push(K[me]):Y||(Y=K.slice(0,me));return Y?Y.length?Y:b.none:K}static compile(K,Y){let me=Object.create(null);K.forEach((je,Xe)=>me[je]=new ie(je,Y,Xe));let Ie=Y.spec.topNode||"doc";if(!me[Ie])throw new RangeError("Schema is missing its top node type ('"+Ie+"')");if(!me.text)throw new RangeError("Every schema needs a 'text' type");for(let je in me.text.attrs)throw new RangeError("The text node type should not have attributes");return me}}class ve{constructor(K){this.hasDefault=Object.prototype.hasOwnProperty.call(K,"default"),this.default=K.default}get isRequired(){return!this.hasDefault}}class he{constructor(K,Y,me,Ie){this.name=K,this.rank=Y,this.schema=me,this.spec=Ie,this.attrs=_e(Ie.attrs),this.excluded=null;let je=Ue(this.attrs);this.instance=je?new b(this,je):null}create(K=null){return!K&&this.instance?this.instance:new b(this,De(this.attrs,K))}static compile(K,Y){let me=Object.create(null),Ie=0;return K.forEach((je,Xe)=>me[je]=new he(je,Ie++,Y,Xe)),me}removeFromSet(K){for(var Y=0;Y<K.length;Y++)K[Y].type==this&&(K=K.slice(0,Y).concat(K.slice(Y+1)),Y--);return K}isInSet(K){for(let Y=0;Y<K.length;Y++)if(K[Y].type==this)return K[Y]}excludes(K){return this.excluded.indexOf(K)>-1}}class Le{constructor(K){this.cached=Object.create(null);let Y=this.spec={};for(let Ie in K)Y[Ie]=K[Ie];Y.nodes=m.from(K.nodes),Y.marks=m.from(K.marks||{}),this.nodes=ie.compile(this.spec.nodes,this),this.marks=he.compile(this.spec.marks,this);let me=Object.create(null);for(let Ie in this.nodes){if(Ie in this.marks)throw new RangeError(Ie+" can not be both a node and a mark");let je=this.nodes[Ie],Xe=je.spec.content||"",_t=je.spec.marks;je.contentMatch=me[Xe]||(me[Xe]=ne.parse(Xe,this.nodes)),je.inlineContent=je.contentMatch.inlineContent,je.markSet=_t=="_"?null:_t?He(this,_t.split(" ")):_t==""||!je.inlineContent?[]:null}for(let Ie in this.marks){let je=this.marks[Ie],Xe=je.spec.excludes;je.excluded=Xe==null?[je]:Xe==""?[]:He(this,Xe.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(K,Y=null,me,Ie){if(typeof K=="string")K=this.nodeType(K);else if(K instanceof ie){if(K.schema!=this)throw new RangeError("Node type from different schema used ("+K.name+")")}else throw new RangeError("Invalid node type: "+K);return K.createChecked(Y,me,Ie)}text(K,Y){let me=this.nodes.text;return new L(me,me.defaultAttrs,K,b.setFrom(Y))}mark(K,Y){return typeof K=="string"&&(K=this.marks[K]),K.create(Y)}nodeFromJSON(K){return ee.fromJSON(this,K)}markFromJSON(K){return b.fromJSON(this,K)}nodeType(K){let Y=this.nodes[K];if(!Y)throw new RangeError("Unknown node type: "+K);return Y}}function He(Oe,K){let Y=[];for(let me=0;me<K.length;me++){let Ie=K[me],je=Oe.marks[Ie],Xe=je;if(je)Y.push(je);else for(let _t in Oe.marks){let pt=Oe.marks[_t];(Ie=="_"||pt.spec.group&&pt.spec.group.split(" ").indexOf(Ie)>-1)&&Y.push(Xe=pt)}if(!Xe)throw new SyntaxError("Unknown mark type: '"+K[me]+"'")}return Y}class ht{constructor(K,Y){this.schema=K,this.rules=Y,this.tags=[],this.styles=[],Y.forEach(me=>{me.tag?this.tags.push(me):me.style&&this.styles.push(me)}),this.normalizeLists=!this.tags.some(me=>{if(!/^(ul|ol)\b/.test(me.tag)||!me.node)return!1;let Ie=K.nodes[me.node];return Ie.contentMatch.matchType(Ie)})}parse(K,Y={}){let me=new sn(this,Y,!1);return me.addAll(K,Y.from,Y.to),me.finish()}parseSlice(K,Y={}){let me=new sn(this,Y,!0);return me.addAll(K,Y.from,Y.to),E.maxOpen(me.finish())}matchTag(K,Y,me){for(let Ie=me?this.tags.indexOf(me)+1:0;Ie<this.tags.length;Ie++){let je=this.tags[Ie];if(Ne(K,je.tag)&&(je.namespace===void 0||K.namespaceURI==je.namespace)&&(!je.context||Y.matchesContext(je.context))){if(je.getAttrs){let Xe=je.getAttrs(K);if(Xe===!1)continue;je.attrs=Xe||void 0}return je}}}matchStyle(K,Y,me,Ie){for(let je=Ie?this.styles.indexOf(Ie)+1:0;je<this.styles.length;je++){let Xe=this.styles[je],_t=Xe.style;if(!(_t.indexOf(K)!=0||Xe.context&&!me.matchesContext(Xe.context)||_t.length>K.length&&(_t.charCodeAt(K.length)!=61||_t.slice(K.length+1)!=Y))){if(Xe.getAttrs){let pt=Xe.getAttrs(Y);if(pt===!1)continue;Xe.attrs=pt||void 0}return Xe}}}static schemaRules(K){let Y=[];function me(Ie){let je=Ie.priority==null?50:Ie.priority,Xe=0;for(;Xe<Y.length;Xe++){let _t=Y[Xe];if((_t.priority==null?50:_t.priority)<je)break}Y.splice(Xe,0,Ie)}for(let Ie in K.marks){let je=K.marks[Ie].spec.parseDOM;je&&je.forEach(Xe=>{me(Xe=st(Xe)),Xe.mark||Xe.ignore||Xe.clearMark||(Xe.mark=Ie)})}for(let Ie in K.nodes){let je=K.nodes[Ie].spec.parseDOM;je&&je.forEach(Xe=>{me(Xe=st(Xe)),Xe.node||Xe.ignore||Xe.mark||(Xe.node=Ie)})}return Y}static fromSchema(K){return K.cached.domParser||(K.cached.domParser=new ht(K,ht.schemaRules(K)))}}const bt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Tt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Fe={ol:!0,ul:!0},nt=1,ft=2,Ye=4;function rt(Oe,K,Y){return K!=null?(K?nt:0)|(K==="full"?ft:0):Oe&&Oe.whitespace=="pre"?nt|ft:Y&~Ye}class $t{constructor(K,Y,me,Ie,je,Xe,_t){this.type=K,this.attrs=Y,this.marks=me,this.pendingMarks=Ie,this.solid=je,this.options=_t,this.content=[],this.activeMarks=b.none,this.stashMarks=[],this.match=Xe||(_t&Ye?null:K.contentMatch)}findWrapping(K){if(!this.match){if(!this.type)return[];let Y=this.type.contentMatch.fillBefore(g.from(K));if(Y)this.match=this.type.contentMatch.matchFragment(Y);else{let me=this.type.contentMatch,Ie;return(Ie=me.findWrapping(K.type))?(this.match=me,Ie):null}}return this.match.findWrapping(K.type)}finish(K){if(!(this.options&nt)){let me=this.content[this.content.length-1],Ie;if(me&&me.isText&&(Ie=/[ \t\r\n\u000c]+$/.exec(me.text))){let je=me;me.text.length==Ie[0].length?this.content.pop():this.content[this.content.length-1]=je.withText(je.text.slice(0,je.text.length-Ie[0].length))}}let Y=g.from(this.content);return!K&&this.match&&(Y=Y.append(this.match.fillBefore(g.empty,!0))),this.type?this.type.create(this.attrs,Y,this.marks):Y}popFromStashMark(K){for(let Y=this.stashMarks.length-1;Y>=0;Y--)if(K.eq(this.stashMarks[Y]))return this.stashMarks.splice(Y,1)[0]}applyPending(K){for(let Y=0,me=this.pendingMarks;Y<me.length;Y++){let Ie=me[Y];(this.type?this.type.allowsMarkType(Ie.type):ke(Ie.type,K))&&!Ie.isInSet(this.activeMarks)&&(this.activeMarks=Ie.addToSet(this.activeMarks),this.pendingMarks=Ie.removeFromSet(this.pendingMarks))}}inlineContext(K){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:K.parentNode&&!bt.hasOwnProperty(K.parentNode.nodeName.toLowerCase())}}class sn{constructor(K,Y,me){this.parser=K,this.options=Y,this.isOpen=me,this.open=0;let Ie=Y.topNode,je,Xe=rt(null,Y.preserveWhitespace,0)|(me?Ye:0);Ie?je=new $t(Ie.type,Ie.attrs,b.none,b.none,!0,Y.topMatch||Ie.type.contentMatch,Xe):me?je=new $t(null,null,b.none,b.none,!0,null,Xe):je=new $t(K.schema.topNodeType,null,b.none,b.none,!0,null,Xe),this.nodes=[je],this.find=Y.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(K){if(K.nodeType==3)this.addTextNode(K);else if(K.nodeType==1){let Y=K.getAttribute("style");if(!Y)this.addElement(K);else{let me=this.readStyles(We(Y));if(!me)return;let[Ie,je]=me,Xe=this.top;for(let _t=0;_t<je.length;_t++)this.removePendingMark(je[_t],Xe);for(let _t=0;_t<Ie.length;_t++)this.addPendingMark(Ie[_t]);this.addElement(K);for(let _t=0;_t<Ie.length;_t++)this.removePendingMark(Ie[_t],Xe);for(let _t=0;_t<je.length;_t++)this.addPendingMark(je[_t])}}}addTextNode(K){let Y=K.nodeValue,me=this.top;if(me.options&ft||me.inlineContext(K)||/[^ \t\r\n\u000c]/.test(Y)){if(me.options&nt)me.options&ft?Y=Y.replace(/\r\n?/g,`
`):Y=Y.replace(/\r?\n|\r/g," ");else if(Y=Y.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(Y)&&this.open==this.nodes.length-1){let Ie=me.content[me.content.length-1],je=K.previousSibling;(!Ie||je&&je.nodeName=="BR"||Ie.isText&&/[ \t\r\n\u000c]$/.test(Ie.text))&&(Y=Y.slice(1))}Y&&this.insertNode(this.parser.schema.text(Y)),this.findInText(K)}else this.findInside(K)}addElement(K,Y){let me=K.nodeName.toLowerCase(),Ie;Fe.hasOwnProperty(me)&&this.parser.normalizeLists&&gt(K);let je=this.options.ruleFromNode&&this.options.ruleFromNode(K)||(Ie=this.parser.matchTag(K,this,Y));if(je?je.ignore:Tt.hasOwnProperty(me))this.findInside(K),this.ignoreFallback(K);else if(!je||je.skip||je.closeParent){je&&je.closeParent?this.open=Math.max(0,this.open-1):je&&je.skip.nodeType&&(K=je.skip);let Xe,_t=this.top,pt=this.needsBlock;if(bt.hasOwnProperty(me))_t.content.length&&_t.content[0].isInline&&this.open&&(this.open--,_t=this.top),Xe=!0,_t.type||(this.needsBlock=!0);else if(!K.firstChild){this.leafFallback(K);return}this.addAll(K),Xe&&this.sync(_t),this.needsBlock=pt}else this.addElementByRule(K,je,je.consuming===!1?Ie:void 0)}leafFallback(K){K.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(K.ownerDocument.createTextNode(`
`))}ignoreFallback(K){K.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(K){let Y=b.none,me=b.none;e:for(let Ie=0;Ie<K.length;Ie+=2)for(let je=void 0;;){let Xe=this.parser.matchStyle(K[Ie],K[Ie+1],this,je);if(!Xe)continue e;if(Xe.ignore)return null;if(Xe.clearMark?this.top.pendingMarks.forEach(_t=>{Xe.clearMark(_t)&&(me=_t.addToSet(me))}):Y=this.parser.schema.marks[Xe.mark].create(Xe.attrs).addToSet(Y),Xe.consuming===!1)je=Xe;else break}return[Y,me]}addElementByRule(K,Y,me){let Ie,je,Xe;Y.node?(je=this.parser.schema.nodes[Y.node],je.isLeaf?this.insertNode(je.create(Y.attrs))||this.leafFallback(K):Ie=this.enter(je,Y.attrs||null,Y.preserveWhitespace)):(Xe=this.parser.schema.marks[Y.mark].create(Y.attrs),this.addPendingMark(Xe));let _t=this.top;if(je&&je.isLeaf)this.findInside(K);else if(me)this.addElement(K,me);else if(Y.getContent)this.findInside(K),Y.getContent(K,this.parser.schema).forEach(pt=>this.insertNode(pt));else{let pt=K;typeof Y.contentElement=="string"?pt=K.querySelector(Y.contentElement):typeof Y.contentElement=="function"?pt=Y.contentElement(K):Y.contentElement&&(pt=Y.contentElement),this.findAround(K,pt,!0),this.addAll(pt)}Ie&&this.sync(_t)&&this.open--,Xe&&this.removePendingMark(Xe,_t)}addAll(K,Y,me){let Ie=Y||0;for(let je=Y?K.childNodes[Y]:K.firstChild,Xe=me==null?null:K.childNodes[me];je!=Xe;je=je.nextSibling,++Ie)this.findAtPoint(K,Ie),this.addDOM(je);this.findAtPoint(K,Ie)}findPlace(K){let Y,me;for(let Ie=this.open;Ie>=0;Ie--){let je=this.nodes[Ie],Xe=je.findWrapping(K);if(Xe&&(!Y||Y.length>Xe.length)&&(Y=Xe,me=je,!Xe.length)||je.solid)break}if(!Y)return!1;this.sync(me);for(let Ie=0;Ie<Y.length;Ie++)this.enterInner(Y[Ie],null,!1);return!0}insertNode(K){if(K.isInline&&this.needsBlock&&!this.top.type){let Y=this.textblockFromContext();Y&&this.enterInner(Y)}if(this.findPlace(K)){this.closeExtra();let Y=this.top;Y.applyPending(K.type),Y.match&&(Y.match=Y.match.matchType(K.type));let me=Y.activeMarks;for(let Ie=0;Ie<K.marks.length;Ie++)(!Y.type||Y.type.allowsMarkType(K.marks[Ie].type))&&(me=K.marks[Ie].addToSet(me));return Y.content.push(K.mark(me)),!0}return!1}enter(K,Y,me){let Ie=this.findPlace(K.create(Y));return Ie&&this.enterInner(K,Y,!0,me),Ie}enterInner(K,Y=null,me=!1,Ie){this.closeExtra();let je=this.top;je.applyPending(K),je.match=je.match&&je.match.matchType(K);let Xe=rt(K,Ie,je.options);je.options&Ye&&je.content.length==0&&(Xe|=Ye),this.nodes.push(new $t(K,Y,je.activeMarks,je.pendingMarks,me,null,Xe)),this.open++}closeExtra(K=!1){let Y=this.nodes.length-1;if(Y>this.open){for(;Y>this.open;Y--)this.nodes[Y-1].content.push(this.nodes[Y].finish(K));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(K){for(let Y=this.open;Y>=0;Y--)if(this.nodes[Y]==K)return this.open=Y,!0;return!1}get currentPos(){this.closeExtra();let K=0;for(let Y=this.open;Y>=0;Y--){let me=this.nodes[Y].content;for(let Ie=me.length-1;Ie>=0;Ie--)K+=me[Ie].nodeSize;Y&&K++}return K}findAtPoint(K,Y){if(this.find)for(let me=0;me<this.find.length;me++)this.find[me].node==K&&this.find[me].offset==Y&&(this.find[me].pos=this.currentPos)}findInside(K){if(this.find)for(let Y=0;Y<this.find.length;Y++)this.find[Y].pos==null&&K.nodeType==1&&K.contains(this.find[Y].node)&&(this.find[Y].pos=this.currentPos)}findAround(K,Y,me){if(K!=Y&&this.find)for(let Ie=0;Ie<this.find.length;Ie++)this.find[Ie].pos==null&&K.nodeType==1&&K.contains(this.find[Ie].node)&&Y.compareDocumentPosition(this.find[Ie].node)&(me?2:4)&&(this.find[Ie].pos=this.currentPos)}findInText(K){if(this.find)for(let Y=0;Y<this.find.length;Y++)this.find[Y].node==K&&(this.find[Y].pos=this.currentPos-(K.nodeValue.length-this.find[Y].offset))}matchesContext(K){if(K.indexOf("|")>-1)return K.split(/\s*\|\s*/).some(this.matchesContext,this);let Y=K.split("/"),me=this.options.context,Ie=!this.isOpen&&(!me||me.parent.type==this.nodes[0].type),je=-(me?me.depth+1:0)+(Ie?0:1),Xe=(_t,pt)=>{for(;_t>=0;_t--){let Ge=Y[_t];if(Ge==""){if(_t==Y.length-1||_t==0)continue;for(;pt>=je;pt--)if(Xe(_t-1,pt))return!0;return!1}else{let at=pt>0||pt==0&&Ie?this.nodes[pt].type:me&&pt>=je?me.node(pt-je).type:null;if(!at||at.name!=Ge&&at.groups.indexOf(Ge)==-1)return!1;pt--}}return!0};return Xe(Y.length-1,this.open)}textblockFromContext(){let K=this.options.context;if(K)for(let Y=K.depth;Y>=0;Y--){let me=K.node(Y).contentMatchAt(K.indexAfter(Y)).defaultType;if(me&&me.isTextblock&&me.defaultAttrs)return me}for(let Y in this.parser.schema.nodes){let me=this.parser.schema.nodes[Y];if(me.isTextblock&&me.defaultAttrs)return me}}addPendingMark(K){let Y=Be(K,this.top.pendingMarks);Y&&this.top.stashMarks.push(Y),this.top.pendingMarks=K.addToSet(this.top.pendingMarks)}removePendingMark(K,Y){for(let me=this.open;me>=0;me--){let Ie=this.nodes[me];if(Ie.pendingMarks.lastIndexOf(K)>-1)Ie.pendingMarks=K.removeFromSet(Ie.pendingMarks);else{Ie.activeMarks=K.removeFromSet(Ie.activeMarks);let Xe=Ie.popFromStashMark(K);Xe&&Ie.type&&Ie.type.allowsMarkType(Xe.type)&&(Ie.activeMarks=Xe.addToSet(Ie.activeMarks))}if(Ie==Y)break}}}function gt(Oe){for(let K=Oe.firstChild,Y=null;K;K=K.nextSibling){let me=K.nodeType==1?K.nodeName.toLowerCase():null;me&&Fe.hasOwnProperty(me)&&Y?(Y.appendChild(K),K=Y):me=="li"?Y=K:me&&(Y=null)}}function Ne(Oe,K){return(Oe.matches||Oe.msMatchesSelector||Oe.webkitMatchesSelector||Oe.mozMatchesSelector).call(Oe,K)}function We(Oe){let K=/\s*([\w-]+)\s*:\s*([^;]+)/g,Y,me=[];for(;Y=K.exec(Oe);)me.push(Y[1],Y[2].trim());return me}function st(Oe){let K={};for(let Y in Oe)K[Y]=Oe[Y];return K}function ke(Oe,K){let Y=K.schema.nodes;for(let me in Y){let Ie=Y[me];if(!Ie.allowsMarkType(Oe))continue;let je=[],Xe=_t=>{je.push(_t);for(let pt=0;pt<_t.edgeCount;pt++){let{type:Ge,next:at}=_t.edge(pt);if(Ge==K||je.indexOf(at)<0&&Xe(at))return!0}};if(Xe(Ie.contentMatch))return!0}}function Be(Oe,K){for(let Y=0;Y<K.length;Y++)if(Oe.eq(K[Y]))return K[Y]}class Se{constructor(K,Y){this.nodes=K,this.marks=Y}serializeFragment(K,Y={},me){me||(me=ut(Y).createDocumentFragment());let Ie=me,je=[];return K.forEach(Xe=>{if(je.length||Xe.marks.length){let _t=0,pt=0;for(;_t<je.length&&pt<Xe.marks.length;){let Ge=Xe.marks[pt];if(!this.marks[Ge.type.name]){pt++;continue}if(!Ge.eq(je[_t][0])||Ge.type.spec.spanning===!1)break;_t++,pt++}for(;_t<je.length;)Ie=je.pop()[1];for(;pt<Xe.marks.length;){let Ge=Xe.marks[pt++],at=this.serializeMark(Ge,Xe.isInline,Y);at&&(je.push([Ge,Ie]),Ie.appendChild(at.dom),Ie=at.contentDOM||at.dom)}}Ie.appendChild(this.serializeNodeInner(Xe,Y))}),me}serializeNodeInner(K,Y){let{dom:me,contentDOM:Ie}=Se.renderSpec(ut(Y),this.nodes[K.type.name](K));if(Ie){if(K.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(K.content,Y,Ie)}return me}serializeNode(K,Y={}){let me=this.serializeNodeInner(K,Y);for(let Ie=K.marks.length-1;Ie>=0;Ie--){let je=this.serializeMark(K.marks[Ie],K.isInline,Y);je&&((je.contentDOM||je.dom).appendChild(me),me=je.dom)}return me}serializeMark(K,Y,me={}){let Ie=this.marks[K.type.name];return Ie&&Se.renderSpec(ut(me),Ie(K,Y))}static renderSpec(K,Y,me=null){if(typeof Y=="string")return{dom:K.createTextNode(Y)};if(Y.nodeType!=null)return{dom:Y};if(Y.dom&&Y.dom.nodeType!=null)return Y;let Ie=Y[0],je=Ie.indexOf(" ");je>0&&(me=Ie.slice(0,je),Ie=Ie.slice(je+1));let Xe,_t=me?K.createElementNS(me,Ie):K.createElement(Ie),pt=Y[1],Ge=1;if(pt&&typeof pt=="object"&&pt.nodeType==null&&!Array.isArray(pt)){Ge=2;for(let at in pt)if(pt[at]!=null){let It=at.indexOf(" ");It>0?_t.setAttributeNS(at.slice(0,It),at.slice(It+1),pt[at]):_t.setAttribute(at,pt[at])}}for(let at=Ge;at<Y.length;at++){let It=Y[at];if(It===0){if(at<Y.length-1||at>Ge)throw new RangeError("Content hole must be the only child of its parent node");return{dom:_t,contentDOM:_t}}else{let{dom:zt,contentDOM:Xt}=Se.renderSpec(K,It,me);if(_t.appendChild(zt),Xt){if(Xe)throw new RangeError("Multiple content holes");Xe=Xt}}}return{dom:_t,contentDOM:Xe}}static fromSchema(K){return K.cached.domSerializer||(K.cached.domSerializer=new Se(this.nodesFromSchema(K),this.marksFromSchema(K)))}static nodesFromSchema(K){let Y=Ke(K.nodes);return Y.text||(Y.text=me=>me.text),Y}static marksFromSchema(K){return Ke(K.marks)}}function Ke(Oe){let K={};for(let Y in Oe){let me=Oe[Y].spec.toDOM;me&&(K[Y]=me)}return K}function ut(Oe){return Oe.document||window.document}},53833:(z,s,e)=>{"use strict";e.d(s,{IB:()=>_,KI:()=>E,bw:()=>P});var o=e(16560),m=e(87823);const d=["ol",0],u=["ul",0],g=["li",0],y={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(S){return{order:S.hasAttribute("start")?+S.getAttribute("start"):1}}}],toDOM(S){return S.attrs.order==1?d:["ol",{start:S.attrs.order},0]}},w={parseDOM:[{tag:"ul"}],toDOM(){return u}},v={parseDOM:[{tag:"li"}],toDOM(){return g},defining:!0};function b(S,M){let R={};for(let N in S)R[N]=S[N];for(let N in M)R[N]=M[N];return R}function D(S,M,R){return S.append({ordered_list:b(y,{content:"list_item+",group:R}),bullet_list:b(w,{content:"list_item+",group:R}),list_item:b(v,{content:M})})}function E(S,M=null){return function(R,N){let{$from:T,$to:A}=R.selection,F=T.blockRange(A),U=!1,G=F;if(!F)return!1;if(F.depth>=2&&T.node(F.depth-1).type.compatibleContent(S)&&F.startIndex==0){if(T.index(F.depth-1)==0)return!1;let Q=R.doc.resolve(F.start-2);G=new m.Ts(Q,Q,F.depth),F.endIndex<F.parent.childCount&&(F=new m.Ts(T,R.doc.resolve(A.end(F.depth)),F.depth)),U=!0}let J=(0,o.nd)(G,S,M,F);return J?(N&&N(O(R.tr,F,J,U,S).scrollIntoView()),!0):!1}}function O(S,M,R,N,T){let A=m.HY.empty;for(let Q=R.length-1;Q>=0;Q--)A=m.HY.from(R[Q].type.create(R[Q].attrs,A));S.step(new o.FC(M.start-(N?2:0),M.end,M.start,M.end,new m.p2(A,0,0),R.length,!0));let F=0;for(let Q=0;Q<R.length;Q++)R[Q].type==T&&(F=Q+1);let U=R.length-F,G=M.start+R.length-(N?2:0),J=M.parent;for(let Q=M.startIndex,te=M.endIndex,ee=!0;Q<te;Q++,ee=!1)!ee&&(0,o.Ax)(S.doc,G,U)&&(S.split(G,U),G+=2*U),G+=J.child(Q).nodeSize;return S}function C(S){return function(M,R){let{$from:N,$to:T,node:A}=M.selection;if(A&&A.isBlock||N.depth<2||!N.sameParent(T))return!1;let F=N.node(-1);if(F.type!=S)return!1;if(N.parent.content.size==0&&N.node(-1).childCount==N.indexAfter(-1)){if(N.depth==3||N.node(-3).type!=S||N.index(-2)!=N.node(-2).childCount-1)return!1;if(R){let Q=Fragment.empty,te=N.index(-1)?1:N.index(-2)?2:3;for(let ae=N.depth-te;ae>=N.depth-3;ae--)Q=Fragment.from(N.node(ae).copy(Q));let ee=N.indexAfter(-1)<N.node(-2).childCount?1:N.indexAfter(-2)<N.node(-3).childCount?2:3;Q=Q.append(Fragment.from(S.createAndFill()));let L=N.before(N.depth-(te-1)),V=M.tr.replace(L,N.after(-ee),new Slice(Q,4-te,0)),ne=-1;V.doc.nodesBetween(L,V.doc.content.size,(ae,fe)=>{if(ne>-1)return!1;ae.isTextblock&&ae.content.size==0&&(ne=fe+1)}),ne>-1&&V.setSelection(Selection.near(V.doc.resolve(ne))),R(V.scrollIntoView())}return!0}let U=T.pos==N.end()?F.contentMatchAt(0).defaultType:null,G=M.tr.delete(N.pos,T.pos),J=U?[null,{type:U}]:void 0;return canSplit(G.doc,N.pos,2,J)?(R&&R(G.split(N.pos,2,J).scrollIntoView()),!0):!1}}function _(S){return function(M,R){let{$from:N,$to:T}=M.selection,A=N.blockRange(T,F=>F.childCount>0&&F.firstChild.type==S);return A?R?N.node(A.depth-1).type==S?a(M,R,S,A):l(M,R,A):!0:!1}}function a(S,M,R,N){let T=S.tr,A=N.end,F=N.$to.end(N.depth);A<F&&(T.step(new o.FC(A-1,F,A,F,new m.p2(m.HY.from(R.create(null,N.parent.copy())),1,0),1,!0)),N=new m.Ts(T.doc.resolve(N.$from.pos),T.doc.resolve(F),N.depth));const U=(0,o.k9)(N);if(U==null)return!1;T.lift(N,U);let G=T.mapping.map(A,-1)-1;return(0,o.Mn)(T.doc,G)&&T.join(G),M(T.scrollIntoView()),!0}function l(S,M,R){let N=S.tr,T=R.parent;for(let L=R.end,V=R.endIndex-1,ne=R.startIndex;V>ne;V--)L-=T.child(V).nodeSize,N.delete(L-1,L+1);let A=N.doc.resolve(R.start),F=A.nodeAfter;if(N.mapping.map(R.end)!=R.start+A.nodeAfter.nodeSize)return!1;let U=R.startIndex==0,G=R.endIndex==T.childCount,J=A.node(-1),Q=A.index(-1);if(!J.canReplace(Q+(U?0:1),Q+1,F.content.append(G?m.HY.empty:m.HY.from(T))))return!1;let te=A.pos,ee=te+F.nodeSize;return N.step(new o.FC(te-(U?1:0),ee+(G?1:0),te+1,ee-1,new m.p2((U?m.HY.empty:m.HY.from(T.copy(m.HY.empty))).append(G?m.HY.empty:m.HY.from(T.copy(m.HY.empty))),U?0:1,G?0:1),U?0:1)),M(N.scrollIntoView()),!0}function P(S){return function(M,R){let{$from:N,$to:T}=M.selection,A=N.blockRange(T,J=>J.childCount>0&&J.firstChild.type==S);if(!A)return!1;let F=A.startIndex;if(F==0)return!1;let U=A.parent,G=U.child(F-1);if(G.type!=S)return!1;if(R){let J=G.lastChild&&G.lastChild.type==U.type,Q=m.HY.from(J?S.create():null),te=new m.p2(m.HY.from(S.create(null,m.HY.from(U.type.create(null,Q)))),J?3:1,0),ee=A.start,L=A.end;R(M.tr.step(new o.FC(ee-(J?3:1),L,ee,L,te,1,!0)).scrollIntoView())}return!0}}},2376:(z,s,e)=>{"use strict";e.d(s,{Bs:()=>v,C1:()=>O,H$:()=>te,Sy:()=>G,Y1:()=>u,qv:()=>D,yy:()=>F});var o=e(87823),m=e(16560);const d=Object.create(null);class u{constructor(L,V,ne){this.$anchor=L,this.$head=V,this.ranges=ne||[new g(L.min(V),L.max(V))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let L=this.ranges;for(let V=0;V<L.length;V++)if(L[V].$from.pos!=L[V].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(L,V=o.p2.empty){let ne=V.content.lastChild,ae=null;for(let re=0;re<V.openEnd;re++)ae=ne,ne=ne.lastChild;let fe=L.steps.length,le=this.ranges;for(let re=0;re<le.length;re++){let{$from:$,$to:oe}=le[re],se=L.mapping.slice(fe);L.replaceRange(se.map($.pos),se.map(oe.pos),re?o.p2.empty:V),re==0&&a(L,fe,(ne?ne.isInline:ae&&ae.isTextblock)?-1:1)}}replaceWith(L,V){let ne=L.steps.length,ae=this.ranges;for(let fe=0;fe<ae.length;fe++){let{$from:le,$to:re}=ae[fe],$=L.mapping.slice(ne),oe=$.map(le.pos),se=$.map(re.pos);fe?L.deleteRange(oe,se):(L.replaceRangeWith(oe,se,V),a(L,ne,V.isInline?-1:1))}}static findFrom(L,V,ne=!1){let ae=L.parent.inlineContent?new v(L):_(L.node(0),L.parent,L.pos,L.index(),V,ne);if(ae)return ae;for(let fe=L.depth-1;fe>=0;fe--){let le=V<0?_(L.node(0),L.node(fe),L.before(fe+1),L.index(fe),V,ne):_(L.node(0),L.node(fe),L.after(fe+1),L.index(fe)+1,V,ne);if(le)return le}return null}static near(L,V=1){return this.findFrom(L,V)||this.findFrom(L,-V)||new O(L.node(0))}static atStart(L){return _(L,L,0,0,1)||new O(L)}static atEnd(L){return _(L,L,L.content.size,L.childCount,-1)||new O(L)}static fromJSON(L,V){if(!V||!V.type)throw new RangeError("Invalid input for Selection.fromJSON");let ne=d[V.type];if(!ne)throw new RangeError(`No selection type ${V.type} defined`);return ne.fromJSON(L,V)}static jsonID(L,V){if(L in d)throw new RangeError("Duplicate use of selection JSON ID "+L);return d[L]=V,V.prototype.jsonID=L,V}getBookmark(){return v.between(this.$anchor,this.$head).getBookmark()}}u.prototype.visible=!0;class g{constructor(L,V){this.$from=L,this.$to=V}}let y=!1;function w(ee){!y&&!ee.parent.inlineContent&&(y=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+ee.parent.type.name+")"))}class v extends u{constructor(L,V=L){w(L),w(V),super(L,V)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(L,V){let ne=L.resolve(V.map(this.head));if(!ne.parent.inlineContent)return u.near(ne);let ae=L.resolve(V.map(this.anchor));return new v(ae.parent.inlineContent?ae:ne,ne)}replace(L,V=o.p2.empty){if(super.replace(L,V),V==o.p2.empty){let ne=this.$from.marksAcross(this.$to);ne&&L.ensureMarks(ne)}}eq(L){return L instanceof v&&L.anchor==this.anchor&&L.head==this.head}getBookmark(){return new b(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(L,V){if(typeof V.anchor!="number"||typeof V.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new v(L.resolve(V.anchor),L.resolve(V.head))}static create(L,V,ne=V){let ae=L.resolve(V);return new this(ae,ne==V?ae:L.resolve(ne))}static between(L,V,ne){let ae=L.pos-V.pos;if((!ne||ae)&&(ne=ae>=0?1:-1),!V.parent.inlineContent){let fe=u.findFrom(V,ne,!0)||u.findFrom(V,-ne,!0);if(fe)V=fe.$head;else return u.near(V,ne)}return L.parent.inlineContent||(ae==0?L=V:(L=(u.findFrom(L,-ne,!0)||u.findFrom(L,ne,!0)).$anchor,L.pos<V.pos!=ae<0&&(L=V))),new v(L,V)}}u.jsonID("text",v);class b{constructor(L,V){this.anchor=L,this.head=V}map(L){return new b(L.map(this.anchor),L.map(this.head))}resolve(L){return v.between(L.resolve(this.anchor),L.resolve(this.head))}}class D extends u{constructor(L){let V=L.nodeAfter,ne=L.node(0).resolve(L.pos+V.nodeSize);super(L,ne),this.node=V}map(L,V){let{deleted:ne,pos:ae}=V.mapResult(this.anchor),fe=L.resolve(ae);return ne?u.near(fe):new D(fe)}content(){return new o.p2(o.HY.from(this.node),0,0)}eq(L){return L instanceof D&&L.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new E(this.anchor)}static fromJSON(L,V){if(typeof V.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new D(L.resolve(V.anchor))}static create(L,V){return new D(L.resolve(V))}static isSelectable(L){return!L.isText&&L.type.spec.selectable!==!1}}D.prototype.visible=!1,u.jsonID("node",D);class E{constructor(L){this.anchor=L}map(L){let{deleted:V,pos:ne}=L.mapResult(this.anchor);return V?new b(ne,ne):new E(ne)}resolve(L){let V=L.resolve(this.anchor),ne=V.nodeAfter;return ne&&D.isSelectable(ne)?new D(V):u.near(V)}}class O extends u{constructor(L){super(L.resolve(0),L.resolve(L.content.size))}replace(L,V=o.p2.empty){if(V==o.p2.empty){L.delete(0,L.doc.content.size);let ne=u.atStart(L.doc);ne.eq(L.selection)||L.setSelection(ne)}else super.replace(L,V)}toJSON(){return{type:"all"}}static fromJSON(L){return new O(L)}map(L){return new O(L)}eq(L){return L instanceof O}getBookmark(){return C}}u.jsonID("all",O);const C={map(){return this},resolve(ee){return new O(ee)}};function _(ee,L,V,ne,ae,fe=!1){if(L.inlineContent)return v.create(ee,V);for(let le=ne-(ae>0?0:1);ae>0?le<L.childCount:le>=0;le+=ae){let re=L.child(le);if(re.isAtom){if(!fe&&D.isSelectable(re))return D.create(ee,V-(ae<0?re.nodeSize:0))}else{let $=_(ee,re,V+ae,ae<0?re.childCount:0,ae,fe);if($)return $}V+=re.nodeSize*ae}return null}function a(ee,L,V){let ne=ee.steps.length-1;if(ne<L)return;let ae=ee.steps[ne];if(!(ae instanceof m.Pu||ae instanceof m.FC))return;let fe=ee.mapping.maps[ne],le;fe.forEach((re,$,oe,se)=>{le==null&&(le=se)}),ee.setSelection(u.near(ee.doc.resolve(le),V))}const l=1,P=2,S=4;class M extends m.wx{constructor(L){super(L.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=L.selection,this.storedMarks=L.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(L){if(L.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=L,this.curSelectionFor=this.steps.length,this.updated=(this.updated|l)&~P,this.storedMarks=null,this}get selectionSet(){return(this.updated&l)>0}setStoredMarks(L){return this.storedMarks=L,this.updated|=P,this}ensureMarks(L){return o.vc.sameSet(this.storedMarks||this.selection.$from.marks(),L)||this.setStoredMarks(L),this}addStoredMark(L){return this.ensureMarks(L.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(L){return this.ensureMarks(L.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&P)>0}addStep(L,V){super.addStep(L,V),this.updated=this.updated&~P,this.storedMarks=null}setTime(L){return this.time=L,this}replaceSelection(L){return this.selection.replace(this,L),this}replaceSelectionWith(L,V=!0){let ne=this.selection;return V&&(L=L.mark(this.storedMarks||(ne.empty?ne.$from.marks():ne.$from.marksAcross(ne.$to)||o.vc.none))),ne.replaceWith(this,L),this}deleteSelection(){return this.selection.replace(this),this}insertText(L,V,ne){let ae=this.doc.type.schema;if(V==null)return L?this.replaceSelectionWith(ae.text(L),!0):this.deleteSelection();{if(ne==null&&(ne=V),ne=ne==null?V:ne,!L)return this.deleteRange(V,ne);let fe=this.storedMarks;if(!fe){let le=this.doc.resolve(V);fe=ne==V?le.marks():le.marksAcross(this.doc.resolve(ne))}return this.replaceRangeWith(V,ne,ae.text(L,fe)),this.selection.empty||this.setSelection(u.near(this.selection.$to)),this}}setMeta(L,V){return this.meta[typeof L=="string"?L:L.key]=V,this}getMeta(L){return this.meta[typeof L=="string"?L:L.key]}get isGeneric(){for(let L in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=S,this}get scrolledIntoView(){return(this.updated&S)>0}}function R(ee,L){return!L||!ee?ee:ee.bind(L)}class N{constructor(L,V,ne){this.name=L,this.init=R(V.init,ne),this.apply=R(V.apply,ne)}}const T=[new N("doc",{init(ee){return ee.doc||ee.schema.topNodeType.createAndFill()},apply(ee){return ee.doc}}),new N("selection",{init(ee,L){return ee.selection||u.atStart(L.doc)},apply(ee){return ee.selection}}),new N("storedMarks",{init(ee){return ee.storedMarks||null},apply(ee,L,V,ne){return ne.selection.$cursor?ee.storedMarks:null}}),new N("scrollToSelection",{init(){return 0},apply(ee,L){return ee.scrolledIntoView?L+1:L}})];class A{constructor(L,V){this.schema=L,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T.slice(),V&&V.forEach(ne=>{if(this.pluginsByKey[ne.key])throw new RangeError("Adding different instances of a keyed plugin ("+ne.key+")");this.plugins.push(ne),this.pluginsByKey[ne.key]=ne,ne.spec.state&&this.fields.push(new N(ne.key,ne.spec.state,ne))})}}class F{constructor(L){this.config=L}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(L){return this.applyTransaction(L).state}filterTransaction(L,V=-1){for(let ne=0;ne<this.config.plugins.length;ne++)if(ne!=V){let ae=this.config.plugins[ne];if(ae.spec.filterTransaction&&!ae.spec.filterTransaction.call(ae,L,this))return!1}return!0}applyTransaction(L){if(!this.filterTransaction(L))return{state:this,transactions:[]};let V=[L],ne=this.applyInner(L),ae=null;for(;;){let fe=!1;for(let le=0;le<this.config.plugins.length;le++){let re=this.config.plugins[le];if(re.spec.appendTransaction){let $=ae?ae[le].n:0,oe=ae?ae[le].state:this,se=$<V.length&&re.spec.appendTransaction.call(re,$?V.slice($):V,oe,ne);if(se&&ne.filterTransaction(se,le)){if(se.setMeta("appendedTransaction",L),!ae){ae=[];for(let ce=0;ce<this.config.plugins.length;ce++)ae.push(ce<le?{state:ne,n:V.length}:{state:this,n:0})}V.push(se),ne=ne.applyInner(se),fe=!0}ae&&(ae[le]={state:ne,n:V.length})}}if(!fe)return{state:ne,transactions:V}}}applyInner(L){if(!L.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let V=new F(this.config),ne=this.config.fields;for(let ae=0;ae<ne.length;ae++){let fe=ne[ae];V[fe.name]=fe.apply(L,this[fe.name],this,V)}return V}get tr(){return new M(this)}static create(L){let V=new A(L.doc?L.doc.type.schema:L.schema,L.plugins),ne=new F(V);for(let ae=0;ae<V.fields.length;ae++)ne[V.fields[ae].name]=V.fields[ae].init(L,ne);return ne}reconfigure(L){let V=new A(this.schema,L.plugins),ne=V.fields,ae=new F(V);for(let fe=0;fe<ne.length;fe++){let le=ne[fe].name;ae[le]=this.hasOwnProperty(le)?this[le]:ne[fe].init(L,ae)}return ae}toJSON(L){let V={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(V.storedMarks=this.storedMarks.map(ne=>ne.toJSON())),L&&typeof L=="object")for(let ne in L){if(ne=="doc"||ne=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let ae=L[ne],fe=ae.spec.state;fe&&fe.toJSON&&(V[ne]=fe.toJSON.call(ae,this[ae.key]))}return V}static fromJSON(L,V,ne){if(!V)throw new RangeError("Invalid input for EditorState.fromJSON");if(!L.schema)throw new RangeError("Required config field 'schema' missing");let ae=new A(L.schema,L.plugins),fe=new F(ae);return ae.fields.forEach(le=>{if(le.name=="doc")fe.doc=o.NB.fromJSON(L.schema,V.doc);else if(le.name=="selection")fe.selection=u.fromJSON(fe.doc,V.selection);else if(le.name=="storedMarks")V.storedMarks&&(fe.storedMarks=V.storedMarks.map(L.schema.markFromJSON));else{if(ne)for(let re in ne){let $=ne[re],oe=$.spec.state;if($.key==le.name&&oe&&oe.fromJSON&&Object.prototype.hasOwnProperty.call(V,re)){fe[le.name]=oe.fromJSON.call($,L,V[re],fe);return}}fe[le.name]=le.init(L,fe)}}),fe}}function U(ee,L,V){for(let ne in ee){let ae=ee[ne];ae instanceof Function?ae=ae.bind(L):ne=="handleDOMEvents"&&(ae=U(ae,L,{})),V[ne]=ae}return V}class G{constructor(L){this.spec=L,this.props={},L.props&&U(L.props,this,this.props),this.key=L.key?L.key.key:Q("plugin")}getState(L){return L[this.key]}}const J=Object.create(null);function Q(ee){return ee in J?ee+"$"+ ++J[ee]:(J[ee]=0,ee+"$")}class te{constructor(L="key"){this.key=Q(L)}get(L){return L.config.pluginsByKey[this.key]}getState(L){return L[this.key]}}},16560:(z,s,e)=>{"use strict";e.d(s,{Ax:()=>oe,FC:()=>A,GJ:()=>be,Mn:()=>ce,Pu:()=>T,dR:()=>Ue,k9:()=>te,nd:()=>L,nj:()=>xe,vs:()=>C,wx:()=>sn});var o=e(87823);const m=65535,d=Math.pow(2,16);function u(gt,Ne){return gt+Ne*d}function g(gt){return gt&m}function y(gt){return(gt-(gt&m))/d}const w=1,v=2,b=4,D=8;class E{constructor(Ne,We,st){this.pos=Ne,this.delInfo=We,this.recover=st}get deleted(){return(this.delInfo&D)>0}get deletedBefore(){return(this.delInfo&(w|b))>0}get deletedAfter(){return(this.delInfo&(v|b))>0}get deletedAcross(){return(this.delInfo&b)>0}}class O{constructor(Ne,We=!1){if(this.ranges=Ne,this.inverted=We,!Ne.length&&O.empty)return O.empty}recover(Ne){let We=0,st=g(Ne);if(!this.inverted)for(let ke=0;ke<st;ke++)We+=this.ranges[ke*3+2]-this.ranges[ke*3+1];return this.ranges[st*3]+We+y(Ne)}mapResult(Ne,We=1){return this._map(Ne,We,!1)}map(Ne,We=1){return this._map(Ne,We,!0)}_map(Ne,We,st){let ke=0,Be=this.inverted?2:1,Se=this.inverted?1:2;for(let Ke=0;Ke<this.ranges.length;Ke+=3){let ut=this.ranges[Ke]-(this.inverted?ke:0);if(ut>Ne)break;let Oe=this.ranges[Ke+Be],K=this.ranges[Ke+Se],Y=ut+Oe;if(Ne<=Y){let me=Oe?Ne==ut?-1:Ne==Y?1:We:We,Ie=ut+ke+(me<0?0:K);if(st)return Ie;let je=Ne==(We<0?ut:Y)?null:u(Ke/3,Ne-ut),Xe=Ne==ut?v:Ne==Y?w:b;return(We<0?Ne!=ut:Ne!=Y)&&(Xe|=D),new E(Ie,Xe,je)}ke+=K-Oe}return st?Ne+ke:new E(Ne+ke,0,null)}touches(Ne,We){let st=0,ke=g(We),Be=this.inverted?2:1,Se=this.inverted?1:2;for(let Ke=0;Ke<this.ranges.length;Ke+=3){let ut=this.ranges[Ke]-(this.inverted?st:0);if(ut>Ne)break;let Oe=this.ranges[Ke+Be],K=ut+Oe;if(Ne<=K&&Ke==ke*3)return!0;st+=this.ranges[Ke+Se]-Oe}return!1}forEach(Ne){let We=this.inverted?2:1,st=this.inverted?1:2;for(let ke=0,Be=0;ke<this.ranges.length;ke+=3){let Se=this.ranges[ke],Ke=Se-(this.inverted?Be:0),ut=Se+(this.inverted?0:Be),Oe=this.ranges[ke+We],K=this.ranges[ke+st];Ne(Ke,Ke+Oe,ut,ut+K),Be+=K-Oe}}invert(){return new O(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Ne){return Ne==0?O.empty:new O(Ne<0?[0,-Ne,0]:[0,0,Ne])}}O.empty=new O([]);class C{constructor(Ne=[],We,st=0,ke=Ne.length){this.maps=Ne,this.mirror=We,this.from=st,this.to=ke}slice(Ne=0,We=this.maps.length){return new C(this.maps,this.mirror,Ne,We)}copy(){return new C(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Ne,We){this.to=this.maps.push(Ne),We!=null&&this.setMirror(this.maps.length-1,We)}appendMapping(Ne){for(let We=0,st=this.maps.length;We<Ne.maps.length;We++){let ke=Ne.getMirror(We);this.appendMap(Ne.maps[We],ke!=null&&ke<We?st+ke:void 0)}}getMirror(Ne){if(this.mirror){for(let We=0;We<this.mirror.length;We++)if(this.mirror[We]==Ne)return this.mirror[We+(We%2?-1:1)]}}setMirror(Ne,We){this.mirror||(this.mirror=[]),this.mirror.push(Ne,We)}appendMappingInverted(Ne){for(let We=Ne.maps.length-1,st=this.maps.length+Ne.maps.length;We>=0;We--){let ke=Ne.getMirror(We);this.appendMap(Ne.maps[We].invert(),ke!=null&&ke>We?st-ke-1:void 0)}}invert(){let Ne=new C;return Ne.appendMappingInverted(this),Ne}map(Ne,We=1){if(this.mirror)return this._map(Ne,We,!0);for(let st=this.from;st<this.to;st++)Ne=this.maps[st].map(Ne,We);return Ne}mapResult(Ne,We=1){return this._map(Ne,We,!1)}_map(Ne,We,st){let ke=0;for(let Be=this.from;Be<this.to;Be++){let Se=this.maps[Be],Ke=Se.mapResult(Ne,We);if(Ke.recover!=null){let ut=this.getMirror(Be);if(ut!=null&&ut>Be&&ut<this.to){Be=ut,Ne=this.maps[ut].recover(Ke.recover);continue}}ke|=Ke.delInfo,Ne=Ke.pos}return st?Ne:new E(Ne,ke,null)}}const _=Object.create(null);class a{getMap(){return O.empty}merge(Ne){return null}static fromJSON(Ne,We){if(!We||!We.stepType)throw new RangeError("Invalid input for Step.fromJSON");let st=_[We.stepType];if(!st)throw new RangeError(`No step type ${We.stepType} defined`);return st.fromJSON(Ne,We)}static jsonID(Ne,We){if(Ne in _)throw new RangeError("Duplicate use of step JSON ID "+Ne);return _[Ne]=We,We.prototype.jsonID=Ne,We}}class l{constructor(Ne,We){this.doc=Ne,this.failed=We}static ok(Ne){return new l(Ne,null)}static fail(Ne){return new l(null,Ne)}static fromReplace(Ne,We,st,ke){try{return l.ok(Ne.replace(We,st,ke))}catch(Be){if(Be instanceof o.e4)return l.fail(Be.message);throw Be}}}function P(gt,Ne,We){let st=[];for(let ke=0;ke<gt.childCount;ke++){let Be=gt.child(ke);Be.content.size&&(Be=Be.copy(P(Be.content,Ne,Be))),Be.isInline&&(Be=Ne(Be,We,ke)),st.push(Be)}return o.HY.fromArray(st)}class S extends a{constructor(Ne,We,st){super(),this.from=Ne,this.to=We,this.mark=st}apply(Ne){let We=Ne.slice(this.from,this.to),st=Ne.resolve(this.from),ke=st.node(st.sharedDepth(this.to)),Be=new o.p2(P(We.content,(Se,Ke)=>!Se.isAtom||!Ke.type.allowsMarkType(this.mark.type)?Se:Se.mark(this.mark.addToSet(Se.marks)),ke),We.openStart,We.openEnd);return l.fromReplace(Ne,this.from,this.to,Be)}invert(){return new M(this.from,this.to,this.mark)}map(Ne){let We=Ne.mapResult(this.from,1),st=Ne.mapResult(this.to,-1);return We.deleted&&st.deleted||We.pos>=st.pos?null:new S(We.pos,st.pos,this.mark)}merge(Ne){return Ne instanceof S&&Ne.mark.eq(this.mark)&&this.from<=Ne.to&&this.to>=Ne.from?new S(Math.min(this.from,Ne.from),Math.max(this.to,Ne.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Ne,We){if(typeof We.from!="number"||typeof We.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new S(We.from,We.to,Ne.markFromJSON(We.mark))}}a.jsonID("addMark",S);class M extends a{constructor(Ne,We,st){super(),this.from=Ne,this.to=We,this.mark=st}apply(Ne){let We=Ne.slice(this.from,this.to),st=new o.p2(P(We.content,ke=>ke.mark(this.mark.removeFromSet(ke.marks)),Ne),We.openStart,We.openEnd);return l.fromReplace(Ne,this.from,this.to,st)}invert(){return new S(this.from,this.to,this.mark)}map(Ne){let We=Ne.mapResult(this.from,1),st=Ne.mapResult(this.to,-1);return We.deleted&&st.deleted||We.pos>=st.pos?null:new M(We.pos,st.pos,this.mark)}merge(Ne){return Ne instanceof M&&Ne.mark.eq(this.mark)&&this.from<=Ne.to&&this.to>=Ne.from?new M(Math.min(this.from,Ne.from),Math.max(this.to,Ne.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Ne,We){if(typeof We.from!="number"||typeof We.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new M(We.from,We.to,Ne.markFromJSON(We.mark))}}a.jsonID("removeMark",M);class R extends a{constructor(Ne,We){super(),this.pos=Ne,this.mark=We}apply(Ne){let We=Ne.nodeAt(this.pos);if(!We)return l.fail("No node at mark step's position");let st=We.type.create(We.attrs,null,this.mark.addToSet(We.marks));return l.fromReplace(Ne,this.pos,this.pos+1,new o.p2(o.HY.from(st),0,We.isLeaf?0:1))}invert(Ne){let We=Ne.nodeAt(this.pos);if(We){let st=this.mark.addToSet(We.marks);if(st.length==We.marks.length){for(let ke=0;ke<We.marks.length;ke++)if(!We.marks[ke].isInSet(st))return new R(this.pos,We.marks[ke]);return new R(this.pos,this.mark)}}return new N(this.pos,this.mark)}map(Ne){let We=Ne.mapResult(this.pos,1);return We.deletedAfter?null:new R(We.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Ne,We){if(typeof We.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new R(We.pos,Ne.markFromJSON(We.mark))}}a.jsonID("addNodeMark",R);class N extends a{constructor(Ne,We){super(),this.pos=Ne,this.mark=We}apply(Ne){let We=Ne.nodeAt(this.pos);if(!We)return l.fail("No node at mark step's position");let st=We.type.create(We.attrs,null,this.mark.removeFromSet(We.marks));return l.fromReplace(Ne,this.pos,this.pos+1,new o.p2(o.HY.from(st),0,We.isLeaf?0:1))}invert(Ne){let We=Ne.nodeAt(this.pos);return!We||!this.mark.isInSet(We.marks)?this:new R(this.pos,this.mark)}map(Ne){let We=Ne.mapResult(this.pos,1);return We.deletedAfter?null:new N(We.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Ne,We){if(typeof We.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new N(We.pos,Ne.markFromJSON(We.mark))}}a.jsonID("removeNodeMark",N);class T extends a{constructor(Ne,We,st,ke=!1){super(),this.from=Ne,this.to=We,this.slice=st,this.structure=ke}apply(Ne){return this.structure&&F(Ne,this.from,this.to)?l.fail("Structure replace would overwrite content"):l.fromReplace(Ne,this.from,this.to,this.slice)}getMap(){return new O([this.from,this.to-this.from,this.slice.size])}invert(Ne){return new T(this.from,this.from+this.slice.size,Ne.slice(this.from,this.to))}map(Ne){let We=Ne.mapResult(this.from,1),st=Ne.mapResult(this.to,-1);return We.deletedAcross&&st.deletedAcross?null:new T(We.pos,Math.max(We.pos,st.pos),this.slice)}merge(Ne){if(!(Ne instanceof T)||Ne.structure||this.structure)return null;if(this.from+this.slice.size==Ne.from&&!this.slice.openEnd&&!Ne.slice.openStart){let We=this.slice.size+Ne.slice.size==0?o.p2.empty:new o.p2(this.slice.content.append(Ne.slice.content),this.slice.openStart,Ne.slice.openEnd);return new T(this.from,this.to+(Ne.to-Ne.from),We,this.structure)}else if(Ne.to==this.from&&!this.slice.openStart&&!Ne.slice.openEnd){let We=this.slice.size+Ne.slice.size==0?o.p2.empty:new o.p2(Ne.slice.content.append(this.slice.content),Ne.slice.openStart,this.slice.openEnd);return new T(Ne.from,this.to,We,this.structure)}else return null}toJSON(){let Ne={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Ne.slice=this.slice.toJSON()),this.structure&&(Ne.structure=!0),Ne}static fromJSON(Ne,We){if(typeof We.from!="number"||typeof We.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new T(We.from,We.to,o.p2.fromJSON(Ne,We.slice),!!We.structure)}}a.jsonID("replace",T);class A extends a{constructor(Ne,We,st,ke,Be,Se,Ke=!1){super(),this.from=Ne,this.to=We,this.gapFrom=st,this.gapTo=ke,this.slice=Be,this.insert=Se,this.structure=Ke}apply(Ne){if(this.structure&&(F(Ne,this.from,this.gapFrom)||F(Ne,this.gapTo,this.to)))return l.fail("Structure gap-replace would overwrite content");let We=Ne.slice(this.gapFrom,this.gapTo);if(We.openStart||We.openEnd)return l.fail("Gap is not a flat range");let st=this.slice.insertAt(this.insert,We.content);return st?l.fromReplace(Ne,this.from,this.to,st):l.fail("Content does not fit in gap")}getMap(){return new O([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Ne){let We=this.gapTo-this.gapFrom;return new A(this.from,this.from+this.slice.size+We,this.from+this.insert,this.from+this.insert+We,Ne.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Ne){let We=Ne.mapResult(this.from,1),st=Ne.mapResult(this.to,-1),ke=Ne.map(this.gapFrom,-1),Be=Ne.map(this.gapTo,1);return We.deletedAcross&&st.deletedAcross||ke<We.pos||Be>st.pos?null:new A(We.pos,st.pos,ke,Be,this.slice,this.insert,this.structure)}toJSON(){let Ne={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Ne.slice=this.slice.toJSON()),this.structure&&(Ne.structure=!0),Ne}static fromJSON(Ne,We){if(typeof We.from!="number"||typeof We.to!="number"||typeof We.gapFrom!="number"||typeof We.gapTo!="number"||typeof We.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new A(We.from,We.to,We.gapFrom,We.gapTo,o.p2.fromJSON(Ne,We.slice),We.insert,!!We.structure)}}a.jsonID("replaceAround",A);function F(gt,Ne,We){let st=gt.resolve(Ne),ke=We-Ne,Be=st.depth;for(;ke>0&&Be>0&&st.indexAfter(Be)==st.node(Be).childCount;)Be--,ke--;if(ke>0){let Se=st.node(Be).maybeChild(st.indexAfter(Be));for(;ke>0;){if(!Se||Se.isLeaf)return!0;Se=Se.firstChild,ke--}}return!1}function U(gt,Ne,We,st){let ke=[],Be=[],Se,Ke;gt.doc.nodesBetween(Ne,We,(ut,Oe,K)=>{if(!ut.isInline)return;let Y=ut.marks;if(!st.isInSet(Y)&&K.type.allowsMarkType(st.type)){let me=Math.max(Oe,Ne),Ie=Math.min(Oe+ut.nodeSize,We),je=st.addToSet(Y);for(let Xe=0;Xe<Y.length;Xe++)Y[Xe].isInSet(je)||(Se&&Se.to==me&&Se.mark.eq(Y[Xe])?Se.to=Ie:ke.push(Se=new M(me,Ie,Y[Xe])));Ke&&Ke.to==me?Ke.to=Ie:Be.push(Ke=new S(me,Ie,st))}}),ke.forEach(ut=>gt.step(ut)),Be.forEach(ut=>gt.step(ut))}function G(gt,Ne,We,st){let ke=[],Be=0;gt.doc.nodesBetween(Ne,We,(Se,Ke)=>{if(!Se.isInline)return;Be++;let ut=null;if(st instanceof o.ZU){let Oe=Se.marks,K;for(;K=st.isInSet(Oe);)(ut||(ut=[])).push(K),Oe=K.removeFromSet(Oe)}else st?st.isInSet(Se.marks)&&(ut=[st]):ut=Se.marks;if(ut&&ut.length){let Oe=Math.min(Ke+Se.nodeSize,We);for(let K=0;K<ut.length;K++){let Y=ut[K],me;for(let Ie=0;Ie<ke.length;Ie++){let je=ke[Ie];je.step==Be-1&&Y.eq(ke[Ie].style)&&(me=je)}me?(me.to=Oe,me.step=Be):ke.push({style:Y,from:Math.max(Ke,Ne),to:Oe,step:Be})}}}),ke.forEach(Se=>gt.step(new M(Se.from,Se.to,Se.style)))}function J(gt,Ne,We,st=We.contentMatch){let ke=gt.doc.nodeAt(Ne),Be=[],Se=Ne+1;for(let Ke=0;Ke<ke.childCount;Ke++){let ut=ke.child(Ke),Oe=Se+ut.nodeSize,K=st.matchType(ut.type);if(!K)Be.push(new T(Se,Oe,o.p2.empty));else{st=K;for(let Y=0;Y<ut.marks.length;Y++)We.allowsMarkType(ut.marks[Y].type)||gt.step(new M(Se,Oe,ut.marks[Y]))}Se=Oe}if(!st.validEnd){let Ke=st.fillBefore(o.HY.empty,!0);gt.replace(Se,Se,new o.p2(Ke,0,0))}for(let Ke=Be.length-1;Ke>=0;Ke--)gt.step(Be[Ke])}function Q(gt,Ne,We){return(Ne==0||gt.canReplace(Ne,gt.childCount))&&(We==gt.childCount||gt.canReplace(0,We))}function te(gt){let We=gt.parent.content.cutByIndex(gt.startIndex,gt.endIndex);for(let st=gt.depth;;--st){let ke=gt.$from.node(st),Be=gt.$from.index(st),Se=gt.$to.indexAfter(st);if(st<gt.depth&&ke.canReplace(Be,Se,We))return st;if(st==0||ke.type.spec.isolating||!Q(ke,Be,Se))break}return null}function ee(gt,Ne,We){let{$from:st,$to:ke,depth:Be}=Ne,Se=st.before(Be+1),Ke=ke.after(Be+1),ut=Se,Oe=Ke,K=o.HY.empty,Y=0;for(let je=Be,Xe=!1;je>We;je--)Xe||st.index(je)>0?(Xe=!0,K=o.HY.from(st.node(je).copy(K)),Y++):ut--;let me=o.HY.empty,Ie=0;for(let je=Be,Xe=!1;je>We;je--)Xe||ke.after(je+1)<ke.end(je)?(Xe=!0,me=o.HY.from(ke.node(je).copy(me)),Ie++):Oe++;gt.step(new A(ut,Oe,Se,Ke,new o.p2(K.append(me),Y,Ie),K.size-Y,!0))}function L(gt,Ne,We=null,st=gt){let ke=ne(gt,Ne),Be=ke&&ae(st,Ne);return Be?ke.map(V).concat({type:Ne,attrs:We}).concat(Be.map(V)):null}function V(gt){return{type:gt,attrs:null}}function ne(gt,Ne){let{parent:We,startIndex:st,endIndex:ke}=gt,Be=We.contentMatchAt(st).findWrapping(Ne);if(!Be)return null;let Se=Be.length?Be[0]:Ne;return We.canReplaceWith(st,ke,Se)?Be:null}function ae(gt,Ne){let{parent:We,startIndex:st,endIndex:ke}=gt,Be=We.child(st),Se=Ne.contentMatch.findWrapping(Be.type);if(!Se)return null;let ut=(Se.length?Se[Se.length-1]:Ne).contentMatch;for(let Oe=st;ut&&Oe<ke;Oe++)ut=ut.matchType(We.child(Oe).type);return!ut||!ut.validEnd?null:Se}function fe(gt,Ne,We){let st=o.HY.empty;for(let Se=We.length-1;Se>=0;Se--){if(st.size){let Ke=We[Se].type.contentMatch.matchFragment(st);if(!Ke||!Ke.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}st=o.HY.from(We[Se].type.create(We[Se].attrs,st))}let ke=Ne.start,Be=Ne.end;gt.step(new A(ke,Be,ke,Be,new o.p2(st,0,0),We.length,!0))}function le(gt,Ne,We,st,ke){if(!st.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Be=gt.steps.length;gt.doc.nodesBetween(Ne,We,(Se,Ke)=>{if(Se.isTextblock&&!Se.hasMarkup(st,ke)&&re(gt.doc,gt.mapping.slice(Be).map(Ke),st)){gt.clearIncompatible(gt.mapping.slice(Be).map(Ke,1),st);let ut=gt.mapping.slice(Be),Oe=ut.map(Ke,1),K=ut.map(Ke+Se.nodeSize,1);return gt.step(new A(Oe,K,Oe+1,K-1,new o.p2(o.HY.from(st.create(ke,null,Se.marks)),0,0),1,!0)),!1}})}function re(gt,Ne,We){let st=gt.resolve(Ne),ke=st.index();return st.parent.canReplaceWith(ke,ke+1,We)}function $(gt,Ne,We,st,ke){let Be=gt.doc.nodeAt(Ne);if(!Be)throw new RangeError("No node at given position");We||(We=Be.type);let Se=We.create(st,null,ke||Be.marks);if(Be.isLeaf)return gt.replaceWith(Ne,Ne+Be.nodeSize,Se);if(!We.validContent(Be.content))throw new RangeError("Invalid content for node type "+We.name);gt.step(new A(Ne,Ne+Be.nodeSize,Ne+1,Ne+Be.nodeSize-1,new o.p2(o.HY.from(Se),0,0),1,!0))}function oe(gt,Ne,We=1,st){let ke=gt.resolve(Ne),Be=ke.depth-We,Se=st&&st[st.length-1]||ke.parent;if(Be<0||ke.parent.type.spec.isolating||!ke.parent.canReplace(ke.index(),ke.parent.childCount)||!Se.type.validContent(ke.parent.content.cutByIndex(ke.index(),ke.parent.childCount)))return!1;for(let Oe=ke.depth-1,K=We-2;Oe>Be;Oe--,K--){let Y=ke.node(Oe),me=ke.index(Oe);if(Y.type.spec.isolating)return!1;let Ie=Y.content.cutByIndex(me,Y.childCount),je=st&&st[K]||Y;if(je!=Y&&(Ie=Ie.replaceChild(0,je.type.create(je.attrs))),!Y.canReplace(me+1,Y.childCount)||!je.type.validContent(Ie))return!1}let Ke=ke.indexAfter(Be),ut=st&&st[0];return ke.node(Be).canReplaceWith(Ke,Ke,ut?ut.type:ke.node(Be+1).type)}function se(gt,Ne,We=1,st){let ke=gt.doc.resolve(Ne),Be=o.HY.empty,Se=o.HY.empty;for(let Ke=ke.depth,ut=ke.depth-We,Oe=We-1;Ke>ut;Ke--,Oe--){Be=o.HY.from(ke.node(Ke).copy(Be));let K=st&&st[Oe];Se=o.HY.from(K?K.type.create(K.attrs,Se):ke.node(Ke).copy(Se))}gt.step(new T(Ne,Ne,new o.p2(Be.append(Se),We,We),!0))}function ce(gt,Ne){let We=gt.resolve(Ne),st=We.index();return de(We.nodeBefore,We.nodeAfter)&&We.parent.canReplace(st,st+1)}function de(gt,Ne){return!!(gt&&Ne&&!gt.isLeaf&&gt.canAppend(Ne))}function be(gt,Ne,We=-1){let st=gt.resolve(Ne);for(let ke=st.depth;;ke--){let Be,Se,Ke=st.index(ke);if(ke==st.depth?(Be=st.nodeBefore,Se=st.nodeAfter):We>0?(Be=st.node(ke+1),Ke++,Se=st.node(ke).maybeChild(Ke)):(Be=st.node(ke).maybeChild(Ke-1),Se=st.node(ke+1)),Be&&!Be.isTextblock&&de(Be,Se)&&st.node(ke).canReplace(Ke,Ke+1))return Ne;if(ke==0)break;Ne=We<0?st.before(ke):st.after(ke)}}function pe(gt,Ne,We){let st=new T(Ne-We,Ne+We,o.p2.empty,!0);gt.step(st)}function we(gt,Ne,We){let st=gt.resolve(Ne);if(st.parent.canReplaceWith(st.index(),st.index(),We))return Ne;if(st.parentOffset==0)for(let ke=st.depth-1;ke>=0;ke--){let Be=st.index(ke);if(st.node(ke).canReplaceWith(Be,Be,We))return st.before(ke+1);if(Be>0)return null}if(st.parentOffset==st.parent.content.size)for(let ke=st.depth-1;ke>=0;ke--){let Be=st.indexAfter(ke);if(st.node(ke).canReplaceWith(Be,Be,We))return st.after(ke+1);if(Be<st.node(ke).childCount)return null}return null}function xe(gt,Ne,We){let st=gt.resolve(Ne);if(!We.content.size)return Ne;let ke=We.content;for(let Be=0;Be<We.openStart;Be++)ke=ke.firstChild.content;for(let Be=1;Be<=(We.openStart==0&&We.size?2:1);Be++)for(let Se=st.depth;Se>=0;Se--){let Ke=Se==st.depth?0:st.pos<=(st.start(Se+1)+st.end(Se+1))/2?-1:1,ut=st.index(Se)+(Ke>0?1:0),Oe=st.node(Se),K=!1;if(Be==1)K=Oe.canReplace(ut,ut,ke);else{let Y=Oe.contentMatchAt(ut).findWrapping(ke.firstChild.type);K=Y&&Oe.canReplaceWith(ut,ut,Y[0])}if(K)return Ke==0?st.pos:Ke<0?st.before(Se+1):st.after(Se+1)}return null}function Ue(gt,Ne,We=Ne,st=o.p2.empty){if(Ne==We&&!st.size)return null;let ke=gt.resolve(Ne),Be=gt.resolve(We);return De(ke,Be,st)?new T(Ne,We,st):new _e(ke,Be,st).fit()}function De(gt,Ne,We){return!We.openStart&&!We.openEnd&&gt.start()==Ne.start()&&gt.parent.canReplace(gt.index(),Ne.index(),We.content)}class _e{constructor(Ne,We,st){this.$from=Ne,this.$to=We,this.unplaced=st,this.frontier=[],this.placed=o.HY.empty;for(let ke=0;ke<=Ne.depth;ke++){let Be=Ne.node(ke);this.frontier.push({type:Be.type,match:Be.contentMatchAt(Ne.indexAfter(ke))})}for(let ke=Ne.depth;ke>0;ke--)this.placed=o.HY.from(Ne.node(ke).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Oe=this.findFittable();Oe?this.placeNodes(Oe):this.openMore()||this.dropNode()}let Ne=this.mustMoveInline(),We=this.placed.size-this.depth-this.$from.depth,st=this.$from,ke=this.close(Ne<0?this.$to:st.doc.resolve(Ne));if(!ke)return null;let Be=this.placed,Se=st.depth,Ke=ke.depth;for(;Se&&Ke&&Be.childCount==1;)Be=Be.firstChild.content,Se--,Ke--;let ut=new o.p2(Be,Se,Ke);return Ne>-1?new A(st.pos,Ne,this.$to.pos,this.$to.end(),ut,We):ut.size||st.pos!=this.$to.pos?new T(st.pos,ke.pos,ut):null}findFittable(){let Ne=this.unplaced.openStart;for(let We=this.unplaced.content,st=0,ke=this.unplaced.openEnd;st<Ne;st++){let Be=We.firstChild;if(We.childCount>1&&(ke=0),Be.type.spec.isolating&&ke<=st){Ne=st;break}We=Be.content}for(let We=1;We<=2;We++)for(let st=We==1?Ne:this.unplaced.openStart;st>=0;st--){let ke,Be=null;st?(Be=he(this.unplaced.content,st-1).firstChild,ke=Be.content):ke=this.unplaced.content;let Se=ke.firstChild;for(let Ke=this.depth;Ke>=0;Ke--){let{type:ut,match:Oe}=this.frontier[Ke],K,Y=null;if(We==1&&(Se?Oe.matchType(Se.type)||(Y=Oe.fillBefore(o.HY.from(Se),!1)):Be&&ut.compatibleContent(Be.type)))return{sliceDepth:st,frontierDepth:Ke,parent:Be,inject:Y};if(We==2&&Se&&(K=Oe.findWrapping(Se.type)))return{sliceDepth:st,frontierDepth:Ke,parent:Be,wrap:K};if(Be&&Oe.matchType(Be.type))break}}}openMore(){let{content:Ne,openStart:We,openEnd:st}=this.unplaced,ke=he(Ne,We);return!ke.childCount||ke.firstChild.isLeaf?!1:(this.unplaced=new o.p2(Ne,We+1,Math.max(st,ke.size+We>=Ne.size-st?We+1:0)),!0)}dropNode(){let{content:Ne,openStart:We,openEnd:st}=this.unplaced,ke=he(Ne,We);if(ke.childCount<=1&&We>0){let Be=Ne.size-We<=We+ke.size;this.unplaced=new o.p2(ie(Ne,We-1,1),We-1,Be?We-1:st)}else this.unplaced=new o.p2(ie(Ne,We,1),We,st)}placeNodes({sliceDepth:Ne,frontierDepth:We,parent:st,inject:ke,wrap:Be}){for(;this.depth>We;)this.closeFrontierNode();if(Be)for(let Xe=0;Xe<Be.length;Xe++)this.openFrontierNode(Be[Xe]);let Se=this.unplaced,Ke=st?st.content:Se.content,ut=Se.openStart-Ne,Oe=0,K=[],{match:Y,type:me}=this.frontier[We];if(ke){for(let Xe=0;Xe<ke.childCount;Xe++)K.push(ke.child(Xe));Y=Y.matchFragment(ke)}let Ie=Ke.size+Ne-(Se.content.size-Se.openEnd);for(;Oe<Ke.childCount;){let Xe=Ke.child(Oe),_t=Y.matchType(Xe.type);if(!_t)break;Oe++,(Oe>1||ut==0||Xe.content.size)&&(Y=_t,K.push(Le(Xe.mark(me.allowedMarks(Xe.marks)),Oe==1?ut:0,Oe==Ke.childCount?Ie:-1)))}let je=Oe==Ke.childCount;je||(Ie=-1),this.placed=ve(this.placed,We,o.HY.from(K)),this.frontier[We].match=Y,je&&Ie<0&&st&&st.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Xe=0,_t=Ke;Xe<Ie;Xe++){let pt=_t.lastChild;this.frontier.push({type:pt.type,match:pt.contentMatchAt(pt.childCount)}),_t=pt.content}this.unplaced=je?Ne==0?o.p2.empty:new o.p2(ie(Se.content,Ne-1,1),Ne-1,Ie<0?Se.openEnd:Ne-1):new o.p2(ie(Se.content,Ne,Oe),Se.openStart,Se.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Ne=this.frontier[this.depth],We;if(!Ne.type.isTextblock||!He(this.$to,this.$to.depth,Ne.type,Ne.match,!1)||this.$to.depth==this.depth&&(We=this.findCloseLevel(this.$to))&&We.depth==this.depth)return-1;let{depth:st}=this.$to,ke=this.$to.after(st);for(;st>1&&ke==this.$to.end(--st);)++ke;return ke}findCloseLevel(Ne){e:for(let We=Math.min(this.depth,Ne.depth);We>=0;We--){let{match:st,type:ke}=this.frontier[We],Be=We<Ne.depth&&Ne.end(We+1)==Ne.pos+(Ne.depth-(We+1)),Se=He(Ne,We,ke,st,Be);if(Se){for(let Ke=We-1;Ke>=0;Ke--){let{match:ut,type:Oe}=this.frontier[Ke],K=He(Ne,Ke,Oe,ut,!0);if(!K||K.childCount)continue e}return{depth:We,fit:Se,move:Be?Ne.doc.resolve(Ne.after(We+1)):Ne}}}}close(Ne){let We=this.findCloseLevel(Ne);if(!We)return null;for(;this.depth>We.depth;)this.closeFrontierNode();We.fit.childCount&&(this.placed=ve(this.placed,We.depth,We.fit)),Ne=We.move;for(let st=We.depth+1;st<=Ne.depth;st++){let ke=Ne.node(st),Be=ke.type.contentMatch.fillBefore(ke.content,!0,Ne.index(st));this.openFrontierNode(ke.type,ke.attrs,Be)}return Ne}openFrontierNode(Ne,We=null,st){let ke=this.frontier[this.depth];ke.match=ke.match.matchType(Ne),this.placed=ve(this.placed,this.depth,o.HY.from(Ne.create(We,st))),this.frontier.push({type:Ne,match:Ne.contentMatch})}closeFrontierNode(){let We=this.frontier.pop().match.fillBefore(o.HY.empty,!0);We.childCount&&(this.placed=ve(this.placed,this.frontier.length,We))}}function ie(gt,Ne,We){return Ne==0?gt.cutByIndex(We,gt.childCount):gt.replaceChild(0,gt.firstChild.copy(ie(gt.firstChild.content,Ne-1,We)))}function ve(gt,Ne,We){return Ne==0?gt.append(We):gt.replaceChild(gt.childCount-1,gt.lastChild.copy(ve(gt.lastChild.content,Ne-1,We)))}function he(gt,Ne){for(let We=0;We<Ne;We++)gt=gt.firstChild.content;return gt}function Le(gt,Ne,We){if(Ne<=0)return gt;let st=gt.content;return Ne>1&&(st=st.replaceChild(0,Le(st.firstChild,Ne-1,st.childCount==1?We-1:0))),Ne>0&&(st=gt.type.contentMatch.fillBefore(st).append(st),We<=0&&(st=st.append(gt.type.contentMatch.matchFragment(st).fillBefore(o.HY.empty,!0)))),gt.copy(st)}function He(gt,Ne,We,st,ke){let Be=gt.node(Ne),Se=ke?gt.indexAfter(Ne):gt.index(Ne);if(Se==Be.childCount&&!We.compatibleContent(Be.type))return null;let Ke=st.fillBefore(Be.content,!0,Se);return Ke&&!ht(We,Be.content,Se)?Ke:null}function ht(gt,Ne,We){for(let st=We;st<Ne.childCount;st++)if(!gt.allowsMarks(Ne.child(st).marks))return!0;return!1}function bt(gt){return gt.spec.defining||gt.spec.definingForContent}function Tt(gt,Ne,We,st){if(!st.size)return gt.deleteRange(Ne,We);let ke=gt.doc.resolve(Ne),Be=gt.doc.resolve(We);if(De(ke,Be,st))return gt.step(new T(Ne,We,st));let Se=Ye(ke,gt.doc.resolve(We));Se[Se.length-1]==0&&Se.pop();let Ke=-(ke.depth+1);Se.unshift(Ke);for(let me=ke.depth,Ie=ke.pos-1;me>0;me--,Ie--){let je=ke.node(me).type.spec;if(je.defining||je.definingAsContext||je.isolating)break;Se.indexOf(me)>-1?Ke=me:ke.before(me)==Ie&&Se.splice(1,0,-me)}let ut=Se.indexOf(Ke),Oe=[],K=st.openStart;for(let me=st.content,Ie=0;;Ie++){let je=me.firstChild;if(Oe.push(je),Ie==st.openStart)break;me=je.content}for(let me=K-1;me>=0;me--){let Ie=Oe[me].type,je=bt(Ie);if(je&&ke.node(ut).type!=Ie)K=me;else if(je||!Ie.isTextblock)break}for(let me=st.openStart;me>=0;me--){let Ie=(me+K+1)%(st.openStart+1),je=Oe[Ie];if(je)for(let Xe=0;Xe<Se.length;Xe++){let _t=Se[(Xe+ut)%Se.length],pt=!0;_t<0&&(pt=!1,_t=-_t);let Ge=ke.node(_t-1),at=ke.index(_t-1);if(Ge.canReplaceWith(at,at,je.type,je.marks))return gt.replace(ke.before(_t),pt?Be.after(_t):We,new o.p2(Fe(st.content,0,st.openStart,Ie),Ie,st.openEnd))}}let Y=gt.steps.length;for(let me=Se.length-1;me>=0&&(gt.replace(Ne,We,st),!(gt.steps.length>Y));me--){let Ie=Se[me];Ie<0||(Ne=ke.before(Ie),We=Be.after(Ie))}}function Fe(gt,Ne,We,st,ke){if(Ne<We){let Be=gt.firstChild;gt=gt.replaceChild(0,Be.copy(Fe(Be.content,Ne+1,We,st,Be)))}if(Ne>st){let Be=ke.contentMatchAt(0),Se=Be.fillBefore(gt).append(gt);gt=Se.append(Be.matchFragment(Se).fillBefore(o.HY.empty,!0))}return gt}function nt(gt,Ne,We,st){if(!st.isInline&&Ne==We&&gt.doc.resolve(Ne).parent.content.size){let ke=we(gt.doc,Ne,st.type);ke!=null&&(Ne=We=ke)}gt.replaceRange(Ne,We,new o.p2(o.HY.from(st),0,0))}function ft(gt,Ne,We){let st=gt.doc.resolve(Ne),ke=gt.doc.resolve(We),Be=Ye(st,ke);for(let Se=0;Se<Be.length;Se++){let Ke=Be[Se],ut=Se==Be.length-1;if(ut&&Ke==0||st.node(Ke).type.contentMatch.validEnd)return gt.delete(st.start(Ke),ke.end(Ke));if(Ke>0&&(ut||st.node(Ke-1).canReplace(st.index(Ke-1),ke.indexAfter(Ke-1))))return gt.delete(st.before(Ke),ke.after(Ke))}for(let Se=1;Se<=st.depth&&Se<=ke.depth;Se++)if(Ne-st.start(Se)==st.depth-Se&&We>st.end(Se)&&ke.end(Se)-We!=ke.depth-Se)return gt.delete(st.before(Se),We);gt.delete(Ne,We)}function Ye(gt,Ne){let We=[],st=Math.min(gt.depth,Ne.depth);for(let ke=st;ke>=0;ke--){let Be=gt.start(ke);if(Be<gt.pos-(gt.depth-ke)||Ne.end(ke)>Ne.pos+(Ne.depth-ke)||gt.node(ke).type.spec.isolating||Ne.node(ke).type.spec.isolating)break;(Be==Ne.start(ke)||ke==gt.depth&&ke==Ne.depth&&gt.parent.inlineContent&&Ne.parent.inlineContent&&ke&&Ne.start(ke-1)==Be-1)&&We.push(ke)}return We}class rt extends a{constructor(Ne,We,st){super(),this.pos=Ne,this.attr=We,this.value=st}apply(Ne){let We=Ne.nodeAt(this.pos);if(!We)return l.fail("No node at attribute step's position");let st=Object.create(null);for(let Be in We.attrs)st[Be]=We.attrs[Be];st[this.attr]=this.value;let ke=We.type.create(st,null,We.marks);return l.fromReplace(Ne,this.pos,this.pos+1,new o.p2(o.HY.from(ke),0,We.isLeaf?0:1))}getMap(){return O.empty}invert(Ne){return new rt(this.pos,this.attr,Ne.nodeAt(this.pos).attrs[this.attr])}map(Ne){let We=Ne.mapResult(this.pos,1);return We.deletedAfter?null:new rt(We.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Ne,We){if(typeof We.pos!="number"||typeof We.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new rt(We.pos,We.attr,We.value)}}a.jsonID("attr",rt);let $t=class extends Error{};$t=function gt(Ne){let We=Error.call(this,Ne);return We.__proto__=gt.prototype,We},$t.prototype=Object.create(Error.prototype),$t.prototype.constructor=$t,$t.prototype.name="TransformError";class sn{constructor(Ne){this.doc=Ne,this.steps=[],this.docs=[],this.mapping=new C}get before(){return this.docs.length?this.docs[0]:this.doc}step(Ne){let We=this.maybeStep(Ne);if(We.failed)throw new $t(We.failed);return this}maybeStep(Ne){let We=Ne.apply(this.doc);return We.failed||this.addStep(Ne,We.doc),We}get docChanged(){return this.steps.length>0}addStep(Ne,We){this.docs.push(this.doc),this.steps.push(Ne),this.mapping.appendMap(Ne.getMap()),this.doc=We}replace(Ne,We=Ne,st=o.p2.empty){let ke=Ue(this.doc,Ne,We,st);return ke&&this.step(ke),this}replaceWith(Ne,We,st){return this.replace(Ne,We,new o.p2(o.HY.from(st),0,0))}delete(Ne,We){return this.replace(Ne,We,o.p2.empty)}insert(Ne,We){return this.replaceWith(Ne,Ne,We)}replaceRange(Ne,We,st){return Tt(this,Ne,We,st),this}replaceRangeWith(Ne,We,st){return nt(this,Ne,We,st),this}deleteRange(Ne,We){return ft(this,Ne,We),this}lift(Ne,We){return ee(this,Ne,We),this}join(Ne,We=1){return pe(this,Ne,We),this}wrap(Ne,We){return fe(this,Ne,We),this}setBlockType(Ne,We=Ne,st,ke=null){return le(this,Ne,We,st,ke),this}setNodeMarkup(Ne,We,st=null,ke){return $(this,Ne,We,st,ke),this}setNodeAttribute(Ne,We,st){return this.step(new rt(Ne,We,st)),this}addNodeMark(Ne,We){return this.step(new R(Ne,We)),this}removeNodeMark(Ne,We){if(!(We instanceof o.vc)){let st=this.doc.nodeAt(Ne);if(!st)throw new RangeError("No node at position "+Ne);if(We=We.isInSet(st.marks),!We)return this}return this.step(new N(Ne,We)),this}split(Ne,We=1,st){return se(this,Ne,We,st),this}addMark(Ne,We,st){return U(this,Ne,We,st),this}removeMark(Ne,We,st){return G(this,Ne,We,st),this}clearIncompatible(Ne,We,st){return J(this,Ne,We,st),this}}},84348:(z,s,e)=>{"use strict";e.d(s,{EH:()=>dn,p:()=>Wt,tk:()=>Lr});var o=e(2376),m=e(87823),d=e(16560);const u=function(j){for(var H=0;;H++)if(j=j.previousSibling,!j)return H},g=function(j){let H=j.assignedSlot||j.parentNode;return H&&H.nodeType==11?H.host:H};let y=null;const w=function(j,H,Z){let ue=y||(y=document.createRange());return ue.setEnd(j,Z==null?j.nodeValue.length:Z),ue.setStart(j,H||0),ue},v=function(j,H,Z,ue){return Z&&(D(j,H,Z,ue,-1)||D(j,H,Z,ue,1))},b=/^(img|br|input|textarea|hr)$/i;function D(j,H,Z,ue,Ce){for(;;){if(j==Z&&H==ue)return!0;if(H==(Ce<0?0:E(j))){let Ae=j.parentNode;if(!Ae||Ae.nodeType!=1||C(j)||b.test(j.nodeName)||j.contentEditable=="false")return!1;H=u(j)+(Ce<0?0:1),j=Ae}else if(j.nodeType==1){if(j=j.childNodes[H+(Ce<0?-1:0)],j.contentEditable=="false")return!1;H=Ce<0?E(j):0}else return!1}}function E(j){return j.nodeType==3?j.nodeValue.length:j.childNodes.length}function O(j,H,Z){for(let ue=H==0,Ce=H==E(j);ue||Ce;){if(j==Z)return!0;let Ae=u(j);if(j=j.parentNode,!j)return!1;ue=ue&&Ae==0,Ce=Ce&&Ae==E(j)}}function C(j){let H;for(let Z=j;Z&&!(H=Z.pmViewDesc);Z=Z.parentNode);return H&&H.node&&H.node.isBlock&&(H.dom==j||H.contentDOM==j)}const _=function(j){return j.focusNode&&v(j.focusNode,j.focusOffset,j.anchorNode,j.anchorOffset)};function a(j,H){let Z=document.createEvent("Event");return Z.initEvent("keydown",!0,!0),Z.keyCode=j,Z.key=Z.code=H,Z}function l(j){let H=j.activeElement;for(;H&&H.shadowRoot;)H=H.shadowRoot.activeElement;return H}const P=typeof navigator!="undefined"?navigator:null,S=typeof document!="undefined"?document:null,M=P&&P.userAgent||"",R=/Edge\/(\d+)/.exec(M),N=/MSIE \d/.exec(M),T=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(M),A=!!(N||T||R),F=N?document.documentMode:T?+T[1]:R?+R[1]:0,U=!A&&/gecko\/(\d+)/i.test(M);U&&+(/Firefox\/(\d+)/.exec(M)||[0,0])[1];const G=!A&&/Chrome\/(\d+)/.exec(M),J=!!G,Q=G?+G[1]:0,te=!A&&!!P&&/Apple Computer/.test(P.vendor),ee=te&&(/Mobile\/\w+/.test(M)||!!P&&P.maxTouchPoints>2),L=ee||(P?/Mac/.test(P.platform):!1),V=/Android \d/.test(M),ne=!!S&&"webkitFontSmoothing"in S.documentElement.style,ae=ne?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fe(j){return{left:0,right:j.documentElement.clientWidth,top:0,bottom:j.documentElement.clientHeight}}function le(j,H){return typeof j=="number"?j:j[H]}function re(j){let H=j.getBoundingClientRect(),Z=H.width/j.offsetWidth||1,ue=H.height/j.offsetHeight||1;return{left:H.left,right:H.left+j.clientWidth*Z,top:H.top,bottom:H.top+j.clientHeight*ue}}function $(j,H,Z){let ue=j.someProp("scrollThreshold")||0,Ce=j.someProp("scrollMargin")||5,Ae=j.dom.ownerDocument;for(let qe=Z||j.dom;qe;qe=g(qe)){if(qe.nodeType!=1)continue;let Ze=qe,tt=Ze==Ae.body,Rt=tt?fe(Ae):re(Ze),Kt=0,Tn=0;if(H.top<Rt.top+le(ue,"top")?Tn=-(Rt.top-H.top+le(Ce,"top")):H.bottom>Rt.bottom-le(ue,"bottom")&&(Tn=H.bottom-Rt.bottom+le(Ce,"bottom")),H.left<Rt.left+le(ue,"left")?Kt=-(Rt.left-H.left+le(Ce,"left")):H.right>Rt.right-le(ue,"right")&&(Kt=H.right-Rt.right+le(Ce,"right")),Kt||Tn)if(tt)Ae.defaultView.scrollBy(Kt,Tn);else{let xn=Ze.scrollLeft,On=Ze.scrollTop;Tn&&(Ze.scrollTop+=Tn),Kt&&(Ze.scrollLeft+=Kt);let ir=Ze.scrollLeft-xn,Mr=Ze.scrollTop-On;H={left:H.left-ir,top:H.top-Mr,right:H.right-ir,bottom:H.bottom-Mr}}if(tt)break}}function oe(j){let H=j.dom.getBoundingClientRect(),Z=Math.max(0,H.top),ue,Ce;for(let Ae=(H.left+H.right)/2,qe=Z+1;qe<Math.min(innerHeight,H.bottom);qe+=5){let Ze=j.root.elementFromPoint(Ae,qe);if(!Ze||Ze==j.dom||!j.dom.contains(Ze))continue;let tt=Ze.getBoundingClientRect();if(tt.top>=Z-20){ue=Ze,Ce=tt.top;break}}return{refDOM:ue,refTop:Ce,stack:se(j.dom)}}function se(j){let H=[],Z=j.ownerDocument;for(let ue=j;ue&&(H.push({dom:ue,top:ue.scrollTop,left:ue.scrollLeft}),j!=Z);ue=g(ue));return H}function ce({refDOM:j,refTop:H,stack:Z}){let ue=j?j.getBoundingClientRect().top:0;de(Z,ue==0?0:ue-H)}function de(j,H){for(let Z=0;Z<j.length;Z++){let{dom:ue,top:Ce,left:Ae}=j[Z];ue.scrollTop!=Ce+H&&(ue.scrollTop=Ce+H),ue.scrollLeft!=Ae&&(ue.scrollLeft=Ae)}}let be=null;function pe(j){if(j.setActive)return j.setActive();if(be)return j.focus(be);let H=se(j);j.focus(be==null?{get preventScroll(){return be={preventScroll:!0},!0}}:void 0),be||(be=!1,de(H,0))}function we(j,H){let Z,ue=2e8,Ce,Ae=0,qe=H.top,Ze=H.top;for(let tt=j.firstChild,Rt=0;tt;tt=tt.nextSibling,Rt++){let Kt;if(tt.nodeType==1)Kt=tt.getClientRects();else if(tt.nodeType==3)Kt=w(tt).getClientRects();else continue;for(let Tn=0;Tn<Kt.length;Tn++){let xn=Kt[Tn];if(xn.top<=qe&&xn.bottom>=Ze){qe=Math.max(xn.bottom,qe),Ze=Math.min(xn.top,Ze);let On=xn.left>H.left?xn.left-H.left:xn.right<H.left?H.left-xn.right:0;if(On<ue){Z=tt,ue=On,Ce=On&&Z.nodeType==3?{left:xn.right<H.left?xn.right:xn.left,top:H.top}:H,tt.nodeType==1&&On&&(Ae=Rt+(H.left>=(xn.left+xn.right)/2?1:0));continue}}!Z&&(H.left>=xn.right&&H.top>=xn.top||H.left>=xn.left&&H.top>=xn.bottom)&&(Ae=Rt+1)}}return Z&&Z.nodeType==3?xe(Z,Ce):!Z||ue&&Z.nodeType==1?{node:j,offset:Ae}:we(Z,Ce)}function xe(j,H){let Z=j.nodeValue.length,ue=document.createRange();for(let Ce=0;Ce<Z;Ce++){ue.setEnd(j,Ce+1),ue.setStart(j,Ce);let Ae=Le(ue,1);if(Ae.top!=Ae.bottom&&Ue(H,Ae))return{node:j,offset:Ce+(H.left>=(Ae.left+Ae.right)/2?1:0)}}return{node:j,offset:0}}function Ue(j,H){return j.left>=H.left-1&&j.left<=H.right+1&&j.top>=H.top-1&&j.top<=H.bottom+1}function De(j,H){let Z=j.parentNode;return Z&&/^li$/i.test(Z.nodeName)&&H.left<j.getBoundingClientRect().left?Z:j}function _e(j,H,Z){let{node:ue,offset:Ce}=we(H,Z),Ae=-1;if(ue.nodeType==1&&!ue.firstChild){let qe=ue.getBoundingClientRect();Ae=qe.left!=qe.right&&Z.left>(qe.left+qe.right)/2?1:-1}return j.docView.posFromDOM(ue,Ce,Ae)}function ie(j,H,Z,ue){let Ce=-1;for(let Ae=H;Ae!=j.dom;){let qe=j.docView.nearestDesc(Ae,!0);if(!qe)return null;if(qe.dom.nodeType==1&&(qe.node.isBlock&&qe.parent||!qe.contentDOM)){let Ze=qe.dom.getBoundingClientRect();if(qe.node.isBlock&&qe.parent&&(Ze.left>ue.left||Ze.top>ue.top?Ce=qe.posBefore:(Ze.right<ue.left||Ze.bottom<ue.top)&&(Ce=qe.posAfter)),!qe.contentDOM&&Ce<0)return(qe.node.isBlock?ue.top<(Ze.top+Ze.bottom)/2:ue.left<(Ze.left+Ze.right)/2)?qe.posBefore:qe.posAfter}Ae=qe.dom.parentNode}return Ce>-1?Ce:j.docView.posFromDOM(H,Z,-1)}function ve(j,H,Z){let ue=j.childNodes.length;if(ue&&Z.top<Z.bottom)for(let Ce=Math.max(0,Math.min(ue-1,Math.floor(ue*(H.top-Z.top)/(Z.bottom-Z.top))-2)),Ae=Ce;;){let qe=j.childNodes[Ae];if(qe.nodeType==1){let Ze=qe.getClientRects();for(let tt=0;tt<Ze.length;tt++){let Rt=Ze[tt];if(Ue(H,Rt))return ve(qe,H,Rt)}}if((Ae=(Ae+1)%ue)==Ce)break}return j}function he(j,H){let Z=j.dom.ownerDocument,ue,Ce=0;if(Z.caretPositionFromPoint)try{let tt=Z.caretPositionFromPoint(H.left,H.top);tt&&({offsetNode:ue,offset:Ce}=tt)}catch(tt){}if(!ue&&Z.caretRangeFromPoint){let tt=Z.caretRangeFromPoint(H.left,H.top);tt&&({startContainer:ue,startOffset:Ce}=tt)}let Ae=(j.root.elementFromPoint?j.root:Z).elementFromPoint(H.left,H.top),qe;if(!Ae||!j.dom.contains(Ae.nodeType!=1?Ae.parentNode:Ae)){let tt=j.dom.getBoundingClientRect();if(!Ue(H,tt)||(Ae=ve(j.dom,H,tt),!Ae))return null}if(te)for(let tt=Ae;ue&&tt;tt=g(tt))tt.draggable&&(ue=void 0);if(Ae=De(Ae,H),ue){if(U&&ue.nodeType==1&&(Ce=Math.min(Ce,ue.childNodes.length),Ce<ue.childNodes.length)){let tt=ue.childNodes[Ce],Rt;tt.nodeName=="IMG"&&(Rt=tt.getBoundingClientRect()).right<=H.left&&Rt.bottom>H.top&&Ce++}ue==j.dom&&Ce==ue.childNodes.length-1&&ue.lastChild.nodeType==1&&H.top>ue.lastChild.getBoundingClientRect().bottom?qe=j.state.doc.content.size:(Ce==0||ue.nodeType!=1||ue.childNodes[Ce-1].nodeName!="BR")&&(qe=ie(j,ue,Ce,H))}qe==null&&(qe=_e(j,Ae,H));let Ze=j.docView.nearestDesc(Ae,!0);return{pos:qe,inside:Ze?Ze.posAtStart-Ze.border:-1}}function Le(j,H){let Z=j.getClientRects();return Z.length?Z[H<0?0:Z.length-1]:j.getBoundingClientRect()}const He=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ht(j,H,Z){let{node:ue,offset:Ce,atom:Ae}=j.docView.domFromPos(H,Z<0?-1:1),qe=ne||U;if(ue.nodeType==3)if(qe&&(He.test(ue.nodeValue)||(Z<0?!Ce:Ce==ue.nodeValue.length))){let tt=Le(w(ue,Ce,Ce),Z);if(U&&Ce&&/\s/.test(ue.nodeValue[Ce-1])&&Ce<ue.nodeValue.length){let Rt=Le(w(ue,Ce-1,Ce-1),-1);if(Rt.top==tt.top){let Kt=Le(w(ue,Ce,Ce+1),-1);if(Kt.top!=tt.top)return bt(Kt,Kt.left<Rt.left)}}return tt}else{let tt=Ce,Rt=Ce,Kt=Z<0?1:-1;return Z<0&&!Ce?(Rt++,Kt=-1):Z>=0&&Ce==ue.nodeValue.length?(tt--,Kt=1):Z<0?tt--:Rt++,bt(Le(w(ue,tt,Rt),1),Kt<0)}if(!j.state.doc.resolve(H-(Ae||0)).parent.inlineContent){if(Ae==null&&Ce&&(Z<0||Ce==E(ue))){let tt=ue.childNodes[Ce-1];if(tt.nodeType==1)return Tt(tt.getBoundingClientRect(),!1)}if(Ae==null&&Ce<E(ue)){let tt=ue.childNodes[Ce];if(tt.nodeType==1)return Tt(tt.getBoundingClientRect(),!0)}return Tt(ue.getBoundingClientRect(),Z>=0)}if(Ae==null&&Ce&&(Z<0||Ce==E(ue))){let tt=ue.childNodes[Ce-1],Rt=tt.nodeType==3?w(tt,E(tt)-(qe?0:1)):tt.nodeType==1&&(tt.nodeName!="BR"||!tt.nextSibling)?tt:null;if(Rt)return bt(Le(Rt,1),!1)}if(Ae==null&&Ce<E(ue)){let tt=ue.childNodes[Ce];for(;tt.pmViewDesc&&tt.pmViewDesc.ignoreForCoords;)tt=tt.nextSibling;let Rt=tt?tt.nodeType==3?w(tt,0,qe?0:1):tt.nodeType==1?tt:null:null;if(Rt)return bt(Le(Rt,-1),!0)}return bt(Le(ue.nodeType==3?w(ue):ue,-Z),Z>=0)}function bt(j,H){if(j.width==0)return j;let Z=H?j.left:j.right;return{top:j.top,bottom:j.bottom,left:Z,right:Z}}function Tt(j,H){if(j.height==0)return j;let Z=H?j.top:j.bottom;return{top:Z,bottom:Z,left:j.left,right:j.right}}function Fe(j,H,Z){let ue=j.state,Ce=j.root.activeElement;ue!=H&&j.updateState(H),Ce!=j.dom&&j.focus();try{return Z()}finally{ue!=H&&j.updateState(ue),Ce!=j.dom&&Ce&&Ce.focus()}}function nt(j,H,Z){let ue=H.selection,Ce=Z=="up"?ue.$from:ue.$to;return Fe(j,H,()=>{let{node:Ae}=j.docView.domFromPos(Ce.pos,Z=="up"?-1:1);for(;;){let Ze=j.docView.nearestDesc(Ae,!0);if(!Ze)break;if(Ze.node.isBlock){Ae=Ze.contentDOM||Ze.dom;break}Ae=Ze.dom.parentNode}let qe=ht(j,Ce.pos,1);for(let Ze=Ae.firstChild;Ze;Ze=Ze.nextSibling){let tt;if(Ze.nodeType==1)tt=Ze.getClientRects();else if(Ze.nodeType==3)tt=w(Ze,0,Ze.nodeValue.length).getClientRects();else continue;for(let Rt=0;Rt<tt.length;Rt++){let Kt=tt[Rt];if(Kt.bottom>Kt.top+1&&(Z=="up"?qe.top-Kt.top>(Kt.bottom-qe.top)*2:Kt.bottom-qe.bottom>(qe.bottom-Kt.top)*2))return!1}}return!0})}const ft=/[\u0590-\u08ac]/;function Ye(j,H,Z){let{$head:ue}=H.selection;if(!ue.parent.isTextblock)return!1;let Ce=ue.parentOffset,Ae=!Ce,qe=Ce==ue.parent.content.size,Ze=j.domSelection();return!ft.test(ue.parent.textContent)||!Ze.modify?Z=="left"||Z=="backward"?Ae:qe:Fe(j,H,()=>{let{focusNode:tt,focusOffset:Rt,anchorNode:Kt,anchorOffset:Tn}=j.domSelectionRange(),xn=Ze.caretBidiLevel;Ze.modify("move",Z,"character");let On=ue.depth?j.docView.domAfterPos(ue.before()):j.dom,{focusNode:ir,focusOffset:Mr}=j.domSelectionRange(),Kr=ir&&!On.contains(ir.nodeType==1?ir:ir.parentNode)||tt==ir&&Rt==Mr;try{Ze.collapse(Kt,Tn),tt&&(tt!=Kt||Rt!=Tn)&&Ze.extend&&Ze.extend(tt,Rt)}catch(fo){}return xn!=null&&(Ze.caretBidiLevel=xn),Kr})}let rt=null,$t=null,sn=!1;function gt(j,H,Z){return rt==H&&$t==Z?sn:(rt=H,$t=Z,sn=Z=="up"||Z=="down"?nt(j,H,Z):Ye(j,H,Z))}const Ne=0,We=1,st=2,ke=3;class Be{constructor(H,Z,ue,Ce){this.parent=H,this.children=Z,this.dom=ue,this.contentDOM=Ce,this.dirty=Ne,ue.pmViewDesc=this}matchesWidget(H){return!1}matchesMark(H){return!1}matchesNode(H,Z,ue){return!1}matchesHack(H){return!1}parseRule(){return null}stopEvent(H){return!1}get size(){let H=0;for(let Z=0;Z<this.children.length;Z++)H+=this.children[Z].size;return H}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let H=0;H<this.children.length;H++)this.children[H].destroy()}posBeforeChild(H){for(let Z=0,ue=this.posAtStart;;Z++){let Ce=this.children[Z];if(Ce==H)return ue;ue+=Ce.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(H,Z,ue){if(this.contentDOM&&this.contentDOM.contains(H.nodeType==1?H:H.parentNode))if(ue<0){let Ae,qe;if(H==this.contentDOM)Ae=H.childNodes[Z-1];else{for(;H.parentNode!=this.contentDOM;)H=H.parentNode;Ae=H.previousSibling}for(;Ae&&!((qe=Ae.pmViewDesc)&&qe.parent==this);)Ae=Ae.previousSibling;return Ae?this.posBeforeChild(qe)+qe.size:this.posAtStart}else{let Ae,qe;if(H==this.contentDOM)Ae=H.childNodes[Z];else{for(;H.parentNode!=this.contentDOM;)H=H.parentNode;Ae=H.nextSibling}for(;Ae&&!((qe=Ae.pmViewDesc)&&qe.parent==this);)Ae=Ae.nextSibling;return Ae?this.posBeforeChild(qe):this.posAtEnd}let Ce;if(H==this.dom&&this.contentDOM)Ce=Z>u(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))Ce=H.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(Z==0)for(let Ae=H;;Ae=Ae.parentNode){if(Ae==this.dom){Ce=!1;break}if(Ae.previousSibling)break}if(Ce==null&&Z==H.childNodes.length)for(let Ae=H;;Ae=Ae.parentNode){if(Ae==this.dom){Ce=!0;break}if(Ae.nextSibling)break}}return(Ce==null?ue>0:Ce)?this.posAtEnd:this.posAtStart}nearestDesc(H,Z=!1){for(let ue=!0,Ce=H;Ce;Ce=Ce.parentNode){let Ae=this.getDesc(Ce),qe;if(Ae&&(!Z||Ae.node))if(ue&&(qe=Ae.nodeDOM)&&!(qe.nodeType==1?qe.contains(H.nodeType==1?H:H.parentNode):qe==H))ue=!1;else return Ae}}getDesc(H){let Z=H.pmViewDesc;for(let ue=Z;ue;ue=ue.parent)if(ue==this)return Z}posFromDOM(H,Z,ue){for(let Ce=H;Ce;Ce=Ce.parentNode){let Ae=this.getDesc(Ce);if(Ae)return Ae.localPosFromDOM(H,Z,ue)}return-1}descAt(H){for(let Z=0,ue=0;Z<this.children.length;Z++){let Ce=this.children[Z],Ae=ue+Ce.size;if(ue==H&&Ae!=ue){for(;!Ce.border&&Ce.children.length;)Ce=Ce.children[0];return Ce}if(H<Ae)return Ce.descAt(H-ue-Ce.border);ue=Ae}}domFromPos(H,Z){if(!this.contentDOM)return{node:this.dom,offset:0,atom:H+1};let ue=0,Ce=0;for(let Ae=0;ue<this.children.length;ue++){let qe=this.children[ue],Ze=Ae+qe.size;if(Ze>H||qe instanceof me){Ce=H-Ae;break}Ae=Ze}if(Ce)return this.children[ue].domFromPos(Ce-this.children[ue].border,Z);for(let Ae;ue&&!(Ae=this.children[ue-1]).size&&Ae instanceof Se&&Ae.side>=0;ue--);if(Z<=0){let Ae,qe=!0;for(;Ae=ue?this.children[ue-1]:null,!(!Ae||Ae.dom.parentNode==this.contentDOM);ue--,qe=!1);return Ae&&Z&&qe&&!Ae.border&&!Ae.domAtom?Ae.domFromPos(Ae.size,Z):{node:this.contentDOM,offset:Ae?u(Ae.dom)+1:0}}else{let Ae,qe=!0;for(;Ae=ue<this.children.length?this.children[ue]:null,!(!Ae||Ae.dom.parentNode==this.contentDOM);ue++,qe=!1);return Ae&&qe&&!Ae.border&&!Ae.domAtom?Ae.domFromPos(0,Z):{node:this.contentDOM,offset:Ae?u(Ae.dom):this.contentDOM.childNodes.length}}}parseRange(H,Z,ue=0){if(this.children.length==0)return{node:this.contentDOM,from:H,to:Z,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let Ce=-1,Ae=-1;for(let qe=ue,Ze=0;;Ze++){let tt=this.children[Ze],Rt=qe+tt.size;if(Ce==-1&&H<=Rt){let Kt=qe+tt.border;if(H>=Kt&&Z<=Rt-tt.border&&tt.node&&tt.contentDOM&&this.contentDOM.contains(tt.contentDOM))return tt.parseRange(H,Z,Kt);H=qe;for(let Tn=Ze;Tn>0;Tn--){let xn=this.children[Tn-1];if(xn.size&&xn.dom.parentNode==this.contentDOM&&!xn.emptyChildAt(1)){Ce=u(xn.dom)+1;break}H-=xn.size}Ce==-1&&(Ce=0)}if(Ce>-1&&(Rt>Z||Ze==this.children.length-1)){Z=Rt;for(let Kt=Ze+1;Kt<this.children.length;Kt++){let Tn=this.children[Kt];if(Tn.size&&Tn.dom.parentNode==this.contentDOM&&!Tn.emptyChildAt(-1)){Ae=u(Tn.dom);break}Z+=Tn.size}Ae==-1&&(Ae=this.contentDOM.childNodes.length);break}qe=Rt}return{node:this.contentDOM,from:H,to:Z,fromOffset:Ce,toOffset:Ae}}emptyChildAt(H){if(this.border||!this.contentDOM||!this.children.length)return!1;let Z=this.children[H<0?0:this.children.length-1];return Z.size==0||Z.emptyChildAt(H)}domAfterPos(H){let{node:Z,offset:ue}=this.domFromPos(H,0);if(Z.nodeType!=1||ue==Z.childNodes.length)throw new RangeError("No node after pos "+H);return Z.childNodes[ue]}setSelection(H,Z,ue,Ce=!1){let Ae=Math.min(H,Z),qe=Math.max(H,Z);for(let xn=0,On=0;xn<this.children.length;xn++){let ir=this.children[xn],Mr=On+ir.size;if(Ae>On&&qe<Mr)return ir.setSelection(H-On-ir.border,Z-On-ir.border,ue,Ce);On=Mr}let Ze=this.domFromPos(H,H?-1:1),tt=Z==H?Ze:this.domFromPos(Z,Z?-1:1),Rt=ue.getSelection(),Kt=!1;if((U||te)&&H==Z){let{node:xn,offset:On}=Ze;if(xn.nodeType==3){if(Kt=!!(On&&xn.nodeValue[On-1]==`
`),Kt&&On==xn.nodeValue.length)for(let ir=xn,Mr;ir;ir=ir.parentNode){if(Mr=ir.nextSibling){Mr.nodeName=="BR"&&(Ze=tt={node:Mr.parentNode,offset:u(Mr)+1});break}let Kr=ir.pmViewDesc;if(Kr&&Kr.node&&Kr.node.isBlock)break}}else{let ir=xn.childNodes[On-1];Kt=ir&&(ir.nodeName=="BR"||ir.contentEditable=="false")}}if(U&&Rt.focusNode&&Rt.focusNode!=tt.node&&Rt.focusNode.nodeType==1){let xn=Rt.focusNode.childNodes[Rt.focusOffset];xn&&xn.contentEditable=="false"&&(Ce=!0)}if(!(Ce||Kt&&te)&&v(Ze.node,Ze.offset,Rt.anchorNode,Rt.anchorOffset)&&v(tt.node,tt.offset,Rt.focusNode,Rt.focusOffset))return;let Tn=!1;if((Rt.extend||H==Z)&&!Kt){Rt.collapse(Ze.node,Ze.offset);try{H!=Z&&Rt.extend(tt.node,tt.offset),Tn=!0}catch(xn){}}if(!Tn){if(H>Z){let On=Ze;Ze=tt,tt=On}let xn=document.createRange();xn.setEnd(tt.node,tt.offset),xn.setStart(Ze.node,Ze.offset),Rt.removeAllRanges(),Rt.addRange(xn)}}ignoreMutation(H){return!this.contentDOM&&H.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(H,Z){for(let ue=0,Ce=0;Ce<this.children.length;Ce++){let Ae=this.children[Ce],qe=ue+Ae.size;if(ue==qe?H<=qe&&Z>=ue:H<qe&&Z>ue){let Ze=ue+Ae.border,tt=qe-Ae.border;if(H>=Ze&&Z<=tt){this.dirty=H==ue||Z==qe?st:We,H==Ze&&Z==tt&&(Ae.contentLost||Ae.dom.parentNode!=this.contentDOM)?Ae.dirty=ke:Ae.markDirty(H-Ze,Z-Ze);return}else Ae.dirty=Ae.dom==Ae.contentDOM&&Ae.dom.parentNode==this.contentDOM&&!Ae.children.length?st:ke}ue=qe}this.dirty=st}markParentsDirty(){let H=1;for(let Z=this.parent;Z;Z=Z.parent,H++){let ue=H==1?st:We;Z.dirty<ue&&(Z.dirty=ue)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Se extends Be{constructor(H,Z,ue,Ce){let Ae,qe=Z.type.toDOM;if(typeof qe=="function"&&(qe=qe(ue,()=>{if(!Ae)return Ce;if(Ae.parent)return Ae.parent.posBeforeChild(Ae)})),!Z.type.spec.raw){if(qe.nodeType!=1){let Ze=document.createElement("span");Ze.appendChild(qe),qe=Ze}qe.contentEditable="false",qe.classList.add("ProseMirror-widget")}super(H,[],qe,null),this.widget=Z,this.widget=Z,Ae=this}matchesWidget(H){return this.dirty==Ne&&H.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(H){let Z=this.widget.spec.stopEvent;return Z?Z(H):!1}ignoreMutation(H){return H.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ke extends Be{constructor(H,Z,ue,Ce){super(H,[],Z,null),this.textDOM=ue,this.text=Ce}get size(){return this.text.length}localPosFromDOM(H,Z){return H!=this.textDOM?this.posAtStart+(Z?this.size:0):this.posAtStart+Z}domFromPos(H){return{node:this.textDOM,offset:H}}ignoreMutation(H){return H.type==="characterData"&&H.target.nodeValue==H.oldValue}}class ut extends Be{constructor(H,Z,ue,Ce){super(H,[],ue,Ce),this.mark=Z}static create(H,Z,ue,Ce){let Ae=Ce.nodeViews[Z.type.name],qe=Ae&&Ae(Z,Ce,ue);return(!qe||!qe.dom)&&(qe=m.PW.renderSpec(document,Z.type.spec.toDOM(Z,ue))),new ut(H,Z,qe.dom,qe.contentDOM||qe.dom)}parseRule(){return this.dirty&ke||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(H){return this.dirty!=ke&&this.mark.eq(H)}markDirty(H,Z){if(super.markDirty(H,Z),this.dirty!=Ne){let ue=this.parent;for(;!ue.node;)ue=ue.parent;ue.dirty<this.dirty&&(ue.dirty=this.dirty),this.dirty=Ne}}slice(H,Z,ue){let Ce=ut.create(this.parent,this.mark,!0,ue),Ae=this.children,qe=this.size;Z<qe&&(Ae=jn(Ae,Z,qe,ue)),H>0&&(Ae=jn(Ae,0,H,ue));for(let Ze=0;Ze<Ae.length;Ze++)Ae[Ze].parent=Ce;return Ce.children=Ae,Ce}}class Oe extends Be{constructor(H,Z,ue,Ce,Ae,qe,Ze,tt,Rt){super(H,[],Ae,qe),this.node=Z,this.outerDeco=ue,this.innerDeco=Ce,this.nodeDOM=Ze,qe&&this.updateChildren(tt,Rt)}static create(H,Z,ue,Ce,Ae,qe){let Ze=Ae.nodeViews[Z.type.name],tt,Rt=Ze&&Ze(Z,Ae,()=>{if(!tt)return qe;if(tt.parent)return tt.parent.posBeforeChild(tt)},ue,Ce),Kt=Rt&&Rt.dom,Tn=Rt&&Rt.contentDOM;if(Z.isText){if(!Kt)Kt=document.createTextNode(Z.text);else if(Kt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else Kt||({dom:Kt,contentDOM:Tn}=m.PW.renderSpec(document,Z.type.spec.toDOM(Z)));!Tn&&!Z.isText&&Kt.nodeName!="BR"&&(Kt.hasAttribute("contenteditable")||(Kt.contentEditable="false"),Z.type.spec.draggable&&(Kt.draggable=!0));let xn=Kt;return Kt=It(Kt,ue,Z),Rt?tt=new Ie(H,Z,ue,Ce,Kt,Tn||null,xn,Rt,Ae,qe+1):Z.isText?new Y(H,Z,ue,Ce,Kt,xn,Ae):new Oe(H,Z,ue,Ce,Kt,Tn||null,xn,Ae,qe+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let H={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(H.preserveWhitespace="full"),!this.contentDOM)H.getContent=()=>this.node.content;else if(!this.contentLost)H.contentElement=this.contentDOM;else{for(let Z=this.children.length-1;Z>=0;Z--){let ue=this.children[Z];if(this.dom.contains(ue.dom.parentNode)){H.contentElement=ue.dom.parentNode;break}}H.contentElement||(H.getContent=()=>m.HY.empty)}return H}matchesNode(H,Z,ue){return this.dirty==Ne&&H.eq(this.node)&&zt(Z,this.outerDeco)&&ue.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(H,Z){let ue=this.node.inlineContent,Ce=Z,Ae=H.composing?this.localCompositionInfo(H,Z):null,qe=Ae&&Ae.pos>-1?Ae:null,Ze=Ae&&Ae.pos<0,tt=new Dt(this,qe&&qe.node,H);fn(this.node,this.innerDeco,(Rt,Kt,Tn)=>{Rt.spec.marks?tt.syncToMarks(Rt.spec.marks,ue,H):Rt.type.side>=0&&!Tn&&tt.syncToMarks(Kt==this.node.childCount?m.vc.none:this.node.child(Kt).marks,ue,H),tt.placeWidget(Rt,H,Ce)},(Rt,Kt,Tn,xn)=>{tt.syncToMarks(Rt.marks,ue,H);let On;tt.findNodeMatch(Rt,Kt,Tn,xn)||Ze&&H.state.selection.from>Ce&&H.state.selection.to<Ce+Rt.nodeSize&&(On=tt.findIndexWithChild(Ae.node))>-1&&tt.updateNodeAt(Rt,Kt,Tn,On,H)||tt.updateNextNode(Rt,Kt,Tn,H,xn)||tt.addNode(Rt,Kt,Tn,H,Ce),Ce+=Rt.nodeSize}),tt.syncToMarks([],ue,H),this.node.isTextblock&&tt.addTextblockHacks(),tt.destroyRest(),(tt.changed||this.dirty==st)&&(qe&&this.protectLocalComposition(H,qe),je(this.contentDOM,this.children,H),ee&&Sn(this.dom))}localCompositionInfo(H,Z){let{from:ue,to:Ce}=H.state.selection;if(!(H.state.selection instanceof o.Bs)||ue<Z||Ce>Z+this.node.content.size)return null;let Ae=H.domSelectionRange(),qe=wn(Ae.focusNode,Ae.focusOffset);if(!qe||!this.dom.contains(qe.parentNode))return null;if(this.node.inlineContent){let Ze=qe.nodeValue,tt=Pn(this.node.content,Ze,ue-Z,Ce-Z);return tt<0?null:{node:qe,pos:tt,text:Ze}}else return{node:qe,pos:-1,text:""}}protectLocalComposition(H,{node:Z,pos:ue,text:Ce}){if(this.getDesc(Z))return;let Ae=Z;for(;Ae.parentNode!=this.contentDOM;Ae=Ae.parentNode){for(;Ae.previousSibling;)Ae.parentNode.removeChild(Ae.previousSibling);for(;Ae.nextSibling;)Ae.parentNode.removeChild(Ae.nextSibling);Ae.pmViewDesc&&(Ae.pmViewDesc=void 0)}let qe=new Ke(this,Ae,Z,Ce);H.input.compositionNodes.push(qe),this.children=jn(this.children,ue,ue+Ce.length,H,qe)}update(H,Z,ue,Ce){return this.dirty==ke||!H.sameMarkup(this.node)?!1:(this.updateInner(H,Z,ue,Ce),!0)}updateInner(H,Z,ue,Ce){this.updateOuterDeco(Z),this.node=H,this.innerDeco=ue,this.contentDOM&&this.updateChildren(Ce,this.posAtStart),this.dirty=Ne}updateOuterDeco(H){if(zt(H,this.outerDeco))return;let Z=this.nodeDOM.nodeType!=1,ue=this.dom;this.dom=Ge(this.dom,this.nodeDOM,pt(this.outerDeco,this.node,Z),pt(H,this.node,Z)),this.dom!=ue&&(ue.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=H}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function K(j,H,Z,ue,Ce){return It(ue,H,j),new Oe(void 0,j,H,Z,ue,ue,ue,Ce,0)}class Y extends Oe{constructor(H,Z,ue,Ce,Ae,qe,Ze){super(H,Z,ue,Ce,Ae,null,qe,Ze,0)}parseRule(){let H=this.nodeDOM.parentNode;for(;H&&H!=this.dom&&!H.pmIsDeco;)H=H.parentNode;return{skip:H||!0}}update(H,Z,ue,Ce){return this.dirty==ke||this.dirty!=Ne&&!this.inParent()||!H.sameMarkup(this.node)?!1:(this.updateOuterDeco(Z),(this.dirty!=Ne||H.text!=this.node.text)&&H.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=H.text,Ce.trackWrites==this.nodeDOM&&(Ce.trackWrites=null)),this.node=H,this.dirty=Ne,!0)}inParent(){let H=this.parent.contentDOM;for(let Z=this.nodeDOM;Z;Z=Z.parentNode)if(Z==H)return!0;return!1}domFromPos(H){return{node:this.nodeDOM,offset:H}}localPosFromDOM(H,Z,ue){return H==this.nodeDOM?this.posAtStart+Math.min(Z,this.node.text.length):super.localPosFromDOM(H,Z,ue)}ignoreMutation(H){return H.type!="characterData"&&H.type!="selection"}slice(H,Z,ue){let Ce=this.node.cut(H,Z),Ae=document.createTextNode(Ce.text);return new Y(this.parent,Ce,this.outerDeco,this.innerDeco,Ae,Ae,ue)}markDirty(H,Z){super.markDirty(H,Z),this.dom!=this.nodeDOM&&(H==0||Z==this.nodeDOM.nodeValue.length)&&(this.dirty=ke)}get domAtom(){return!1}}class me extends Be{parseRule(){return{ignore:!0}}matchesHack(H){return this.dirty==Ne&&this.dom.nodeName==H}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Ie extends Oe{constructor(H,Z,ue,Ce,Ae,qe,Ze,tt,Rt,Kt){super(H,Z,ue,Ce,Ae,qe,Ze,Rt,Kt),this.spec=tt}update(H,Z,ue,Ce){if(this.dirty==ke)return!1;if(this.spec.update){let Ae=this.spec.update(H,Z,ue);return Ae&&this.updateInner(H,Z,ue,Ce),Ae}else return!this.contentDOM&&!H.isLeaf?!1:super.update(H,Z,ue,Ce)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(H,Z,ue,Ce){this.spec.setSelection?this.spec.setSelection(H,Z,ue):super.setSelection(H,Z,ue,Ce)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(H){return this.spec.stopEvent?this.spec.stopEvent(H):!1}ignoreMutation(H){return this.spec.ignoreMutation?this.spec.ignoreMutation(H):super.ignoreMutation(H)}}function je(j,H,Z){let ue=j.firstChild,Ce=!1;for(let Ae=0;Ae<H.length;Ae++){let qe=H[Ae],Ze=qe.dom;if(Ze.parentNode==j){for(;Ze!=ue;)ue=Xt(ue),Ce=!0;ue=ue.nextSibling}else Ce=!0,j.insertBefore(Ze,ue);if(qe instanceof ut){let tt=ue?ue.previousSibling:j.lastChild;je(qe.contentDOM,qe.children,Z),ue=tt?tt.nextSibling:j.firstChild}}for(;ue;)ue=Xt(ue),Ce=!0;Ce&&Z.trackWrites==j&&(Z.trackWrites=null)}const Xe=function(j){j&&(this.nodeName=j)};Xe.prototype=Object.create(null);const _t=[new Xe];function pt(j,H,Z){if(j.length==0)return _t;let ue=Z?_t[0]:new Xe,Ce=[ue];for(let Ae=0;Ae<j.length;Ae++){let qe=j[Ae].type.attrs;if(qe){qe.nodeName&&Ce.push(ue=new Xe(qe.nodeName));for(let Ze in qe){let tt=qe[Ze];tt!=null&&(Z&&Ce.length==1&&Ce.push(ue=new Xe(H.isInline?"span":"div")),Ze=="class"?ue.class=(ue.class?ue.class+" ":"")+tt:Ze=="style"?ue.style=(ue.style?ue.style+";":"")+tt:Ze!="nodeName"&&(ue[Ze]=tt))}}}return Ce}function Ge(j,H,Z,ue){if(Z==_t&&ue==_t)return H;let Ce=H;for(let Ae=0;Ae<ue.length;Ae++){let qe=ue[Ae],Ze=Z[Ae];if(Ae){let tt;Ze&&Ze.nodeName==qe.nodeName&&Ce!=j&&(tt=Ce.parentNode)&&tt.nodeName.toLowerCase()==qe.nodeName||(tt=document.createElement(qe.nodeName),tt.pmIsDeco=!0,tt.appendChild(Ce),Ze=_t[0]),Ce=tt}at(Ce,Ze||_t[0],qe)}return Ce}function at(j,H,Z){for(let ue in H)ue!="class"&&ue!="style"&&ue!="nodeName"&&!(ue in Z)&&j.removeAttribute(ue);for(let ue in Z)ue!="class"&&ue!="style"&&ue!="nodeName"&&Z[ue]!=H[ue]&&j.setAttribute(ue,Z[ue]);if(H.class!=Z.class){let ue=H.class?H.class.split(" ").filter(Boolean):[],Ce=Z.class?Z.class.split(" ").filter(Boolean):[];for(let Ae=0;Ae<ue.length;Ae++)Ce.indexOf(ue[Ae])==-1&&j.classList.remove(ue[Ae]);for(let Ae=0;Ae<Ce.length;Ae++)ue.indexOf(Ce[Ae])==-1&&j.classList.add(Ce[Ae]);j.classList.length==0&&j.removeAttribute("class")}if(H.style!=Z.style){if(H.style){let ue=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,Ce;for(;Ce=ue.exec(H.style);)j.style.removeProperty(Ce[1])}Z.style&&(j.style.cssText+=Z.style)}}function It(j,H,Z){return Ge(j,j,_t,pt(H,Z,j.nodeType!=1))}function zt(j,H){if(j.length!=H.length)return!1;for(let Z=0;Z<j.length;Z++)if(!j[Z].type.eq(H[Z].type))return!1;return!0}function Xt(j){let H=j.nextSibling;return j.parentNode.removeChild(j),H}class Dt{constructor(H,Z,ue){this.lock=Z,this.view=ue,this.index=0,this.stack=[],this.changed=!1,this.top=H,this.preMatch=ln(H.node.content,H)}destroyBetween(H,Z){if(H!=Z){for(let ue=H;ue<Z;ue++)this.top.children[ue].destroy();this.top.children.splice(H,Z-H),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(H,Z,ue){let Ce=0,Ae=this.stack.length>>1,qe=Math.min(Ae,H.length);for(;Ce<qe&&(Ce==Ae-1?this.top:this.stack[Ce+1<<1]).matchesMark(H[Ce])&&H[Ce].type.spec.spanning!==!1;)Ce++;for(;Ce<Ae;)this.destroyRest(),this.top.dirty=Ne,this.index=this.stack.pop(),this.top=this.stack.pop(),Ae--;for(;Ae<H.length;){this.stack.push(this.top,this.index+1);let Ze=-1;for(let tt=this.index;tt<Math.min(this.index+3,this.top.children.length);tt++){let Rt=this.top.children[tt];if(Rt.matchesMark(H[Ae])&&!this.isLocked(Rt.dom)){Ze=tt;break}}if(Ze>-1)Ze>this.index&&(this.changed=!0,this.destroyBetween(this.index,Ze)),this.top=this.top.children[this.index];else{let tt=ut.create(this.top,H[Ae],Z,ue);this.top.children.splice(this.index,0,tt),this.top=tt,this.changed=!0}this.index=0,Ae++}}findNodeMatch(H,Z,ue,Ce){let Ae=-1,qe;if(Ce>=this.preMatch.index&&(qe=this.preMatch.matches[Ce-this.preMatch.index]).parent==this.top&&qe.matchesNode(H,Z,ue))Ae=this.top.children.indexOf(qe,this.index);else for(let Ze=this.index,tt=Math.min(this.top.children.length,Ze+5);Ze<tt;Ze++){let Rt=this.top.children[Ze];if(Rt.matchesNode(H,Z,ue)&&!this.preMatch.matched.has(Rt)){Ae=Ze;break}}return Ae<0?!1:(this.destroyBetween(this.index,Ae),this.index++,!0)}updateNodeAt(H,Z,ue,Ce,Ae){let qe=this.top.children[Ce];return qe.dirty==ke&&qe.dom==qe.contentDOM&&(qe.dirty=st),qe.update(H,Z,ue,Ae)?(this.destroyBetween(this.index,Ce),this.index++,!0):!1}findIndexWithChild(H){for(;;){let Z=H.parentNode;if(!Z)return-1;if(Z==this.top.contentDOM){let ue=H.pmViewDesc;if(ue){for(let Ce=this.index;Ce<this.top.children.length;Ce++)if(this.top.children[Ce]==ue)return Ce}return-1}H=Z}}updateNextNode(H,Z,ue,Ce,Ae){for(let qe=this.index;qe<this.top.children.length;qe++){let Ze=this.top.children[qe];if(Ze instanceof Oe){let tt=this.preMatch.matched.get(Ze);if(tt!=null&&tt!=Ae)return!1;let Rt=Ze.dom;if(!(this.isLocked(Rt)&&!(H.isText&&Ze.node&&Ze.node.isText&&Ze.nodeDOM.nodeValue==H.text&&Ze.dirty!=ke&&zt(Z,Ze.outerDeco)))&&Ze.update(H,Z,ue,Ce))return this.destroyBetween(this.index,qe),Ze.dom!=Rt&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(H,Z,ue,Ce,Ae){this.top.children.splice(this.index++,0,Oe.create(this.top,H,Z,ue,Ce,Ae)),this.changed=!0}placeWidget(H,Z,ue){let Ce=this.index<this.top.children.length?this.top.children[this.index]:null;if(Ce&&Ce.matchesWidget(H)&&(H==Ce.widget||!Ce.widget.type.toDOM.parentNode))this.index++;else{let Ae=new Se(this.top,H,Z,ue);this.top.children.splice(this.index++,0,Ae),this.changed=!0}}addTextblockHacks(){let H=this.top.children[this.index-1],Z=this.top;for(;H instanceof ut;)Z=H,H=Z.children[Z.children.length-1];(!H||!(H instanceof Y)||/\n$/.test(H.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(H.node.text))&&((te||J)&&H&&H.dom.contentEditable=="false"&&this.addHackNode("IMG",Z),this.addHackNode("BR",this.top))}addHackNode(H,Z){if(Z==this.top&&this.index<Z.children.length&&Z.children[this.index].matchesHack(H))this.index++;else{let ue=document.createElement(H);H=="IMG"&&(ue.className="ProseMirror-separator",ue.alt=""),H=="BR"&&(ue.className="ProseMirror-trailingBreak");let Ce=new me(this.top,[],ue,null);Z!=this.top?Z.children.push(Ce):Z.children.splice(this.index++,0,Ce),this.changed=!0}}isLocked(H){return this.lock&&(H==this.lock||H.nodeType==1&&H.contains(this.lock.parentNode))}}function ln(j,H){let Z=H,ue=Z.children.length,Ce=j.childCount,Ae=new Map,qe=[];e:for(;Ce>0;){let Ze;for(;;)if(ue){let Rt=Z.children[ue-1];if(Rt instanceof ut)Z=Rt,ue=Rt.children.length;else{Ze=Rt,ue--;break}}else{if(Z==H)break e;ue=Z.parent.children.indexOf(Z),Z=Z.parent}let tt=Ze.node;if(tt){if(tt!=j.child(Ce-1))break;--Ce,Ae.set(Ze,Ce),qe.push(Ze)}}return{index:Ce,matched:Ae,matches:qe.reverse()}}function qt(j,H){return j.type.side-H.type.side}function fn(j,H,Z,ue){let Ce=H.locals(j),Ae=0;if(Ce.length==0){for(let Rt=0;Rt<j.childCount;Rt++){let Kt=j.child(Rt);ue(Kt,Ce,H.forChild(Ae,Kt),Rt),Ae+=Kt.nodeSize}return}let qe=0,Ze=[],tt=null;for(let Rt=0;;){if(qe<Ce.length&&Ce[qe].to==Ae){let ir=Ce[qe++],Mr;for(;qe<Ce.length&&Ce[qe].to==Ae;)(Mr||(Mr=[ir])).push(Ce[qe++]);if(Mr){Mr.sort(qt);for(let Kr=0;Kr<Mr.length;Kr++)Z(Mr[Kr],Rt,!!tt)}else Z(ir,Rt,!!tt)}let Kt,Tn;if(tt)Tn=-1,Kt=tt,tt=null;else if(Rt<j.childCount)Tn=Rt,Kt=j.child(Rt++);else break;for(let ir=0;ir<Ze.length;ir++)Ze[ir].to<=Ae&&Ze.splice(ir--,1);for(;qe<Ce.length&&Ce[qe].from<=Ae&&Ce[qe].to>Ae;)Ze.push(Ce[qe++]);let xn=Ae+Kt.nodeSize;if(Kt.isText){let ir=xn;qe<Ce.length&&Ce[qe].from<ir&&(ir=Ce[qe].from);for(let Mr=0;Mr<Ze.length;Mr++)Ze[Mr].to<ir&&(ir=Ze[Mr].to);ir<xn&&(tt=Kt.cut(ir-Ae),Kt=Kt.cut(0,ir-Ae),xn=ir,Tn=-1)}let On=Kt.isInline&&!Kt.isLeaf?Ze.filter(ir=>!ir.inline):Ze.slice();ue(Kt,On,H.forChild(Ae,Kt),Tn),Ae=xn}}function Sn(j){if(j.nodeName=="UL"||j.nodeName=="OL"){let H=j.style.cssText;j.style.cssText=H+"; list-style: square !important",window.getComputedStyle(j).listStyle,j.style.cssText=H}}function wn(j,H){for(;;){if(j.nodeType==3)return j;if(j.nodeType==1&&H>0){if(j.childNodes.length>H&&j.childNodes[H].nodeType==3)return j.childNodes[H];j=j.childNodes[H-1],H=E(j)}else if(j.nodeType==1&&H<j.childNodes.length)j=j.childNodes[H],H=0;else return null}}function Pn(j,H,Z,ue){for(let Ce=0,Ae=0;Ce<j.childCount&&Ae<=ue;){let qe=j.child(Ce++),Ze=Ae;if(Ae+=qe.nodeSize,!qe.isText)continue;let tt=qe.text;for(;Ce<j.childCount;){let Rt=j.child(Ce++);if(Ae+=Rt.nodeSize,!Rt.isText)break;tt+=Rt.text}if(Ae>=Z){let Rt=Ze<ue?tt.lastIndexOf(H,ue-Ze-1):-1;if(Rt>=0&&Rt+H.length+Ze>=Z)return Ze+Rt;if(Z==ue&&tt.length>=ue+H.length-Ze&&tt.slice(ue-Ze,ue-Ze+H.length)==H)return ue}}return-1}function jn(j,H,Z,ue,Ce){let Ae=[];for(let qe=0,Ze=0;qe<j.length;qe++){let tt=j[qe],Rt=Ze,Kt=Ze+=tt.size;Rt>=Z||Kt<=H?Ae.push(tt):(Rt<H&&Ae.push(tt.slice(0,H-Rt,ue)),Ce&&(Ae.push(Ce),Ce=void 0),Kt>Z&&Ae.push(tt.slice(Z-Rt,tt.size,ue)))}return Ae}function sr(j,H=null){let Z=j.domSelectionRange(),ue=j.state.doc;if(!Z.focusNode)return null;let Ce=j.docView.nearestDesc(Z.focusNode),Ae=Ce&&Ce.size==0,qe=j.docView.posFromDOM(Z.focusNode,Z.focusOffset,1);if(qe<0)return null;let Ze=ue.resolve(qe),tt,Rt;if(_(Z)){for(tt=Ze;Ce&&!Ce.node;)Ce=Ce.parent;let Kt=Ce.node;if(Ce&&Kt.isAtom&&o.qv.isSelectable(Kt)&&Ce.parent&&!(Kt.isInline&&O(Z.focusNode,Z.focusOffset,Ce.dom))){let Tn=Ce.posBefore;Rt=new o.qv(qe==Tn?Ze:ue.resolve(Tn))}}else{let Kt=j.docView.posFromDOM(Z.anchorNode,Z.anchorOffset,1);if(Kt<0)return null;tt=ue.resolve(Kt)}if(!Rt){let Kt=H=="pointer"||j.state.selection.head<Ze.pos&&!Ae?1:-1;Rt=no(j,tt,Ze,Kt)}return Rt}function _r(j){return j.editable?j.hasFocus():uo(j)&&document.activeElement&&document.activeElement.contains(j.dom)}function hr(j,H=!1){let Z=j.state.selection;if(Ur(j,Z),!!_r(j)){if(!H&&j.input.mouseDown&&j.input.mouseDown.allowDefault&&J){let ue=j.domSelectionRange(),Ce=j.domObserver.currentSelection;if(ue.anchorNode&&Ce.anchorNode&&v(ue.anchorNode,ue.anchorOffset,Ce.anchorNode,Ce.anchorOffset)){j.input.mouseDown.delayedSelectionSync=!0,j.domObserver.setCurSelection();return}}if(j.domObserver.disconnectSelection(),j.cursorWrapper)Vr(j);else{let{anchor:ue,head:Ce}=Z,Ae,qe;Bn&&!(Z instanceof o.Bs)&&(Z.$from.parent.inlineContent||(Ae=yr(j,Z.from)),!Z.empty&&!Z.$from.parent.inlineContent&&(qe=yr(j,Z.to))),j.docView.setSelection(ue,Ce,j.root,H),Bn&&(Ae&&Wr(Ae),qe&&Wr(qe)),Z.visible?j.dom.classList.remove("ProseMirror-hideselection"):(j.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Zr(j))}j.domObserver.setCurSelection(),j.domObserver.connectSelection()}}const Bn=te||J&&Q<63;function yr(j,H){let{node:Z,offset:ue}=j.docView.domFromPos(H,0),Ce=ue<Z.childNodes.length?Z.childNodes[ue]:null,Ae=ue?Z.childNodes[ue-1]:null;if(te&&Ce&&Ce.contentEditable=="false")return oo(Ce);if((!Ce||Ce.contentEditable=="false")&&(!Ae||Ae.contentEditable=="false")){if(Ce)return oo(Ce);if(Ae)return oo(Ae)}}function oo(j){return j.contentEditable="true",te&&j.draggable&&(j.draggable=!1,j.wasDraggable=!0),j}function Wr(j){j.contentEditable="false",j.wasDraggable&&(j.draggable=!0,j.wasDraggable=null)}function Zr(j){let H=j.dom.ownerDocument;H.removeEventListener("selectionchange",j.input.hideSelectionGuard);let Z=j.domSelectionRange(),ue=Z.anchorNode,Ce=Z.anchorOffset;H.addEventListener("selectionchange",j.input.hideSelectionGuard=()=>{(Z.anchorNode!=ue||Z.anchorOffset!=Ce)&&(H.removeEventListener("selectionchange",j.input.hideSelectionGuard),setTimeout(()=>{(!_r(j)||j.state.selection.visible)&&j.dom.classList.remove("ProseMirror-hideselection")},20))})}function Vr(j){let H=j.domSelection(),Z=document.createRange(),ue=j.cursorWrapper.dom,Ce=ue.nodeName=="IMG";Ce?Z.setEnd(ue.parentNode,u(ue)+1):Z.setEnd(ue,0),Z.collapse(!1),H.removeAllRanges(),H.addRange(Z),!Ce&&!j.state.selection.visible&&A&&F<=11&&(ue.disabled=!0,ue.disabled=!1)}function Ur(j,H){if(H instanceof o.qv){let Z=j.docView.descAt(H.from);Z!=j.lastSelectedViewDesc&&(co(j),Z&&Z.selectNode(),j.lastSelectedViewDesc=Z)}else co(j)}function co(j){j.lastSelectedViewDesc&&(j.lastSelectedViewDesc.parent&&j.lastSelectedViewDesc.deselectNode(),j.lastSelectedViewDesc=void 0)}function no(j,H,Z,ue){return j.someProp("createSelectionBetween",Ce=>Ce(j,H,Z))||o.Bs.between(H,Z,ue)}function Hr(j){return j.editable&&!j.hasFocus()?!1:uo(j)}function uo(j){let H=j.domSelectionRange();if(!H.anchorNode)return!1;try{return j.dom.contains(H.anchorNode.nodeType==3?H.anchorNode.parentNode:H.anchorNode)&&(j.editable||j.dom.contains(H.focusNode.nodeType==3?H.focusNode.parentNode:H.focusNode))}catch(Z){return!1}}function yo(j){let H=j.docView.domFromPos(j.state.selection.anchor,0),Z=j.domSelectionRange();return v(H.node,H.offset,Z.anchorNode,Z.anchorOffset)}function ho(j,H){let{$anchor:Z,$head:ue}=j.selection,Ce=H>0?Z.max(ue):Z.min(ue),Ae=Ce.parent.inlineContent?Ce.depth?j.doc.resolve(H>0?Ce.after():Ce.before()):null:Ce;return Ae&&o.Y1.findFrom(Ae,H)}function xo(j,H){return j.dispatch(j.state.tr.setSelection(H).scrollIntoView()),!0}function Qo(j,H,Z){let ue=j.state.selection;if(ue instanceof o.Bs){if(!ue.empty||Z.indexOf("s")>-1)return!1;if(j.endOfTextblock(H>0?"right":"left")){let Ce=ho(j.state,H);return Ce&&Ce instanceof o.qv?xo(j,Ce):!1}else if(!(L&&Z.indexOf("m")>-1)){let Ce=ue.$head,Ae=Ce.textOffset?null:H<0?Ce.nodeBefore:Ce.nodeAfter,qe;if(!Ae||Ae.isText)return!1;let Ze=H<0?Ce.pos-Ae.nodeSize:Ce.pos;return Ae.isAtom||(qe=j.docView.descAt(Ze))&&!qe.contentDOM?o.qv.isSelectable(Ae)?xo(j,new o.qv(H<0?j.state.doc.resolve(Ce.pos-Ae.nodeSize):Ce)):ne?xo(j,new o.Bs(j.state.doc.resolve(H<0?Ze:Ze+Ae.nodeSize))):!1:!1}}else{if(ue instanceof o.qv&&ue.node.isInline)return xo(j,new o.Bs(H>0?ue.$to:ue.$from));{let Ce=ho(j.state,H);return Ce?xo(j,Ce):!1}}}function Zo(j){return j.nodeType==3?j.nodeValue.length:j.childNodes.length}function No(j){let H=j.pmViewDesc;return H&&H.size==0&&(j.nextSibling||j.nodeName!="BR")}function Ro(j){let H=j.domSelectionRange(),Z=H.focusNode,ue=H.focusOffset;if(!Z)return;let Ce,Ae,qe=!1;for(U&&Z.nodeType==1&&ue<Zo(Z)&&No(Z.childNodes[ue])&&(qe=!0);;)if(ue>0){if(Z.nodeType!=1)break;{let Ze=Z.childNodes[ue-1];if(No(Ze))Ce=Z,Ae=--ue;else if(Ze.nodeType==3)Z=Ze,ue=Z.nodeValue.length;else break}}else{if(Yr(Z))break;{let Ze=Z.previousSibling;for(;Ze&&No(Ze);)Ce=Z.parentNode,Ae=u(Ze),Ze=Ze.previousSibling;if(Ze)Z=Ze,ue=Zo(Z);else{if(Z=Z.parentNode,Z==j.dom)break;ue=0}}}qe?Jr(j,Z,ue):Ce&&Jr(j,Ce,Ae)}function Ko(j){let H=j.domSelectionRange(),Z=H.focusNode,ue=H.focusOffset;if(!Z)return;let Ce=Zo(Z),Ae,qe;for(;;)if(ue<Ce){if(Z.nodeType!=1)break;let Ze=Z.childNodes[ue];if(No(Ze))Ae=Z,qe=++ue;else break}else{if(Yr(Z))break;{let Ze=Z.nextSibling;for(;Ze&&No(Ze);)Ae=Ze.parentNode,qe=u(Ze)+1,Ze=Ze.nextSibling;if(Ze)Z=Ze,ue=0,Ce=Zo(Z);else{if(Z=Z.parentNode,Z==j.dom)break;ue=Ce=0}}}Ae&&Jr(j,Ae,qe)}function Yr(j){let H=j.pmViewDesc;return H&&H.node&&H.node.isBlock}function Jr(j,H,Z){let ue=j.domSelection();if(_(ue)){let Ae=document.createRange();Ae.setEnd(H,Z),Ae.setStart(H,Z),ue.removeAllRanges(),ue.addRange(Ae)}else ue.extend&&ue.extend(H,Z);j.domObserver.setCurSelection();let{state:Ce}=j;setTimeout(()=>{j.state==Ce&&hr(j)},50)}function jr(j,H,Z){let ue=j.state.selection;if(ue instanceof o.Bs&&!ue.empty||Z.indexOf("s")>-1||L&&Z.indexOf("m")>-1)return!1;let{$from:Ce,$to:Ae}=ue;if(!Ce.parent.inlineContent||j.endOfTextblock(H<0?"up":"down")){let qe=ho(j.state,H);if(qe&&qe instanceof o.qv)return xo(j,qe)}if(!Ce.parent.inlineContent){let qe=H<0?Ce:Ae,Ze=ue instanceof o.C1?o.Y1.near(qe,H):o.Y1.findFrom(qe,H);return Ze?xo(j,Ze):!1}return!1}function Dr(j,H){if(!(j.state.selection instanceof o.Bs))return!0;let{$head:Z,$anchor:ue,empty:Ce}=j.state.selection;if(!Z.sameParent(ue))return!0;if(!Ce)return!1;if(j.endOfTextblock(H>0?"forward":"backward"))return!0;let Ae=!Z.textOffset&&(H<0?Z.nodeBefore:Z.nodeAfter);if(Ae&&!Ae.isText){let qe=j.state.tr;return H<0?qe.delete(Z.pos-Ae.nodeSize,Z.pos):qe.delete(Z.pos,Z.pos+Ae.nodeSize),j.dispatch(qe),!0}return!1}function Vt(j,H,Z){j.domObserver.stop(),H.contentEditable=Z,j.domObserver.start()}function Qt(j){if(!te||j.state.selection.$head.parentOffset>0)return!1;let{focusNode:H,focusOffset:Z}=j.domSelectionRange();if(H&&H.nodeType==1&&Z==0&&H.firstChild&&H.firstChild.contentEditable=="false"){let ue=H.firstChild;Vt(j,ue,"true"),setTimeout(()=>Vt(j,ue,"false"),20)}return!1}function en(j){let H="";return j.ctrlKey&&(H+="c"),j.metaKey&&(H+="m"),j.altKey&&(H+="a"),j.shiftKey&&(H+="s"),H}function Rn(j,H){let Z=H.keyCode,ue=en(H);return Z==8||L&&Z==72&&ue=="c"?Dr(j,-1)||Ro(j):Z==46||L&&Z==68&&ue=="c"?Dr(j,1)||Ko(j):Z==13||Z==27?!0:Z==37||L&&Z==66&&ue=="c"?Qo(j,-1,ue)||Ro(j):Z==39||L&&Z==70&&ue=="c"?Qo(j,1,ue)||Ko(j):Z==38||L&&Z==80&&ue=="c"?jr(j,-1,ue)||Ro(j):Z==40||L&&Z==78&&ue=="c"?Qt(j)||jr(j,1,ue)||Ko(j):ue==(L?"m":"c")&&(Z==66||Z==73||Z==89||Z==90)}function At(j,H){j.someProp("transformCopied",On=>{H=On(H,j)});let Z=[],{content:ue,openStart:Ce,openEnd:Ae}=H;for(;Ce>1&&Ae>1&&ue.childCount==1&&ue.firstChild.childCount==1;){Ce--,Ae--;let On=ue.firstChild;Z.push(On.type.name,On.attrs!=On.type.defaultAttrs?On.attrs:null),ue=On.content}let qe=j.someProp("clipboardSerializer")||m.PW.fromSchema(j.state.schema),Ze=Tr(),tt=Ze.createElement("div");tt.appendChild(qe.serializeFragment(ue,{document:Ze}));let Rt=tt.firstChild,Kt,Tn=0;for(;Rt&&Rt.nodeType==1&&(Kt=Nn[Rt.nodeName.toLowerCase()]);){for(let On=Kt.length-1;On>=0;On--){let ir=Ze.createElement(Kt[On]);for(;tt.firstChild;)ir.appendChild(tt.firstChild);tt.appendChild(ir),Tn++}Rt=tt.firstChild}Rt&&Rt.nodeType==1&&Rt.setAttribute("data-pm-slice",`${Ce} ${Ae}${Tn?` -${Tn}`:""} ${JSON.stringify(Z)}`);let xn=j.someProp("clipboardTextSerializer",On=>On(H,j))||H.content.textBetween(0,H.content.size,`

`);return{dom:tt,text:xn}}function Zt(j,H,Z,ue,Ce){let Ae=Ce.parent.type.spec.code,qe,Ze;if(!Z&&!H)return null;let tt=H&&(ue||Ae||!Z);if(tt){if(j.someProp("transformPastedText",xn=>{H=xn(H,Ae||ue,j)}),Ae)return H?new m.p2(m.HY.from(j.state.schema.text(H.replace(/\r\n?/g,`
`))),0,0):m.p2.empty;let Tn=j.someProp("clipboardTextParser",xn=>xn(H,Ce,ue,j));if(Tn)Ze=Tn;else{let xn=Ce.marks(),{schema:On}=j.state,ir=m.PW.fromSchema(On);qe=document.createElement("div"),H.split(/(?:\r\n?|\n)+/).forEach(Mr=>{let Kr=qe.appendChild(document.createElement("p"));Mr&&Kr.appendChild(ir.serializeNode(On.text(Mr,xn)))})}}else j.someProp("transformPastedHTML",Tn=>{Z=Tn(Z,j)}),qe=br(Z),ne&&Rr(qe);let Rt=qe&&qe.querySelector("[data-pm-slice]"),Kt=Rt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Rt.getAttribute("data-pm-slice")||"");if(Kt&&Kt[3])for(let Tn=+Kt[3];Tn>0;Tn--){let xn=qe.firstChild;for(;xn&&xn.nodeType!=1;)xn=xn.nextSibling;if(!xn)break;qe=xn}if(Ze||(Ze=(j.someProp("clipboardParser")||j.someProp("domParser")||m.aw.fromSchema(j.state.schema)).parseSlice(qe,{preserveWhitespace:!!(tt||Kt),context:Ce,ruleFromNode(xn){return xn.nodeName=="BR"&&!xn.nextSibling&&xn.parentNode&&!jt.test(xn.parentNode.nodeName)?{ignore:!0}:null}})),Kt)Ze=so(er(Ze,+Kt[1],+Kt[2]),Kt[4]);else if(Ze=m.p2.maxOpen(nn(Ze.content,Ce),!0),Ze.openStart||Ze.openEnd){let Tn=0,xn=0;for(let On=Ze.content.firstChild;Tn<Ze.openStart&&!On.type.spec.isolating;Tn++,On=On.firstChild);for(let On=Ze.content.lastChild;xn<Ze.openEnd&&!On.type.spec.isolating;xn++,On=On.lastChild);Ze=er(Ze,Tn,xn)}return j.someProp("transformPasted",Tn=>{Ze=Tn(Ze,j)}),Ze}const jt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function nn(j,H){if(j.childCount<2)return j;for(let Z=H.depth;Z>=0;Z--){let Ce=H.node(Z).contentMatchAt(H.index(Z)),Ae,qe=[];if(j.forEach(Ze=>{if(!qe)return;let tt=Ce.findWrapping(Ze.type),Rt;if(!tt)return qe=null;if(Rt=qe.length&&Ae.length&&Mn(tt,Ae,Ze,qe[qe.length-1],0))qe[qe.length-1]=Rt;else{qe.length&&(qe[qe.length-1]=Xn(qe[qe.length-1],Ae.length));let Kt=gn(Ze,tt);qe.push(Kt),Ce=Ce.matchType(Kt.type),Ae=tt}}),qe)return m.HY.from(qe)}return j}function gn(j,H,Z=0){for(let ue=H.length-1;ue>=Z;ue--)j=H[ue].create(null,m.HY.from(j));return j}function Mn(j,H,Z,ue,Ce){if(Ce<j.length&&Ce<H.length&&j[Ce]==H[Ce]){let Ae=Mn(j,H,Z,ue.lastChild,Ce+1);if(Ae)return ue.copy(ue.content.replaceChild(ue.childCount-1,Ae));if(ue.contentMatchAt(ue.childCount).matchType(Ce==j.length-1?Z.type:j[Ce+1]))return ue.copy(ue.content.append(m.HY.from(gn(Z,j,Ce+1))))}}function Xn(j,H){if(H==0)return j;let Z=j.content.replaceChild(j.childCount-1,Xn(j.lastChild,H-1)),ue=j.contentMatchAt(j.childCount).fillBefore(m.HY.empty,!0);return j.copy(Z.append(ue))}function nr(j,H,Z,ue,Ce,Ae){let qe=H<0?j.firstChild:j.lastChild,Ze=qe.content;return Ce<ue-1&&(Ze=nr(Ze,H,Z,ue,Ce+1,Ae)),Ce>=Z&&(Ze=H<0?qe.contentMatchAt(0).fillBefore(Ze,j.childCount>1||Ae<=Ce).append(Ze):Ze.append(qe.contentMatchAt(qe.childCount).fillBefore(m.HY.empty,!0))),j.replaceChild(H<0?0:j.childCount-1,qe.copy(Ze))}function er(j,H,Z){return H<j.openStart&&(j=new m.p2(nr(j.content,-1,H,j.openStart,0,j.openEnd),H,j.openEnd)),Z<j.openEnd&&(j=new m.p2(nr(j.content,1,Z,j.openEnd,0,0),j.openStart,Z)),j}const Nn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Sr=null;function Tr(){return Sr||(Sr=document.implementation.createHTMLDocument("title"))}function br(j){let H=/^(\s*<meta [^>]*>)*/.exec(j);H&&(j=j.slice(H[0].length));let Z=Tr().createElement("div"),ue=/<([a-z][^>\s]+)/i.exec(j),Ce;if((Ce=ue&&Nn[ue[1].toLowerCase()])&&(j=Ce.map(Ae=>"<"+Ae+">").join("")+j+Ce.map(Ae=>"</"+Ae+">").reverse().join("")),Z.innerHTML=j,Ce)for(let Ae=0;Ae<Ce.length;Ae++)Z=Z.querySelector(Ce[Ae])||Z;return Z}function Rr(j){let H=j.querySelectorAll(J?"span:not([class]):not([style])":"span.Apple-converted-space");for(let Z=0;Z<H.length;Z++){let ue=H[Z];ue.childNodes.length==1&&ue.textContent=="\xA0"&&ue.parentNode&&ue.parentNode.replaceChild(j.ownerDocument.createTextNode(" "),ue)}}function so(j,H){if(!j.size)return j;let Z=j.content.firstChild.type.schema,ue;try{ue=JSON.parse(H)}catch(Ze){return j}let{content:Ce,openStart:Ae,openEnd:qe}=j;for(let Ze=ue.length-2;Ze>=0;Ze-=2){let tt=Z.nodes[ue[Ze]];if(!tt||tt.hasRequiredAttrs())break;Ce=m.HY.from(tt.create(ue[Ze+1],Ce)),Ae++,qe++}return new m.p2(Ce,Ae,qe)}const eo={},Cr={},Co={touchstart:!0,touchmove:!0};class po{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jo(j){for(let H in eo){let Z=eo[H];j.dom.addEventListener(H,j.input.eventHandlers[H]=ue=>{Ci(j,ue)&&!So(j,ue)&&(j.editable||!(ue.type in Cr))&&Z(j,ue)},Co[H]?{passive:!0}:void 0)}te&&j.dom.addEventListener("input",()=>null),Lo(j)}function vo(j,H){j.input.lastSelectionOrigin=H,j.input.lastSelectionTime=Date.now()}function Oo(j){j.domObserver.stop();for(let H in j.input.eventHandlers)j.dom.removeEventListener(H,j.input.eventHandlers[H]);clearTimeout(j.input.composingTimeout),clearTimeout(j.input.lastIOSEnterFallbackTimeout)}function Lo(j){j.someProp("handleDOMEvents",H=>{for(let Z in H)j.input.eventHandlers[Z]||j.dom.addEventListener(Z,j.input.eventHandlers[Z]=ue=>So(j,ue))})}function So(j,H){return j.someProp("handleDOMEvents",Z=>{let ue=Z[H.type];return ue?ue(j,H)||H.defaultPrevented:!1})}function Ci(j,H){if(!H.bubbles)return!0;if(H.defaultPrevented)return!1;for(let Z=H.target;Z!=j.dom;Z=Z.parentNode)if(!Z||Z.nodeType==11||Z.pmViewDesc&&Z.pmViewDesc.stopEvent(H))return!1;return!0}function io(j,H){!So(j,H)&&eo[H.type]&&(j.editable||!(H.type in Cr))&&eo[H.type](j,H)}Cr.keydown=(j,H)=>{let Z=H;if(j.input.shiftKey=Z.keyCode==16||Z.shiftKey,!ai(j,Z)&&(j.input.lastKeyCode=Z.keyCode,j.input.lastKeyCodeTime=Date.now(),!(V&&J&&Z.keyCode==13)))if(Z.keyCode!=229&&j.domObserver.forceFlush(),ee&&Z.keyCode==13&&!Z.ctrlKey&&!Z.altKey&&!Z.metaKey){let ue=Date.now();j.input.lastIOSEnter=ue,j.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{j.input.lastIOSEnter==ue&&(j.someProp("handleKeyDown",Ce=>Ce(j,a(13,"Enter"))),j.input.lastIOSEnter=0)},200)}else j.someProp("handleKeyDown",ue=>ue(j,Z))||Rn(j,Z)?Z.preventDefault():vo(j,"key")},Cr.keyup=(j,H)=>{H.keyCode==16&&(j.input.shiftKey=!1)},Cr.keypress=(j,H)=>{let Z=H;if(ai(j,Z)||!Z.charCode||Z.ctrlKey&&!Z.altKey||L&&Z.metaKey)return;if(j.someProp("handleKeyPress",Ce=>Ce(j,Z))){Z.preventDefault();return}let ue=j.state.selection;if(!(ue instanceof o.Bs)||!ue.$from.sameParent(ue.$to)){let Ce=String.fromCharCode(Z.charCode);!/[\r\n]/.test(Ce)&&!j.someProp("handleTextInput",Ae=>Ae(j,ue.$from.pos,ue.$to.pos,Ce))&&j.dispatch(j.state.tr.insertText(Ce).scrollIntoView()),Z.preventDefault()}};function li(j){return{left:j.clientX,top:j.clientY}}function fi(j,H){let Z=H.x-j.clientX,ue=H.y-j.clientY;return Z*Z+ue*ue<100}function Mi(j,H,Z,ue,Ce){if(ue==-1)return!1;let Ae=j.state.doc.resolve(ue);for(let qe=Ae.depth+1;qe>0;qe--)if(j.someProp(H,Ze=>qe>Ae.depth?Ze(j,Z,Ae.nodeAfter,Ae.before(qe),Ce,!0):Ze(j,Z,Ae.node(qe),Ae.before(qe),Ce,!1)))return!0;return!1}function pi(j,H,Z){j.focused||j.focus();let ue=j.state.tr.setSelection(H);Z=="pointer"&&ue.setMeta("pointer",!0),j.dispatch(ue)}function Li(j,H){if(H==-1)return!1;let Z=j.state.doc.resolve(H),ue=Z.nodeAfter;return ue&&ue.isAtom&&o.qv.isSelectable(ue)?(pi(j,new o.qv(Z),"pointer"),!0):!1}function Bi(j,H){if(H==-1)return!1;let Z=j.state.selection,ue,Ce;Z instanceof o.qv&&(ue=Z.node);let Ae=j.state.doc.resolve(H);for(let qe=Ae.depth+1;qe>0;qe--){let Ze=qe>Ae.depth?Ae.nodeAfter:Ae.node(qe);if(o.qv.isSelectable(Ze)){ue&&Z.$from.depth>0&&qe>=Z.$from.depth&&Ae.before(Z.$from.depth+1)==Z.$from.pos?Ce=Ae.before(Z.$from.depth):Ce=Ae.before(qe);break}}return Ce!=null?(pi(j,o.qv.create(j.state.doc,Ce),"pointer"),!0):!1}function ki(j,H,Z,ue,Ce){return Mi(j,"handleClickOn",H,Z,ue)||j.someProp("handleClick",Ae=>Ae(j,H,ue))||(Ce?Bi(j,Z):Li(j,Z))}function ra(j,H,Z,ue){return Mi(j,"handleDoubleClickOn",H,Z,ue)||j.someProp("handleDoubleClick",Ce=>Ce(j,H,ue))}function Xo(j,H,Z,ue){return Mi(j,"handleTripleClickOn",H,Z,ue)||j.someProp("handleTripleClick",Ce=>Ce(j,H,ue))||ci(j,Z,ue)}function ci(j,H,Z){if(Z.button!=0)return!1;let ue=j.state.doc;if(H==-1)return ue.inlineContent?(pi(j,o.Bs.create(ue,0,ue.content.size),"pointer"),!0):!1;let Ce=ue.resolve(H);for(let Ae=Ce.depth+1;Ae>0;Ae--){let qe=Ae>Ce.depth?Ce.nodeAfter:Ce.node(Ae),Ze=Ce.before(Ae);if(qe.inlineContent)pi(j,o.Bs.create(ue,Ze+1,Ze+1+qe.content.size),"pointer");else if(o.qv.isSelectable(qe))pi(j,o.qv.create(ue,Ze),"pointer");else continue;return!0}}function bo(j){return yt(j)}const ii=L?"metaKey":"ctrlKey";eo.mousedown=(j,H)=>{let Z=H;j.input.shiftKey=Z.shiftKey;let ue=bo(j),Ce=Date.now(),Ae="singleClick";Ce-j.input.lastClick.time<500&&fi(Z,j.input.lastClick)&&!Z[ii]&&(j.input.lastClick.type=="singleClick"?Ae="doubleClick":j.input.lastClick.type=="doubleClick"&&(Ae="tripleClick")),j.input.lastClick={time:Ce,x:Z.clientX,y:Z.clientY,type:Ae};let qe=j.posAtCoords(li(Z));qe&&(Ae=="singleClick"?(j.input.mouseDown&&j.input.mouseDown.done(),j.input.mouseDown=new di(j,qe,Z,!!ue)):(Ae=="doubleClick"?ra:Xo)(j,qe.pos,qe.inside,Z)?Z.preventDefault():vo(j,"pointer"))};class di{constructor(H,Z,ue,Ce){this.view=H,this.pos=Z,this.event=ue,this.flushed=Ce,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=H.state.doc,this.selectNode=!!ue[ii],this.allowDefault=ue.shiftKey;let Ae,qe;if(Z.inside>-1)Ae=H.state.doc.nodeAt(Z.inside),qe=Z.inside;else{let Kt=H.state.doc.resolve(Z.pos);Ae=Kt.parent,qe=Kt.depth?Kt.before():0}const Ze=Ce?null:ue.target,tt=Ze?H.docView.nearestDesc(Ze,!0):null;this.target=tt?tt.dom:null;let{selection:Rt}=H.state;(ue.button==0&&Ae.type.spec.draggable&&Ae.type.spec.selectable!==!1||Rt instanceof o.qv&&Rt.from<=qe&&Rt.to>qe)&&(this.mightDrag={node:Ae,pos:qe,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&U&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),H.root.addEventListener("mouseup",this.up=this.up.bind(this)),H.root.addEventListener("mousemove",this.move=this.move.bind(this)),vo(H,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hr(this.view)),this.view.input.mouseDown=null}up(H){if(this.done(),!this.view.dom.contains(H.target))return;let Z=this.pos;this.view.state.doc!=this.startDoc&&(Z=this.view.posAtCoords(li(H))),this.updateAllowDefault(H),this.allowDefault||!Z?vo(this.view,"pointer"):ki(this.view,Z.pos,Z.inside,H,this.selectNode)?H.preventDefault():H.button==0&&(this.flushed||te&&this.mightDrag&&!this.mightDrag.node.isAtom||J&&!this.view.state.selection.visible&&Math.min(Math.abs(Z.pos-this.view.state.selection.from),Math.abs(Z.pos-this.view.state.selection.to))<=2)?(pi(this.view,o.Y1.near(this.view.state.doc.resolve(Z.pos)),"pointer"),H.preventDefault()):vo(this.view,"pointer")}move(H){this.updateAllowDefault(H),vo(this.view,"pointer"),H.buttons==0&&this.done()}updateAllowDefault(H){!this.allowDefault&&(Math.abs(this.event.x-H.clientX)>4||Math.abs(this.event.y-H.clientY)>4)&&(this.allowDefault=!0)}}eo.touchstart=j=>{j.input.lastTouch=Date.now(),bo(j),vo(j,"pointer")},eo.touchmove=j=>{j.input.lastTouch=Date.now(),vo(j,"pointer")},eo.contextmenu=j=>bo(j);function ai(j,H){return j.composing?!0:te&&Math.abs(H.timeStamp-j.input.compositionEndedAt)<500?(j.input.compositionEndedAt=-2e8,!0):!1}const it=V?5e3:-1;Cr.compositionstart=Cr.compositionupdate=j=>{if(!j.composing){j.domObserver.flush();let{state:H}=j,Z=H.selection.$from;if(H.selection.empty&&(H.storedMarks||!Z.textOffset&&Z.parentOffset&&Z.nodeBefore.marks.some(ue=>ue.type.spec.inclusive===!1)))j.markCursor=j.state.storedMarks||Z.marks(),yt(j,!0),j.markCursor=null;else if(yt(j),U&&H.selection.empty&&Z.parentOffset&&!Z.textOffset&&Z.nodeBefore.marks.length){let ue=j.domSelectionRange();for(let Ce=ue.focusNode,Ae=ue.focusOffset;Ce&&Ce.nodeType==1&&Ae!=0;){let qe=Ae<0?Ce.lastChild:Ce.childNodes[Ae-1];if(!qe)break;if(qe.nodeType==3){j.domSelection().collapse(qe,qe.nodeValue.length);break}else Ce=qe,Ae=-1}}j.input.composing=!0}$e(j,it)},Cr.compositionend=(j,H)=>{j.composing&&(j.input.composing=!1,j.input.compositionEndedAt=H.timeStamp,$e(j,20))};function $e(j,H){clearTimeout(j.input.composingTimeout),H>-1&&(j.input.composingTimeout=setTimeout(()=>yt(j),H))}function Qe(j){for(j.composing&&(j.input.composing=!1,j.input.compositionEndedAt=mt());j.input.compositionNodes.length>0;)j.input.compositionNodes.pop().markParentsDirty()}function mt(){let j=document.createEvent("Event");return j.initEvent("event",!0,!0),j.timeStamp}function yt(j,H=!1){if(!(V&&j.domObserver.flushingSoon>=0)){if(j.domObserver.forceFlush(),Qe(j),H||j.docView&&j.docView.dirty){let Z=sr(j);return Z&&!Z.eq(j.state.selection)?j.dispatch(j.state.tr.setSelection(Z)):j.updateState(j.state),!0}return!1}}function Ut(j,H){if(!j.dom.parentNode)return;let Z=j.dom.parentNode.appendChild(document.createElement("div"));Z.appendChild(H),Z.style.cssText="position: fixed; left: -10000px; top: 10px";let ue=getSelection(),Ce=document.createRange();Ce.selectNodeContents(H),j.dom.blur(),ue.removeAllRanges(),ue.addRange(Ce),setTimeout(()=>{Z.parentNode&&Z.parentNode.removeChild(Z),j.focus()},50)}const Lt=A&&F<15||ee&&ae<604;eo.copy=Cr.cut=(j,H)=>{let Z=H,ue=j.state.selection,Ce=Z.type=="cut";if(ue.empty)return;let Ae=Lt?null:Z.clipboardData,qe=ue.content(),{dom:Ze,text:tt}=At(j,qe);Ae?(Z.preventDefault(),Ae.clearData(),Ae.setData("text/html",Ze.innerHTML),Ae.setData("text/plain",tt)):Ut(j,Ze),Ce&&j.dispatch(j.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Te(j){return j.openStart==0&&j.openEnd==0&&j.content.childCount==1?j.content.firstChild:null}function ge(j,H){if(!j.dom.parentNode)return;let Z=j.input.shiftKey||j.state.selection.$from.parent.type.spec.code,ue=j.dom.parentNode.appendChild(document.createElement(Z?"textarea":"div"));Z||(ue.contentEditable="true"),ue.style.cssText="position: fixed; left: -10000px; top: 10px",ue.focus(),setTimeout(()=>{j.focus(),ue.parentNode&&ue.parentNode.removeChild(ue),Z?Pe(j,ue.value,null,j.input.shiftKey,H):Pe(j,ue.textContent,ue.innerHTML,j.input.shiftKey,H)},50)}function Pe(j,H,Z,ue,Ce){let Ae=Zt(j,H,Z,ue,j.state.selection.$from);if(j.someProp("handlePaste",tt=>tt(j,Ce,Ae||m.p2.empty)))return!0;if(!Ae)return!1;let qe=Te(Ae),Ze=qe?j.state.tr.replaceSelectionWith(qe,j.input.shiftKey):j.state.tr.replaceSelection(Ae);return j.dispatch(Ze.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Cr.paste=(j,H)=>{let Z=H;if(j.composing&&!V)return;let ue=Lt?null:Z.clipboardData;ue&&Pe(j,ue.getData("text/plain"),ue.getData("text/html"),j.input.shiftKey,Z)?Z.preventDefault():ge(j,Z)};class Ve{constructor(H,Z){this.slice=H,this.move=Z}}const vt=L?"altKey":"ctrlKey";eo.dragstart=(j,H)=>{let Z=H,ue=j.input.mouseDown;if(ue&&ue.done(),!Z.dataTransfer)return;let Ce=j.state.selection,Ae=Ce.empty?null:j.posAtCoords(li(Z));if(!(Ae&&Ae.pos>=Ce.from&&Ae.pos<=(Ce instanceof o.qv?Ce.to-1:Ce.to))){if(ue&&ue.mightDrag)j.dispatch(j.state.tr.setSelection(o.qv.create(j.state.doc,ue.mightDrag.pos)));else if(Z.target&&Z.target.nodeType==1){let Rt=j.docView.nearestDesc(Z.target,!0);Rt&&Rt.node.type.spec.draggable&&Rt!=j.docView&&j.dispatch(j.state.tr.setSelection(o.qv.create(j.state.doc,Rt.posBefore)))}}let qe=j.state.selection.content(),{dom:Ze,text:tt}=At(j,qe);Z.dataTransfer.clearData(),Z.dataTransfer.setData(Lt?"Text":"text/html",Ze.innerHTML),Z.dataTransfer.effectAllowed="copyMove",Lt||Z.dataTransfer.setData("text/plain",tt),j.dragging=new Ve(qe,!Z[vt])},eo.dragend=j=>{let H=j.dragging;window.setTimeout(()=>{j.dragging==H&&(j.dragging=null)},50)},Cr.dragover=Cr.dragenter=(j,H)=>H.preventDefault(),Cr.drop=(j,H)=>{let Z=H,ue=j.dragging;if(j.dragging=null,!Z.dataTransfer)return;let Ce=j.posAtCoords(li(Z));if(!Ce)return;let Ae=j.state.doc.resolve(Ce.pos),qe=ue&&ue.slice;qe?j.someProp("transformPasted",ir=>{qe=ir(qe,j)}):qe=Zt(j,Z.dataTransfer.getData(Lt?"Text":"text/plain"),Lt?null:Z.dataTransfer.getData("text/html"),!1,Ae);let Ze=!!(ue&&!Z[vt]);if(j.someProp("handleDrop",ir=>ir(j,Z,qe||m.p2.empty,Ze))){Z.preventDefault();return}if(!qe)return;Z.preventDefault();let tt=qe?(0,d.nj)(j.state.doc,Ae.pos,qe):Ae.pos;tt==null&&(tt=Ae.pos);let Rt=j.state.tr;Ze&&Rt.deleteSelection();let Kt=Rt.mapping.map(tt),Tn=qe.openStart==0&&qe.openEnd==0&&qe.content.childCount==1,xn=Rt.doc;if(Tn?Rt.replaceRangeWith(Kt,Kt,qe.content.firstChild):Rt.replaceRange(Kt,Kt,qe),Rt.doc.eq(xn))return;let On=Rt.doc.resolve(Kt);if(Tn&&o.qv.isSelectable(qe.content.firstChild)&&On.nodeAfter&&On.nodeAfter.sameMarkup(qe.content.firstChild))Rt.setSelection(new o.qv(On));else{let ir=Rt.mapping.map(tt);Rt.mapping.maps[Rt.mapping.maps.length-1].forEach((Mr,Kr,fo,Yo)=>ir=Yo),Rt.setSelection(no(j,On,Rt.doc.resolve(ir)))}j.focus(),j.dispatch(Rt.setMeta("uiEvent","drop"))},eo.focus=j=>{j.input.lastFocus=Date.now(),j.focused||(j.domObserver.stop(),j.dom.classList.add("ProseMirror-focused"),j.domObserver.start(),j.focused=!0,setTimeout(()=>{j.docView&&j.hasFocus()&&!j.domObserver.currentSelection.eq(j.domSelectionRange())&&hr(j)},20))},eo.blur=(j,H)=>{let Z=H;j.focused&&(j.domObserver.stop(),j.dom.classList.remove("ProseMirror-focused"),j.domObserver.start(),Z.relatedTarget&&j.dom.contains(Z.relatedTarget)&&j.domObserver.currentSelection.clear(),j.focused=!1)},eo.beforeinput=(j,H)=>{if(J&&V&&H.inputType=="deleteContentBackward"){j.domObserver.flushSoon();let{domChangeCount:ue}=j.input;setTimeout(()=>{if(j.input.domChangeCount!=ue||(j.dom.blur(),j.focus(),j.someProp("handleKeyDown",Ae=>Ae(j,a(8,"Backspace")))))return;let{$cursor:Ce}=j.state.selection;Ce&&Ce.pos>0&&j.dispatch(j.state.tr.delete(Ce.pos-1,Ce.pos).scrollIntoView())},50)}};for(let j in Cr)eo[j]=Cr[j];function Pt(j,H){if(j==H)return!0;for(let Z in j)if(j[Z]!==H[Z])return!1;for(let Z in H)if(!(Z in j))return!1;return!0}class Ot{constructor(H,Z){this.toDOM=H,this.spec=Z||tn,this.side=this.spec.side||0}map(H,Z,ue,Ce){let{pos:Ae,deleted:qe}=H.mapResult(Z.from+Ce,this.side<0?-1:1);return qe?null:new Wt(Ae-ue,Ae-ue,this)}valid(){return!0}eq(H){return this==H||H instanceof Ot&&(this.spec.key&&this.spec.key==H.spec.key||this.toDOM==H.toDOM&&Pt(this.spec,H.spec))}destroy(H){this.spec.destroy&&this.spec.destroy(H)}}class Mt{constructor(H,Z){this.attrs=H,this.spec=Z||tn}map(H,Z,ue,Ce){let Ae=H.map(Z.from+Ce,this.spec.inclusiveStart?-1:1)-ue,qe=H.map(Z.to+Ce,this.spec.inclusiveEnd?1:-1)-ue;return Ae>=qe?null:new Wt(Ae,qe,this)}valid(H,Z){return Z.from<Z.to}eq(H){return this==H||H instanceof Mt&&Pt(this.attrs,H.attrs)&&Pt(this.spec,H.spec)}static is(H){return H.type instanceof Mt}destroy(){}}class Ft{constructor(H,Z){this.attrs=H,this.spec=Z||tn}map(H,Z,ue,Ce){let Ae=H.mapResult(Z.from+Ce,1);if(Ae.deleted)return null;let qe=H.mapResult(Z.to+Ce,-1);return qe.deleted||qe.pos<=Ae.pos?null:new Wt(Ae.pos-ue,qe.pos-ue,this)}valid(H,Z){let{index:ue,offset:Ce}=H.content.findIndex(Z.from),Ae;return Ce==Z.from&&!(Ae=H.child(ue)).isText&&Ce+Ae.nodeSize==Z.to}eq(H){return this==H||H instanceof Ft&&Pt(this.attrs,H.attrs)&&Pt(this.spec,H.spec)}destroy(){}}class Wt{constructor(H,Z,ue){this.from=H,this.to=Z,this.type=ue}copy(H,Z){return new Wt(H,Z,this.type)}eq(H,Z=0){return this.type.eq(H.type)&&this.from+Z==H.from&&this.to+Z==H.to}map(H,Z,ue){return this.type.map(H,this,Z,ue)}static widget(H,Z,ue){return new Wt(H,H,new Ot(Z,ue))}static inline(H,Z,ue,Ce){return new Wt(H,Z,new Mt(ue,Ce))}static node(H,Z,ue,Ce){return new Wt(H,Z,new Ft(ue,Ce))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mt}}const un=[],tn={};class dn{constructor(H,Z){this.local=H.length?H:un,this.children=Z.length?Z:un}static create(H,Z){return Z.length?Er(Z,H,0,tn):Dn}find(H,Z,ue){let Ce=[];return this.findInner(H==null?0:H,Z==null?1e9:Z,Ce,0,ue),Ce}findInner(H,Z,ue,Ce,Ae){for(let qe=0;qe<this.local.length;qe++){let Ze=this.local[qe];Ze.from<=Z&&Ze.to>=H&&(!Ae||Ae(Ze.spec))&&ue.push(Ze.copy(Ze.from+Ce,Ze.to+Ce))}for(let qe=0;qe<this.children.length;qe+=3)if(this.children[qe]<Z&&this.children[qe+1]>H){let Ze=this.children[qe]+1;this.children[qe+2].findInner(H-Ze,Z-Ze,ue,Ce+Ze,Ae)}}map(H,Z,ue){return this==Dn||H.maps.length==0?this:this.mapInner(H,Z,0,0,ue||tn)}mapInner(H,Z,ue,Ce,Ae){let qe;for(let Ze=0;Ze<this.local.length;Ze++){let tt=this.local[Ze].map(H,ue,Ce);tt&&tt.type.valid(Z,tt)?(qe||(qe=[])).push(tt):Ae.onRemove&&Ae.onRemove(this.local[Ze].spec)}return this.children.length?fr(this.children,qe||[],H,Z,ue,Ce,Ae):qe?new dn(qe.sort(Pr),un):Dn}add(H,Z){return Z.length?this==Dn?dn.create(H,Z):this.addInner(H,Z,0):this}addInner(H,Z,ue){let Ce,Ae=0;H.forEach((Ze,tt)=>{let Rt=tt+ue,Kt;if(Kt=Gn(Z,Ze,Rt)){for(Ce||(Ce=this.children.slice());Ae<Ce.length&&Ce[Ae]<tt;)Ae+=3;Ce[Ae]==tt?Ce[Ae+2]=Ce[Ae+2].addInner(Ze,Kt,Rt+1):Ce.splice(Ae,0,tt,tt+Ze.nodeSize,Er(Kt,Ze,Rt+1,tn)),Ae+=3}});let qe=rr(Ae?ar(Z):Z,-ue);for(let Ze=0;Ze<qe.length;Ze++)qe[Ze].type.valid(H,qe[Ze])||qe.splice(Ze--,1);return new dn(qe.length?this.local.concat(qe).sort(Pr):this.local,Ce||this.children)}remove(H){return H.length==0||this==Dn?this:this.removeInner(H,0)}removeInner(H,Z){let ue=this.children,Ce=this.local;for(let Ae=0;Ae<ue.length;Ae+=3){let qe,Ze=ue[Ae]+Z,tt=ue[Ae+1]+Z;for(let Kt=0,Tn;Kt<H.length;Kt++)(Tn=H[Kt])&&Tn.from>Ze&&Tn.to<tt&&(H[Kt]=null,(qe||(qe=[])).push(Tn));if(!qe)continue;ue==this.children&&(ue=this.children.slice());let Rt=ue[Ae+2].removeInner(qe,Ze+1);Rt!=Dn?ue[Ae+2]=Rt:(ue.splice(Ae,3),Ae-=3)}if(Ce.length){for(let Ae=0,qe;Ae<H.length;Ae++)if(qe=H[Ae])for(let Ze=0;Ze<Ce.length;Ze++)Ce[Ze].eq(qe,Z)&&(Ce==this.local&&(Ce=this.local.slice()),Ce.splice(Ze--,1))}return ue==this.children&&Ce==this.local?this:Ce.length||ue.length?new dn(Ce,ue):Dn}forChild(H,Z){if(this==Dn)return this;if(Z.isLeaf)return dn.empty;let ue,Ce;for(let Ze=0;Ze<this.children.length;Ze+=3)if(this.children[Ze]>=H){this.children[Ze]==H&&(ue=this.children[Ze+2]);break}let Ae=H+1,qe=Ae+Z.content.size;for(let Ze=0;Ze<this.local.length;Ze++){let tt=this.local[Ze];if(tt.from<qe&&tt.to>Ae&&tt.type instanceof Mt){let Rt=Math.max(Ae,tt.from)-Ae,Kt=Math.min(qe,tt.to)-Ae;Rt<Kt&&(Ce||(Ce=[])).push(tt.copy(Rt,Kt))}}if(Ce){let Ze=new dn(Ce.sort(Pr),un);return ue?new Wn([Ze,ue]):Ze}return ue||Dn}eq(H){if(this==H)return!0;if(!(H instanceof dn)||this.local.length!=H.local.length||this.children.length!=H.children.length)return!1;for(let Z=0;Z<this.local.length;Z++)if(!this.local[Z].eq(H.local[Z]))return!1;for(let Z=0;Z<this.children.length;Z+=3)if(this.children[Z]!=H.children[Z]||this.children[Z+1]!=H.children[Z+1]||!this.children[Z+2].eq(H.children[Z+2]))return!1;return!0}locals(H){return ao(this.localsInner(H))}localsInner(H){if(this==Dn)return un;if(H.inlineContent||!this.local.some(Mt.is))return this.local;let Z=[];for(let ue=0;ue<this.local.length;ue++)this.local[ue].type instanceof Mt||Z.push(this.local[ue]);return Z}}dn.empty=new dn([],[]),dn.removeOverlap=ao;const Dn=dn.empty;class Wn{constructor(H){this.members=H}map(H,Z){const ue=this.members.map(Ce=>Ce.map(H,Z,tn));return Wn.from(ue)}forChild(H,Z){if(Z.isLeaf)return dn.empty;let ue=[];for(let Ce=0;Ce<this.members.length;Ce++){let Ae=this.members[Ce].forChild(H,Z);Ae!=Dn&&(Ae instanceof Wn?ue=ue.concat(Ae.members):ue.push(Ae))}return Wn.from(ue)}eq(H){if(!(H instanceof Wn)||H.members.length!=this.members.length)return!1;for(let Z=0;Z<this.members.length;Z++)if(!this.members[Z].eq(H.members[Z]))return!1;return!0}locals(H){let Z,ue=!0;for(let Ce=0;Ce<this.members.length;Ce++){let Ae=this.members[Ce].localsInner(H);if(Ae.length)if(!Z)Z=Ae;else{ue&&(Z=Z.slice(),ue=!1);for(let qe=0;qe<Ae.length;qe++)Z.push(Ae[qe])}}return Z?ao(ue?Z:Z.sort(Pr)):un}static from(H){switch(H.length){case 0:return Dn;case 1:return H[0];default:return new Wn(H.every(Z=>Z instanceof dn)?H:H.reduce((Z,ue)=>Z.concat(ue instanceof dn?ue:ue.members),[]))}}}function fr(j,H,Z,ue,Ce,Ae,qe){let Ze=j.slice();for(let Rt=0,Kt=Ae;Rt<Z.maps.length;Rt++){let Tn=0;Z.maps[Rt].forEach((xn,On,ir,Mr)=>{let Kr=Mr-ir-(On-xn);for(let fo=0;fo<Ze.length;fo+=3){let Yo=Ze[fo+1];if(Yo<0||xn>Yo+Kt-Tn)continue;let ti=Ze[fo]+Kt-Tn;On>=ti?Ze[fo+1]=xn<=ti?-2:-1:ir>=Ce&&Kr&&(Ze[fo]+=Kr,Ze[fo+1]+=Kr)}Tn+=Kr}),Kt=Z.maps[Rt].map(Kt,-1)}let tt=!1;for(let Rt=0;Rt<Ze.length;Rt+=3)if(Ze[Rt+1]<0){if(Ze[Rt+1]==-2){tt=!0,Ze[Rt+1]=-1;continue}let Kt=Z.map(j[Rt]+Ae),Tn=Kt-Ce;if(Tn<0||Tn>=ue.content.size){tt=!0;continue}let xn=Z.map(j[Rt+1]+Ae,-1),On=xn-Ce,{index:ir,offset:Mr}=ue.content.findIndex(Tn),Kr=ue.maybeChild(ir);if(Kr&&Mr==Tn&&Mr+Kr.nodeSize==On){let fo=Ze[Rt+2].mapInner(Z,Kr,Kt+1,j[Rt]+Ae+1,qe);fo!=Dn?(Ze[Rt]=Tn,Ze[Rt+1]=On,Ze[Rt+2]=fo):(Ze[Rt+1]=-2,tt=!0)}else tt=!0}if(tt){let Rt=Cn(Ze,j,H,Z,Ce,Ae,qe),Kt=Er(Rt,ue,0,qe);H=Kt.local;for(let Tn=0;Tn<Ze.length;Tn+=3)Ze[Tn+1]<0&&(Ze.splice(Tn,3),Tn-=3);for(let Tn=0,xn=0;Tn<Kt.children.length;Tn+=3){let On=Kt.children[Tn];for(;xn<Ze.length&&Ze[xn]<On;)xn+=3;Ze.splice(xn,0,Kt.children[Tn],Kt.children[Tn+1],Kt.children[Tn+2])}}return new dn(H.sort(Pr),Ze)}function rr(j,H){if(!H||!j.length)return j;let Z=[];for(let ue=0;ue<j.length;ue++){let Ce=j[ue];Z.push(new Wt(Ce.from+H,Ce.to+H,Ce.type))}return Z}function Cn(j,H,Z,ue,Ce,Ae,qe){function Ze(tt,Rt){for(let Kt=0;Kt<tt.local.length;Kt++){let Tn=tt.local[Kt].map(ue,Ce,Rt);Tn?Z.push(Tn):qe.onRemove&&qe.onRemove(tt.local[Kt].spec)}for(let Kt=0;Kt<tt.children.length;Kt+=3)Ze(tt.children[Kt+2],tt.children[Kt]+Rt+1)}for(let tt=0;tt<j.length;tt+=3)j[tt+1]==-1&&Ze(j[tt+2],H[tt]+Ae+1);return Z}function Gn(j,H,Z){if(H.isLeaf)return null;let ue=Z+H.nodeSize,Ce=null;for(let Ae=0,qe;Ae<j.length;Ae++)(qe=j[Ae])&&qe.from>Z&&qe.to<ue&&((Ce||(Ce=[])).push(qe),j[Ae]=null);return Ce}function ar(j){let H=[];for(let Z=0;Z<j.length;Z++)j[Z]!=null&&H.push(j[Z]);return H}function Er(j,H,Z,ue){let Ce=[],Ae=!1;H.forEach((Ze,tt)=>{let Rt=Gn(j,Ze,tt+Z);if(Rt){Ae=!0;let Kt=Er(Rt,Ze,Z+tt+1,ue);Kt!=Dn&&Ce.push(tt,tt+Ze.nodeSize,Kt)}});let qe=rr(Ae?ar(j):j,-Z).sort(Pr);for(let Ze=0;Ze<qe.length;Ze++)qe[Ze].type.valid(H,qe[Ze])||(ue.onRemove&&ue.onRemove(qe[Ze].spec),qe.splice(Ze--,1));return qe.length||Ce.length?new dn(qe,Ce):Dn}function Pr(j,H){return j.from-H.from||j.to-H.to}function ao(j){let H=j;for(let Z=0;Z<H.length-1;Z++){let ue=H[Z];if(ue.from!=ue.to)for(let Ce=Z+1;Ce<H.length;Ce++){let Ae=H[Ce];if(Ae.from==ue.from){Ae.to!=ue.to&&(H==j&&(H=j.slice()),H[Ce]=Ae.copy(Ae.from,ue.to),_o(H,Ce+1,Ae.copy(ue.to,Ae.to)));continue}else{Ae.from<ue.to&&(H==j&&(H=j.slice()),H[Z]=ue.copy(ue.from,Ae.from),_o(H,Ce,ue.copy(Ae.from,ue.to)));break}}}return H}function _o(j,H,Z){for(;H<j.length&&Pr(Z,j[H])>0;)H++;j.splice(H,0,Z)}function To(j){let H=[];return j.someProp("decorations",Z=>{let ue=Z(j.state);ue&&ue!=Dn&&H.push(ue)}),j.cursorWrapper&&H.push(dn.create(j.state.doc,[j.cursorWrapper.deco])),Wn.from(H)}const ei={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bo=A&&F<=11;class $o{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(H){this.anchorNode=H.anchorNode,this.anchorOffset=H.anchorOffset,this.focusNode=H.focusNode,this.focusOffset=H.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(H){return H.anchorNode==this.anchorNode&&H.anchorOffset==this.anchorOffset&&H.focusNode==this.focusNode&&H.focusOffset==this.focusOffset}}class Oi{constructor(H,Z){this.view=H,this.handleDOMChange=Z,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $o,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(ue=>{for(let Ce=0;Ce<ue.length;Ce++)this.queue.push(ue[Ce]);A&&F<=11&&ue.some(Ce=>Ce.type=="childList"&&Ce.removedNodes.length||Ce.type=="characterData"&&Ce.oldValue.length>Ce.target.nodeValue.length)?this.flushSoon():this.flush()}),Bo&&(this.onCharData=ue=>{this.queue.push({target:ue.target,type:"characterData",oldValue:ue.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ei)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let H=this.observer.takeRecords();if(H.length){for(let Z=0;Z<H.length;Z++)this.queue.push(H[Z]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Hr(this.view)){if(this.suppressingSelectionUpdates)return hr(this.view);if(A&&F<=11&&!this.view.state.selection.empty){let H=this.view.domSelectionRange();if(H.focusNode&&v(H.focusNode,H.focusOffset,H.anchorNode,H.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(H){if(!H.focusNode)return!0;let Z=new Set,ue;for(let Ae=H.focusNode;Ae;Ae=g(Ae))Z.add(Ae);for(let Ae=H.anchorNode;Ae;Ae=g(Ae))if(Z.has(Ae)){ue=Ae;break}let Ce=ue&&this.view.docView.nearestDesc(ue);if(Ce&&Ce.ignoreMutation({type:"selection",target:ue.nodeType==3?ue.parentNode:ue}))return this.setCurSelection(),!0}flush(){let{view:H}=this;if(!H.docView||this.flushingSoon>-1)return;let Z=this.observer?this.observer.takeRecords():[];this.queue.length&&(Z=this.queue.concat(Z),this.queue.length=0);let ue=H.domSelectionRange(),Ce=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(ue)&&Hr(H)&&!this.ignoreSelectionChange(ue),Ae=-1,qe=-1,Ze=!1,tt=[];if(H.editable)for(let Kt=0;Kt<Z.length;Kt++){let Tn=this.registerMutation(Z[Kt],tt);Tn&&(Ae=Ae<0?Tn.from:Math.min(Tn.from,Ae),qe=qe<0?Tn.to:Math.max(Tn.to,qe),Tn.typeOver&&(Ze=!0))}if(U&&tt.length>1){let Kt=tt.filter(Tn=>Tn.nodeName=="BR");if(Kt.length==2){let Tn=Kt[0],xn=Kt[1];Tn.parentNode&&Tn.parentNode.parentNode==xn.parentNode?xn.remove():Tn.remove()}}let Rt=null;Ae<0&&Ce&&H.input.lastFocus>Date.now()-200&&Math.max(H.input.lastTouch,H.input.lastClick.time)<Date.now()-300&&_(ue)&&(Rt=sr(H))&&Rt.eq(o.Y1.near(H.state.doc.resolve(0),1))?(H.input.lastFocus=0,hr(H),this.currentSelection.set(ue),H.scrollToSelection()):(Ae>-1||Ce)&&(Ae>-1&&(H.docView.markDirty(Ae,qe),ko(H)),this.handleDOMChange(Ae,qe,Ze,tt),H.docView&&H.docView.dirty?H.updateState(H.state):this.currentSelection.eq(ue)||hr(H),this.currentSelection.set(ue))}registerMutation(H,Z){if(Z.indexOf(H.target)>-1)return null;let ue=this.view.docView.nearestDesc(H.target);if(H.type=="attributes"&&(ue==this.view.docView||H.attributeName=="contenteditable"||H.attributeName=="style"&&!H.oldValue&&!H.target.getAttribute("style"))||!ue||ue.ignoreMutation(H))return null;if(H.type=="childList"){for(let Kt=0;Kt<H.addedNodes.length;Kt++)Z.push(H.addedNodes[Kt]);if(ue.contentDOM&&ue.contentDOM!=ue.dom&&!ue.contentDOM.contains(H.target))return{from:ue.posBefore,to:ue.posAfter};let Ce=H.previousSibling,Ae=H.nextSibling;if(A&&F<=11&&H.addedNodes.length)for(let Kt=0;Kt<H.addedNodes.length;Kt++){let{previousSibling:Tn,nextSibling:xn}=H.addedNodes[Kt];(!Tn||Array.prototype.indexOf.call(H.addedNodes,Tn)<0)&&(Ce=Tn),(!xn||Array.prototype.indexOf.call(H.addedNodes,xn)<0)&&(Ae=xn)}let qe=Ce&&Ce.parentNode==H.target?u(Ce)+1:0,Ze=ue.localPosFromDOM(H.target,qe,-1),tt=Ae&&Ae.parentNode==H.target?u(Ae):H.target.childNodes.length,Rt=ue.localPosFromDOM(H.target,tt,1);return{from:Ze,to:Rt}}else return H.type=="attributes"?{from:ue.posAtStart-ue.border,to:ue.posAtEnd+ue.border}:{from:ue.posAtStart,to:ue.posAtEnd,typeOver:H.target.nodeValue==H.oldValue}}}let Ai=new WeakMap,_i=!1;function ko(j){if(!Ai.has(j)&&(Ai.set(j,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(j.dom).whiteSpace)!==-1)){if(j.requiresGeckoHackNode=U,_i)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_i=!0}}function lt(j){let H;function Z(tt){tt.preventDefault(),tt.stopImmediatePropagation(),H=tt.getTargetRanges()[0]}j.dom.addEventListener("beforeinput",Z,!0),document.execCommand("indent"),j.dom.removeEventListener("beforeinput",Z,!0);let ue=H.startContainer,Ce=H.startOffset,Ae=H.endContainer,qe=H.endOffset,Ze=j.domAtPos(j.state.selection.anchor);return v(Ze.node,Ze.offset,Ae,qe)&&([ue,Ce,Ae,qe]=[Ae,qe,ue,Ce]),{anchorNode:ue,anchorOffset:Ce,focusNode:Ae,focusOffset:qe}}function ct(j,H,Z){let{node:ue,fromOffset:Ce,toOffset:Ae,from:qe,to:Ze}=j.docView.parseRange(H,Z),tt=j.domSelectionRange(),Rt,Kt=tt.anchorNode;if(Kt&&j.dom.contains(Kt.nodeType==1?Kt:Kt.parentNode)&&(Rt=[{node:Kt,offset:tt.anchorOffset}],_(tt)||Rt.push({node:tt.focusNode,offset:tt.focusOffset})),J&&j.input.lastKeyCode===8)for(let Kr=Ae;Kr>Ce;Kr--){let fo=ue.childNodes[Kr-1],Yo=fo.pmViewDesc;if(fo.nodeName=="BR"&&!Yo){Ae=Kr;break}if(!Yo||Yo.size)break}let Tn=j.state.doc,xn=j.someProp("domParser")||m.aw.fromSchema(j.state.schema),On=Tn.resolve(qe),ir=null,Mr=xn.parse(ue,{topNode:On.parent,topMatch:On.parent.contentMatchAt(On.index()),topOpen:!0,from:Ce,to:Ae,preserveWhitespace:On.parent.type.whitespace=="pre"?"full":!0,findPositions:Rt,ruleFromNode:Ct,context:On});if(Rt&&Rt[0].pos!=null){let Kr=Rt[0].pos,fo=Rt[1]&&Rt[1].pos;fo==null&&(fo=Kr),ir={anchor:Kr+qe,head:fo+qe}}return{doc:Mr,sel:ir,from:qe,to:Ze}}function Ct(j){let H=j.pmViewDesc;if(H)return H.parseRule();if(j.nodeName=="BR"&&j.parentNode){if(te&&/^(ul|ol)$/i.test(j.parentNode.nodeName)){let Z=document.createElement("div");return Z.appendChild(document.createElement("li")),{skip:Z}}else if(j.parentNode.lastChild==j||te&&/^(tr|table)$/i.test(j.parentNode.nodeName))return{ignore:!0}}else if(j.nodeName=="IMG"&&j.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Gt(j,H,Z,ue,Ce){if(H<0){let $r=j.input.lastSelectionTime>Date.now()-50?j.input.lastSelectionOrigin:null,Ui=sr(j,$r);if(Ui&&!j.state.selection.eq(Ui)){if(J&&V&&j.input.lastKeyCode===13&&Date.now()-100<j.input.lastKeyCodeTime&&j.someProp("handleKeyDown",vi=>vi(j,a(13,"Enter"))))return;let Yi=j.state.tr.setSelection(Ui);$r=="pointer"?Yi.setMeta("pointer",!0):$r=="key"&&Yi.scrollIntoView(),j.dispatch(Yi)}return}let Ae=j.state.doc.resolve(H),qe=Ae.sharedDepth(Z);H=Ae.before(qe+1),Z=j.state.doc.resolve(Z).after(qe+1);let Ze=j.state.selection,tt=ct(j,H,Z),Rt=j.state.doc,Kt=Rt.slice(tt.from,tt.to),Tn,xn;j.input.lastKeyCode===8&&Date.now()-100<j.input.lastKeyCodeTime?(Tn=j.state.selection.to,xn="end"):(Tn=j.state.selection.from,xn="start"),j.input.lastKeyCode=null;let On=Un(Kt.content,tt.doc.content,tt.from,Tn,xn);if((ee&&j.input.lastIOSEnter>Date.now()-225||V)&&Ce.some($r=>$r.nodeName=="DIV"||$r.nodeName=="P"||$r.nodeName=="LI")&&(!On||On.endA>=On.endB)&&j.someProp("handleKeyDown",$r=>$r(j,a(13,"Enter")))){j.input.lastIOSEnter=0;return}if(!On)if(ue&&Ze instanceof o.Bs&&!Ze.empty&&Ze.$head.sameParent(Ze.$anchor)&&!j.composing&&!(tt.sel&&tt.sel.anchor!=tt.sel.head))On={start:Ze.from,endA:Ze.to,endB:Ze.to};else{if(tt.sel){let $r=rn(j,j.state.doc,tt.sel);$r&&!$r.eq(j.state.selection)&&j.dispatch(j.state.tr.setSelection($r))}return}if(J&&j.cursorWrapper&&tt.sel&&tt.sel.anchor==j.cursorWrapper.deco.from&&tt.sel.head==tt.sel.anchor){let $r=On.endB-On.start;tt.sel={anchor:tt.sel.anchor+$r,head:tt.sel.anchor+$r}}j.input.domChangeCount++,j.state.selection.from<j.state.selection.to&&On.start==On.endB&&j.state.selection instanceof o.Bs&&(On.start>j.state.selection.from&&On.start<=j.state.selection.from+2&&j.state.selection.from>=tt.from?On.start=j.state.selection.from:On.endA<j.state.selection.to&&On.endA>=j.state.selection.to-2&&j.state.selection.to<=tt.to&&(On.endB+=j.state.selection.to-On.endA,On.endA=j.state.selection.to)),A&&F<=11&&On.endB==On.start+1&&On.endA==On.start&&On.start>tt.from&&tt.doc.textBetween(On.start-tt.from-1,On.start-tt.from+1)==" \xA0"&&(On.start--,On.endA--,On.endB--);let ir=tt.doc.resolveNoCache(On.start-tt.from),Mr=tt.doc.resolveNoCache(On.endB-tt.from),Kr=Rt.resolve(On.start),fo=ir.sameParent(Mr)&&ir.parent.inlineContent&&Kr.end()>=On.endA,Yo;if((ee&&j.input.lastIOSEnter>Date.now()-225&&(!fo||Ce.some($r=>$r.nodeName=="DIV"||$r.nodeName=="P"))||!fo&&ir.pos<tt.doc.content.size&&(Yo=o.Y1.findFrom(tt.doc.resolve(ir.pos+1),1,!0))&&Yo.head==Mr.pos)&&j.someProp("handleKeyDown",$r=>$r(j,a(13,"Enter")))){j.input.lastIOSEnter=0;return}if(j.state.selection.anchor>On.start&&bn(Rt,On.start,On.endA,ir,Mr)&&j.someProp("handleKeyDown",$r=>$r(j,a(8,"Backspace")))){V&&J&&j.domObserver.suppressSelectionUpdates();return}J&&V&&On.endB==On.start&&(j.input.lastAndroidDelete=Date.now()),V&&!fo&&ir.start()!=Mr.start()&&Mr.parentOffset==0&&ir.depth==Mr.depth&&tt.sel&&tt.sel.anchor==tt.sel.head&&tt.sel.head==On.endA&&(On.endB-=2,Mr=tt.doc.resolveNoCache(On.endB-tt.from),setTimeout(()=>{j.someProp("handleKeyDown",function($r){return $r(j,a(13,"Enter"))})},20));let ti=On.start,ui=On.endA,Wo,Si,gi;if(fo){if(ir.pos==Mr.pos)A&&F<=11&&ir.parentOffset==0&&(j.domObserver.suppressSelectionUpdates(),setTimeout(()=>hr(j),20)),Wo=j.state.tr.delete(ti,ui),Si=Rt.resolve(On.start).marksAcross(Rt.resolve(On.endA));else if(On.endA==On.endB&&(gi=_n(ir.parent.content.cut(ir.parentOffset,Mr.parentOffset),Kr.parent.content.cut(Kr.parentOffset,On.endA-Kr.start()))))Wo=j.state.tr,gi.type=="add"?Wo.addMark(ti,ui,gi.mark):Wo.removeMark(ti,ui,gi.mark);else if(ir.parent.child(ir.index()).isText&&ir.index()==Mr.index()-(Mr.textOffset?0:1)){let $r=ir.parent.textBetween(ir.parentOffset,Mr.parentOffset);if(j.someProp("handleTextInput",Ui=>Ui(j,ti,ui,$r)))return;Wo=j.state.tr.insertText($r,ti,ui)}}if(Wo||(Wo=j.state.tr.replace(ti,ui,tt.doc.slice(On.start-tt.from,On.endB-tt.from))),tt.sel){let $r=rn(j,Wo.doc,tt.sel);$r&&!(J&&V&&j.composing&&$r.empty&&(On.start!=On.endB||j.input.lastAndroidDelete<Date.now()-100)&&($r.head==ti||$r.head==Wo.mapping.map(ui)-1)||A&&$r.empty&&$r.head==ti)&&Wo.setSelection($r)}Si&&Wo.ensureMarks(Si),j.dispatch(Wo.scrollIntoView())}function rn(j,H,Z){return Math.max(Z.anchor,Z.head)>H.content.size?null:no(j,H.resolve(Z.anchor),H.resolve(Z.head))}function _n(j,H){let Z=j.firstChild.marks,ue=H.firstChild.marks,Ce=Z,Ae=ue,qe,Ze,tt;for(let Kt=0;Kt<ue.length;Kt++)Ce=ue[Kt].removeFromSet(Ce);for(let Kt=0;Kt<Z.length;Kt++)Ae=Z[Kt].removeFromSet(Ae);if(Ce.length==1&&Ae.length==0)Ze=Ce[0],qe="add",tt=Kt=>Kt.mark(Ze.addToSet(Kt.marks));else if(Ce.length==0&&Ae.length==1)Ze=Ae[0],qe="remove",tt=Kt=>Kt.mark(Ze.removeFromSet(Kt.marks));else return null;let Rt=[];for(let Kt=0;Kt<H.childCount;Kt++)Rt.push(tt(H.child(Kt)));if(m.HY.from(Rt).eq(j))return{mark:Ze,type:qe}}function bn(j,H,Z,ue,Ce){if(!ue.parent.isTextblock||Z-H<=Ce.pos-ue.pos||An(ue,!0,!1)<Ce.pos)return!1;let Ae=j.resolve(H);if(Ae.parentOffset<Ae.parent.content.size||!Ae.parent.isTextblock)return!1;let qe=j.resolve(An(Ae,!0,!0));return!qe.parent.isTextblock||qe.pos>Z||An(qe,!0,!1)<Z?!1:ue.parent.content.cut(ue.parentOffset).eq(qe.parent.content)}function An(j,H,Z){let ue=j.depth,Ce=H?j.end():j.pos;for(;ue>0&&(H||j.indexAfter(ue)==j.node(ue).childCount);)ue--,Ce++,H=!1;if(Z){let Ae=j.node(ue).maybeChild(j.indexAfter(ue));for(;Ae&&!Ae.isLeaf;)Ae=Ae.firstChild,Ce++}return Ce}function Un(j,H,Z,ue,Ce){let Ae=j.findDiffStart(H,Z);if(Ae==null)return null;let{a:qe,b:Ze}=j.findDiffEnd(H,Z+j.size,Z+H.size);if(Ce=="end"){let tt=Math.max(0,Ae-Math.min(qe,Ze));ue-=qe+tt-Ae}if(qe<Ae&&j.size<H.size){let tt=ue<=Ae&&ue>=qe?Ae-ue:0;Ae-=tt,Ze=Ae+(Ze-qe),qe=Ae}else if(Ze<Ae){let tt=ue<=Ae&&ue>=Ze?Ae-ue:0;Ae-=tt,qe=Ae+(qe-Ze),Ze=Ae}return{start:Ae,endA:qe,endB:Ze}}const pr=null,Jn=null,kr=null;class Lr{constructor(H,Z){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new po,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=Z,this.state=Z.state,this.directPlugins=Z.plugins||[],this.directPlugins.forEach(Ht),this.dispatch=this.dispatch.bind(this),this.dom=H&&H.mount||document.createElement("div"),H&&(H.appendChild?H.appendChild(this.dom):typeof H=="function"?H(this.dom):H.mount&&(this.mounted=!0)),this.editable=vr(this),wr(this),this.nodeViews=ot(this),this.docView=K(this.state.doc,Ir(this),To(this),this.dom,this),this.domObserver=new Oi(this,(ue,Ce,Ae,qe)=>Gt(this,ue,Ce,Ae,qe)),this.domObserver.start(),jo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let H=this._props;this._props={};for(let Z in H)this._props[Z]=H[Z];this._props.state=this.state}return this._props}update(H){H.handleDOMEvents!=this._props.handleDOMEvents&&Lo(this);let Z=this._props;this._props=H,H.plugins&&(H.plugins.forEach(Ht),this.directPlugins=H.plugins),this.updateStateInner(H.state,Z)}setProps(H){let Z={};for(let ue in this._props)Z[ue]=this._props[ue];Z.state=this.state;for(let ue in H)Z[ue]=H[ue];this.update(Z)}updateState(H){this.updateStateInner(H,this._props)}updateStateInner(H,Z){let ue=this.state,Ce=!1,Ae=!1;H.storedMarks&&this.composing&&(Qe(this),Ae=!0),this.state=H;let qe=ue.plugins!=H.plugins||this._props.plugins!=Z.plugins;if(qe||this._props.plugins!=Z.plugins||this._props.nodeViews!=Z.nodeViews){let xn=ot(this);Nt(xn,this.nodeViews)&&(this.nodeViews=xn,Ce=!0)}(qe||Z.handleDOMEvents!=this._props.handleDOMEvents)&&Lo(this),this.editable=vr(this),wr(this);let Ze=To(this),tt=Ir(this),Rt=ue.plugins!=H.plugins&&!ue.doc.eq(H.doc)?"reset":H.scrollToSelection>ue.scrollToSelection?"to selection":"preserve",Kt=Ce||!this.docView.matchesNode(H.doc,tt,Ze);(Kt||!H.selection.eq(ue.selection))&&(Ae=!0);let Tn=Rt=="preserve"&&Ae&&this.dom.style.overflowAnchor==null&&oe(this);if(Ae){this.domObserver.stop();let xn=Kt&&(A||J)&&!this.composing&&!ue.selection.empty&&!H.selection.empty&&Ee(ue.selection,H.selection);if(Kt){let On=J?this.trackWrites=this.domSelectionRange().focusNode:null;(Ce||!this.docView.update(H.doc,tt,Ze,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=K(H.doc,tt,Ze,this.dom,this)),On&&!this.trackWrites&&(xn=!0)}xn||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&yo(this))?hr(this,xn):(Ur(this,H.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(ue),Rt=="reset"?this.dom.scrollTop=0:Rt=="to selection"?this.scrollToSelection():Tn&&ce(Tn)}scrollToSelection(){let H=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",Z=>Z(this)))if(this.state.selection instanceof o.qv){let Z=this.docView.domAfterPos(this.state.selection.from);Z.nodeType==1&&$(this,Z.getBoundingClientRect(),H)}else $(this,this.coordsAtPos(this.state.selection.head,1),H)}destroyPluginViews(){let H;for(;H=this.pluginViews.pop();)H.destroy&&H.destroy()}updatePluginViews(H){if(!H||H.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let Z=0;Z<this.directPlugins.length;Z++){let ue=this.directPlugins[Z];ue.spec.view&&this.pluginViews.push(ue.spec.view(this))}for(let Z=0;Z<this.state.plugins.length;Z++){let ue=this.state.plugins[Z];ue.spec.view&&this.pluginViews.push(ue.spec.view(this))}}else for(let Z=0;Z<this.pluginViews.length;Z++){let ue=this.pluginViews[Z];ue.update&&ue.update(this,H)}}someProp(H,Z){let ue=this._props&&this._props[H],Ce;if(ue!=null&&(Ce=Z?Z(ue):ue))return Ce;for(let qe=0;qe<this.directPlugins.length;qe++){let Ze=this.directPlugins[qe].props[H];if(Ze!=null&&(Ce=Z?Z(Ze):Ze))return Ce}let Ae=this.state.plugins;if(Ae)for(let qe=0;qe<Ae.length;qe++){let Ze=Ae[qe].props[H];if(Ze!=null&&(Ce=Z?Z(Ze):Ze))return Ce}}hasFocus(){if(A){let H=this.root.activeElement;if(H==this.dom)return!0;if(!H||!this.dom.contains(H))return!1;for(;H&&this.dom!=H&&this.dom.contains(H);){if(H.contentEditable=="false")return!1;H=H.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&pe(this.dom),hr(this),this.domObserver.start()}get root(){let H=this._root;if(H==null){for(let Z=this.dom.parentNode;Z;Z=Z.parentNode)if(Z.nodeType==9||Z.nodeType==11&&Z.host)return Z.getSelection||(Object.getPrototypeOf(Z).getSelection=()=>Z.ownerDocument.getSelection()),this._root=Z}return H||document}posAtCoords(H){return he(this,H)}coordsAtPos(H,Z=1){return ht(this,H,Z)}domAtPos(H,Z=0){return this.docView.domFromPos(H,Z)}nodeDOM(H){let Z=this.docView.descAt(H);return Z?Z.nodeDOM:null}posAtDOM(H,Z,ue=-1){let Ce=this.docView.posFromDOM(H,Z,ue);if(Ce==null)throw new RangeError("DOM position not inside the editor");return Ce}endOfTextblock(H,Z){return gt(this,Z||this.state,H)}pasteHTML(H,Z){return Pe(this,"",H,!1,Z||new ClipboardEvent("paste"))}pasteText(H,Z){return Pe(this,H,null,!0,Z||new ClipboardEvent("paste"))}destroy(){this.docView&&(Oo(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],To(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(H){return io(this,H)}dispatch(H){let Z=this._props.dispatchTransaction;Z?Z.call(this,H):this.updateState(this.state.apply(H))}domSelectionRange(){return te&&this.root.nodeType===11&&l(this.dom.ownerDocument)==this.dom?lt(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Ir(j){let H=Object.create(null);return H.class="ProseMirror",H.contenteditable=String(j.editable),H.translate="no",j.someProp("attributes",Z=>{if(typeof Z=="function"&&(Z=Z(j.state)),Z)for(let ue in Z)ue=="class"&&(H.class+=" "+Z[ue]),ue=="style"?H.style=(H.style?H.style+";":"")+Z[ue]:!H[ue]&&ue!="contenteditable"&&ue!="nodeName"&&(H[ue]=String(Z[ue]))}),[Wt.node(0,j.state.doc.content.size,H)]}function wr(j){if(j.markCursor){let H=document.createElement("img");H.className="ProseMirror-separator",H.setAttribute("mark-placeholder","true"),H.setAttribute("alt",""),j.cursorWrapper={dom:H,deco:Wt.widget(j.state.selection.head,H,{raw:!0,marks:j.markCursor})}}else j.cursorWrapper=null}function vr(j){return!j.someProp("editable",H=>H(j.state)===!1)}function Ee(j,H){let Z=Math.min(j.$anchor.sharedDepth(j.head),H.$anchor.sharedDepth(H.head));return j.$anchor.start(Z)!=H.$anchor.start(Z)}function ot(j){let H=Object.create(null);function Z(ue){for(let Ce in ue)Object.prototype.hasOwnProperty.call(H,Ce)||(H[Ce]=ue[Ce])}return j.someProp("nodeViews",Z),j.someProp("markViews",Z),H}function Nt(j,H){let Z=0,ue=0;for(let Ce in j){if(j[Ce]!=H[Ce])return!0;Z++}for(let Ce in H)ue++;return Z!=ue}function Ht(j){if(j.spec.state||j.spec.filterTransaction||j.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(z,s,e)=>{"use strict";e.d(s,{ZP:()=>Be});var o=e(98661),m=e(61688);const d=new WeakMap,u={},g={},y=()=>{},w=y(),v=Object,b=Se=>Se===w,D=Se=>typeof Se=="function",E=(Se,Ke)=>or(or({},Se),Ke),O="undefined",C=typeof window!=O,_=typeof document!=O,a=()=>C&&typeof window.requestAnimationFrame!=O,l=(Se,Ke)=>{const ut=d.get(Se);return[()=>!b(Ke)&&Se.get(Ke)||u,Oe=>{if(!b(Ke)){const K=Se.get(Ke);Ke in g||(g[Ke]=K),ut[5](Ke,E(K,Oe),K||u)}},ut[6],()=>!b(Ke)&&Ke in g?g[Ke]:!b(Ke)&&Se.get(Ke)||u]},P=new WeakMap;let S=0;const M=Se=>{const Ke=typeof Se,ut=Se&&Se.constructor,Oe=ut==Date;let K,Y;if(v(Se)===Se&&!Oe&&ut!=RegExp){if(K=P.get(Se),K)return K;if(K=++S+"~",P.set(Se,K),ut==Array){for(K="@",Y=0;Y<Se.length;Y++)K+=M(Se[Y])+",";P.set(Se,K)}if(ut==v){K="#";const me=v.keys(Se).sort();for(;!b(Y=me.pop());)b(Se[Y])||(K+=Y+":"+M(Se[Y])+",");P.set(Se,K)}}else K=Oe?Se.toJSON():Ke=="symbol"?Se.toString():Ke=="string"?JSON.stringify(Se):""+Se;return K};let R=!0;const N=()=>R,[T,A]=C&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[y,y],F=()=>{const Se=_&&document.visibilityState;return b(Se)||Se!=="hidden"},U=Se=>(_&&document.addEventListener("visibilitychange",Se),T("focus",Se),()=>{_&&document.removeEventListener("visibilitychange",Se),A("focus",Se)}),G=Se=>{const Ke=()=>{R=!0,Se()},ut=()=>{R=!1};return T("online",Ke),T("offline",ut),()=>{A("online",Ke),A("offline",ut)}},J={isOnline:N,isVisible:F},Q={initFocus:U,initReconnect:G},te=!o.default.useId,ee=!C||"Deno"in window,L=Se=>a()?window.requestAnimationFrame(Se):setTimeout(Se,1),V=ee?o.useEffect:o.useLayoutEffect,ne=typeof navigator!="undefined"&&navigator.connection,ae=!ee&&ne&&(["slow-2g","2g"].includes(ne.effectiveType)||ne.saveData),fe=Se=>{if(D(Se))try{Se=Se()}catch(ut){Se=""}const Ke=Se;return Se=typeof Se=="string"?Se:(Array.isArray(Se)?Se.length:Se)?M(Se):"",[Se,Ke]};let le=0;const re=()=>++le,$=0,oe=1,se=2;var de={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:$,MUTATE_EVENT:se,RECONNECT_EVENT:oe};function be(...Se){return rl(this,null,function*(){const[Ke,ut,Oe,K]=Se,Y=E({populateCache:!0,throwOnError:!0},typeof K=="boolean"?{revalidate:K}:K||{});let me=Y.populateCache;const Ie=Y.rollbackOnError;let je=Y.optimisticData;const Xe=Y.revalidate!==!1,_t=at=>typeof Ie=="function"?Ie(at):Ie!==!1,pt=Y.throwOnError;if(D(ut)){const at=ut,It=[],zt=Ke.keys();for(let Xt=zt.next();!Xt.done;Xt=zt.next()){const Dt=Xt.value;!/^\$(inf|sub)\$/.test(Dt)&&at(Ke.get(Dt)._k)&&It.push(Dt)}return Promise.all(It.map(Ge))}return Ge(ut);function Ge(at){return rl(this,null,function*(){const[It]=fe(at);if(!It)return;const[zt,Xt]=l(Ke,It),[Dt,ln,qt]=d.get(Ke),fn=Dt[It],Sn=()=>Xe&&(delete qt[It],fn&&fn[0])?fn[0](se).then(()=>zt().data):zt().data;if(Se.length<3)return Sn();let wn=Oe,Pn;const jn=re();ln[It]=[jn,0];const sr=!b(je),_r=zt(),hr=_r.data,Bn=_r._c,yr=b(Bn)?hr:Bn;if(sr&&(je=D(je)?je(yr):je,Xt({data:je,_c:yr})),D(wn))try{wn=wn(yr)}catch(Wr){Pn=Wr}if(wn&&D(wn.then))if(wn=yield wn.catch(Wr=>{Pn=Wr}),jn!==ln[It][0]){if(Pn)throw Pn;return wn}else Pn&&sr&&_t(Pn)&&(me=!0,wn=yr,Xt({data:wn,_c:w}));me&&(Pn||(D(me)&&(wn=me(wn,yr)),Xt({data:wn,_c:w}))),ln[It][1]=re();const oo=yield Sn();if(Xt({_c:w}),Pn){if(pt)throw Pn;return}return me?oo:wn})}})}const pe=(Se,Ke)=>{for(const ut in Se)Se[ut][0]&&Se[ut][0](Ke)},we=(Se,Ke)=>{if(!d.has(Se)){const ut=E(Q,Ke),Oe={},K=be.bind(w,Se);let Y=y;const me={},Ie=(_t,pt)=>{const Ge=me[_t]||[];return me[_t]=Ge,Ge.push(pt),()=>Ge.splice(Ge.indexOf(pt),1)},je=(_t,pt,Ge)=>{Se.set(_t,pt);const at=me[_t];if(at)for(const It of at)It(pt,Ge)},Xe=()=>{if(!d.has(Se)&&(d.set(Se,[Oe,{},{},{},K,je,Ie]),!ee)){const _t=ut.initFocus(setTimeout.bind(w,pe.bind(w,Oe,$))),pt=ut.initReconnect(setTimeout.bind(w,pe.bind(w,Oe,oe)));Y=()=>{_t&&_t(),pt&&pt(),d.delete(Se)}}};return Xe(),[Se,K,Xe,Y]}return[Se,d.get(Se)[4]]},xe=(Se,Ke,ut,Oe,K)=>{const Y=ut.errorRetryCount,me=K.retryCount,Ie=~~((Math.random()+.5)*(1<<(me<8?me:8)))*ut.errorRetryInterval;!b(Y)&&me>Y||setTimeout(Oe,Ie,K)},Ue=(Se,Ke)=>M(Se)==M(Ke),[De,_e]=we(new Map),ie=E({onLoadingSlow:y,onSuccess:y,onError:y,onErrorRetry:xe,onDiscarded:y,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ae?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ae?5e3:3e3,compare:Ue,isPaused:()=>!1,cache:De,mutate:_e,fallback:{}},J),ve=(Se,Ke)=>{const ut=E(Se,Ke);if(Ke){const{use:Oe,fallback:K}=Se,{use:Y,fallback:me}=Ke;Oe&&Y&&(ut.use=Oe.concat(Y)),K&&me&&(ut.fallback=E(K,me))}return ut},he=(0,o.createContext)({}),Le=Se=>{const{value:Ke}=Se,ut=(0,o.useContext)(he),Oe=D(Ke),K=(0,o.useMemo)(()=>Oe?Ke(ut):Ke,[Oe,ut,Ke]),Y=(0,o.useMemo)(()=>Oe?K:ve(ut,K),[Oe,ut,K]),me=K&&K.provider,Ie=(0,o.useRef)(w);me&&!Ie.current&&(Ie.current=we(me(Y.cache||De),K));const je=Ie.current;return je&&(Y.cache=je[0],Y.mutate=je[1]),V(()=>{if(je)return je[2]&&je[2](),je[3]},[]),(0,o.createElement)(he.Provider,E(Se,{value:Y}))},He=C&&window.__SWR_DEVTOOLS_USE__,ht=He?window.__SWR_DEVTOOLS_USE__:[],bt=()=>{He&&(window.__SWR_DEVTOOLS_REACT__=o.default)},Tt=Se=>D(Se[1])?[Se[0],Se[1],Se[2]||{}]:[Se[0],null,(Se[1]===null?Se[2]:Se[1])||{}],Fe=()=>E(ie,(0,o.useContext)(he)),nt=(Se,Ke)=>{const[ut,Oe]=fe(Se),[,,,K]=d.get(De);if(K[ut])return K[ut];const Y=Ke(Oe);return K[ut]=Y,Y},ft=Se=>(Ke,ut,Oe)=>Se(Ke,ut&&((...Y)=>{const[me]=fe(Ke),[,,,Ie]=d.get(De),je=Ie[me];return je?(delete Ie[me],je):ut(...Y)}),Oe),Ye=ht.concat(ft),rt=Se=>function(...ut){const Oe=Fe(),[K,Y,me]=Tt(ut),Ie=ve(Oe,me);let je=Se;const{use:Xe}=Ie,_t=(Xe||[]).concat(Ye);for(let pt=_t.length;pt--;)je=_t[pt](je);return je(K,Y||Ie.fetcher||null,Ie)},$t=Se=>{const Ke=useState({})[1],ut=useRef(!1),Oe=useRef(Se),K=useRef({data:!1,error:!1,isValidating:!1}),Y=useCallback(me=>{let Ie=!1;const je=Oe.current;for(const Xe in me){const _t=Xe;je[_t]!==me[_t]&&(je[_t]=me[_t],K.current[_t]&&(Ie=!0))}Ie&&!ut.current&&(te?Ke({}):React.startTransition(()=>Ke({})))},[]);return V(()=>(ut.current=!1,()=>{ut.current=!0})),[Oe,K.current,Y]},sn=(Se,Ke,ut)=>{const Oe=Ke[Se]||(Ke[Se]=[]);return Oe.push(ut),()=>{const K=Oe.indexOf(ut);K>=0&&(Oe[K]=Oe[Oe.length-1],Oe.pop())}},gt=(Se,Ke)=>(...ut)=>{const[Oe,K,Y]=Tt(ut),me=(Y.use||[]).concat(Ke);return Se(Oe,K,Fo(or({},Y),{use:me}))};bt();const Ne={dedupe:!0},We=(Se,Ke,ut)=>{const{cache:Oe,compare:K,suspense:Y,fallbackData:me,revalidateOnMount:Ie,revalidateIfStale:je,refreshInterval:Xe,refreshWhenHidden:_t,refreshWhenOffline:pt,keepPreviousData:Ge}=ut,[at,It,zt]=d.get(Oe),[Xt,Dt]=fe(Se),ln=(0,o.useRef)(!1),qt=(0,o.useRef)(!1),fn=(0,o.useRef)(Xt),Sn=(0,o.useRef)(Ke),wn=(0,o.useRef)(ut),Pn=()=>wn.current,jn=()=>Pn().isVisible()&&Pn().isOnline(),[sr,_r,hr,Bn]=l(Oe,Xt),yr=(0,o.useRef)({}).current,oo=b(me)?ut.fallback[Xt]:me,Wr=(Yr,Jr)=>{for(const jr in yr){const Dr=jr;if(Dr==="data"){if(!K(Yr[Dr],Jr[Dr])&&(!b(Yr[Dr])||!K(ho,Jr[Dr])))return!1}else if(Jr[Dr]!==Yr[Dr])return!1}return!0},Zr=(0,o.useMemo)(()=>{const Yr=(()=>!Xt||!Ke?!1:b(Ie)?Pn().isPaused()||Y?!1:b(je)?!0:je:Ie)(),Jr=Rn=>{const At=E(Rn);return delete At._k,Yr?or({isValidating:!0,isLoading:!0},At):At},jr=sr(),Dr=Bn(),Vt=Jr(jr),Qt=jr===Dr?Vt:Jr(Dr);let en=Vt;return[()=>{const Rn=Jr(sr());return Wr(Rn,en)?(en.data=Rn.data,en.isLoading=Rn.isLoading,en.isValidating=Rn.isValidating,en.error=Rn.error,en):(en=Rn,Rn)},()=>Qt]},[Oe,Xt]),Vr=(0,m.useSyncExternalStore)((0,o.useCallback)(Yr=>hr(Xt,(Jr,jr)=>{Wr(jr,Jr)||Yr()}),[Oe,Xt]),Zr[0],Zr[1]),Ur=!ln.current,co=at[Xt]&&at[Xt].length>0,no=Vr.data,Hr=b(no)?oo:no,uo=Vr.error,yo=(0,o.useRef)(Hr),ho=Ge?b(no)?yo.current:no:Hr,xo=(()=>co&&!b(uo)?!1:Ur&&!b(Ie)?Ie:Pn().isPaused()?!1:Y?b(Hr)?!1:je:b(Hr)||je)(),Qo=!!(Xt&&Ke&&Ur&&xo),Zo=b(Vr.isValidating)?Qo:Vr.isValidating,No=b(Vr.isLoading)?Qo:Vr.isLoading,Ro=(0,o.useCallback)(Yr=>rl(yp,null,function*(){const Jr=Sn.current;if(!Xt||!Jr||qt.current||Pn().isPaused())return!1;let jr,Dr,Vt=!0;const Qt=Yr||{},en=!zt[Xt]||!Qt.dedupe,Rn=()=>te?!qt.current&&Xt===fn.current&&ln.current:Xt===fn.current,At={isValidating:!1,isLoading:!1},Zt=()=>{_r(At)},jt=()=>{const gn=zt[Xt];gn&&gn[1]===Dr&&delete zt[Xt]},nn={isValidating:!0};b(sr().data)&&(nn.isLoading=!0);try{if(en&&(_r(nn),ut.loadingTimeout&&b(sr().data)&&setTimeout(()=>{Vt&&Rn()&&Pn().onLoadingSlow(Xt,ut)},ut.loadingTimeout),zt[Xt]=[Jr(Dt),re()]),[jr,Dr]=zt[Xt],jr=yield jr,en&&setTimeout(jt,ut.dedupingInterval),!zt[Xt]||zt[Xt][1]!==Dr)return en&&Rn()&&Pn().onDiscarded(Xt),!1;At.error=w;const gn=It[Xt];if(!b(gn)&&(Dr<=gn[0]||Dr<=gn[1]||gn[1]===0))return Zt(),en&&Rn()&&Pn().onDiscarded(Xt),!1;const Mn=sr().data;At.data=K(Mn,jr)?Mn:jr,en&&Rn()&&Pn().onSuccess(jr,Xt,ut)}catch(gn){jt();const Mn=Pn(),{shouldRetryOnError:Xn}=Mn;Mn.isPaused()||(At.error=gn,en&&Rn()&&(Mn.onError(gn,Xt,Mn),(Xn===!0||D(Xn)&&Xn(gn))&&jn()&&Mn.onErrorRetry(gn,Xt,Mn,nr=>{const er=at[Xt];er&&er[0]&&er[0](de.ERROR_REVALIDATE_EVENT,nr)},{retryCount:(Qt.retryCount||0)+1,dedupe:!0})))}return Vt=!1,Zt(),!0}),[Xt,Oe]),Ko=(0,o.useCallback)((...Yr)=>be(Oe,fn.current,...Yr),[]);if(V(()=>{Sn.current=Ke,wn.current=ut,b(no)||(yo.current=no)}),V(()=>{if(!Xt)return;const Yr=Ro.bind(w,Ne);let Jr=0;const Dr=sn(Xt,at,(Vt,Qt={})=>{if(Vt==de.FOCUS_EVENT){const en=Date.now();Pn().revalidateOnFocus&&en>Jr&&jn()&&(Jr=en+Pn().focusThrottleInterval,Yr())}else if(Vt==de.RECONNECT_EVENT)Pn().revalidateOnReconnect&&jn()&&Yr();else{if(Vt==de.MUTATE_EVENT)return Ro();if(Vt==de.ERROR_REVALIDATE_EVENT)return Ro(Qt)}});return qt.current=!1,fn.current=Xt,ln.current=!0,_r({_k:Dt}),xo&&(b(Hr)||ee?Yr():L(Yr)),()=>{qt.current=!0,Dr()}},[Xt]),V(()=>{let Yr;function Jr(){const Dr=D(Xe)?Xe(sr().data):Xe;Dr&&Yr!==-1&&(Yr=setTimeout(jr,Dr))}function jr(){!sr().error&&(_t||Pn().isVisible())&&(pt||Pn().isOnline())?Ro(Ne).then(Jr):Jr()}return Jr(),()=>{Yr&&(clearTimeout(Yr),Yr=-1)}},[Xe,_t,pt,Xt]),(0,o.useDebugValue)(ho),Y&&b(Hr)&&Xt)throw!te&&ee?new Error("Fallback data is required when using suspense in SSR."):(Sn.current=Ke,wn.current=ut,qt.current=!1,b(uo)?Ro(Ne):uo);return{mutate:Ko,get data(){return yr.data=!0,ho},get error(){return yr.error=!0,uo},get isValidating(){return yr.isValidating=!0,Zo},get isLoading(){return yr.isLoading=!0,No}}},st=v.defineProperty(Le,"defaultValue",{value:ie}),ke=Se=>serialize(Se)[0],Be=rt(We)},33952:(z,s,e)=>{"use strict";e.d(s,{YG:()=>E,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},m={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},d=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),u=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),g=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),y=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),w=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),v=d&&(y||+d[1]<57)||g&&y,b=0;b<10;b++)o[48+b]=o[96+b]=String(b);for(var b=1;b<=24;b++)o[b+111]="F"+b;for(var b=65;b<=90;b++)o[b]=String.fromCharCode(b+32),m[b]=String.fromCharCode(b);for(var D in o)m.hasOwnProperty(D)||(m[D]=o[D]);function E(O){var C=v&&(O.ctrlKey||O.altKey||O.metaKey)||(u||w)&&O.shiftKey&&O.key&&O.key.length==1,_=!C&&O.key||(O.shiftKey?m:o)[O.keyCode]||O.key||"Unidentified";return _=="Esc"&&(_="Escape"),_=="Del"&&(_="Delete"),_=="Left"&&(_="ArrowLeft"),_=="Up"&&(_="ArrowUp"),_=="Right"&&(_="ArrowRight"),_=="Down"&&(_="ArrowDown"),_}},70709:z=>{"use strict";z.exports=JSON.parse(`{"Subscribe":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Subscribe now":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Join":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Upgrade":{"ca":"Canvia","de":"Umsteigen","es":"Cambiar","fr":"Mise \xE0 niveau","it":"Aggiornamento","pt":"Atualizar"},"Upgrade to paid":{"ca":"Canvia a la subscripci\xF3 de pagament","de":"Auf die bezahlte Abonnement umsteigen","es":"Cambiar a la suscripci\xF3n paga","fr":"Mise \xE0 niveau vers payant","it":"Passa all'abbonamento a pagamento","pt":"Mudar para a assinatura paga"}," now":{"ca":" ara","de":" jetzt","es":" ahora","fr":" maintenant","it":" adesso","pt":" agora"},"Continue":{"ca":"Continuar","de":"Fortsetzen","es":"Continuar","fr":"Continuer","it":"Continua","pt":"Continuar"},"Done":{"ca":"Fet","de":"Fertig","es":"Hecho","fr":"Terminer","it":"Fatto","pt":"Feito"},"Learn more":{"ca":"Saber m\xE9s","de":"Mehr erfahren","es":"Saber m\xE1s","fr":"En savoir plus","it":"Saperne di pi\xF9","pt":"Mais detalhes"},"Maybe later":{"ca":"Potser despr\xE9s","de":"Vielleicht sp\xE4ter","es":"Quiz\xE1s m\xE1s tarde","fr":"Peut-\xEAtre plus tard","it":"Forse pi\xF9 tardi","pt":"Talvez mais tarde"},"Give another gift":{"ca":"Fer un altre regal","de":"Machen Sie noch ein Geschenk","es":"Dar otro regalo","fr":"Donnez un autre cadeau","it":"Fai un altro regalo","pt":"D\xEA outro presente"},"Success!":{"ca":"\xC8xit!","de":"Erfolg!","es":"\xA1\xC9xito!","fr":"Succ\xE8s!","it":"Successo!","pt":"Sucesso!"},"Thank you!":{"ca":"Gr\xE0cies!","de":"Danke!","es":"Gracias!","fr":"Merci!","it":"Grazie!","pt":"Obrigado!"},"Spread the word":{"ca":"Escampa la veu","de":"Danke f\xFCr Ihr Abonnement","es":"Difundir la palabra","fr":"Faites passer le mot","it":"Spargi la voce","pt":"Fale sobre n\xF3s"},"change email":{"ca":"canviar e-mail","de":"E-Mail \xE4ndern","es":"cambiar e-mail","fr":"changez l'adresse email","it":"cambia email","pt":"mude o e-mail"},"No thanks":{"ca":"No gr\xE0cies","de":"Nein danke","es":"No gracias","fr":"Non merci","it":"No grazie","pt":"N\xE3o obrigado"},"Let me read it first":{"ca":"Deixin-m'ho llegir primer","de":"Lass es mich zuerst lesen","es":"D\xE9jame leerlo primero","fr":"Permettez-moi de le lire d'abord","it":"Fammi leggere prima","pt":"Deixe-me ler primeiro"},"Let me hear it first":{"ca":"Deixin-m'ho escoltar primer","de":"Lass es mich zuerst h\xF6ren","es":"D\xE9jame escucharlo primero","fr":"Permettez-moi de l'\xE9couter d'abord","it":"Fammi sentire prima","pt":"Deixe-me ouvir primeiro"},"Top posts":{"ca":"Millors posts","de":"Beste Posts","es":"Mejores posts","fr":"Meilleurs posts","it":"Migliori posti","pt":"Melhores posts"},"Authors":{"ca":"Autors","de":"Autoren","es":"Autores","fr":"Auteurs","it":"Autori","pt":"Autores"},"A Substack newsletter":{"ca":"Un newsletter de Substack","de":"Ein Substack-Newsletter","es":"Un newsletter de Substack","fr":"Une newsletter de Substack","it":"Una newsletter di Substack","pt":"Um newsletter da Substack"},"A Substack newsletter by":{"ca":"Un newsletter de Substack de","de":"Ein Substack-Newsletter von","es":"Un newsletter de Substack de","fr":"Une newsletter de Substack par","it":"Una newsletter da Substack di","pt":"Um newsletter da Substack de"},"You\u2019ve subscribed to public posts from":{"ca":"T'has registrat a publicacions p\xFAbliques de","de":"Sie haben sich f\xFCr \xF6ffentliche Beitr\xE4ge angemeldet von","es":"Te has registrado para publicaciones p\xFAblicas de","fr":"Vous vous \xEAtes inscrit(e) \xE0 des publications publiques de","it":"Ti sei iscritto a post pubblici da","pt":"Voc\xEA se inscreveu para receber posts p\xFAblicos do"},"You\u2019re on the free list":{"ca":"Ets a la llista gratu\xEFta","de":"Sie sind auf der freien Liste","es":"Est\xE1s en la lista gratuita","fr":"Vous \xEAtes sur la liste gratuite","it":"Sei nella lista libera","pt":"Voc\xEA est\xE1 na lista gr\xE1tis"},"Your gift was sent to ":{"ca":"El teu regal es va enviar a ","de":"Ihr Geschenk wurde gesendet an ","es":"Tu regalo fue enviado a ","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9 \xE0 ","it":"Il tuo regalo \xE8 stato inviato a","pt":"Seu presente foi enviado para "},"Your gift was sent":{"ca":"El teu regal es va enviar","de":"Ihr Geschenk wurde gesendet","es":"Tu regalo fue enviado","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9","it":"Il tuo regalo \xE8 stato inviato","pt":"Seu presente foi enviado"},"Your group will be administered by ":{"ca":"El teu grup ser\xE0 administrat per ","de":"Ihre Gruppe wird verwaltet von ","es":"Tu grupo ser\xE1 administrado por ","fr":"Votre groupe sera administr\xE9 par ","it":"Il tuo regalo sar\xE0 amministrato da","pt":"Seu grupo ser\xE1 administrado por "},"Your donation matters.":{"ca":"La teva donaci\xF3 importa.","de":"Ihre Spende ist wichtig.","es":"Tu donaci\xF3n importa.","fr":"Votre don est important.","it":"La tua donazione conta.","pt":"Sua doa\xE7\xE3o \xE9 importante."},"You\u2019re subscribed as ":{"ca":"Est\xE0s subscrit com a","de":"Sie sind abonniert als ","es":"Est\xE1s suscrito como ","fr":"Vous \xEAtes abonn\xE9(e) en tant que ","it":"Sei iscritto come","pt":"Voc\xEA est\xE1 inscrito como "},"Login":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Log in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Sign in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Not you?":{"ca":"No ets tu?","de":"Das sind Sie nicht?","es":"\xBFNo eres t\xFA?","fr":"Pas toi?","it":"Non sei tu?","pt":"N\xE3o \xE9 voc\xEA?"},"Type your email\u2026":{"ca":"Escriu el teu correu electr\xF2nic\u2026","de":"Geben Sie Ihre E-Mail-Adresse ein\u2026","es":"Escribe tu correo\u2026","fr":"Tapez votre email\u2026","it":"Digita la tua email\u2026","pt":"Digite seu email\u2026"},"What\u2019s your email?":{"ca":"Quin \xE9s el teu email?","de":"Was ist Ihre E-Mail-Adresse?","es":"\xBFCu\xE1l es tu correo electr\xF3nico?","fr":"Quelle est votre adresse email?","it":"Qual \xE8 la tua email?","pt":"Qual \xE9 o seu email?"},"Buying for a group?":{"ca":"Comprant per a un grup?","de":"F\xFCr eine Gruppe kaufen?","es":"\xBFComprando para un grupo?","fr":"Acheter pour un groupe?","it":"Acquistare per un gruppo?","pt":"Comprando para um grupo?"},"If you enjoy":{"ca":"Si us agrada","de":"Wenn Ihnen es gef\xE4llt","es":"Si te gusta","fr":"Si vous aimez","it":"Se ti piace","pt":"Se voc\xEA gosta de"},"consider becoming a paid subscriber":{"ca":"considera convertir-te en un subscriptor de pagament","de":"sollten Sie ein zahlender Abonnent werden","es":"considera convertirte en un suscriptor de pago","fr":"envisagez de devenir un(e) abonn\xE9(e) payant(e)","it":"considera di diventare un abbonato pagante","pt":"considere tornar-se um assinante pago"},"If you want to help \${0}":{"ca":"Si vols ajudar \${0}","de":"M\xF6chten Sie \${0} unterst\xFCtzen","es":"Si quieres ayudar a \${0}","fr":"Si vous voulez aider \${0}","it":"Se vuoi aiutare \${0}","pt":"Se voc\xEA quiser ajudar \${0}"},"If you want to help \${0} even more":{"ca":"Si vols ajudar \${0} encara m\xE9s","de":"M\xF6chten Sie \${0} noch mehr unterst\xFCtzen","es":"Si quieres ayudar a \${0} a\xFAn m\xE1s","fr":"Si vous voulez aider \${0} encore plus","it":"Se vuoi aiutare \${0} ancora di pi\xF9","pt":"Se voc\xEA quiser ajudar \${0} ainda mais"},"share your reason for signing up":{"ca":"comparteix la ra\xF3 per registrar-te","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para registrarte","fr":"partagez votre raison de vous inscrire","it":"condividi il motivo della tua iscrizione","pt":"compartilhe seu motivo para se inscrever"},"share your reason for subscribing":{"ca":"comparteix la ra\xF3 per subscriure't","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para suscribirte","fr":"partagez votre raison de vous abonner","it":"condividi il motivo del tuo abbonamento","pt":"compartilhe seu motivo para se inscrever"},"show full post":{"ca":"mostra la publicaci\xF3 completa","de":"Vollst\xE4ndigen Beitrag anzeigen","es":"mostrar publicaci\xF3n completa","fr":"afficher le post complet","it":"mostra post completo","pt":"mostrar post completo"},"Community":{"ca":"Comunitat","de":"Gemeinschaft","es":"Comunidad","fr":"Communaut\xE9","it":"Comunit\xE0","pt":"Comunidade"},"About":{"ca":"Sobre","de":"\xDCber","es":"Sobre","fr":"\xC0 propos de","it":"Soggetto","pt":"Sobre"},"Archive":{"ca":"Arxiu","de":"Archiv","es":"Archivo","fr":"Archives","it":"Archivio","pt":"Arquivo"},"Account":{"ca":"Compte","de":"Konto","es":"Cuenta","fr":"Compte","it":"Account","pt":"Conta"},"My Account":{"ca":"El meu compte","de":"Mein Konto","es":"Mi cuenta","fr":"Mon compte","it":"Il mio account","pt":"Minha conta"},"By submitting, you agree to":{"ca":"En enviar-ho, acceptes","de":"Mit dem Absenden, stimmen Sie zu","es":"Al enviar, aceptas","fr":"En soumettant, vous acceptez","it":"Inviando, accetti","pt":"Ao enviar, voc\xEA concorda com"},"By registering you agree to":{"ca":"Registrant-te, acceptes","de":"Mit Ihrer Registrierung, stimmen Sie zu","es":"Al registrarte, aceptas","fr":"En vous inscrivant, vous acceptez","it":"Registrandoti, accetti","pt":"Ao se registrar, voc\xEA concorda com"},"Terms":{"ca":"Termes","de":"Bedingungen","es":"Condiciones","fr":"Termes","it":"Condizioni","pt":"Termos"},"Privacy":{"ca":"Privadesa","de":"Datenschutz","es":"Privacidad","fr":"Confidentialit\xE9","it":"Privacy","pt":"Privacidade"},"Substack's Terms of Use":{"ca":"els Termes de serveis de Substack","de":"Substacks Nutzungsbedingungen","es":"los T\xE9rminos de servicio de Substack","fr":"les Conditions d'utilisation de Substack","it":"le Condizioni di utilizzo di Substack","pt":"os Termos de Servi\xE7o da Substack"},"our Privacy Policy":{"ca":"la nostra Pol\xEDtica de Privacitat","de":"unseren Datenschutzbestimmungen","es":"nuestra Pol\xEDtca de Privacidad","fr":"notre Politique de Confidentialit\xE9","it":"la nostra Politica sulla privacy","pt":"a nossa Pol\xEDtica de Privacidade"},"our Information collection notice":{"ca":"el nostre av\xEDs de recollida d'informaci\xF3","de":"unsere Informationserhebungsmitteilung","es":"nuestro aviso de recopilaci\xF3n de informaci\xF3n","fr":"notre avis de collecte d'informations","it":"il nostro avviso di raccolta delle informazioni","pt":"nosso aviso de coleta de informa\xE7\xF5es"},"and":{"ca":"i","de":"und","es":"y","fr":"et","it":"e","pt":"e"},"Help":{"ca":"Ajuda","de":"Hilfe","es":"Ayuda","fr":"Aide","it":"Aiuto","pt":"Ajuda"},"Get started":{"ca":"Comen\xE7ar","de":"Loslegen","es":"Empezar","fr":"Commencer","it":"Iniziare","pt":"Iniciar"},"Start writing":{"ca":"Comen\xE7a a escriure","de":"Anfangen zu schreiben","es":"Empieza a escribir","fr":"Commencez \xE0 \xE9crire","it":"Inizia a scrivere","pt":"Comece a escrever"},"Start reading":{"ca":"Comen\xE7a a llegir","de":"Anfangen zu lesen","es":"Empieza a leer","fr":"Commencez \xE0 lire","it":"Inizia a leggere","pt":"Comece a ler"},"Get the app":{"ca":"Descarrega l'aplicaci\xF3","de":"Laden Sie die App herunter","es":"Descarga la aplicaci\xF3n","fr":"T\xE9l\xE9chargez l'app","it":"Scarica l'app","pt":"Baixe o aplicativo"},"Play video":{"ca":"Reprodueix el v\xEDdeo","de":"Video abspielen","es":"Reproduce el video","fr":"Lire la vid\xE9o","it":"Riproduci video","pt":"Reproduzir v\xEDdeo"},"The home for great writing.":{"ca":"La casa de la gran escriptura.","de":"Das Haus des gro\xDFen Schreibens.","es":"La casa de la gran escritura.","fr":"La maison de grande \xE9criture.","it":"La casa della grande scrittura.","pt":"A casa da grande escrita."},"The home for great":{"ca":"La llar dels grans","de":"Das Zuhause f\xFCr gro\xDFe","es":"El hogar de grandes","fr":"La maison des grands","it":"La casa di grandi","pt":"A casa de grandes"},"writers":{"ca":"escriptors","de":"Autoren","es":"escritores","fr":"\xE9crivains","it":"scrittori","pt":"escritores"},"readers":{"ca":"lectors","de":"Leser","es":"lectores","fr":"lecteurs","it":"lettori","pt":"leitores"},"subscribers":{"ca":"subscriptors","de":"Abonnenten","es":"suscriptores","fr":"abonn\xE9s","it":"iscritti","pt":"assinantes"},"month":{"ca":"mes","de":"Monat","es":"mes","fr":"mois","it":"mese","pt":"m\xEAs"},"We believe that what you read matters and great writing is valuable. We\u2019re building a future where writers can flourish by being paid directly by readers.":{"ca":"Creiem que el que llegeix \xE9s important i una bona escriptura \xE9s valuosa. Estem construint un futur on els escriptors puguin prosperar amb el pagament directament dels lectors.","de":"Wir glauben, dass das, was Sie lesen, wichtig ist und gro\xDFartiges Schreiben wertvoll ist. Wir bauen eine Zukunft auf, in der Autoren gedeihen k\xF6nnen, indem sie direkt von Lesern bezahlt werden.","es":"Creemos que lo que lees importa y que escribir bien es valioso. Estamos construyendo un futuro en el que los escritores puedan prosperar si los lectores les pagan directamente.","fr":"Nous pensons que ce que vous lisez est important et qu'une bonne \xE9criture est pr\xE9cieuse. Nous construisons un avenir o\xF9 les \xE9crivains peuvent s'\xE9panouir en \xE9tant pay\xE9s directement par les lecteurs.","it":"Crediamo che ci\xF2 che leggi sia importante e che scrivi in modo eccellente sia prezioso. Stiamo costruendo un futuro in cui gli scrittori possono prosperare essendo pagati direttamente dai lettori.","pt":"Acreditamos que o que voc\xEA l\xEA \xE9 importante e uma \xF3tima escrita \xE9 valiosa. Estamos construindo um futuro onde os escritores podem florescer sendo pagos diretamente pelos leitores."},"A new model for writing.":{"ca":"Un nou model per escriure.","de":"Ein neues Schreibmodell.","es":"Un nuevo model de escritura.","fr":"Un nouveau mod\xE8le d'\xE9criture.","it":"Un nuovo modello di scrittura.","pt":"Um novo modelo de escrita."},"The subscription model rewards you for doing great work that you believe in. You don\u2019t need to play by the rules of social media to succeed.":{"ca":"El model de subscripci\xF3 us recompensa per fer un gran treball en el qual creieu. No cal que us seguiu les regles de les xarxes socials per tenir \xE8xit.","de":"Das Abonnementmodell belohnt Sie f\xFCr gro\xDFartige Arbeit, an die Sie glauben. Sie m\xFCssen sich nicht an die Regeln der sozialen Medien halten, um erfolgreich zu sein.","es":"El modelo de suscripci\xF3n lo recompensa por hacer un gran trabajo en el que cree. No necesita seguir las reglas de las redes sociales para tener \xE9xito.","fr":"Le mod\xE8le d'abonnement vous r\xE9compense pour l'excellent travail auquel vous croyez. Vous n'avez pas besoin de respecter les r\xE8gles des m\xE9dias sociaux pour r\xE9ussir.","it":"Il modello di abbonamento ti premia per aver svolto un ottimo lavoro in cui credi. Non \xE8 necessario rispettare le regole dei social media per avere successo.","pt":"O modelo de assinatura recompensa voc\xEA por fazer um \xF3timo trabalho no qual acredita. Voc\xEA n\xE3o precisa seguir as regras das m\xEDdias sociais para ter sucesso."},"Simple but powerful publishing.":{"ca":"Publicaci\xF3 senzilla per\xF2 potent.","de":"Einfaches, aber leistungsstarkes Publishing.","es":"Publicaci\xF3n simple pero poderosa.","fr":"Publication simple mais puissante.","it":"Editoria semplice ma potente.","pt":"Publica\xE7\xE3o simples, mas poderosa."},"Spend all your time and energy focused on the work that really matters: the writing itself. Substack takes care of everything else.":{"ca":"Dedica tot el teu temps i energia centrat en el treball que realment importa: l'escriptura en si. Substack s'encarrega de tota la resta.","de":"Konzentrieren Sie sich all Ihre Zeit und Energie auf die Arbeit, die wirklich z\xE4hlt: das Schreiben selbst. Substack k\xFCmmert sich um alles andere.","es":"Dedique todo su tiempo y energ\xEDa a concentrarse en el trabajo que realmente importa: la escritura en s\xED. Substack se encarga de todo lo dem\xE1s.","fr":"Passez tout votre temps et votre \xE9nergie \xE0 vous concentrer sur le travail qui compte vraiment : l'\xE9criture elle-m\xEAme. Substack s'occupe de tout le reste.","it":"Trascorri tutto il tuo tempo e le tue energie concentrati sul lavoro che conta davvero: la scrittura stessa. Substack si occupa di tutto il resto.","pt":"Gaste todo o seu tempo e energia focado no trabalho que realmente importa: a escrita em si. Substack cuida de todo o resto."},"Own your work.":{"ca":"Ser propietari del teu treball.","de":"Besitze deine Arbeit.","es":"Sea due\xF1o de su trabajo.","fr":"Poss\xE9dez votre travail.","it":"Possiedi il tuo lavoro.","pt":"Seja dono do seu trabalho."},"On Substack, you own your content, your IP, and your mailing list \u2013 forever. You can leave and take it all with you at any time.":{"ca":"A Substack, sou el propietari del vostre contingut, de la vostra propietat intel\xB7lectual i de la vostra llista de correu, per sempre. Pots marxar i portar-ho tot amb tu en qualsevol moment.","de":"Auf Substack besitzen Sie Ihre Inhalte, Ihr geistiges Eigentum und Ihre Mailingliste \u2013 f\xFCr immer. Sie k\xF6nnen jederzeit alles verlassen und mitnehmen.","es":"En Substack, eres due\xF1o de tu contenido, tu propriedad intelectual y tu lista de correo, para siempre. Puedes irte y llev\xE1rtelo todo contigo en cualquier momento.","fr":"Sur Substack, vous \xEAtes propri\xE9taire de votre contenu, de votre propri\xE9t\xE9 intellectuelle et de votre liste de diffusion - pour toujours. Vous pouvez partir et tout emporter avec vous \xE0 tout moment.","it":"Su Substack, possiedi i tuoi contenuti, la tua propriet\xE0 intellecttuale e la tua mailing list, per sempre. Puoi partire e portare tutto con te in qualsiasi momento.","pt":"No Substack, voc\xEA possui seu conte\xFAdo, sua propriedade intelectual e sua lista de e-mails \u2013 para sempre. Voc\xEA pode sair e levar tudo com voc\xEA a qualquer momento."},"A media business in minutes.":{"ca":"Un negoci de mitjans en q\xFCesti\xF3 de minuts.","de":"Ein Mediengesch\xE4ft in wenigen Minuten.","es":"Un negocio de medios en cuesti\xF3n de minutos.","fr":"Une entreprise de m\xE9dias en quelques minutes.","it":"Un business dei media in pochi minuti.","pt":"Um neg\xF3cio de m\xEDdia em quest\xE3o de minutos."},"We make subscription publishing simple. Start your Substack at breakfast; start bringing in revenue by lunchtime.":{"ca":"Facilitem la publicaci\xF3 per subscripci\xF3. Comen\xE7a la teva Substack a l'esmorzar; comen\xE7a a generar ingressos a l'hora de dinar.","de":"Wir machen die Abonnementver\xF6ffentlichung einfach. Starten Sie Ihren Substack beim Fr\xFChst\xFCck; Beginnen Sie bis zur Mittagszeit damit, Einnahmen zu erzielen.","es":"Simplificamos la publicaci\xF3n por suscripci\xF3n. Comience su Substack en el desayuno; comience a generar ingresos a la hora del almuerzo.","fr":"Nous simplifions la publication par abonnement. Commencez votre Substack au petit-d\xE9jeuner; commencer \xE0 g\xE9n\xE9rer des revenus \xE0 l'heure du d\xE9jeuner.","it":"Semplifichiamo la pubblicazione degli abbonamenti. Inizia il tuo Substack a colazione; iniziare a guadagnare entro l'ora di pranzo.","pt":"Tornamos a publica\xE7\xE3o de assinatura simples. Comece seu Substack no caf\xE9 da manh\xE3; comece a gerar receita na hora do almo\xE7o."},"For the soon-to-be discovered and the already-well-known.":{"ca":"Pels propers a ser descoberts i els ja coneguts.","de":"F\xFCr Neuentdeckte und Altbekannte.","es":"Para los que pronto se descubrir\xE1n y los ya conocidos.","fr":"Pour ceux qui seront bient\xF4t d\xE9couverts et ceux qui sont d\xE9j\xE0 connus.","it":"Per chi \xE8 presto scoperto e per chi \xE8 gi\xE0 noto.","pt":"Para os que logo ser\xE3o descobertos e os j\xE1 conhecidos."},"Substack\u2019s simple product, business model, and creator-friendly terms has triggered an explosion of new creative work.":{"ca":"El producte senzill, el model de negoci i els termes senzills de Substack han provocat una explosi\xF3 de nous treballs creatius.","de":"Das einfache Produkt, das Gesch\xE4ftsmodell und die sch\xF6pferfreundlichen Bedingungen von Substack haben eine Explosion neuer kreativer Arbeiten ausgel\xF6st.","es":"El producto simple, el modelo comercial y los t\xE9rminos amigables para los creadores de Substack han desencadenado una explosi\xF3n de nuevos trabajos creativos.","fr":"Le produit simple, le mod\xE8le commercial et les termes conviviaux pour les cr\xE9ateurs de Substack ont d\xE9clench\xE9 une explosion de nouveaux travaux cr\xE9atifs.","it":"Il prodotto semplice, il modello di business e i termini adatti ai creatori di Substack hanno innescato un'esplosione di nuovo lavoro creativo.","pt":"O produto simples, o modelo de neg\xF3cios e os termos amig\xE1veis do criador da Substack desencadearam uma explos\xE3o de novos trabalhos criativos."},"Podcasting on Substack":{"ca":"Podcasting a Substack","de":"Podcasting auf Substack","es":"Podcasting en Substack","fr":"Podcasting sur Substack","it":"Podcasting su Substack","pt":"Podcasting no Substack"},"Pioneering subscription-backed audio":{"ca":"\xC0udio de subscripci\xF3 innovador","de":"Innovatives Abonnement-Audio","es":"Audio de suscripci\xF3n innovador","fr":"Audio d'abonnement novateur","it":"Audio in abbonamento innovativo","pt":"\xC1udio de assinatura inovador"},"Bloggers on Substack":{"ca":"Bloggers a Substack","de":"Blogger auf Substack","es":"Blogueros en Substack","fr":"Blogueurs sur Substack","it":"Blogger su Substack","pt":"Blogueiros no Substack"},"Transfer blogs to Substack & unlock subscriptions":{"ca":"Transfereix blogs a Substack i desbloqueja subscripcions","de":"\xDCbertragen Sie Blogs auf Substack und entsperren Sie Abonnements","es":"Transferir blogs a Substack y desbloquear suscripciones","fr":"Transf\xE9rer des blogs vers Substack et d\xE9bloquer des abonnements","it":"Trasferisci i blog in Substack e sblocca gli abbonamenti","pt":"Transfira blogs para Substack e desbloqueie assinaturas"},"Investing and business writing":{"ca":"Escriptura sobre inversions i negocis","de":"Schreiben \xFCber Investitionen und Unternehmen","es":"Escritura de inversiones y negocios","fr":"\xC9criture sur l'investissement et les affaires","it":"Scrittura di investimenti e affari","pt":"Escrita sobre investimentos e neg\xF3cios"},"An obvious match for the subscription model":{"ca":"Una coincid\xE8ncia evident per al model de subscripci\xF3","de":"Eine offensichtliche \xDCbereinstimmung f\xFCr das Abonnementmodell","es":"Una combinaci\xF3n obvia para el modelo de suscripci\xF3n","fr":"Une correspondance \xE9vidente pour le mod\xE8le d'abonnement","it":"Una corrispondenza ovvia per il modello di abbonamento","pt":"Uma correspond\xEAncia \xF3bvia para o modelo de assinatura"},"Comic books":{"ca":"Els c\xF2mics","de":"Die Comics","es":"Los c\xF3mics","fr":"Les bandes dessin\xE9es","it":"I fumetti","pt":"Os quadrinhos"},"Join the world\u2019s best comic book creators":{"ca":"Uneix-te als millors creadors de c\xF2mics del m\xF3n","de":"Schlie\xDFen Sie sich den weltbesten Comic-Autoren an","es":"\xDAnete a los mejores creadores de c\xF3mics del mundo.","fr":"Rejoignez les meilleurs cr\xE9ateurs de bandes dessin\xE9es au monde","it":"Unisciti ai migliori creatori di fumetti del mondo","pt":"Junte-se aos melhores criadores de quadrinhos do mundo"},"Local news reporting":{"ca":"Not\xEDcies locals","de":"Lokale Nachrichtenberichterstattung","es":"Informes de noticias locales","fr":"Reportage sur l'actualit\xE9 locale","it":"Segnalazione di notizie locali","pt":"Relat\xF3rio de not\xEDcias locais"},"A sustainable model for local journalism":{"ca":"Un model sostenible per al periodisme local","de":"Ein nachhaltiges Modell f\xFCr Lokaljournalismus","es":"Un modelo sostenible para el periodismo local","fr":"Un mod\xE8le durable pour le journalisme local","it":"Un modello sostenibile per il giornalismo locale","pt":"Um modelo sustent\xE1vel para o jornalismo local"},"Food writing":{"ca":"Escriptura d'aliments","de":"Schreiben \xFCber Essen","es":"Escritura de comida","fr":"\xC9criture culinaire","it":"Scrittura di cibo","pt":"Escrita de comida"},"Food publishing made simple":{"ca":"Publicaci\xF3 culin\xE0ria simplificada","de":"Kulinarisches Publishing leicht gemacht","es":"Publicaci\xF3n culinaria simplificada","fr":"L'\xE9dition culinaire simplifi\xE9e","it":"L'editoria culinaria resa semplice","pt":"Publica\xE7\xE3o culin\xE1ria simplificada"},"Join the new wave of writers and creators.":{"ca":"Uneix-te a la nova onada d'escriptors i creadors.","de":"Schlie\xDFen Sie sich der neuen Welle von Autoren und Sch\xF6pfern an.","es":"\xDAnete a la nueva ola de escritores y creadores.","fr":"Rejoignez la nouvelle vague d'\xE9crivains et de cr\xE9ateurs.","it":"Unisciti alla nuova ondata di scrittori e creatori.","pt":"Junte-se \xE0 nova onda de escritores e criadores."},"Estimate what you could make on Substack":{"ca":"Estima el que pots guanyar a Substack","de":"Sch\xE4tzen Sie, was Sie auf Substack verdienen k\xF6nnten","es":"Estima lo que podr\xEDas ganar en Substack","fr":"Estimez ce que vous pourriez gagner sur Substack","it":"Stima cosa potresti guadagnare su Substack","pt":"Estime o que voc\xEA pode ganhar no Substack"},"Earnings estimate calculated for \${0} paid subscribers, priced \${1}/month. It is net of Substack and credit card fees. Actual subscriber counts and earnings may vary.":{"ca":"Guanys estimats calculats per a \${0} subscriptors de pagament, amb preu \${1}/mes. Est\xE0 net de les comissions de Substack i targetes de cr\xE8dit. El nombre real de subscriptors i els guanys poden variar.","de":"Gesch\xE4tzte Einnahmen berechnet f\xFCr \${0} zahlende Abonnenten mit Preis \${1}/Monat. Es versteht sich ohne Substack- und Kreditkartengeb\xFChren. Die tats\xE4chlichen Abonnentenzahlen und Einnahmen k\xF6nnen variieren.","es":"Estimaci\xF3n de ganancias calculada para \${0} suscriptores pagos, precio \${1}/mes. Es neto de tarifas de Substack y de tarjeta de cr\xE9dito. Los recuentos reales de suscriptores y las ganancias pueden variar.","fr":"Estimation des revenus calcul\xE9e pour \${0} abonn\xE9s payants, prix \${1} / mois. Il est net des frais de Substack et de carte de cr\xE9dit. Le nombre r\xE9el d'abonn\xE9s et les revenus peuvent varier.","it":"Guadagno stimato calcolato per \${0} abbonati pagati, con prezzo \${1}/mese. \xC8 al netto delle commissioni Substack e delle carte di credito. I conteggi e le entrate effettivi degli abbonati possono variare.","pt":"Estimativa de ganhos calculada para \${0} assinantes pagos, com pre\xE7o \${1}/m\xEAs. \xC9 l\xEDquido de taxas do Substack e de cart\xE3o de cr\xE9dito. As contagens reais de assinantes e os ganhos podem variar."},"How many subscribers could I get?":{"ca":"Quants subscriptors podria aconseguir?","de":"Wie viele Abonnenten k\xF6nnte ich gewinnen?","es":"\xBFCu\xE1ntos suscriptores podr\xEDa conseguir?","fr":"Combien d'abonn\xE9s puis-je obtenir?","it":"Quanti iscritti potrei ottenere?","pt":"Quantos inscritos eu poderia obter?"},"It depends on how many people find value in what you\u2019re making. If you have a highly engaged email list, aim for 10% to become paid subscribers over time.":{"ca":"Dep\xE8n de quantes persones troben valor en el que est\xE0s fent. Si teniu una llista de correu electr\xF2nic molt compromesa, apunteu que el 10% es converteixin en subscriptors de pagament al llarg del temps.","de":"Es h\xE4ngt davon ab, wie viele Menschen das, was Sie machen, wertsch\xE4tzen. Wenn Sie eine sehr engagierte E-Mail-Liste haben, streben Sie an, dass 10 % im Laufe der Zeit zahlende Abonnenten werden.","es":"Depende de cu\xE1ntas personas encuentren valor en lo que est\xE1s haciendo. Si tiene una lista de correo electr\xF3nico altamente comprometida, apunte a que el 10% se convierta en suscriptores pagos con el tiempo.","fr":"Cela d\xE9pend du nombre de personnes qui trouvent de la valeur dans ce que vous faites. Si vous avez une liste de diffusion tr\xE8s engag\xE9e, visez 10 % pour devenir des abonn\xE9s payants au fil du temps.","it":"Dipende da quante persone trovano valore in ci\xF2 che stai facendo. Se disponi di una lista e-mail molto coinvolta, punta al 10% per diventare abbonati a pagamento nel tempo.","pt":"Depende de quantas pessoas encontram valor no que voc\xEA est\xE1 fazendo. Se voc\xEA tem uma lista de e-mail altamente engajada, procure 10% para se tornar assinante pago ao longo do tempo."},"How much could I charge?":{"ca":"Quant podria cobrar?","de":"Wie viel k\xF6nnte ich verlangen?","es":"\xBFCu\xE1nto podr\xEDa cobrar?","fr":"Combien pourrais-je facturer?","it":"Quanto potrei addebitare?","pt":"Quanto eu poderia cobrar?"},"Usually more than you think! In general, for personal interest, try $5 to $10 per month. For professional interest, you can often go substantially higher.":{"ca":"Normalment m\xE9s del que penses! En general, per inter\xE8s personal, proveu de 5 a 10\u20AC al mes. Per inter\xE8s professional, sovint podeu anar molt m\xE9s alt.","de":"Meist mehr als Sie denken! Versuchen Sie es im Allgemeinen aus pers\xF6nlichem Interesse mit 5 bis 10 \u20AC pro Monat. Bei beruflichem Interesse kann man oft deutlich h\xF6her gehen.","es":"\xA1Por lo general, m\xE1s de lo que piensas! En general, por inter\xE9s personal, prueba de 5 a 10 \u20AC al mes. Por inter\xE9s profesional, a menudo puede ir mucho m\xE1s alto.","fr":"G\xE9n\xE9ralement plus que vous ne le pensez ! En g\xE9n\xE9ral, par int\xE9r\xEAt personnel, essayez 5 \xE0 10 \u20AC par mois. Pour un int\xE9r\xEAt professionnel, vous pouvez souvent aller beaucoup plus haut.","it":"Di solito pi\xF9 di quanto pensi! In generale, per interesse personale, prova da \u20AC 5 a \u20AC 10 al mese. Per interesse professionale, puoi spesso andare molto pi\xF9 in alto.","pt":"Geralmente mais do que voc\xEA pensa! Em geral, por interesse pessoal, tente de 25 a 50 R$ por m\xEAs. Por interesse profissional, muitas vezes voc\xEA pode ir substancialmente mais alto."},"See some real-world examples":{"ca":"Mireu alguns exemples concrets","de":"Schauen Sie sich einige konkrete Beispiele an","es":"Mira algunos ejemplos concretos","fr":"Regardez quelques exemples concrets","it":"Guarda alcuni esempi concreti","pt":"Veja alguns exemplos concretos"},"Writers keep 90% of their revenue minus credit card fees.":{"ca":"Els escriptors es conserven el 90% dels seus ingressos menys les tarifes de la targeta de cr\xE8dit.","de":"Autoren behalten 90 % ihrer Einnahmen abz\xFCglich Kreditkartengeb\xFChren.","es":"Los escritores se quedan con el 90% de sus ingresos menos las tarifas de las tarjetas de cr\xE9dito.","fr":"Les auteurs conservent 90 % de leurs revenus moins les frais de carte de cr\xE9dit.","it":"Gli scrittori trattengono il 90% delle loro entrate meno le commissioni sulle carte di credito.","pt":"Os escritores mant\xEAm 90% de sua receita menos as taxas de cart\xE3o de cr\xE9dito."},"Listen now":{"ca":"Escolta ara","de":"Jetzt anh\xF6ren","es":"Escucha ahora","fr":"\xC9coutez maintenant","it":"Ascolta ora","pt":"Ou\xE7a agora"},"Watch now":{"ca":"Veure ara","de":"Jetzt ansehen","es":"Ver ahora","fr":"Regardez maintenant","it":"Guarda ora","pt":"Assista agora"}}`)},33600:z=>{"use strict";z.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:z=>{"use strict";z.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Vo={};function St(z){var s=Vo[z];if(s!==void 0)return s.exports;var e=Vo[z]={id:z,loaded:!1,exports:{}};return Go[z].call(e.exports,e,e.exports,St),e.loaded=!0,e.exports}St.m=Go,St.n=z=>{var s=z&&z.__esModule?()=>z.default:()=>z;return St.d(s,{a:s}),s},(()=>{var z=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s;St.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var m=Object.create(null);St.r(m);var d={};s=s||[null,z({}),z([]),z(z)];for(var u=o&2&&e;typeof u=="object"&&!~s.indexOf(u);u=z(u))Object.getOwnPropertyNames(u).forEach(g=>d[g]=()=>e[g]);return d.default=()=>e,St.d(m,d),m}})(),St.d=(z,s)=>{for(var e in s)St.o(s,e)&&!St.o(z,e)&&Object.defineProperty(z,e,{enumerable:!0,get:s[e]})},St.f={},St.e=z=>Promise.all(Object.keys(St.f).reduce((s,e)=>(St.f[e](z,s),s),[])),St.u=z=>""+z+"."+{27:"ab144993a6a3905c0e07",28:"dff3324134e09566c99b",156:"305ba929800c9962e7c4",171:"0fe78dce0c6901f651a0",313:"60d8de7a0137e6adfef9",486:"018b4da4fabc81e6906e",492:"5af5d0377b3d3c98f55a",563:"e8953b711c09c7e8de9e",630:"4dcb6ec1c8e74bebe2db",631:"6d414d498aad420940cb",661:"c7cd3e45d29d02cad82a",679:"dae08da004e777d78453",695:"83163b70ce19f4bade00",733:"a6eda8d0ad5f4078dc87",783:"119b2403595bfe3ae07e",829:"4622de2a5ce86d91859e",853:"cf335435b38c9b5adffe",934:"0a64a14909181c8a71a5",968:"8b2bea9335349bf80b93"}[z]+".chunk.js",St.miniCssF=z=>""+(z===179?"main":z)+"."+{27:"f1e7c1358f6e09279abb",156:"e3e75bfaa18f41e4db10",179:"125506768fdabd64e506",630:"7a38d2eafd3887c1e970",661:"fca3185657494623fde3",733:"5206d24a7f974cd47959",829:"ac7086a1ebf094f0ced2",853:"7f17ef46759c5d91e115",934:"d69a5609d893a64574ce"}[z]+".css",St.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(z){if(typeof window=="object")return window}}(),St.hmd=z=>(z=Object.create(z),z.children||(z.children=[]),Object.defineProperty(z,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+z.id)}}),z),St.o=(z,s)=>Object.prototype.hasOwnProperty.call(z,s),(()=>{var z={},s="substack:";St.l=(e,o,m,d)=>{if(z[e]){z[e].push(o);return}var u,g;if(m!==void 0)for(var y=document.getElementsByTagName("script"),w=0;w<y.length;w++){var v=y[w];if(v.getAttribute("src")==e||v.getAttribute("data-webpack")==s+m){u=v;break}}u||(g=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,St.nc&&u.setAttribute("nonce",St.nc),u.setAttribute("data-webpack",s+m),u.src=e),z[e]=[o];var b=(E,O)=>{u.onerror=u.onload=null,clearTimeout(D);var C=z[e];if(delete z[e],u.parentNode&&u.parentNode.removeChild(u),C&&C.forEach(_=>_(O)),E)return E(O)},D=setTimeout(b.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=b.bind(null,u.onerror),u.onload=b.bind(null,u.onload),g&&document.head.appendChild(u)}})(),St.r=z=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},St.nmd=z=>(z.paths=[],z.children||(z.children=[]),z),St.j=179,St.p="https://substackcdn.com/bundle/",(()=>{var z=(m,d,u,g)=>{var y=document.createElement("link");y.rel="stylesheet",y.type="text/css";var w=v=>{if(y.onerror=y.onload=null,v.type==="load")u();else{var b=v&&(v.type==="load"?"missing":v.type),D=v&&v.target&&v.target.href||d,E=new Error("Loading CSS chunk "+m+` failed.
(`+D+")");E.code="CSS_CHUNK_LOAD_FAILED",E.type=b,E.request=D,y.parentNode.removeChild(y),g(E)}};return y.onerror=y.onload=w,y.href=d,document.head.appendChild(y),y},s=(m,d)=>{for(var u=document.getElementsByTagName("link"),g=0;g<u.length;g++){var y=u[g],w=y.getAttribute("data-href")||y.getAttribute("href");if(y.rel==="stylesheet"&&(w===m||w===d))return y}for(var v=document.getElementsByTagName("style"),g=0;g<v.length;g++){var y=v[g],w=y.getAttribute("data-href");if(w===m||w===d)return y}},e=m=>new Promise((d,u)=>{var g=St.miniCssF(m),y=St.p+g;if(s(g,y))return d();z(m,y,d,u)}),o={179:0,661:0,934:0,313:0,28:0};St.f.miniCss=(m,d)=>{var u={27:1,156:1,630:1,661:1,733:1,829:1,853:1,934:1};o[m]?d.push(o[m]):o[m]!==0&&u[m]&&d.push(o[m]=e(m).then(()=>{o[m]=0},g=>{throw delete o[m],g}))}})(),(()=>{var z={179:0,661:0,934:0,313:0,28:0};St.f.j=(o,m)=>{var d=St.o(z,o)?z[o]:void 0;if(d!==0)if(d)m.push(d[2]);else if(o!=27){var u=new Promise((v,b)=>d=z[o]=[v,b]);m.push(d[2]=u);var g=St.p+St.u(o),y=new Error,w=v=>{if(St.o(z,o)&&(d=z[o],d!==0&&(z[o]=void 0),d)){var b=v&&(v.type==="load"?"missing":v.type),D=v&&v.target&&v.target.src;y.message="Loading chunk "+o+` failed.
(`+b+": "+D+")",y.name="ChunkLoadError",y.type=b,y.request=D,d[1](y)}};St.l(g,w,"chunk-"+o,o)}else z[o]=0};var s=(o,m)=>{var[d,u,g]=m,y,w,v=0;if(d.some(D=>z[D]!==0)){for(y in u)St.o(u,y)&&(St.m[y]=u[y]);if(g)var b=g(St)}for(o&&o(m);v<d.length;v++)w=d[v],St.o(z,w)&&z[w]&&z[w][0](),z[w]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))})();var na={};(()=>{"use strict";var z=St(1824),s=St(72496),e=St(6400),o=St(30396),m=St(94184),d=St.n(m),u=St(1469),g=St.n(u),y=St(20042),w=St(56232),v=St(15045),b=St(39419),D=St(26059),E=St(81243);const O=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function C(n,t,r){return!t||!n?!1:r==="owner"?n.author_id===t.id:t.email===`${r}_for_${n.subdomain}@example.com`}const _=({setExpanded:n})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>n(!0)},(0,e.h)(E.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),a=({pub:n,user:t,setExpanded:r})=>{const[i,f]=(0,o.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>r(!1)},(0,e.h)(D.Z,{height:20}))),O.map(([x,k])=>(0,e.h)("div",null,(0,e.h)("a",{className:d()("button",C(n,t,x)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:x,orig_url:window.location.href})}},k))),(0,e.h)("div",null,(0,e.h)("input",{value:i,onChange:x=>{var k;f((k=x.target)==null?void 0:k.value)}}),(0,e.h)("button",{onClick:()=>{window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:i,orig_url:window.location.href})}},"Log in as")))};class l extends e.Component{constructor(t,r){super(t,r),this.onDocumentMouseUp=i=>{!(0,b.isRootOrChild)(i.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:r},{expanded:i}){var f;return null}}var P=St(76193),S=St(18597),M=St(3258),R=St(89018),N=St(34755),T=Object.defineProperty,A=Object.defineProperties,F=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,Q=(n,t,r)=>t in n?T(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,te=(n,t)=>{for(var r in t||(t={}))G.call(t,r)&&Q(n,r,t[r]);if(U)for(var r of U(t))J.call(t,r)&&Q(n,r,t[r]);return n},ee=(n,t)=>A(n,F(t)),L=(n,t)=>{var r={};for(var i in n)G.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&U)for(var i of U(n))t.indexOf(i)<0&&J.call(n,i)&&(r[i]=n[i]);return r};const ne=n=>{var t=n,{svgParams:r}=t,i=L(t,["svgParams"]);return(0,e.h)(N.l,ee(te({},i),{name:"SubstackIcon",svgParams:te({height:1e3,width:1e3,fill:R.substack_color,stroke:"none"},r)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var ae=St(33705),fe=Object.defineProperty,le=(n,t,r)=>t in n?fe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,re=(n,t,r)=>(le(n,typeof t!="symbol"?t+"":t,r),r),$=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class oe extends e.Component{constructor(){super(...arguments),re(this,"checkVisibility",()=>{if(!this.ref)return;const t=this.ref.getBoundingClientRect(),r=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),f=!(t.bottom<0-r||t.top>=i+r);(0,b.stateTransaction)(this,(x,k)=>$(this,null,function*(){if(x.isVisible!==f)this.setState({isVisible:f});else if(!k.noDedupe)return;const B=f?"hadFirstVisible":"hadFirstInvisible",q=!x[B];q&&this.setState({[B]:!0}),(yield Promise.all([f&&k.onVisible&&k.onVisible(),f&&k.onFirstVisible&&q&&k.onFirstVisible(),!f&&k.onInvisible&&k.onInvisible(),!f&&k.onFirstInvisible&&q&&k.onFirstInvisible()])).reduce((Me,Re)=>Re===!0||Me)&&this.checkVisibility()}))})}componentDidMount(){return $(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(t=>setTimeout(t,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:t,children:r}){return(0,e.h)("div",{ref:i=>this.ref=i,className:d()("visibility-check",t)},r)}}const se={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},ce=({publication:n,user:t,path:r,hideTerms:i,showIntrinioAttrib:f})=>{typeof i=="undefined"&&(i=!1);const x=(0,S.Tf)(),k="Start Writing",W=(0,P.isMobile)(),B=(0,P.isIos)(),q=(0,P.isAndroid)(),ye=W&&(B||q),Me=t&&!t.reader_installed_at,Re=ye&&Me;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(oe,{onVisible:()=>{(0,M.j)(M.FP.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:t==null?void 0:t.id,source:de(r)})}}),(0,e.h)("div",{className:d()("footer",{"themed-background":x})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"),f&&(0,e.h)("div",{className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),(0,e.h)("div",{className:"footer-terms-blurb"},i===!1&&[(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:n}),native:!0},"Privacy")," \u2219 ",(0,e.h)("a",{href:"/tos",native:!0},"Terms")," \u2219 ",(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}/ccpa#personal-data-collected`,native:!0},"Collection notice")])),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:d()("footer-substack-cta","start-publishing",Re&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,v.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,v.getSubstackUrl)()}/signup?${(0,v.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(ne,null)," ",k),!Re&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},"Get the app"),Re&&B&&(0,e.h)("a",{className:se.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/app-store.png",160*2)})),Re&&q&&(0,e.h)("a",{className:se.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)("div",{className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}`,native:!0},"Substack"),"\xA0is the home for great writing"))))};function de(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const be=()=>h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,"Read"),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),h("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),h("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),h("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),h("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),h("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),h("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),h("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),h("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),h("a",{href:"/sitemap",native:!0},"Sitemap")),h("div",{className:"footer-info-col"},h("h3",null,"Writers"),h("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),h("div",{className:"footer-info-col"},h("h3",null,"Company"),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),h("a",{href:getSupportUrl()},"Help"),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),h("div",{className:"footer-info-col"},h("h3",null,"Resources"),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},"Privacy"),h("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))));class pe extends e.Component{render({html:t,children:r,metadata:i}){return(0,e.h)("div",{className:"container-border"},(0,b.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},r,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var we=St(36808),xe=St(6385),Ue=St(4190),De=St(32076),_e=St(80569),ie=St.n(_e),ve=St(94930),he=St(83322),Le=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const He={};function ht(n,t,r,i,f){return Le(this,arguments,function*(x,k,W,{required:B=!1,group:q=!1,gift:ye=!1},Me){if(!W){Me(null);return}W in He||(Me({id:W,required:B,loading:!0}),He[W]=yield Tt(W));const Re=He[W],ze=Re&&Re.type==="FREE_TRIAL"&&k&&(yield Fe(W));ze&&ze.length&&B?Me({id:Re&&Re.id||W,code:Re&&Re.code,name:Re&&Re.name,required:B,error:!0,message:"This coupon has already been redeemed by this user."}):(0,ve.isCouponValid)(Re,{is_group:q,is_gift:ye,paywallFreeTrialEnabled:x.paywall_free_trial_enabled})&&(x.plans||[]).filter(et=>(0,ve.isCouponValidForPlan)(Re,et)).length>0?Me(Object.assign({required:B},Re)):Me(B?{id:Re&&Re.id||W,code:Re&&Re.code,name:Re&&Re.name,required:B,error:!0,message:"The coupon is not valid or has expired."}:null)})}function bt(n){return Le(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&n){const i=yield Fe(t[0].id);if(i&&i.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(r){return console.error("Failed to fetch coupons:",r),null}return t.length>0?t[0]:null})}function Tt(n){return Le(this,null,function*(){try{return(yield ie().get(`/api/v1/coupon/${n}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function Fe(n){return Le(this,null,function*(){try{return(yield ie().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function nt(n){return Le(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!r||r.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else r[0].valid===!1?yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${r[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function ft(){return Le(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var Ye=St(51126),rt=St(65919),$t=St(1852),sn=St(56242),gt=St(7922),Ne=Object.defineProperty,We=Object.defineProperties,st=Object.getOwnPropertyDescriptors,ke=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,Ke=(n,t,r)=>t in n?Ne(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ut=(n,t)=>{for(var r in t||(t={}))Be.call(t,r)&&Ke(n,r,t[r]);if(ke)for(var r of ke(t))Se.call(t,r)&&Ke(n,r,t[r]);return n},Oe=(n,t)=>We(n,st(t)),K=(n,t)=>{var r={};for(var i in n)Be.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ke)for(var i of ke(n))t.indexOf(i)<0&&Se.call(n,i)&&(r[i]=n[i]);return r};const Y=n=>{var t=n,{color:r="#1C110B",strokeWidth:i=1}=t,f=K(t,["color","strokeWidth"]);return h(SvgIcon,Oe(ut({},f),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":i}))},me=null;var Ie=Object.defineProperty,je=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,at=(n,t,r)=>t in n?Ie(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,It=(n,t)=>{for(var r in t||(t={}))pt.call(t,r)&&at(n,r,t[r]);if(_t)for(var r of _t(t))Ge.call(t,r)&&at(n,r,t[r]);return n},zt=(n,t)=>je(n,Xe(t));const Xt=n=>h(SvgIcon,zt(It({},n),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),Dt=null;var ln=St(59736),qt=St(65726),fn=St(81671),Sn=St(85564),wn=St(84753),Pn=St(43174),jn=St(89734),sr=St.n(jn),_r=St(45578),hr=St(85928),Bn=St.n(hr),yr=St(23890),oo=Object.defineProperty,Wr=Object.defineProperties,Zr=Object.getOwnPropertyDescriptors,Vr=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,co=Object.prototype.propertyIsEnumerable,no=(n,t,r)=>t in n?oo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hr=(n,t)=>{for(var r in t||(t={}))Ur.call(t,r)&&no(n,r,t[r]);if(Vr)for(var r of Vr(t))co.call(t,r)&&no(n,r,t[r]);return n},uo=(n,t)=>Wr(n,Zr(t));const ho=n=>(0,e.h)(N.l,uo(Hr({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),xo=()=>h(Qo,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),Qo=({children:n,className:t})=>h("div",{className:cn("pill",t)},h("span",null,n)),Zo=null,No=({publication:n,logo_size:t=60,isStatic:r=!1,children:i})=>r?h(Ro,{publication:n,logo_size:t,children:i}):h("div",{className:"publication card"},t&&h("figure",{className:"logo"},h(PubIcon,{pub:n,logo_url:n.logo_url,size:t})),h("div",{className:"title"},h("div",{className:"name"},n.name),h("div",{className:"description"},n.hero_text),i)),Ro=({publication:n,logo_size:t=60,className:r="",children:i})=>h("table",{role:"presentation",className:classnames("publication","card",r,n.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},t&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},n.logo_url?h(PubIcon,{pub:n,logo_url:n.logo_url,size:t,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:n.theme_var_background_pop||substack_color,width:t,height:t}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},n.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},n.hero_text)),i)))),Ko=null;var Yr=St(84017),Jr=Object.defineProperty,jr=Object.defineProperties,Dr=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,Rn=(n,t,r)=>t in n?Jr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,At=(n,t)=>{for(var r in t||(t={}))Qt.call(t,r)&&Rn(n,r,t[r]);if(Vt)for(var r of Vt(t))en.call(t,r)&&Rn(n,r,t[r]);return n},Zt=(n,t)=>jr(n,Dr(t)),jt=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const nn=({onClick:n,checked:t})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:n,checked:t}),h("label",{for:"all",onClick:n},"Select ",t?"none":"all")),gn=({disabled:n,onClick:t,children:r})=>h(Button,{type:"submit",className:"primary xl",disabled:n,onClick:t},r),Mn=({isStatic:n=!1,extraProps:t={},linkType:r=null,discoverable:i=null,text:f,icon:x=!0,onClick:k=null})=>{const W={};r!==null&&(W.type=r),i!==null&&(W.discoverable=i);const B=getFindTwitterPubsUrl(W);return h("div",At({className:"twitter-discover"},t),h("a",Zt(At({className:"twitter-link",href:B},k&&{onClick:k}),{native:!0}),h("div",{className:"inner"},x&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:n}),h("span",{className:"twitter-link-text"},f||"Find writers I follow"))))},Xn=({pub:n,checked:t,onToggle:r,isSubscribed:i,author:f,screenName:x})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:t||i,disabled:i,onInput:()=>r(n.id)})),h(UserProfilePhoto,{size:60,photo_url:f.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},f==null?void 0:f.name),h("span",{className:"handle"}," @",x))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(n)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:n,logo_size:30},i?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),nr=({result:n,selectedPubs:t,onToggle:r})=>{var i;const{publicationAuthor:f,screen_name:x,publication_id:k}=n,{name:W,ownedPublications:B}=f,q=uniqBy(B,Re=>Re.id),ye=sortBy(q,Re=>Re.latestPost[0]?dayjs(Re.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),Me=f.photo_url||((i=B.find(Re=>Re.id===k))==null?void 0:i.logo_url);return ye.map(Re=>{const ze=Re.subscriptions.length;return h(Xn,{author:f,screenName:x,authorName:W,showLogo:Me!==f.photo_url,pub:Re,checked:t.has(Re.id),onToggle:r,isSubscribed:ze})})},er=({user:n,freeSignupEmail:t,twitterEmail:r,twitterToken:i,onConfirmed:f,onSubscribed:x,formAction:k,pubIds:W,subscribeToken:B,redirect:q,showDiscover:ye,editable:Me,showLogout:Re})=>{const ze=(n==null?void 0:n.email)||t||r,[et,Je]=useState(!1),[dt,Et]=useState(!0),[wt,xt]=useState(ze);W?q=updateQuery(q,{pubIds:W,t:i}):q=updateQuery(q,{t:i,d:dt});const Bt=kt=>{const{userExists:on,subscribed:pn}=kt.body;pn?x(pn):on?on&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:wt,redirect:q})):f()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:kt=>Bt(kt),method:"post",action:k,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:i}),W&&h("input",{name:"pubIds",type:"hidden",value:W}),B&&h("input",{name:"subscribeToken",type:"hidden",value:B}),h("input",{name:"email",type:"text",disabled:!Me&&ze,value:wt,onInput:kt=>xt(kt.target.value)}),h("label",null,h("input",{type:"checkbox",checked:et,onInput:()=>Je(!et)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),ye&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:dt,onInput:()=>Et(!et)}),"Allow people to find my publications via Twitter"),Re&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(gn,{disabled:!et},"Next \u2192")))))},Nn=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(Mn,null)))),Sr=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:f})=>!f&&!n||t=="connect"?h(Nn,null):h(Tr,At({},{user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:f})),Tr=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:f,buttonText:x=null,onSignup:k=null,requireSignup:W=!0,needsEmailConfirm:B=!0,renderIfNoneFound:q=null,useProfilePrefix:ye=!1})=>{const[Me,Re]=useState(null),[ze,et]=useState(null),[Je,dt]=useState(null),[Et,wt]=useState(null),[xt,Bt]=useState(!B),[kt,on]=useState(null),[pn,En]=useState(!1),[vn,hn]=useState(new Set),[qn,Yn]=useState(null),$n=getQueryItem("subscribed"),yn=ye?"/profile":"";$n?k?k():(dt($n.split(",")),route("/discover-twitter/success")):t&&t!=="connect"&&!Me&&!Je&&route("/discover-twitter");const mn=an=>{const In=new Set(vn);vn.has(an)?In.delete(an):In.add(an),hn(In)},cr=an=>flatten(an.map(In=>{var Yt;return((Yt=In.publicationAuthor)==null?void 0:Yt.ownedPublications)||[]}));useEffect(()=>jt(void 0,null,function*(){if(!pn){En(!0);try{const an=yield request.get("/api/v1/twitter/publications"),{results:In,subscribeToken:Yt,needsConnect:ur,needsTwitterConfirm:Ln}=an.body;if(ur)route("/discover-twitter/connect");else{const Ar=cr(In),mr=new Set(Ar.filter(Qn=>Qn.subscriptions.length===0).map(Qn=>Qn.id));let Nr;mr.size<=30?Nr=new Set(mr):Nr=new Set,Re(In),on(!1),Yn(Yt),et(mr),hn(Nr),wt(!Ln)}}catch(an){on(an)}En(!1)}}),[]);let Hn;Me&&(Me.length>0?Et?Hn=`We found ${Me.length} account${Me.length>1?"s":""} you follow on Twitter`:Hn=`Confirm your email to see ${Me.length} account${Me.length>1?"s":""} you follow on Twitter`:Et||(Hn="Confirm your email to continue")),t==="confirm"&&(Hn="Confirm your email"),Je&&(Hn="Success!");const Kn=Me?cr(Me):null,Zn=()=>{Bt(!0),wt(!0)},tr=()=>jt(void 0,null,function*(){En(!0);try{const an=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[...vn].join(","),t:f,subscribeToken:qn});if(k)k();else{const{subscribed:In}=an.body;dt(In),route("/discover-twitter/success")}}catch(an){console.error("error subscribing",an)}En(!1)}),lr=an=>{dt(an),route("/discover-twitter/success")},Fn=an=>{let In;an?In=new Set(ze):In=new Set,hn(In)},zn=()=>{!B||xt?tr():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:t},Hn),pn&&h("p",{className:"loading"},"Loading..."),kt&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(Mn,null))),h(Router,null,Me&&!Je&&Et&&!pn&&h(eo,{path:`${yn}/discover-twitter`,results:Me,selectedPubs:vn,subscribablePubs:ze,onToggleChecked:mn,onToggleAll:Fn,onNext:zn,loading:pn,buttonText:x,requireSignup:W,renderIfNoneFound:q}),Et==!1&&h(er,{path:`${yn}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:n,onConfirmed:Zn,twitterEmail:r,twitterToken:f,freeSignupEmail:i,pubIds:[...vn],showDiscover:!0}),!xt&&h(er,{path:`${yn}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:n,onSubscribed:lr,twitterEmail:r,twitterToken:f,freeSignupEmail:i,pubIds:[...vn],subscribeToken:qn,editable:!1,showLogout:!0}),Me&&Je&&h(Rr,{path:`${yn}/discover-twitter/success`,user:n,subscribed:Je,pubs:Kn,results:Me})))},br=({pub:n,result:t})=>{const{hero_text:r,stripeAccount:i,logo_url:f}=n,{screen_name:x,publicationAuthor:{name:k,photo_url:W}}=t,B=i==null?void 0:i.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:f||W})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",x," - ",k),h("div",{className:"description"},r)),h("div",null,B&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(n)}/subscribe`,target:"_blank"},"Upgrade"))))))},Rr=({subscribed:n,pubs:t,results:r})=>{const i=uniqBy(t.filter(B=>n.find(q=>q===B.subdomain)),B=>B.id),[f,x]=partition(i,B=>{var q;return(q=B.stripeAccount)==null?void 0:q.plans}),k=[...f,...x].length>1,W=f.length>1;return h("ul",null,h("div",{className:"sign-up"},f.length>0?h(Fragment,null,W?`${f.length} of the newsletters`:k?"One of the newsletters":"The newsletter"," ","you subscribed to ",W?"have":"has"," a paid version. You can upgrade"," ",W?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${k?"these newsletters":"this newsletter"}.  Happy reading!`),[...f,...x].map(B=>{const q=r.find(ye=>ye.screen_name===B.twitterAccount.screen_name);return q?h(br,{pub:B,result:q}):null}))},so=({onNext:n})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{n()}},"Continue"))),eo=({results:n,selectedPubs:t,onNext:r,onToggleChecked:i,onToggleAll:f,subscribablePubs:x,loading:k,buttonText:W,requireSignup:B,renderIfNoneFound:q})=>{if(n.length===0)return q||h(so,{onNext:r});const ye=sortBy(n,Et=>{var wt;let xt;return Et.publicationAuthor.ownedPublications?xt=maxBy(Et.publicationAuthor.ownedPublications,Bt=>Bt.latestPost[0]?dayjs(Bt.latestPost[0].post_date).toDate():null):xt=null,xt!=null&&xt.latestPost[0]?dayjs((wt=xt.latestPost[0])==null?void 0:wt.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[Me,Re]=partition(ye,Et=>(Et.publicationAuthor.ownedPublications||[]).some(wt=>wt.subscriptions.length===0)),ze=x.size===t.size,et=()=>{f(!ze)},Je=(!B||t.size>0)&&!k,dt=!B||x.size>0?h(gn,{onClick:r,disabled:!Je},W?(t.size>0?"Subscribe and ":"")+W:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!B||x.size>0)&&h(Fragment,null,(x.size>3||!B)&&dt,h("li",null,x.size<30&&h(nn,{checked:ze,onClick:et}))),[...Me,...Re].map(Et=>h(nr,{result:Et,selectedPubs:t,onToggle:i})),dt))};var Cr=Object.defineProperty,Co=Object.getOwnPropertySymbols,po=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,vo=(n,t,r)=>t in n?Cr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Oo=(n,t)=>{for(var r in t||(t={}))po.call(t,r)&&vo(n,r,t[r]);if(Co)for(var r of Co(t))jo.call(t,r)&&vo(n,r,t[r]);return n};const Lo=(0,e.createContext)({});Lo.displayName="WWWContext";const So=n=>{const t=r=>{const i=useContext(Lo);return h(n,Oo(Oo({},i),r))};return t.displayName=`withWWWContext(${n.name||n.displayName||"Anonymous"})`,t},Ci=()=>useContext(Lo);var io=St(8479),li=Object.defineProperty,fi=Object.getOwnPropertySymbols,Mi=Object.prototype.hasOwnProperty,pi=Object.prototype.propertyIsEnumerable,Li=(n,t,r)=>t in n?li(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Bi=(n,t)=>{for(var r in t||(t={}))Mi.call(t,r)&&Li(n,r,t[r]);if(fi)for(var r of fi(t))pi.call(t,r)&&Li(n,r,t[r]);return n},ki=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function ra(n){const t=useWWWContext(),{categories:r,publications:i=[],categoryId:f,featuredPublications:x=[],communityPicksPublications:k=[],tastemakerPublications:W=[],user:B,categorySlug:q,rankingSlug:ye,hasMore:Me,updateUrl:Re=!1,maxPublications:ze,showTwitterBanner:et,readerOnboardingModal:Je}=Bi(Bi({},t),n),[dt,Et]=useState(r),[wt,xt]=useState(Xo(i,ze)),[Bt,kt]=useState(f),[on,pn]=useState(Xo(x,ze)),[En,vn]=useState(Xo(k,ze)),[hn,qn]=useState(Xo(W,ze)),[Yn,$n]=useState(null),[yn,mn]=useState("paid"),[cr,Hn]=useState(null),[Kn,Zn]=useState(0),[tr,lr]=useState(Me);useEffect(()=>{const Yt=ye||"paid";mn(Yt),dt||ci().then(({categories:ur,publications:Ln,featuredPublications:Ar,communityPicksPublications:mr,tastemakerPublications:Nr})=>{Et(ur);const Qn=getCategoryIdFromSlug(q,ur);return kt(Qn),pn(Xo(Ar,ze)),vn(Xo(mr,ze)),qn(Xo(Nr,ze)),Qn==="featured"?Ln:bo(Qn,Yt,0).then(({publications:Or,more:gr})=>(Zn(0),ze||lr(gr),Or))}).then(ur=>{xt(Xo(ur,ze))})},[dt,q,ye,ze]);const Fn=useCallback(()=>{const Yt=Kn+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:Bt,ranking:yn,page:Yt}),bo(Bt,yn,Yt).then(({publications:ur,more:Ln})=>{const Ar=new Set(wt.map(mr=>mr.id));Zn(Yt),xt(wt.concat(ur.filter(mr=>!Ar.has(mr.id)))),lr(Ln)})},[Bt,yn,Kn,wt,Zn,xt,lr]),zn=({categoryId:Yt,ranking:ur,categories:Ln})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Yt,ranking:ur}),Re&&route(ii({categoryId:Yt,categories:Ln,ranking:ur}),!0),In({categoryId:Yt,ranking:ur})},an=Yt=>{mn(Yt),Re&&route(ii({categoryId:Bt,categories:dt,ranking:Yt}),!0),In({categoryId:Bt,ranking:Yt})},In=useCallback(Yt=>ki(this,[Yt],function*({categoryId:ur,ranking:Ln}){if(kt(ur),Zn(0),ur==="featured"||ur==="twitter"){$n(null),Hn(null),lr(!1),ur==="featured"&&xt(Xo(on,ze));return}$n(ur),Hn(Ln),xt([]),lr(!1);const{publications:Ar,more:mr}=yield bo(ur,Ln,0);kt(ur),$n(null),Hn(null),mn(Ln),Zn(0),ze||lr(mr),xt(Xo(Ar,ze))}),[$n,Hn,kt,Zn,lr,xt,on,ze]);return{categories:dt,publications:Bt==="featured"?on:wt,categoryId:Bt,ranking:yn,loadingCategoryId:Yn,loadingRanking:cr,featuredPublications:on,user:B,categorySlug:q,rankingSlug:ye,hasMore:tr,viewMore:Fn,loadPublications:In,onCategoryClicked:zn,getCategoryIdFromSlug,setCategoryId:kt,setRanking:mn,onRankingChange:an,maxPublications:ze,showTwitterBanner:et,readerOnboardingModal:Je}}const Xo=(n,t)=>t?n.slice(0,t):n,ci=()=>fetchJson("/api/v1/homepage/initial-category-data"),bo=(n,t="paid",r=0)=>fetchJson(`/api/v1/category/public/${n}/${t}?page=${r}`),ii=({categoryId:n,ranking:t,categories:r})=>{let i="";["twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(n)&&(i=n);const f=r.find(x=>x.id===n);return f!=null&&f.slug&&(i=`${f.slug}/${t}`),i?`/discover/category/${i}`:"/discover"},di=({children:n,separator:t})=>{const r=[],i=(0,e.toChildArray)(n);return i.forEach((f,x)=>{r.push(f),x!==i.length-1&&r.push(t)}),(0,e.h)(e.Fragment,null,r)};var ai=St(95297),it=Object.defineProperty,$e=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,yt=(n,t,r)=>t in n?it(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ut=(n,t)=>{for(var r in t||(t={}))Qe.call(t,r)&&yt(n,r,t[r]);if($e)for(var r of $e(t))mt.call(t,r)&&yt(n,r,t[r]);return n},Lt=(n,t)=>{var r={};for(var i in n)Qe.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$e)for(var i of $e(n))t.indexOf(i)<0&&mt.call(n,i)&&(r[i]=n[i]);return r};function Te(n){const t=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(f=>f.interval==="month").sort((f,x)=>f.amount-x.amount)[0],r=n.plans&&n.plans.filter(f=>f.interval==="year").sort((f,x)=>f.amount-x.amount)[0],i=t||r;if(i)return(0,he.planBasePricing)(i)}const ge={desktop:15,mobile:6};function Pe(n,{includePrice:t=!0,includeRankingDetail:r=!0,includeByline:i=!0,includeBadge:f=!1,rankingDetailOverrideText:x=null}={}){const k=(0,he.getByLine)(n);let W=null;return r&&(W=x||n.rankingDetail),(0,e.h)(di,{separator:" \xB7 "},i&&k&&(0,e.h)(Ye.hs,{inline:!0,gap:4},"By ",k,f&&(0,e.h)(ai.s,{size:"sm",tier:n.author_bestseller_tier,userId:n.author_id})),W,t&&Te(n))}const Ve=({className:n,hasFeatured:t,categories:r,categoryId:i,categoryIds:f,loadingCategoryId:x,ranking:k,onCategoryClicked:W,defaultExpanded:B,isReaderOnboarding:q})=>{const[ye,Me]=useState(B||!1),Re=useMediaQuery({query:"only screen and (max-width: 650px)"}),ze=ge[Re?"mobile":"desktop"],et=ye?r:r.slice(0,ze),Je=dt=>dt.id===i||(f==null?void 0:f.includes(dt.id));return h("div",{className:cn("categories",n)},t?h(Button,{className:cn({active:i==="featured"&&(!x||x==="featured"),loading:x==="featured"&&i!=="featured"}),onClick:()=>W({categoryId:"featured",ranking:"all",categories:r})},"Featured"):null,et.map(dt=>h(Button,{key:dt.id,className:cn({active:Je(dt)&&(!x||x===dt.id),loading:x===dt.id&&i!==dt.id}),onClick:()=>W({categoryId:dt.id,ranking:k,categories:r})},dt.id==="twitter"&&h(TwitterIcon,{width:Re?12:15,height:Re?12:15,strokeWidth:0}),toTitleCase(dt.canonical_name||""))),!q&&h(Button,{className:cn({active:i===COMMUNITY_PICKS_CATEGORY_NAME&&(!x||x===COMMUNITY_PICKS_CATEGORY_NAME),loading:x===COMMUNITY_PICKS_CATEGORY_NAME&&i!==COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>W({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:r})},"Writer favorites"),!q&&h(Button,{className:cn({active:i===TASTEMAKER_CATEGORY_NAME&&(!x||x===TASTEMAKER_CATEGORY_NAME),loading:x===TASTEMAKER_CATEGORY_NAME&&i!==TASTEMAKER_CATEGORY_NAME}),onClick:()=>W({categoryId:TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:r})},"Featured recommenders"),r.length>ze&&!ye&&h(Button,{className:"show-more",onClick:()=>Me(!0)},h(LargePlusIcon,null)))},vt=({publications:n,explanations:t,ranking:r,openInNew:i,startRankAt:f=0,source:x,onPublicationVisited:k=null,user:W,categoryId:B})=>h(Fragment,null,h("div",{className:"publications"},n.map((q,ye)=>{var Me,Re,ze;let et=t&&t[ye];if(!q)return;et||(et=[]);const Je=et.filter(pn=>["posts.title","posts.subtitle"].includes(pn.type)),dt=!!((Re=(Me=Je[0])==null?void 0:Me.posts[0][0])!=null&&Re.slug);let Et;dt&&(Et=(ze=Je[0])==null?void 0:ze.posts[0][0]);const wt=et.filter(pn=>pn.type==="description")[0],xt=et.filter(pn=>["name","subdomain","hero_text","custom_domain","author_name"].includes(pn.type)).length>0||!wt&&!Et,Bt=et.filter(pn=>pn.type==="description").map(pn=>pn.keyword),kt=et.filter(pn=>["posts.title","posts.subtitle"].includes(pn.type)).map(pn=>pn.keyword),on=getPubUrl(q,{params:{utm_source:x||"discover"},signedIn:!!W});return h("a",{key:q.id,className:"publication",href:on,native:!0,target:i?"_blank":null,onClick:pn=>{trackPublicationVisit(q,x||"leaderboards",{position:ye+1,category:B}),k&&k(q)},rel:"noopener"},r==="paid"?h("div",{className:"publication-rank"},ye+1+f):null,h("div",{className:"publication-content"},h(PubIcon,{pub:q,href:on,logo_url:q.logo_url||q.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},q.name),(xt||Et)&&h("div",{className:"publication-description"},q.editorial_bio||Pt(q.hero_text,Bt)),!xt&&wt&&!Et&&h("div",{className:"publication-description"},Pt(wt.sentence,Bt)),!xt&&Et&&h("div",{className:"publication-explanation-box"},dt&&h("a",{className:"title",href:getPostUrl(q,Et)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},Pt(Et.title,kt)),h("p",{className:"subtitle"},Pt(Et.subtitle,kt))),h("div",{className:"right-flex"},h("img",{src:Et.cover_image,className:Et.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},Pe(q)))))})));function Pt(n,t){if(!n)return"";const r=new RegExp(t.join("|"),"ig"),i=n.split(r),f=[...n.matchAll(r)];return h("span",null,i.map((x,k)=>h(Fragment,null,x,k!==i.length-1&&h("b",null,f[k]))))}const Ot=({onCategoryClicked:n,categoryId:t,ranking:r,loadingRanking:i,categories:f})=>["featured","twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(t)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:r==="paid"&&!i||i==="paid",loading:i==="paid"&&r!=="paid"}),onClick:()=>n({categoryId:t,ranking:"paid",categories:f})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:r==="all"&&!i||i==="all",loading:i==="all"&&r!=="all"}),onClick:()=>n({categoryId:t,ranking:"all",categories:f})},"All")),Mt=n=>{var t=n,{Component:r=Ft}=t,i=Lt(t,["Component"]);const f=useLeaderboards(i);return f.categories?h(r,Ut({},f)):null};class Ft extends null{componentDidUpdate(t){if(this.props.categorySlug===t.categorySlug&&this.props.rankingSlug===t.rankingSlug)return;const r=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),i=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:r,ranking:i})}startReading(t){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:t})}render({categories:t,publications:r,categoryId:i,loadingCategoryId:f,ranking:x,loadingRanking:k,onCategoryClicked:W,hasMore:B,viewMore:q,featuredPublications:ye,underratedPublications:Me,tastemakerPublications:Re,maxPublications:ze,showTwitterBanner:et,user:Je}){const dt=i==="featured",Et=i===COMMUNITY_PICKS_CATEGORY_NAME,wt=i===TASTEMAKER_CATEGORY_NAME,xt=i==="twitter",Bt=t.find(kt=>kt.id===i);return dt&&!ye.length&&typeof window!="undefined"&&W({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:t}),h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":dt})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(Ot,{categories:t,categoryId:i,ranking:x,onCategoryClicked:W})),h(vt,{publications:r,ranking:dt||Et||wt?"all":x,categoryId:i}),x==="all"&&!dt&&!Et&&!wt&&!xt&&!ze&&B&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:q},"View more")),ze&&i!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:x==="all"?"108px":"146px"}},h("a",{href:dt?getDiscoverCategoryUrl():[TASTEMAKER_CATEGORY_NAME,COMMUNITY_PICKS_CATEGORY_NAME].includes(i)?getDiscoverCategoryUrl({slug:i},x):getDiscoverCategoryUrl(Bt,x),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(Ot,{categories:t,categoryId:i,ranking:x,onCategoryClicked:W}))),h(Ve,{hasFeatured:ye&&ye.length>0,hasUnderrated:Me&&Me.length>0,hasTastemakers:Re&&Re.length>0,categories:t,categoryId:i,loadingCategoryId:f,onCategoryClicked:W,ranking:x,loadingRanking:k}))),et&&i==="featured"&&!(Je!=null&&Je.has_linked_twitter)?h(TwitterBanner,null):null))}}const Wt=null,un="balance-text",tn=100,dn=10,Dn=4;function Wn(n){rr(n)&&(n.style.maxWidth="",fr(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function fr(n,t,r,i){if(i-r<Dn){n.clientHeight>t?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(r>=i){n.style.maxWidth=`${i}px`;return}const f=(r+i)/2;n.style.maxWidth=`${f}px`,n.clientHeight>t?fr(n,t,f,i):fr(n,t,r,f)}function rr(n){var t;const r=n.innerHTML,i=n.textContent.split(" "),f=document.createElement("span");f.id="element-first-word",f.textContent=i.shift(),n.innerHTML="",n.appendChild(f),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const x=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||f.offsetHeight,k=n.offsetHeight;return n.innerHTML=r,k-dn>x}class Cn extends e.Component{constructor(t,r){super(t,r),this.debouncedRebalance=(0,b.debounce)(()=>this.rebalance(),tn)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&Wn(this.base)}render({text:t}){return(0,e.h)("span",{className:un,style:{display:"inline-block"}},t)}}var Gn=St(17685);const Er=({allowAllDay:n,redirect:t,onCancel:r})=>{const[i,f]=(0,o.eJ)(!1);return(0,e.h)(yr.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(Ye.tu,{gap:8},(0,e.h)(rt.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(rt.xv.H2,null,"Support Mode"),(0,e.h)(rt.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(Ye.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:x=>f(x.target.checked)})," ",(0,e.h)(rt.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Ye.gq,{gap:8,paddingTop:8},(0,e.h)(Gn.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),r&&(0,e.h)(Gn.zx,{priority:"secondary",onClick:r},"Cancel"))))};var Pr=St(60074),ao=St(11851),_o=Object.defineProperty,To=Object.defineProperties,ei=Object.getOwnPropertyDescriptors,Bo=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Oi=Object.prototype.propertyIsEnumerable,Ai=(n,t,r)=>t in n?_o(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_i=(n,t)=>{for(var r in t||(t={}))$o.call(t,r)&&Ai(n,r,t[r]);if(Bo)for(var r of Bo(t))Oi.call(t,r)&&Ai(n,r,t[r]);return n},ko=(n,t)=>To(n,ei(t));const ct=n=>(0,e.h)(N.l,ko(_i({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Ct({text:n,maxLines:t,ellipsesText:r="..."}){const i=(0,o.sO)(null),[f,x]=(0,o.eJ)(n);return(0,o.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const B=(i.current.clientHeight+1)*t+1;let q=0,ye=0,Me=n.length;for(;q<=Me;){if(ye=Math.floor((q+Me)/2),i.current.innerText=n.slice(0,ye),ye===n.length&&i.current.clientHeight<=B){i.current.innerText="",x(n);return}i.current.clientHeight<=B?q=ye+1:Me=ye-1}const Re=n.slice(0,ye-r.length-2);i.current.innerText="",x(Re+r)})()},[i,n,t,r]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,f),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var Gt=St(96789),rn=St(31471),_n=Object.defineProperty,bn=Object.defineProperties,An=Object.getOwnPropertyDescriptors,Un=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable,kr=(n,t,r)=>t in n?_n(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Lr=(n,t)=>{for(var r in t||(t={}))pr.call(t,r)&&kr(n,r,t[r]);if(Un)for(var r of Un(t))Jn.call(t,r)&&kr(n,r,t[r]);return n},Ir=(n,t)=>bn(n,An(t)),wr=(n,t,r)=>(kr(n,typeof t!="symbol"?t+"":t,r),r),vr=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Ee="intro_popup_last_hidden_at";class ot extends e.Component{constructor(t,r){super(t,r)}componentDidMount(){this.shouldShow()?(typeof window!="undefined"&&((0,b.addClass)(document.documentElement,"has-intro-popup"),ht(this.props.publication,this.props.user,this.props.coupon,{required:!0},t=>this.setState({coupon:t}))),this.show()):(this.props.onHide&&this.props.onHide(),(0,z.a)({hide_intro_popup:!0}))}componentWillUnmount(){typeof window!="undefined"&&(0,b.removeClass)(document.documentElement,"has-intro-popup"),this.hide(!0)}shouldShow(){const{freeSignup:t,user:r,post:i,hidden:f,alwaysShow:x,showOnMount:k}=this.props;return x?!0:f?!1:k||this.state.signedUp?!0:!(this.isMarkedAsHidden()||!(i===null||i&&!(0,xe.isPaidAudience)(i.audience))||t||r&&(r.is_free_subscribed||r.is_subscribed))}isShowing(){return typeof window!="undefined"&&(0,b.hasClass)(document.documentElement,"show-intro-popup")}show(){this.shouldShow()&&typeof window!="undefined"&&((0,b.addClass)(document.documentElement,"show-intro-popup"),(0,M.j)(M.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!this.props.publication.cover_photo_url,has_free_signup_email:!!this.props.freeSignupEmail,has_free_signup:!!this.props.freeSignup}),this.props.alwaysShow||(0,M.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`}))}hide(t){t||(this.markAsHidden(),setTimeout(()=>{(0,z.a)({hide_intro_popup:!0})},500)),this.props.onHide&&this.props.onHide(),!this.props.alwaysShow&&this.isShowing()&&(0,b.removeClass)(document.documentElement,"show-intro-popup")}isMarkedAsHidden(){const t=we.get(Ee);if(t){const r=new Date(t),i=new Date(Date.now()-24*60*60*1e3);if(r>i)return!0}return!1}markAsHidden(){we.set(Ee,new Date().toJSON(),{expires:365*10})}onFreeSignup(t){return vr(this,null,function*(){(0,M.j)(M.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!t.body.prompt_to_login,has_plans:!!this.props.publication.plans}),this.markAsHidden(),yield new Promise(i=>this.setState({signedUp:!0},i)),(0,z.a)({freeSignup:!0,freeSignupEmail:t.body.email});const r=this.props.alwaysShow?"/":document.location.href;t.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:r,email:t.body.email})},30):document.location.href=(0,v.pathWithQuery)("/subscribe",Ir(Lr({next:r,later:!0,just_signed_up:!0},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),{coupon:this.props.coupon,requires_confirmation:t.body.requires_confirmation?"true":"",utm_source:"cover_page",email:t.body.email,skip_redirect_check:!0}))})}onMaybeLater(){(0,M.j)(M.FP.COVER_PAGE_MAYBE_LATER_CLICKED),this.hide()}onBecomePaying(){(0,M.j)(M.FP.COVER_PAGE_BECOME_PAYING_CLICKED),setTimeout(()=>{document.location.href="/subscribe"},30)}onLearnMore(){(0,M.j)(M.FP.COVER_PAGE_LEARN_MORE_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.publication)},30)}render({email:t,user:r,freeSignup:i,freeSignupEmail:f,publication:x,referralCode:k,blurbs:W,noBalance:B,isAudio:q},{coupon:ye}){if(!this.shouldShow())return;const Me=(0,e.h)(Ht,{source:"cover_page",email:t,pub:x,user:r,freeSignup:i,freeSignupEmail:f,referralCode:k,forceSignup:(0,v.getQueryItem)("force"),coupon:ye,onMaybeLater:()=>this.onMaybeLater(),onFreeSignup:Re=>this.onFreeSignup(Re),markAsHidden:this.markAsHidden,blurbs:W,noBalance:B,isAudio:q});return(0,e.h)("div",{className:"intro-popup default-intro-popup"},(0,e.h)("div",{className:"intro-popup-page intro-popup-page-0"},Me))}}wr(ot,"contextType",Ue.kx);const Nt=n=>h("div",{className:"intro-inline"},h(Ht,Lr({},n)));class Ht extends e.Component{constructor(t,r){super(t,r);const i=(0,v.getQueryItem)("referralCode"),f=(0,v.getQueryItem)("refSource"),x="Learn More",k=(0,v.getAboutUrl)(this.props.pub,{params:Lr(Lr({utm_source:"subscribe_email",utm_content:"learn_more"},i&&{referralCode:i}),f&&{refSource:f})});this.state={dismissalText:x,dismissalUrl:k,welcomePageOptOutText:this.context.getSettingFor("welcome_page_opt_out_text")}}componentDidMount(){this.props.source==="subscribe_page"&&(0,M.j)(M.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN),(0,M.j)(M.FP.FULL_EMAIL_FORM_SHOWN,{source:this.props.source})}onAuthorClicked(){(0,M.j)(M.FP.COVER_PAGE_AUTHOR_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.pub)},30)}render({email:t,pub:r,user:i,freeSignup:f,freeSignupEmail:x,referralCode:k,source:W,coupon:B,forceSignup:q,submitButtonText:ye,onMaybeLater:Me,onFreeSignup:Re,noBalance:ze,markAsHidden:et,blurbs:Je},{dismissalText:dt,dismissalUrl:Et,welcomePageOptOutText:wt}){const xt=Je?Je.filter(Bt=>Bt.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},Me&&!r.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:Me,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(D.Z,null)),(0,e.h)(H,{pub:r,noBalance:ze,verbose:!0}),B&&B.required&&(0,e.h)("p",{className:`coupon ${B.loading?"loading":""} ${B.error?"error":""}`},B.loading?"Loading coupon":B.error?"Invalid coupon!":"Valid coupon!",` ${(B.name||B.id).toUpperCase()}`),r.invite_only&&(!i||!i.is_free_subscribed)?(0,e.h)(j,{pub:r,user:i,freeSignupEmail:x}):[(0,e.h)(Pr.Z,{source:W,email:t,user:i,pub:r,freeSignup:f,freeSignupEmail:x,referralCode:k,onConfirmationRequired:r.payments_state==="enabled"?()=>null:void 0,onSuccess:Re||(()=>document.location.href="/"),onMaybeLater:Me,showArchives:!1,submitButtonText:ye,hideTerms:!0,hideLogin:!0,contentLinks:!1,markWelcomePageAsHidden:et}),!q&&(Me?(0,e.h)("a",{onClick:Bt=>Bt.preventDefault(),className:"no-styles"},(0,e.h)(gt.Z,{className:"maybe-later",onClick:Me},wt==="No thanks"?I`No thanks`:wt,(0,e.h)(ct,null))):(0,e.h)(gt.Z,{className:"maybe-later",href:Et},dt,(0,e.h)(ct,null)))],(0,e.h)(rt.xv,{size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),!!(xt!=null&&xt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(xt!=null&&xt.length)&&(0,e.h)(Ye.gq,{className:"blurbs",gap:20},xt.map(Bt=>(0,e.h)(Ye.tu,{gap:8,className:"blurb"},(0,e.h)(rt.xv.B4,{className:"blurb-text"},(0,e.h)(Ct,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Bt.description}\u201D`})),(0,e.h)(rt.xv.B4,{weight:"semibold",className:"blurb-text"},Bt.author_name||Bt.recommendingPublication.email_from_name||Bt.recommendingPublication.copyright,", ",(0,e.h)("a",{href:(0,v.getBaseUrl)(Bt.recommendingPublication)},Bt.recommendingPublication.name)))))))}}wr(Ht,"contextType",De.vz);class j extends e.Component{constructor(){super(...arguments),wr(this,"canTurnOnCustomerSupportMode",()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)}),wr(this,"showCustomerSupportModeModal",()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())})}componentDidMount(){const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(Gt.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(Er,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:t=>this.customerSupportModeModal.close(t)}))}render({pub:t,user:r,freeSignupEmail:i},{loading:f,success:x}){const k=i||r&&r.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(yr.ZP,{className:"subscription-request-form",ref:W=>this.form=W,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:W=>{this.setState({loading:!1}),alert((0,b.getNetworkErrorMessage)(W,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:s.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:s.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:s.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:s.xU}),!!k&&(0,b.inputPrefillHack)(),(0,e.h)(Ye.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:W=>this.emailInput=W,readOnly:!!(k||f),disabled:!!(f||x||k),autoFocus:!k&&!(0,b.isMobileBrowser)(),placeholder:I`Type your email`}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(gt.Z,{className:d()(x?"secondary":"primary"),type:"submit",disabled:!!(f||x),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},x?"Requested":"Subscribe")))),(0,e.h)(Ye.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(ao.Z,{className:"private-lock-icon"}),(0,e.h)(Ye.tu,{gap:2},(0,e.h)(rt.xv.B4,{weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(rt.xv.B4,{className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(r||i)}),native:!0},"Already a member? ",(0,e.h)("b",null,r||i?"Switch accounts":"Sign in")))}}wr(j,"state",{loading:!1,success:!1});const H=({pub:n,noBalance:t,verbose:r})=>{const{getSettingFor:i}=(0,De.So)(),f=i("display_welcome_page_details");return n.cover_photo_url?[(0,e.h)(rn.e,{className:"publication-cover-photo",src:n.cover_photo_url,imageProps:{quality:"auto:best"},maxWidth:1360,alt:n.name,loading:"eager"}),!n.hide_intro_title&&(0,e.h)("h1",{className:`publication-name with-cover${n.logo_url?"":" no-logo"}`},(0,e.h)(Z,{pub:n,noBalance:t})),!n.hide_intro_subtitle&&(n.hero_text||!r)&&(0,e.h)("p",{className:d()("publication-tagline with-cover",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(Cn,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Pe(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:f}))].filter(x=>x):[n.logo_url&&(0,e.h)(rn.e,{className:"publication-logo",src:n.logo_url,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${n.name} Logo`,loading:"eager"}),(0,e.h)("h1",{className:`publication-name${n.logo_url?"":" no-logo"}`},(0,e.h)(Z,{pub:n,noBalance:t})),(n.hero_text||!r)&&(0,e.h)("p",{className:d()("publication-tagline",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(Cn,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Pe(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:f}))].filter(x=>x)},Z=({pub:n,noBalance:t})=>t?n.name:(0,e.h)(Cn,{text:n.name});function ue(n,t){for(const[r,i]of Object.entries(t))i!=null&&(n[r]=i);return n}function Ce(n){var t,r,i;return n.link_title||((t=n.postTag)==null?void 0:t.name)||((r=n.section)==null?void 0:r.name)||((i=n.post)==null?void 0:i.title)||""}function Ae(n){var t;return n.postTag?"tag":n.section?"section":((t=n.post)==null?void 0:t.type)==="page"?"page":n.post?"post":"link"}function qe(n,{isPodcastActive:t,isChatActive:r,isMeetingsActive:i,hasMultipleNewsletters:f,isChatEnabled:x,isFeedEnabled:k,isReaderReferralsLeaderboardActive:W}){var B;const q=n.filter(Re=>!Re.standard_key),ye=new Map(n.filter(Re=>Re.standard_key).map(Re=>[Re.standard_key,Re]));for(const Re of q)(B=Re.section)!=null&&B.hide_from_navbar&&(Re.is_hidden=!0);const Me=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},x&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!r},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...q,{standard_key:"archive",link_title:"Archive",link_url:"/archive"},f&&{standard_key:"newsletters",link_title:"Newsletters",link_url:"/newsletters",is_hidden:!0},W&&{standard_key:"leaderboard",link_title:"Leaderboard",link_url:"/leaderboard"},{standard_key:"about",link_title:"About",link_url:"/about"}].filter(Re=>!!Re);for(const Re of Me)if(Re.standard_key){const ze=ye.get(Re.standard_key);ze&&ue(Re,ze)}return Me}var Ze=St(20501),tt=St(98661),Rt=St(63270),Kt=Object.defineProperty,Tn=Object.defineProperties,xn=Object.getOwnPropertyDescriptors,On=Object.getOwnPropertySymbols,ir=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Kr=(n,t,r)=>t in n?Kt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fo=(n,t)=>{for(var r in t||(t={}))ir.call(t,r)&&Kr(n,r,t[r]);if(On)for(var r of On(t))Mr.call(t,r)&&Kr(n,r,t[r]);return n},Yo=(n,t)=>Tn(n,xn(t)),ti;const ui=typeof window!="undefined"&&window._preloads||Ue.xu,Wo=typeof window!="undefined"?(ti=window._preloads)==null?void 0:ti.siteConfigs:{},Si=(n,t)=>fo(fo({},(0,Ue.ng)(n,t)),(0,Rt.Xz)(n)),gi=(0,e.createContext)(Si(Wo,ui));gi.displayName="ExperimentsAndSiteConfigContext";function $r({siteConfigs:n={},experimentInfo:t,children:r}){const i=t||ui,f=(0,o.Ye)(()=>Si(n,i),[n,i]);return(0,e.h)(gi.Provider,{value:f},r)}function Ui(){return useContext(gi)}const Yi=n=>{const t=forwardRef((r,i)=>{const f=Ui();return h(n,Yo(fo(fo({},f),r),{ref:i}))});return t.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,t};var vi=St(44396),Fi=St(19826),Po=St(87021);const Xa=(0,Po.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ws=(0,Po.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),qa=(0,Po.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var es=Object.defineProperty,Cs=Object.defineProperties,Os=Object.getOwnPropertyDescriptors,oa=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,ga=(n,t,r)=>t in n?es(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ns=(n,t)=>{for(var r in t||(t={}))_a.call(t,r)&&ga(n,r,t[r]);if(oa)for(var r of oa(t))ts.call(t,r)&&ga(n,r,t[r]);return n},Ss=(n,t)=>Cs(n,Os(t));const Ts=n=>(0,e.h)(N.l,Ss(ns({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Is=Object.defineProperty,Zc=Object.defineProperties,Yc=Object.getOwnPropertyDescriptors,su=Object.getOwnPropertySymbols,Jc=Object.prototype.hasOwnProperty,Qc=Object.prototype.propertyIsEnumerable,kn=(n,t,r)=>t in n?Is(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xr=(n,t)=>{for(var r in t||(t={}))Jc.call(t,r)&&kn(n,r,t[r]);if(su)for(var r of su(t))Qc.call(t,r)&&kn(n,r,t[r]);return n},zr=(n,t)=>Zc(n,Yc(t));const mo=n=>(0,e.h)(N.l,zr(xr({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var yi=Object.defineProperty,ji=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,il=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,al=Object.prototype.propertyIsEnumerable,rs=(n,t,r)=>t in n?yi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,La=(n,t)=>{for(var r in t||(t={}))wa.call(t,r)&&rs(n,r,t[r]);if(il)for(var r of il(t))al.call(t,r)&&rs(n,r,t[r]);return n},Xc=(n,t)=>ji(n,Ra(t));const Ds=n=>(0,e.h)(N.l,Xc(La({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var WP=Object.defineProperty,HP=Object.defineProperties,VP=Object.getOwnPropertyDescriptors,bp=Object.getOwnPropertySymbols,KP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,Pp=(n,t,r)=>t in n?WP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zP=(n,t)=>{for(var r in t||(t={}))KP.call(t,r)&&Pp(n,r,t[r]);if(bp)for(var r of bp(t))$P.call(t,r)&&Pp(n,r,t[r]);return n},GP=(n,t)=>HP(n,VP(t));const ZP=n=>(0,e.h)(N.l,GP(zP({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var YP=Object.defineProperty,JP=Object.defineProperties,QP=Object.getOwnPropertyDescriptors,Ep=Object.getOwnPropertySymbols,XP=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable,wp=(n,t,r)=>t in n?YP(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eE=(n,t)=>{for(var r in t||(t={}))XP.call(t,r)&&wp(n,r,t[r]);if(Ep)for(var r of Ep(t))qP.call(t,r)&&wp(n,r,t[r]);return n},tE=(n,t)=>JP(n,QP(t));const nE=n=>(0,e.h)(N.l,tE(eE({},n),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),Cp=(0,e.createContext)(!1);var uu=St(85065);function rE(n,t){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,v.getStartPublishingUrl)(t)};if(n.subdomain)return{type:"dashboard",url:(0,v.getDashboardUrlForSubdomain)(n.subdomain,{params:t})}}return null}function oE(n,t){return n!=null&&n.profile_set_up_at?(0,v.getReaderProfileUrl)(n,t):(0,v.getProfileSetupUrl)(t)}var Jt=St(66399),Op=St(47585);const qc={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function iE({className:n,responsive:t,count:r}){return(0,e.h)(Ye.hs,{alignItems:"center",justifyContent:"center",radius:12,className:d()(qc.badge,t&&qc.responsive,!r&&qc.binary,n)},r&&(0,e.h)(rt.xv.Digit,{color:"bg-light"},r<100?r:"99+"))}var cu=St(74285);const Ji="user-menu",aE=`https://support.substack.com/hc/en-us/?utm_source=${Ji}`,du=40;function sE({className:n,user:t,pub:r,enableCustomerServiceMode:i,disableCustomerServiceMode:f,freeSignup:x,fixedTooltip:k,showBadge:W=!0}){const[B,q]=(0,Fi.EJ)(),{activityUnreadCount:ye}=(0,uu.lR)(),Me=(0,o.qp)(Cp);let Re="",ze="";t&&(Re=t!=null&&t.profile_set_up_at&&t.name?t.name:t.email,ze=t!=null&&t.profile_set_up_at?t.name?t.email:null:"Set up your profile");const et=({active:Bt})=>{(0,M.j)(Bt?M.FP.USER_MENU_OPENED:M.FP.USER_MENU_DISMISSED)},Je=t?rE(t,{utm_source:Ji}):null,dt=r&&(x||t&&(t.is_subscribed||t.is_free_subscribed)),Et=oE(t,{utm_source:Ji}),wt=!1,xt=(0,vi.XA)()&&!Me;return(0,e.h)(e.Fragment,null,t?(0,e.h)(gt.Z,{className:d()(n,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":Me}),onClick:q},xt&&W&&ye>0&&(0,e.h)(Op.in,{className:d()("user-indicator-badge",ye<10&&"user-indicator-badge-circle")},(0,e.h)(Jt.hs,{alignItems:"center",justifyContent:"center"},ye<100?ye:"99+")),(0,e.h)(Xa,{className:d()("user-indicator-icon",{"force-desktop":Me}),size:20,strokeWidth:2}),(0,e.h)("img",{className:d()("menu-trigger-image",{"force-desktop":Me}),src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*du,{height:2*du,crop:"fill"})}),(0,e.h)(cu.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Fi.ZP,{className:d()({"fixed-tooltip":k}),ref:B,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:et},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:Et,className:"profile-header",onClick:()=>(0,M.j)(M.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*du,{height:2*du,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Re),ze&&(0,e.h)("div",{className:"h2"},ze))),(0,e.h)("hr",null),t&&(0,e.h)(e.Fragment,null,(0,e.h)(Wi,{url:(0,v.getBaseReaderUrl)({utm_source:Ji}),analyticsEvent:M.FP.USER_MENU_READER_CLICKED},(0,e.h)(xs,{Icon:ZP})," Inbox"),(0,e.h)(Wi,{url:(0,v.getFeedUrl)({utm_source:Ji}),analyticsEvent:M.FP.USER_MENU_FEED_CLICKED},(0,e.h)(xs,{Icon:nE})," Notes"),(0,e.h)(Wi,{url:(0,v.getDiscoverCategoryUrl)(),analyticsEvent:M.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(xs,{Icon:Ds})," Explore"),(0,e.h)(Wi,{url:(0,v.getChatUrl)(),analyticsEvent:M.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(xs,{Icon:mo})," Chat"),(0,e.h)(Wi,{url:(0,v.getNotificationsUrl)({utm_source:Ji}),analyticsEvent:M.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(xs,{Icon:Ts})," Activity",ye>0?(0,e.h)(iE,{className:"indicator-badge",count:ye}):null),(0,e.h)(Wi,{url:Je.url},(0,e.h)(xs,{Icon:Je.type==="no-dashboard"?ws:qa,className:"start-writing-icon"})," ",Je.type==="no-dashboard"?"Start writing":"Writer dashboard")),(0,e.h)("hr",null),dt&&(0,e.h)(Wi,{className:"secondary-item",url:(0,v.pathWithQuery)("/account",{utm_source:Ji}),analyticsEvent:M.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),(0,e.h)(Wi,{className:"secondary-item",url:(0,v.getGlobalAccountSettingsUrl)({utm_source:Ji}),analyticsEvent:M.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),(0,e.h)(Wi,{className:"secondary-item",url:aE},"Support"),(0,e.h)(Wi,{className:"secondary-item",url:(0,v.getSignoutUrl)({utm_source:Ji,for_pub:r==null?void 0:r.subdomain})},"Sign out"),i&&(0,e.h)(Wi,{className:"secondary-item",onClick:()=>{var Bt;(Bt=B.current)==null||Bt.close(),i()}},"Enter support mode"),f&&(0,e.h)(Wi,{className:"secondary-item",onClick:f},"Exit support mode"),r&&(t==null?void 0:t.is_global_admin)&&(0,e.h)(Wi,{className:"secondary-item",url:`${(0,v.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(t!=null&&t.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Wi,{className:"special-item",url:(0,v.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",(0,e.h)(ae.Z,{className:"item-badge branded",color:R.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,v.getHomeUrl)({utm_source:Ji})},"About"),(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:r,utm_source:Ji})},"Privacy"),(0,e.h)("a",{href:(0,v.getTermsUrl)({utm_source:Ji})},"Terms"),(0,e.h)("a",{href:(0,v.getInfoCollectionUrl)({utm_source:Ji})},"Collection notice"))))))):(0,e.h)(gt.Z,{href:(0,v.getSigninUrl)({for_pub:r==null?void 0:r.subdomain}),native:"true",className:d()("sign-in-link outline-grayscale",{"rounded-btn":wt,"force-desktop":Me})},I`Sign in`))}function Wi({className:n,url:t,analyticsEvent:r,onClick:i,children:f}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:x=>{r&&(0,M.j)(r),i&&i(x)},href:t,native:!0},f)}const lE=20;function xs({Icon:n,className:t}){return(0,e.h)(n,{className:d()(t,"indicator-item-icon"),height:lE,stroke:"var(--color-primary)",strokeWidth:2})}var uE=Object.defineProperty,cE=Object.defineProperties,dE=Object.getOwnPropertyDescriptors,fu=Object.getOwnPropertySymbols,Sp=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable,Ip=(n,t,r)=>t in n?uE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Dp=(n,t)=>{for(var r in t||(t={}))Sp.call(t,r)&&Ip(n,r,t[r]);if(fu)for(var r of fu(t))Tp.call(t,r)&&Ip(n,r,t[r]);return n},fE=(n,t)=>cE(n,dE(t)),pE=(n,t)=>{var r={};for(var i in n)Sp.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fu)for(var i of fu(n))t.indexOf(i)<0&&Tp.call(n,i)&&(r[i]=n[i]);return r};const pu=(0,e.createContext)({language:"en",country:"US"});pu.displayName="LocaleContext";function hE(){return useContext(pu)}function mE(n){var t=n,{children:r}=t,i=pE(t,["children"]);const f=(0,o.Ye)(()=>i,Object.values(i));return(0,e.h)(pu.Provider,{value:f},r)}function oW(n){const t=forwardRef((r,i)=>{const f=hE();return h(n,fE(Dp(Dp({},f),r),{ref:i}))});return t.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,t}const _E=(0,Po.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var Eo=St(76235),sl=St(11688),gE=St(34875),vE=St(27484),Ms=St.n(vE),is=St(67963);const as={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},yE=n=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,M.j)(M.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((r,i)=>(r[i]=n==null?void 0:n[i],r),{}))};function bE(){var n;const{activityUnreadCount:t}=(0,uu.lR)(),{exposeExperiment:r,getExperimentVariant:i}=(0,Ue.jc)(),{isLoading:f,result:x,refetch:k}=(0,io.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,o.d4)(()=>{t>0&&k()},[t]);const[W,B]=(0,o.eJ)(!1),[q,ye]=(0,o.eJ)(!1),{isLoading:Me,fetch:Re,result:ze}=(0,sl.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([St.e(783),St.e(630)]).then(St.bind(St,58630)),fetchImmediately:!1}),et=Ms()(),{userSettings:Je,changeSetting:dt}=(0,is.SE)(),Et=(n=x==null?void 0:x.activityItems)==null?void 0:n[0],wt=Et!=null&&Et.created_at?Ms()(Et==null?void 0:Et.created_at):et.subtract(100,"year"),xt=Je!=null&&Je.last_notification_alert_shown_at?Ms()(Je.last_notification_alert_shown_at):et.subtract(100,"year"),Bt=et.diff(wt,"day")<7&&wt.diff(xt,"hour")>2,kt=(0,o.sO)(null),on=2e3,pn=6e3,En=()=>{kt.current&&window.clearTimeout(kt.current)},vn=()=>{En(),kt.current=window.setTimeout(()=>{B(!1)},pn)};return(0,o.d4)(()=>{Bt&&t>0&&(r("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(ze&&!W?window.setTimeout(()=>{B(!0),dt("last_notification_alert_shown_at",Ms()().toISOString()),yE(Et),vn()},on):!ze&&!Me&&Re()))},[f,x,t,Me,Bt,W,B]),(0,e.h)(e.Fragment,null,(W||q)&&(0,e.h)(gE.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:W,beforeEnter:()=>ye(!0),afterLeave:()=>ye(!1),enter:as.transition,enterFrom:as.enterFrom,enterTo:as.enterTo,leave:as.transition,leaveFrom:as.leaveFrom,leaveTo:as.leaveTo},(0,e.h)(Ye.hs,{radius:12,border:"detail",className:as.alert,onMouseEnter:En,onMouseLeave:vn,shadow:"lg",bg:"elevated"},(0,e.h)(sl.cr,{module:"./MiniNotificationsViewer",resolve:hn=>hn.MiniNotificationsStack,onRequest:()=>Promise.all([St.e(783),St.e(630)]).then(St.bind(St,58630)),result:x,isReadOnly:!0}))))}var ed=St(95042);function PE({fill:n="outline",canShowAlerts:t=!1}){const r=(0,uu.lR)(),i=(0,Rt.xR)(),f=(0,io.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,o.d4)(()=>{r.activityUnreadCount>0&&(0,M.j)(M.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:r.activityUnreadCount})},[r.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(Eo.v2,{trigger:(0,e.h)(Gn.hU,{className:ed.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary"},(0,e.h)(_E,{"aria-hidden":!0,size:20,strokeWidth:2}),r.activityUnreadCount>0&&(0,e.h)(Op.in,{className:d()(ed.Z.badge,r.activityUnreadCount<10&&ed.Z.circle)},(0,e.h)(Ye.hs,{alignItems:"center",justifyContent:"center"},r.activityUnreadCount<100?r.activityUnreadCount:"99+"))),onOpen:()=>f.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(sl.cr,{module:"./MiniNotificationsViewer",resolve:x=>x.MiniNotificationsViewer,onRequest:()=>Promise.all([St.e(783),St.e(630)]).then(St.bind(St,58630)),resource:f})),t&&i.getConfigFor("show_first_notification_enabled")&&(0,e.h)(bE,null))}var EE=St(91041),ni=St(75425);const xp={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},Mp=(0,Po.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var wE=St(89581),Ba=St(33510),td=St(63295),nd=St(12650),Ho=St(53206);const bi={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var CE=Object.defineProperty,OE=Object.defineProperties,SE=Object.getOwnPropertyDescriptors,Ap=Object.getOwnPropertySymbols,TE=Object.prototype.hasOwnProperty,IE=Object.prototype.propertyIsEnumerable,Np=(n,t,r)=>t in n?CE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rp=(n,t)=>{for(var r in t||(t={}))TE.call(t,r)&&Np(n,r,t[r]);if(Ap)for(var r of Ap(t))IE.call(t,r)&&Np(n,r,t[r]);return n},Lp=(n,t)=>OE(n,SE(t));const Bp=({pub:n,isSignedIn:t})=>{var r;const[i,f]=(0,o.eJ)(!1),[x,k]=(0,o.eJ)(""),{getConfigFor:W}=(0,Rt.xR)(),B=!!((r=W("platform_searcher_enabled"))!=null&&r),{result:q,refetch:ye,error:Me,isLoading:Re,hasLoadedOnce:ze}=(0,io.ib)({pathname:"/api/v1/post/search",query:{query:x,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(B)},deps:[x],auto:!1}),et=(B?q==null?void 0:q.focused:q==null?void 0:q.results)||[],Je=B?(q==null?void 0:q.results)||[]:[],dt=(q==null?void 0:q.publications)||[],{triggerProps:Et,layerProps:wt,renderLayer:xt,isOpen:Bt,setOpen:kt}=(0,wE.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}});(0,o.d4)(()=>{if(x.length){kt(!0);const En=setTimeout(ye,300);return()=>clearTimeout(En)}kt(!1)},[x,kt]);const on=(0,o.sO)(null),pn=(0,o.I4)(En=>{if(En.key==="Enter"){if(!Bt||!x||!i)return;window.location.href=(0,v.getDiscoverSearchUrl)({query:x,params:{focusedPublicationId:n.id}})}else if(En.key==="Escape"){if(!i)return;k(""),f(!1),kt(!1)}},[i,Bt,x]);return(0,e.h)(e.Fragment,null,(0,e.h)(Ye.gq,Lp(Rp({},Et),{className:d()(bi.searchWrapper,i&&bi.active,t?bi.marginLeft:bi.marginRight),style:{width:i?"400px":"40px"},paddingLeft:i?16:0,alignItems:"center",justifyContent:i?"space-between":"center",onClick:i?void 0:()=>{f(!i),i||(setTimeout(()=>{var En;(En=on.current)==null||En.focus()},10),k(""))},gap:4}),(0,e.h)(Mp,{className:bi.trigger,"area-hidden":!0,size:20,strokeWidth:2}),i&&(0,e.h)("input",{ref:on,className:d()(bi.searcher),placeholder:"Search...",value:x,onChange:En=>{k(En.target.value)},onKeyDown:pn})),Bt&&xt((0,e.h)(Ye.tu,Lp(Rp({},wt),{radius:8,className:bi.dropdown,border:"detail-themed"}),!ze||Re&&!et.length&&!Je.length?(0,e.h)(Ye.gq,{radius:8,paddingY:20,className:bi.loading,justifyContent:"center"},(0,e.h)(Ba.Sv,{size:40})):Me?(0,e.h)(Ye.gq,{radius:8,className:bi.error,justifyContent:"start"},(0,e.h)(rt.xv.B3,{color:"pub-primary-text"},"Something went wrong.")):!et.length&&!Je.length?(0,e.h)(Ye.gq,{radius:8,padding:20,className:bi.empty,justifyContent:"start"},(0,e.h)(rt.xv.B3,{color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',x,'"'))):(0,e.h)(e.Fragment,null,et.map((En,vn)=>(0,e.h)(kp,{key:En.id,pub:n,post:En,isFirst:vn===0,isLast:!Je.length&&vn===et.length-1,hideBottomBorder:Je.length>0})),Je.length>0&&(0,e.h)(Ye.gq,{className:bi.more,paddingX:24,paddingY:8},(0,e.h)(rt.xv.B4,{weight:"semibold",color:"pub-primary-text"},et.length?"More results from across Substack":`No results found on ${n.name}. More results from across Substack`)),Je.map((En,vn)=>{const hn=dt.find(qn=>qn.id===En.publication_id);return hn?(0,e.h)(kp,{key:En.id,pub:hn,post:En,isLast:vn===Je.length-1,includePublication:!0}):null}),(0,e.h)(Ye.gq,{className:bi.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,v.getDiscoverSearchUrl)({query:x,params:{focusedPublicationId:n.id}})}},(0,e.h)(rt.xv.B4,{color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},kp=({pub:n,post:t,includePublication:r=!1,hideBottomBorder:i=!1,isLast:f=!1,isFirst:x=!1})=>{var k;const W=(k=t.reactions["\u2764"])!=null?k:0;return(0,e.h)(Ye.gq,{paddingX:12,onClick:()=>{window.location.href=(0,v.getPostUrl)(n,t)},width:"100%"},(0,e.h)(Ye.tu,{marginHeight:4,paddingTop:x?12:8,paddingBottom:f?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(Ye.gq,{className:bi.result,gap:16,padding:12,radius:8},t.cover_image&&(0,e.h)("img",{src:(0,v.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:bi.photo}),(0,e.h)(Ye.tu,{gap:4,className:bi.metadata},r&&(0,e.h)(rt.xv.Meta,null,n.name),(0,e.h)(rt.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(rt.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(Ye.gq,{alignItems:"center",gap:4},(0,e.h)(rt.xv.Meta,{color:"pub-secondary-text",className:d()(bi.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Bn()(t.post_date).toISOString()},(0,Ho.fh)({post:t,showDatetime:!1}))),W>0&&(0,e.h)(e.Fragment,null,(0,e.h)(nd.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(rt.xv.Meta,{color:"pub-secondary-text",className:bi.paddingRight},W)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(td.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(rt.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var hu=St(96098);const DE={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function xE({children:n}){return(0,e.h)("div",{className:DE.pubAccentTheme},n)}var ME=Object.defineProperty,AE=Object.defineProperties,NE=Object.getOwnPropertyDescriptors,mu=Object.getOwnPropertySymbols,Up=Object.prototype.hasOwnProperty,Fp=Object.prototype.propertyIsEnumerable,jp=(n,t,r)=>t in n?ME(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Wp=(n,t)=>{for(var r in t||(t={}))Up.call(t,r)&&jp(n,r,t[r]);if(mu)for(var r of mu(t))Fp.call(t,r)&&jp(n,r,t[r]);return n},Hp=(n,t)=>AE(n,NE(t)),RE=(n,t)=>{var r={};for(var i in n)Up.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&mu)for(var i of mu(n))t.indexOf(i)<0&&Fp.call(n,i)&&(r[i]=n[i]);return r},_u=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const ka=St(6378),LE=({className:n,baseRef:t,user:r,freeSignup:i,freeSignupEmail:f,pub:x,hide_subscribe_cta:k,showCustomerSupportModeModal:W,hideCta:B,hideNotifications:q,hideUserIndicator:ye,hideSearch:Me,isPublishContext:Re,isMeetingsActive:ze,fixedTooltip:et=!0})=>{const Je=(0,o.sO)(null),{getSettingFor:dt}=(0,De.So)(),Et=(0,Ue.jc)(),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(!1),on=(0,ni.pm)(),pn=(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin),En=(r==null?void 0:r.is_global_admin)&&(r==null?void 0:r.is_admin)&&!(r!=null&&r.is_author),vn=(0,o.I4)(()=>_u(void 0,null,function*(){try{yield ie().del("/api/v1/customer_support_mode"),document.location.href="/"}catch($n){alert((0,b.getNetworkErrorMessage)($n))}}),[]),hn=()=>_u(void 0,null,function*(){xt(!0);try{yield ie().post("/api/v1/subscription/reactivate").send({}),kt(!0),on.popToast($n=>(0,e.h)(ni.FN,Hp(Wp({},$n),{text:"Your subscription has been renewed!"})))}catch($n){console.error("Failed to set to renew:",$n),alert((0,b.getNetworkErrorMessage)($n))}finally{xt(!1)}}),qn=(0,o.I4)(()=>_u(void 0,null,function*(){var $n;($n=Je.current)==null||$n.open()}),[Je]),Yn=Re?xE:hu.h;return(0,e.h)("div",{className:d()("navbar-buttons",n),ref:t},(0,e.h)(Yn,null,(0,e.h)(Rt.QA.Consumer,null,$n=>(0,e.h)(pu.Consumer,null,yn=>(0,e.h)(e.Fragment,null,!Me&&!(0,b.isMobileBrowser)()&&!r&&(0,e.h)(Bp,{pub:x,isSignedIn:!1}),!B&&kE({pub:x,user:r,freeSignup:i,freeSignupEmail:f,hide_subscribe_cta:k,viralGiftsConfig:x.viralGiftsConfig,isPublishContext:Re,localeContext:yn,siteConfigContext:$n,isMeetingsActive:ze,getSettingFor:dt,experimentApi:Et,renewing:wt,renewed:Bt,setToRenew:hn}),!Me&&!(0,b.isMobileBrowser)()&&r&&(0,e.h)(Bp,{pub:x,isSignedIn:!0}),!q&&r&&!(0,b.isMobileBrowser)()&&(0,e.h)(PE,{fill:"borderless",canShowAlerts:!x||Re}),!ye&&(0,e.h)(sE,{pub:x,user:r,enableCustomerServiceMode:pn?qn:null,disableCustomerServiceMode:En?vn:null,fixedTooltip:et}))))),pn&&(0,e.h)(cu.h,null,(0,e.h)(Gt.p,{className:"account-info-customer-support-mode-modal",ref:Je,openByDefault:W&&pn},(0,e.h)(Er,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:$n=>{var yn;return(yn=Je.current)==null?void 0:yn.close($n)}}))))},BE=({pub:n,dashboardPubs:t})=>{const r=(0,vi.XA)(),{getConfigFor:i}=(0,Rt.xR)(),f=i("new_dashboard");return(0,e.h)(EE.a,{priority:"primary",fill:"outline",size:r?"small":"medium",menuItems:t.map(({logo_url:x,name:k,subdomain:W})=>(0,e.h)(Eo.sN,{className:xp.menuItem,href:(0,v.getDashboardUrlForSubdomain)(W,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:xp.menuIcon,width:20,src:(0,v.imginary)(x||"/img/substack-nomargin.png",20)}),priority:n.subdomain===W?"selected":"primary"},k)),href:f?(0,Ze.getDashboardHomeUrl)(n,{addBase:!0}):(0,v.getPostDashboardUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:"Dashboard",mobileBottomSheetSubtitle:"Select a publication"}},"Dashboard")},Vp=({dashboardPubs:n,pub:t,useNewDashLink:r})=>n.length>1?(0,e.h)(BE,{pub:t,dashboardPubs:n}):(0,e.h)(ia,{className:"outline",href:r?(0,Ze.getDashboardHomeUrl)(t,{addBase:!0}):(0,v.getPostDashboardUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},"Dashboard");function kE({user:n,pub:t,freeSignup:r,freeSignupEmail:i,hide_subscribe_cta:f,isPublishContext:x,isMeetingsActive:k,siteConfigContext:W,getSettingFor:B,experimentApi:{exposeExperiment:q,getExperimentVariant:ye},renewing:Me,renewed:Re,setToRenew:ze}){var et,Je,dt,Et,wt,xt,Bt,kt,on,pn;t.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(f=!0);const En=n==null?void 0:n.is_contributor,vn=(n==null?void 0:n.is_subscribed)||En,hn=(n==null?void 0:n.is_free_subscribed)||r,qn=ka.paymentsAreEnabled(t)&&vn&&["gift","comp"].includes(n.subscription_type)&&Bn()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),Yn=ka.paymentsAreEnabled(t)&&ka.userIsFreeOnly(n)&&n.comp_expired_recently,$n=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),yn=((et=n==null?void 0:n.dashboard_pubs)==null?void 0:et.length)===1;if(En){const mn=(n==null?void 0:n.dashboard_pubs)||[];return x&&mn.length===1?[]:!t.has_posts&&!(0,b.isMobileBrowser)()?[(0,e.h)(ia,{className:"primary fill new-post-btn",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,b.redirect)((0,v.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},"New post"),(0,e.h)(Vp,{dashboardPubs:mn,pub:t,useNewDashLink:yn})]:(0,e.h)(Vp,{dashboardPubs:mn,pub:t,useNewDashLink:yn})}else{if($n)return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,b.redirect)((0,v.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},"Unpause My Subscription");if(qn||Yn)return f?null:(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:qn&&(n!=null&&n.is_founding)?t.plans.find(mn=>mn.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Subscribe"),(0,e.h)("span",{className:"desktop-only"},"Continue your support"));if(ka.paymentsAreEnabled(t)&&hn&&!vn&&!["thebulwark"].includes(t.subdomain))return f?null:(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,he.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,b.isMobileBrowser)()}));if(ka.paymentsAreEnabled(t)?!vn:!(hn||vn)){if(!f){const mn=(Et=(dt=(Je=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:Je.split)==null?void 0:dt.call(Je,","))==null?void 0:Et[0],cr=(Bt=(xt=(wt=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:wt.split)==null?void 0:xt.call(wt,","))==null?void 0:Bt.slice(1);return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>_u(this,null,function*(){const Hn=n&&!n.is_magic&&n.email||i;if((0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Hn){try{yield ie().post("/api/v1/free").send({source:"menu",email:Hn,first_url:s.xY,first_referrer:s.ip,current_url:s.UE,current_referrer:s.xU,referring_pub_id:mn,additional_referring_pub_ids:cr})}catch(Kn){(0,M.j)(M.FP.FREE_SIGNUP_FAILED,{reason:Kn.message})}window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0})}else window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,he.getSubscribeText)(t,{isFreeSubscribed:hn,isMobile:(0,b.isMobileBrowser)()}))}return null}else{if(t.invite_only&&vn&&n.invites<t.subscriber_invites)return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,b.redirect)((0,v.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,(0,he.pluralize)(t.subscriber_invites-n.invites,"invite")," left"));if(ka.paymentsAreEnabled(t)&&k&&!W.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,b.redirect)((0,Ze.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Book meeting"),(0,e.h)("span",{className:"desktop-only"},"Book a meeting"));if(ka.paymentsAreEnabled(t)&&n.is_subscribed&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),ze()},disabled:Me||Re,style:{visibility:Re?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},"Renew"),(0,e.h)("span",{className:"desktop-only"},"Renew subscription"));if(ka.paymentsAreEnabled(t)&&!n.is_founding&&Bn()(n.subscription_first_payment_at).isBefore(Bn()().subtract(48,"hours"))&&((pn=(on=(kt=t==null?void 0:t.plans)==null?void 0:kt.find(mn=>mn.metadata.founding))==null?void 0:on.metadata)==null?void 0:pn.short_description)==="Founding Member"){if(q("navbar_founding_cta_holdout"),ye("navbar_founding_cta_holdout")==="treatment")return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:t.plans.find(cr=>cr.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Upgrade"),(0,e.h)("span",{className:"desktop-only"},"Upgrade to founding"))}else{if(t.payments_state==="disabled"&&!t.invite_only&&B("payment_pledges_enabled")&&hn&&!(n!=null&&n.is_pledged))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,b.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Pledge your support");if(t.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(ia,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,M.j)(M.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,b.redirect)((0,v.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},"Start publishing")}}}return null}function ia(n){var t=n,{className:r="primary subscribe-cta subscribe-btn"}=t,i=RE(t,["className"]);const f=(0,o.qp)(Cp),x=!1;return(0,e.h)(gt.Z,Hp(Wp({},i),{className:d()(r,{"rounded-btn":x,"force-desktop":f})}))}const UE=LE;var FE=St(49336),jE=St(56743),ll=St(2564);const ul={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Kp=10,WE=250;function HE({className:n,items:t,menuItemClassName:r,selectedMenuItemClassName:i,selectedSlug:f,pub:x}){const k=(0,o.sO)(null),[W,B]=(0,o.eJ)(!1),[q,ye]=(0,o.eJ)(!1);function Me(et){const{scrollLeft:Je,scrollWidth:dt,clientWidth:Et}=et;B(Je>Kp),ye(dt-(Et+Je)>Kp)}const Re=et=>Me(et.target),ze=et=>()=>{const{current:Je}=k;Je&&Je.scrollBy({left:et*WE,behavior:"smooth"})};return(0,o.d4)(()=>{Me(k.current)},[]),(0,e.h)("div",{className:d()("overflow-list-container",n)},(0,e.h)("div",{className:d()("section-bar",{scroll:!0,"overflow-left":W,"overflow-right":q})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:Re},t.map(({label:et,href:Je,slug:dt,isNative:Et,onClick:wt,noFollow:xt,subItems:Bt})=>Bt?(0,e.h)(Eo.v2,{trigger:(0,e.h)("div",{className:d()("menu-item",{selected:dt===f},r,i&&{[i]:dt===f})},(0,e.h)(qt.Z,{className:ul.subMenuTrigger,onClick:wt,native:Et,rel:xt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},et),(0,e.h)(FE.Z,{className:ul.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:et},Bt.map(({label:kt,href:on,slug:pn,isNative:En,onClick:vn,noFollow:hn,logoUrl:qn})=>{const Yn=parseInt(pn)===(x==null?void 0:x.id);return(0,e.h)(Eo.sN,{icon:(0,e.h)("img",{className:ul.logo,width:20,src:(0,v.imginary)(qn||"/img/substack-nomargin.png",40)}),href:on,onClick:vn,native:En,rel:hn?"nofollow":void 0,priority:"primary",disabled:Yn,className:d()(ul.subMenuItem,{[ul.disabled]:Yn})},kt)})):(0,e.h)("div",{className:d()("menu-item",{selected:dt===f},r,i&&{[i]:dt===f})},(0,e.h)(qt.Z,{href:Je,onClick:wt,native:Et,rel:xt?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},et))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:ze(-1)},(0,e.h)(jE.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:ze(1)},(0,e.h)(ll.Z,{strokeWidth:1.5})))))}const $p=(n,t)=>n.subItems?new GE(n):n.base_url?new VE(n):n.name&&n.id&&n.url?new zE(n,t):n.isPodcast?new KE(n):new $E(n,t);class cl{constructor(t){this._obj=t}truncatedName(){return(0,he.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,r){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class VE extends cl{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,Ze.getBaseUrl)(this._obj)}}class KE extends cl{constructor(t,r){super(t)}isPodcast(){return!0}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return(0,Ze.getBaseUrl)(this._obj)}}class $E extends cl{constructor(t,r){super(t),this._homepageUrl=(0,Ze.getSectionUrl)(r,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return this._homepageUrl}}class zE extends cl{constructor(t,r){super(t),this._maybeNoFollow=t.noFollow,this._pubTier=(r==null?void 0:r.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class GE extends cl{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map($p)}}const ZE=({pub:n,selectedSectionId:t,sectionRawItems:r,isPublishContext:i})=>{const f=r.map(k=>$p(k,n)),x=k=>{var W,B;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(W=k.logoUrl)==null?void 0:W.call(k),subItems:(B=k.subItems())==null?void 0:B.map(x)}};return(0,e.h)(HE,{items:f.map(x),className:d()("sections-overflow",{"publish-menu":i}),height:48,selectedSlug:t,fudgeFactor:8,useHorizontalScrolling:i,pub:n})};var YE=Object.defineProperty,zp=Object.getOwnPropertySymbols,JE=Object.prototype.hasOwnProperty,QE=Object.prototype.propertyIsEnumerable,rd=(n,t,r)=>t in n?YE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XE=(n,t)=>{for(var r in t||(t={}))JE.call(t,r)&&rd(n,r,t[r]);if(zp)for(var r of zp(t))QE.call(t,r)&&rd(n,r,t[r]);return n},Ua=(n,t,r)=>(rd(n,typeof t!="symbol"?t+"":t,r),r),od,Gp,id,Zp;const ad=St(6378),Yp=(n,t)=>{var r,i;return((r=n.sibling_rank)!=null?r:1/0)-((i=t.sibling_rank)!=null?i:1/0)||(n.name<t.name?-1:n.name>t.name?1:0)};class gu extends e.Component{constructor(){super(...arguments),Ua(this,"menuHeight",0),Ua(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((Gp=(od=window.location.hash)==null?void 0:od.startsWith)!=null&&Gp.call(od,"#footnote")||(Zp=(id=window.location.hash)==null?void 0:id.startsWith)!=null&&Zp.call(id,"#tiktok")))}),Ua(this,"onClick",t=>{var r,i;((r=t.target)!=null&&r.classList.contains("footnote-number")||(i=t.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),Ua(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,r=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,f=r>630,x=f?24*2:12*2,k=f&&.5*r-i-x>.5*t;this.setState({buttonsContainerWidth:k?`${i}px`:"auto",centerTitle:k})}),Ua(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const r=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,b.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,b.maxScroll)()))if(this.scrollTop<t){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>r?(this.menuTop=r,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=r,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<r-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),Ua(this,"onHeadlineClick",t=>{this.publicationPicker?(t.preventDefault(),this.publicationPicker.open()):(0,M.j)(M.FP.NAV_BAR_HOME_LINK_CLICKED)}),Ua(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return ad.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,user:r,freeSignup:i,freeSignupEmail:f,pub:x,publicationPicker:k,publicationPickerPath:W,lowChrome:B,hide_subscribe_cta:q,isPublishContext:ye,hideTitle:Me,showCustomerSupportModeModal:Re,signupForFreeVariant:ze,isMeetingsActive:et,hideNavbarSearch:Je},{animated:dt,buttonsContainerWidth:Et,centerTitle:wt}){const xt=!k&&(x==null?void 0:x.parent_publication)||x,Bt=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:d()("main-menu",t,{animated:dt,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":B})},(0,e.h)("div",{className:"main-menu-content",ref:kt=>this.menuContent=kt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},k&&!B&&(x.parent_publication||x.child_publications.length>0)&&(0,e.h)(Fi.ZP,{ref:kt=>this.publicationPicker=kt,className:"publication-picker",noPlace:!0,noTail:!0},[x,x.parent_publication].concat(x.child_publications.concat(x.sibling_publications).sort((kt,on)=>kt.name.toLowerCase().localeCompare(on.name.toLowerCase()))).filter(kt=>kt).map(kt=>(0,e.h)("a",{href:kt.base_url+(kt.id===x.id?"/":W||"/")},kt.name))),!B&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:d()("navbar-logo-container",xt.logo_url?"":"no-logo"),style:{width:Et}},xt.logo_url&&(0,e.h)("a",{href:(0,Ze.getBaseUrl)(xt),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,Ze.imginary)(xt.logo_url,96)}))),!Me&&(0,e.h)("h1",{className:d()("navbar-title",{"left-align":!wt,loading:Bt})},(0,e.h)("a",{className:"navbar-title-link",href:(0,Ze.getBaseUrl)(xt),ref:kt=>this.largeMenuPubTitle=kt},xt.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${xt?"":"substack-logo-wordmark"}`,src:(0,Ze.imginary)(xt?xt.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:xt?xt.name:"Substack"}):xt.name),!ye&&x.parent_publication&&(0,e.h)(qE,{title:x.name})),(0,e.h)(UE,{baseRef:kt=>this.buttonsContainer=kt,user:r,freeSignup:i,freeSignupEmail:f,hide_subscribe_cta:q,isPublishContext:ye,pub:x,hideSearch:ye||!!Je,signupForFreeVariant:ze,showCustomerSupportModeModal:Re,isMeetingsActive:et}))),this.shouldShowSectionsNavBar()&&(0,e.h)(e2,XE({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Ua(gu,"contextType",gi);const qE=({title:n})=>{const t=(0,vi.XA)();return(0,e.h)(rt.xv,{size:t?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),n)};function e2({isPublishContext:n,pub:t,user:r,isChatActive:i,isMeetingsActive:f,hasMeetingsBooked:x,selectedSectionId:k}){var W,B;const{getConfigFor:q}=(0,Rt.xR)(),{getSettingFor:ye}=(0,De.So)();let Me=[];const Re=Bn()(t.created_at)>Bn()("2023-03-10T13:00:00-05:00")&&(!(r!=null&&r.dashboard_pubs)||r.dashboard_pubs.length===1)||q("new_dashboard"),ze=ye("notes_feed_enabled"),et=!!(ye("reader_referrals_enabled")&&ye("reader_referrals_leaderboard_enabled")),Je=q("post_management");if(n)Re&&Me.push({id:"/publish/home",url:(0,Ze.getDashboardHomeUrl)(t,{addBase:!0}),name:"Home"}),Me.push(...Je?[{id:"/publish/posts",url:"/publish/posts",name:"Posts"}]:[{id:"/publish",url:(0,Ze.getPostDashboardUrl)(t),name:"Posts"}],{id:"/publish/podcasting",url:(0,v.getPodcastingUrl)(t,{addBase:!0}),name:"Podcast"},{id:"/publish/subscribers",url:(0,v.getSubscriberStatsUrl)(t,{addBase:!0}),name:"Subscribers"}),r&&r.is_admin&&(Me.push({id:"/publish/stats",url:"/publish/stats",name:"Stats"}),Me.push({id:"/publish/recommendations",url:"/publish/recommendations",name:"Recommendations"}),(f||x)&&Me.push({id:"/publish/meetings",url:"/publish/meetings",name:"Meetings"}),Me.push({id:"/publish/settings",url:(0,Ze.getPublishSettingsUrl)(t,{addBase:!0}),name:"Settings"}));else{if((W=t.child_publications)!=null&&W.length)Me.push({id:"/home",url:"/",name:"Home"},...t.child_publications.sort(Yp));else if(t.parent_publication||(B=t.sibling_publications)!=null&&B.length){const dt=[t,...t.sibling_publications].sort(Yp).map(Et=>Et.id===t.id&&!ad.isBulwarkPub(t)?{id:"/home",url:"/",name:t.name}:Et);Me.push({id:"/parent",url:(0,Ze.getBaseUrl)(t.parent_publication),name:"Home"},...dt)}else Me.push({id:"/home",url:"/",name:"Home"}),t.podcast_enabled&&t.show_pub_podcast_tab&&Me.push({id:"/podcast",url:"/podcast",name:"Podcast",isPodcast:!0});for(const dt of qe(t.navigationBarItems||[],{isFeedEnabled:ze,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:f,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:et}).filter(Et=>!Et.is_hidden)){const Et=Ae(dt);dt.section?Me.push(dt.section):Me.push({id:(0,Ze.getNavigationBarItemUrl)(t.parent_publication||t,dt,{addBase:!1}),url:(0,Ze.getNavigationBarItemUrl)(t.parent_publication||t,dt,{addBase:!dt.standard_key}),name:Ce(dt),noFollow:!dt.standard_key&&Et==="link"})}}return ad.isBulwarkPub(t)&&(Me=Me.reduce((dt,Et)=>{if(Et.type==="newsletter"){const wt=dt.find(xt=>xt.name==="Newsletters");return wt?wt.subItems=[...wt.subItems,Et]:dt=[...dt,{name:"Newsletters",subItems:[Et]}],dt}if(Et.type==="podcast"){const wt=dt.find(xt=>xt.name==="Podcasts");return wt?wt.subItems=[...wt.subItems,Et]:dt=[...dt,{name:"Podcasts",subItems:[Et]}],dt}return[...dt,Et]},[])),(0,e.h)(ZE,{pub:t,selectedSectionId:k,sectionRawItems:Me,isPublishContext:n})}const Jp=({pub:n,url:t})=>{var r,i;if(!t.includes("api.substack.com"))return null;if(t.includes(`/feed/podcast/${n.id}.rss`))return n.podcast_title||n.name;if(t.includes(`/feed/podcast/${n.id}/s/`)){const f=(i=(r=t.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:r.groups)==null?void 0:i.sectionId;if(!f)return"Unknown section";const x=n.sections.find(k=>k.id===parseInt(f));return x?x.name:"Unknown Section"}return"another podcast"},Qp=({pub:n,url:t})=>t.includes("api.substack.com")?t.includes(`/feed/podcast/${n.id}/s/`)||t.includes(`/feed/podcast/${n.id}.rss`):!1,t2=n=>{if(!n)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!n.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!n.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const t=Jp({pub:n,url:n.podcast_feed_url});return t?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${t}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n.podcast_feed_url}.`}},n2=({pub:n,section:t})=>{var r;if(!t.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;if(!i)return{can_syndicate:!0,hover_text:null};const f=Jp({pub:n,url:i});return f?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${f}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}},aW=({pub:n})=>{var t;const r=[];if(n.podcast_enabled||n.podcast_title){const i=t2(n);r.push({name:n.podcast_title||n.name,description:n.podcast_description||"",can_publish_to:i.can_syndicate,hover_text:i.hover_text,publication_id:n.id,section_id:null})}for(const i of(t=n.sections)!=null?t:[]){if(!i.is_podcast)continue;const f=n2({pub:n,section:i});r.push({name:i.name,description:i.description,can_publish_to:f.can_syndicate,hover_text:f.hover_text,publication_id:n.id,section_id:i.id})}return r},r2=n=>!n||!n.podcast_enabled?!1:n.podcast_feed_url?!Qp({pub:n,url:n.podcast_feed_url}):!0,o2=({pub:n,section:t})=>{var r;if(!t.is_podcast)return!1;const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;return i?!Qp({pub:n,url:i}):!0},sW=(n,t=0)=>t?i2(n,t):n.email_disabled?"none":n.receive_podcast_emails?"all":"allButPodcasts",i2=(n,t)=>{var r;return!n.email_settings||!n.email_settings[t]?null:n.email_settings[t]==="disabled"?"none":(r=n.section_podcasts_enabled)!=null&&r.includes(t)?"all":"allButPodcasts"},a2=({pub:n,includeMainPub:t})=>{var r;if(!n)return[];const i=[];return t&&i.push({name:n.name,description:n.hero_text,logoUrl:n.logo_url,sectionId:null,linkUrl:(0,v.getArchiveUrl)(n),defaultOn:!0}),(r=n.sections)==null||r.forEach(f=>{i.push({name:f.name,description:f.description,logoUrl:f.logo_url,sectionId:f.id,linkUrl:(0,Ze.getSectionUrl)(n,{section:f}),defaultOn:f.is_default_on})}),i};var s2=Object.defineProperty,l2=Object.defineProperties,u2=Object.getOwnPropertyDescriptors,Xp=Object.getOwnPropertySymbols,c2=Object.prototype.hasOwnProperty,d2=Object.prototype.propertyIsEnumerable,qp=(n,t,r)=>t in n?s2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,f2=(n,t)=>{for(var r in t||(t={}))c2.call(t,r)&&qp(n,r,t[r]);if(Xp)for(var r of Xp(t))d2.call(t,r)&&qp(n,r,t[r]);return n},p2=(n,t)=>l2(n,u2(t));const eh=n=>(0,e.h)(N.l,p2(f2({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var th=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const da=()=>{const n=(0,$t.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),t=(0,$t.useMediaQuery)({query:"only screen and (max-width: 768px)"});let r;return typeof window=="undefined"?r=(0,P.isMobile)()?"mobile":"desktop":r=t?"mobile":n?"tablet":"desktop",{breakpoint:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},uW=({pub:n})=>{const[t,r]=useState([]),[i,f]=useState([]),[x,k]=useState([]),[W,B]=useState([]),[q,ye]=useState(!1);return useEffect(()=>{request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Me})=>{r(Me),ye(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Me})=>f(Me)),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Me})=>k(Me)),request.get("/api/v1/homepage_links").then(({body:Me})=>B(Me))},[n.id]),{homepageLinks:W,newPosts:t,pinnedPosts:i,postsLoaded:q,recommendations:[],topPosts:x}},h2=n=>{const[t,r]=(0,o.eJ)(n.newPosts),[i,f]=(0,o.eJ)(n.pinnedPosts),[x,k]=(0,o.eJ)(n.topPosts),W=new Set((i||[]).map(ye=>ye.id)),B=(i||[]).concat((t||[]).filter(ye=>!W.has(ye.id)));(0,o.d4)(()=>{var ye,Me,Re;((ye=n.newPosts)==null?void 0:ye.length)!==t.length&&r(n.newPosts),((Me=n.pinnedPosts)==null?void 0:Me.length)!==i.length&&f(n.pinnedPosts),((Re=n.topPosts)==null?void 0:Re.length)!==x.length&&k(n.topPosts)},[n.newPosts,n.pinnedPosts,n.topPosts,t==null?void 0:t.length,i==null?void 0:i.length,x==null?void 0:x.length]);const q=(0,o.I4)(({post:ye})=>{if(!ye)return;const Me=[{list:x,setter:k},{list:i,setter:f},{list:t,setter:r}];for(const Re of Me){if(!Re.list)return;const ze=Re.list.findIndex(et=>et.id===ye.id);if(ze!==-1){const et=[...Re.list];et.splice(ze,1,ye),Re.setter(et)}}},[t,i,x]);return{posts:B,topPosts:x,onChange:q}},cW=({bodyId:n})=>{const[t,r]=useState(null),[i,f]=useState(null);return useEffect(()=>{n==="grid-groups"&&(i||th(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/sections");f(k.body)}catch(k){console.error(k)}}),t||th(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/post-tag");r(k.body)}catch(k){console.error(k)}}))},[n,t,i]),{postTags:t,sections:i}},hi={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},m2=({newsletter:n,hideLink:t=!1,onToggle:r,onClick:i})=>{const{isMobile:f}=da();i&&r&&console.error("you cannot pass both onToggle and onClick");const x=W=>{W.stopPropagation(),r==null||r({sectionId:n.sectionId,isSelected:!n.selected})},k=!!r;return f?(0,e.h)(_2,{newsletter:n,hideLink:t,onClick:i,onToggle:r}):(0,e.h)(Jt.tu,{className:d()(hi.container,{[hi.selectedContainer]:k&&n.selected,[hi.selectableContainer]:k,[hi.clickableContainer]:!!i}),justifyContent:"space-between",radius:8,padding:16,onClick:k?x:i!=null?i:void 0},k&&n.selected?(0,e.h)(eh,{className:d()(hi.selector)}):k?(0,e.h)("div",{className:d()(hi.unselected,hi.selector)}):null,(0,e.h)(Jt.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:hi.img},n.logoUrl&&(0,e.h)("img",{className:hi.img,src:(0,v.imginary)(n.logoUrl,64)})),(0,e.h)(Jt.tu,{gap:8},(0,e.h)(Jt.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(Jt.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!t&&(0,e.h)(Jt.xv,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:hi.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},_2=({newsletter:n,hideLink:t,onClick:r,onToggle:i})=>{const f=!!i,x=k=>{k.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(Jt.tu,{className:d()(hi.containerMobile,{[hi.selectedContainer]:f&&n.selected,[hi.selectableContainer]:f,[hi.clickableContainer]:!!x}),justifyContent:"space-between",radius:8,padding:16,onClick:f?x:r!=null?r:void 0},f&&n.selected?(0,e.h)(eh,{className:d()(hi.selector)}):f?(0,e.h)("div",{className:d()(hi.unselected,hi.selector)}):null,(0,e.h)(Jt.tu,{gap:8},(0,e.h)(Jt.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:hi.imgMobile,src:(0,v.imginary)(n.logoUrl,64)}),(0,e.h)(Jt.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(Jt.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!t&&(0,e.h)(Jt.xv,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},g2={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},v2=({newsletters:n,hideLinks:t,onNewsletterClick:r,justifyItems:i})=>(0,e.h)(Ye.gq,{className:g2.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,"No additional newsletters"),n.map((f,x)=>(0,e.h)(m2,{newsletter:f,key:x,hideLink:t,onToggle:r?({sectionId:k,isSelected:W})=>{r({sectionId:k,isSelected:W})}:void 0,onClick:t?void 0:()=>{(0,b.redirect)(f.linkUrl,{local_navigation:!1})}}))),sd={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var y2=Object.defineProperty,b2=Object.defineProperties,P2=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,E2=Object.prototype.hasOwnProperty,w2=Object.prototype.propertyIsEnumerable,rh=(n,t,r)=>t in n?y2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,C2=(n,t)=>{for(var r in t||(t={}))E2.call(t,r)&&rh(n,r,t[r]);if(nh)for(var r of nh(t))w2.call(t,r)&&rh(n,r,t[r]);return n},O2=(n,t)=>b2(n,P2(t));const S2=({pub:n,user:t})=>{const r=a2({pub:n,includeMainPub:!0}).map(i=>O2(C2({},i),{linkUrl:(0,v.updateQuery)(i.linkUrl,{utm_source:"newsletter_page"}),selected:i.defaultOn}));return r.length===0?(typeof window!="undefined"&&(window.location.href=(0,Ze.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:d()("page","typography",sd.container)},(0,e.h)(Jt.tu,null,(0,e.h)(Jt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Jt.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(Jt.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(Jt.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:sd.accountLink,href:(0,v.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(Jt.zx,{priority:"primary-theme",href:(0,v.getSubscribeUrl)(n,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(Jt.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:sd.newsletterList},(0,e.h)(v2,{newsletters:r,hideLinks:!1,justifyItems:"start"}))))};var T2=St(92643),vu=St(10174),ld=St(72307);function I2({user:n=void 0,children:t=void 0,siteConfigs:r={},hasThemedBackground:i=void 0,language:f=void 0,country:x=void 0,experimentInfo:k={},portalRoot:W=void 0,shouldLoad:B=void 0,shouldPollNotifications:q=!1,publicationSettings:ye={},userSettings:Me=void 0}){B===void 0&&(B=!!n);const Re=(0,ld.lV)(!!n);return(0,e.h)(mE,{language:f,country:x},(0,e.h)(S.ze,{value:{hasThemedBackground:i}},(0,e.h)(Rt.vC,{siteConfigs:r},(0,e.h)(Ue.Vt,{siteConfigs:r,experimentInfo:k},(0,e.h)($r,{siteConfigs:r,experimentInfo:k},(0,e.h)(De.Iz,{settings:ye},(0,e.h)(uu.N$,{shouldLoad:B,shouldPoll:q},(0,e.h)(cu.X,{root:W},(0,e.h)(is.dr,{defaultValue:n,settings:Me},(0,e.h)(T2.am,null,(0,e.h)(ni.VW,null,(0,e.h)(ld.e.Provider,{value:Re},(0,e.h)(vu.Au,null,t)))))))))))))}var ss=St(4605),ud=St(71720);function D2(){return(0,e.h)(sl.cr,{module:"../feed/PublicationPage",onRequest:()=>St.e(853).then(St.bind(St,88853)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(x2,null)})}function x2(){return(0,e.h)(hu.h,null,(0,e.h)(Ye.hs,{bg:"primary",style:{minHeight:800}}))}var M2=Object.defineProperty,A2=Object.defineProperties,N2=Object.getOwnPropertyDescriptors,oh=Object.getOwnPropertySymbols,R2=Object.prototype.hasOwnProperty,L2=Object.prototype.propertyIsEnumerable,ih=(n,t,r)=>t in n?M2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,B2=(n,t)=>{for(var r in t||(t={}))R2.call(t,r)&&ih(n,r,t[r]);if(oh)for(var r of oh(t))L2.call(t,r)&&ih(n,r,t[r]);return n},k2=(n,t)=>A2(n,N2(t));function U2(){const n=(0,ni.pm)();return(0,o.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),n.popToast(i=>(0,e.h)(ni.FN,k2(B2({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var ls=St(63030),As=St(71375),ah=St(16527),aa=St(92271);const cd={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var F2=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const j2=(n,t,r,i,f)=>{if(!t)return null;switch(n){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,v.getReaderOnboardingUrl)(t,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!t.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,v.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(Ye.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,Ze.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(rt.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(rt.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,he.numberToOrdinal)(f)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,v.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function W2({user:n,pub:t=null,noBase:r=!1}){const i=(0,ni.pm)();return(0,o.d4)(()=>{function f(){return F2(this,null,function*(){yield ie().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const x=new URL(location.toString()),k=x.searchParams.get("profile-setup-message");if(!k)return;const W=k==="start-writing"?Number(x.searchParams.get("nthPub")):void 0;if(x.searchParams.delete("nthPub"),x.searchParams.delete("profile-setup-message"),history.replaceState({},"",x),!(k!=="post-subscribe-prompt"))return;const q=j2(k,n,r,t,W);q&&(k==="start-writing"&&f(),i.popToast(({onClose:ye})=>(0,e.h)(Ye.tu,{className:cd.wrapper,justifyContent:"space-between"},(0,e.h)(Ye.tu,{gap:8},(0,e.h)(Ye.gq,{className:cd.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(aa.z,{look:"flex",onClick:ye},(0,e.h)(As.Z,{size:20}))),(0,e.h)(rt.xv.H3,{className:cd.header},q.title),q.body),(0,e.h)(aa.z,{variant:q.ctaVariant,fill:"filled",onClick:Me=>{(0,ah.Q)(Me,q.ctaLink,{native:!0}),ye()}},q.ctaText)),{ttl:null}))},[]),null}var Ti=St(58884);const H2=["sort"],V2=["sort","selection"];function sh(n,t){const r=new URL(`${location.protocol}//${location.host}${n}`);for(const i of r.searchParams.keys())(t?V2:H2).includes(i)||r.searchParams.delete(i);return r.toString()}function K2({previous:n,url:t}){var r,i;if(typeof window=="undefined")return;const f=sh(t,!1),x=sh(t,!0),{head:k}=document;(r=k.querySelector("link[rel=canonical]"))==null||r.setAttribute("href",f),(i=k.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",x),(0,M.jA)({previous:n,url:t})}var lh=St(35225),$2=St(3312),dd=St.n($2),z2=St(92592),fd=St(82771),G2=St(28175),uh=St.n(G2),ch=St(80587);const Z2=(0,Po.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Y2=(0,Po.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),pd=(0,Po.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var dl=St(99869);const dh=(0,Po.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),J2=(0,Po.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var fh=St(5149),Q2=St(49770),ph=St(17048);const X2=(0,Po.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var hd=St(13639),sa=St(80332);const q2=(0,Po.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var ew=Object.defineProperty,tw=Object.defineProperties,nw=Object.getOwnPropertyDescriptors,hh=Object.getOwnPropertySymbols,rw=Object.prototype.hasOwnProperty,ow=Object.prototype.propertyIsEnumerable,mh=(n,t,r)=>t in n?ew(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,iw=(n,t)=>{for(var r in t||(t={}))rw.call(t,r)&&mh(n,r,t[r]);if(hh)for(var r of hh(t))ow.call(t,r)&&mh(n,r,t[r]);return n},aw=(n,t)=>tw(n,nw(t));const sw=n=>(0,e.h)(N.l,aw(iw({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(q2,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var lw=St(85344),md=St(86602),_h=St(15748),uw=St(62372);const cw={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var dw=Object.defineProperty,fw=Object.defineProperties,pw=Object.getOwnPropertyDescriptors,yu=Object.getOwnPropertySymbols,gh=Object.prototype.hasOwnProperty,vh=Object.prototype.propertyIsEnumerable,yh=(n,t,r)=>t in n?dw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ns=(n,t)=>{for(var r in t||(t={}))gh.call(t,r)&&yh(n,r,t[r]);if(yu)for(var r of yu(t))vh.call(t,r)&&yh(n,r,t[r]);return n},hw=(n,t)=>fw(n,pw(t)),mw=(n,t)=>{var r={};for(var i in n)gh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&yu)for(var i of yu(n))t.indexOf(i)<0&&vh.call(n,i)&&(r[i]=n[i]);return r};const bh=n=>{var t=n,{className:r="",children:i,layerClassName:f,hideOnScroll:x=!1,onClose:k}=t,W=mw(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[B,q]=(0,o.eJ)(!1),ye=gw(Ns({open:B,onClose:()=>{q(!1),k==null||k()},hideOnScroll:x,className:f},W));return _w({hideOnScroll:x,setOpen:q,open:B}),(0,e.h)("div",hw(Ns({className:r},ye.triggerProps),{onClick:Me=>{q(!B),Me.stopPropagation()}}),typeof i=="function"?i({isOpen:B}):i,ye.layer)};function _w({hideOnScroll:n,setOpen:t,open:r}){const i=(0,o.I4)(f=>{requestAnimationFrame(()=>{var x;const W=(x=f.target.classList)==null?void 0:x.contains("popoverLayerForScrollDetection");r&&n&&!W&&t(!1)})},[n,t,r]);(0,o.d4)(()=>{if(n)return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[i,n])}function gw({open:n,onClose:t,disabled:r,possiblePlacements:i=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:f,snap:x=!1,onOpen:k,content:W,className:B,layerOptions:q,closeOnOutsideClick:ye=!0}){const Me=(0,o.sO)(!1);(0,o.d4)(()=>{n&&!Me.current&&k&&(Me.current=!0,k())},[n,k]);const{triggerProps:Re,layerProps:ze,renderLayer:et}=(0,uw.sJ)(Ns(Ns(Ns({isOpen:r?!1:n,overflowContainer:!1,auto:!0,snap:x,possiblePlacements:i,placement:f,containerOffset:10,triggerOffset:8},ye&&{onOutsideClick:()=>t()}),f&&{placement:f}),q));return{triggerProps:Re,layer:n&&et((0,e.h)("div",Ns({className:d()("popoverLayerForScrollDetection",cw.popoverBase,B)},ze),typeof W=="function"?W({closePopover:t}):W))}}var fl=St(10186),fW=St(28599),pW=St(10928),hW=St(44908),mW=St(73955),_W=St(71171),vw=St(23279),bu=St.n(vw);const _d={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var yw=Object.defineProperty,Pu=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Eh=Object.prototype.propertyIsEnumerable,wh=(n,t,r)=>t in n?yw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bw=(n,t)=>{for(var r in t||(t={}))Ph.call(t,r)&&wh(n,r,t[r]);if(Pu)for(var r of Pu(t))Eh.call(t,r)&&wh(n,r,t[r]);return n},Pw=(n,t)=>{var r={};for(var i in n)Ph.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Pu)for(var i of Pu(n))t.indexOf(i)<0&&Eh.call(n,i)&&(r[i]=n[i]);return r};function Ew({items:n,getKeys:t,sort:r=!0,sortFunc:i,deps:f}){const x=(Me,Re)=>{const ze=t(Me),et=t(Re);for(let Je=0;Je<Math.min(ze.length,et.length);Je++){const dt=ze[Je].localeCompare(et[Je]);if(dt!==0)return dt}return ze.length-et.length},[k,W]=(0,o.eJ)(""),B=(0,o.Ye)(()=>bu()(W,100),[W]),q=k.trim(),ye=(0,o.Ye)(()=>{if(!q)return n;let Me=n.filter(Re=>t(Re).some(et=>et.toLowerCase().includes(q.toLowerCase())));if(r||i){const Re=i||x;Me=Me.sort(Re)}return Me},f?[q,...f]:[q,n]);return{setQuery:B,filteredItems:ye,hasFiltered:q!==""}}function ww(n){var t=n,{setQuery:r,placeholder:i="Search...",size:f="medium"}=t,x=Pw(t,["setQuery","placeholder","size"]);const k=B=>{r(B.currentTarget.value)},W=(0,o.sO)(null);return(0,e.h)(Ye.hs,bw({className:d()(_d.searchContainer,_d[f]),bg:"secondary",paddingX:f==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var B;return(B=W.current)==null?void 0:B.focus()}},x),(0,e.h)(Mp,{size:f==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:_d.searchInput,ref:W,placeholder:i,onInput:k}))}var gW=St(21125),Cw=(n=>(n.CONTRIBUTOR="contributor",n.FOUNDING="founding",n.PAID="paid",n.FREE="free_subscriber",n))(Cw||{}),Ow=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const vW=n=>{const t=useUserSettings();useEffect(()=>{const r=()=>Ow(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:n}})}catch(i){}});t!=null&&t.user_id&&t.last_home_tab!==n&&r()},[t,n])};var yW=St(95582),bW=St(11533),Hi=St(62246),PW=St(65414);function EW({title:n,body:t,children:r}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(Sw,{title:n,body:t},r))}function Sw({title:n,body:t,children:r}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},n),h(Text.B4,{color:"secondary",align:"center"},t),r)}var Tw=Object.defineProperty,Iw=Object.defineProperties,Dw=Object.getOwnPropertyDescriptors,Ch=Object.getOwnPropertySymbols,xw=Object.prototype.hasOwnProperty,Mw=Object.prototype.propertyIsEnumerable,Oh=(n,t,r)=>t in n?Tw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Aw=(n,t)=>{for(var r in t||(t={}))xw.call(t,r)&&Oh(n,r,t[r]);if(Ch)for(var r of Ch(t))Mw.call(t,r)&&Oh(n,r,t[r]);return n},Nw=(n,t)=>Iw(n,Dw(t));function wW(n){return h(LazyComponent,Nw(Aw({},n),{module:"./ChatTextEditor",resolve:t=>t.ChatTextEditor,onRequest:()=>Promise.all([St.e(313),St.e(171),St.e(679),St.e(156)]).then(St.bind(St,35156))}))}var CW=St(50292),gd=St(68262);const OW={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"};var Rw=Object.defineProperty,Lw=Object.defineProperties,Bw=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,Sh=Object.prototype.hasOwnProperty,Th=Object.prototype.propertyIsEnumerable,Ih=(n,t,r)=>t in n?Rw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vn=(n,t)=>{for(var r in t||(t={}))Sh.call(t,r)&&Ih(n,r,t[r]);if(Eu)for(var r of Eu(t))Th.call(t,r)&&Ih(n,r,t[r]);return n},dr=(n,t)=>Lw(n,Bw(t)),Dh=(n,t)=>{var r={};for(var i in n)Sh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Eu)for(var i of Eu(n))t.indexOf(i)<0&&Th.call(n,i)&&(r[i]=n[i]);return r},Qi=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const kw=30,Uw=2,Fw=5,jw=5,Ww=6,Hw=1;function SW({}){var n,t,r;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const i=useUser();useStickyTab("chat");const[f,x]=useRouter(),[k,W,B,q]=(n=f.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?n:[],ye=Number(W),Me=new URL(f.url,"https://monograph.dev"),Re=(t=Me.searchParams)==null?void 0:t.get("targetReplyId"),ze=!!((r=Me.searchParams)!=null&&r.get("showTarget")),et=useSubscriptionsContext(),Je=mn=>{var cr;const{publicationUserMap:Hn}=(cr=et.result)!=null?cr:{publicationUserMap:new Map},Kn=Hn.get(mn);return!!(Kn&&["contributor","admin"].includes(Kn.role))},[dt,Et]=useThunkReducer(dC,{user:i,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let mn;const cr=()=>{document.hidden||Et(hC()),mn=setTimeout(cr,kw*1e3+yC(Uw))};return cr(),()=>{mn&&clearTimeout(mn)}},[Et]);const wt=dt.inbox.isLoading,xt=useMemo(()=>{const mn=[];for(const cr of dt.inbox.threads){if(!cr.communityPostId&&Je(cr.publication.id)){mn.push(dr(Vn({},cr),{communityPost:null,user:i}));continue}const Hn=cr.communityPostId&&dt.communityPosts.get(cr.communityPostId);Hn&&!Hn.isNew&&mn.push(Vn(Vn({},cr),Hn))}return mn},[dt.inbox.threads,dt.communityPosts,i]),Bt=mn=>{var cr,Hn,Kn;return[mn.publication.name,...mn.publication.contributors.map(Zn=>Zn.name),(cr=mn.user)==null?void 0:cr.name,(Kn=(Hn=mn.communityPost)==null?void 0:Hn.body)==null?void 0:Kn.substring(0,80)].filter(Boolean)},{setQuery:kt,filteredItems:on}=useSearch({items:xt,getKeys:Bt}),[pn,En]=useState(new Map),vn=new Map((xt||[]).map(mn=>pn.has(mn.publication.id)?[mn.publication.id,pn.get(mn.publication.id)]:mn.lastViewedAt?[mn.publication.id,dayjs(mn.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof ye!="number"||isNaN(ye)||(fetch(`/api/v1/community/publications/${ye}/seen`,{method:"POST"}).then(()=>{}),En(pn.set(ye,dayjs())))},[ye]),useEffect(()=>{wt||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:xt.filter(mn=>xh(mn,vn)).length,thread_count:xt.length})},[wt]);const hn=(mn,cr,Hn,Kn)=>{x(pathWithQuery(`/chat${mn!=null?`/${mn}`:""}${cr!=null?`/post/${cr}`:""}${Hn!=null?`/reply/${Hn}`:""}`,{targetReplyId:Kn}))},qn=mn=>{hn(mn)},Yn=mn=>{hn(ye,mn)},$n=(mn,cr=null)=>{hn(ye,B,mn,cr)},yn=useMemo(()=>({dispatch:Et}),[]);return h(jh.Provider,{value:yn},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},h(SearchBox,{setQuery:kt,placeholder:"Search chats..."})),wt?h(Vw,null):on.length>0?h(PageStack2,{gap:0},on.map(mn=>(mn.communityPost&&mn.user||Je(mn.publication.id))&&h($w,{key:mn.publication.id,item:mn,onSelect:qn,isSelected:ye===mn.publication.id,isUnread:xh(mn,vn)}))):xt.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),q!=null?h(Nh,{key:"replies",postId:B,pubId:ye,parentCommentId:q,state:dt,onBack:()=>$n(null,q),navigateToChat:()=>Yn(null),targetReplyId:Re,showTarget:ze}):B!=null?h(Nh,{key:"comments",postId:B,pubId:ye,state:dt,onBack:()=>Yn(null),onSelect:$n,navigateToChat:()=>Yn(null),targetReplyId:Re,showTarget:ze}):ye?h(Zw,{key:ye,pubId:ye,state:dt,onSelect:Yn}):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function Vw(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(Kw,null)))}function Kw(){return h(FlexBox,{gap:16,padding:16},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function $w({item:n,onSelect:t,isSelected:r,isUnread:i}){return h(FlexRow,{onClick:()=>t(n.publication.id),className:classnames(css.chatPublication,{[css.selected]:r}),alignItems:"start",gap:16,padding:20},n.user&&h(AvatarWithPub,{user:n.user,size:56,pub:n.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},n.publication.name),n.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(n.communityPost.created_at).fromNowShort()),i&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},n.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},n.user.name,":"," "),n.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(zw,{post:n.communityPost})))))}function zw({post:n}){var t;const{isPaid:r}=useSubscriptionStatus(n.publication_id);return n.reported_by_user?h("em",null,"You flagged this thread."):!r&&n.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):n.link_url?h(Gw,{linkMetadata:n.link_metadata}):n.media_assets&&((t=n.media_assets)==null?void 0:t.length)>0?h(Fragment,null,h("em",null,`shared ${n.media_assets.length} ${n.media_assets.length>1?"photos":"photo"}.`),n.body&&` ${n.body}`):h(Fragment,null,n.body)}function Gw({linkMetadata:n}){return h(Fragment,null,h("em",null,"shared a link."),n&&` "${n.title}"`)}function xh(n,t){if(!n.communityPost)return!1;const r=t.get(n.publication.id);return r?dayjs(n.communityPost.created_at).isAfter(r):!0}function Zw({pubId:n,onSelect:t,state:r}){var i,f,x,k;const W=Fa(),B=(i=r.chats.get(n))!=null?i:wu,q=r.inbox.isLoading&&r.inbox.threads.length===0,ye=(f=B.publication)==null?void 0:f.threads_v2_settings,Me=!!((x=B.publication)!=null&&x.threads_v2_enabled),Re=useRef(null),ze=useRef(0);useEffect(()=>{B.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:B.publication.id})},[n,!!B.publication]),useLayoutEffect(()=>{var tr;const lr=Re.current;lr&&(lr.scrollTop=(tr=B.scrollPosition)!=null?tr:0);const Fn=()=>{W({type:"posts-save_scroll_position",payload:{publication_id:n,scrollPosition:ze.current}})},zn=()=>{var an;ze.current=(an=lr==null?void 0:lr.scrollTop)!=null?an:0};return lr==null||lr.addEventListener("scroll",zn,{passive:!0}),()=>{lr==null||lr.removeEventListener("scroll",zn),Fn()}},[n,!!Re.current]),useEffect(()=>{let tr;const lr=()=>{document.hidden||W(Fh(n,!0)),tr=setTimeout(lr,Fw*1e3)};return W({type:"posts-request_initial",payload:{publication_id:n}}).then(lr),()=>{tr&&clearTimeout(tr)}},[n,W]);const et=useFetch({pathname:`/api/v1/community/publications/${n}/posts`,method:"POST",deps:[n]}),Je=()=>{setTimeout(()=>{var tr;(tr=Re.current)==null||tr.scrollTo({top:0})},0)},{isPaid:dt,isAuthor:Et,isFreeSubscribed:wt,isFounding:xt}=useSubscriptionStatus(n),Bt=(ye==null?void 0:ye.create_thread_minimum_role)===CreateThreadRole.FOUNDING,kt=(ye==null?void 0:ye.create_thread_minimum_role)===CreateThreadRole.PAID,on=(ye==null?void 0:ye.create_thread_minimum_role)===CreateThreadRole.FREE,pn=Et||Bt&&xt||kt&&(dt||xt)||on&&(wt||dt||xt),En=tr=>Qi(this,[tr],function*({value:lr,mediaAssets:Fn,sendAsEmail:zn,audience:an,linkUrl:In}){const Yt=uniqueId();W({type:"posts-new",payload:{publication_id:n,body:lr,media_assets:Fn,link_url:In,type:Fn?"media":In?"link":"text",audience:an!=null?an:"all_subscribers",id:Yt}}),Je();const ur=yield et.refetch({json:{body:lr,media_urls:Fn==null?void 0:Fn.map(Ln=>Ln.url),audience:an!=null?an:"all_subscribers",type:Fn?"media":"text",send_email:!!zn,link_url:In}});ur instanceof Error?alert("We failed to post your thread. Please try again later."):W({type:"posts-commit",payload:{publication_id:n,id:Yt,chatItem:ur}})}),vn=()=>{W(mC(n))},hn=!1,qn=tr=>{if(hn||!B.hasMore||B.isLoadingMore)return;const{currentTarget:lr}=tr;lr.scrollTop<lr.offsetHeight-lr.scrollHeight+100&&vn()},$n=(B.posts.length===0||B.posts.every(tr=>{const lr=r.communityPosts.get(tr);return!lr||Ca(lr)&&lr.communityPost.status!=="published"}))&&!B.isLoadingMore&&!B.hasMore,yn=Et&&$n,mn=B.posts.map(tr=>r.communityPosts.get(tr)).filter(tr=>tr!==void 0&&tr.communityPost.status==="published");let cr;const Hn=[];let Kn=[];for(const tr of mn){const lr=dayjs(tr.communityPost.created_at);cr&&!lr.isSame(cr,"day")&&(Hn.push({day:cr,group:Kn}),Kn=[]),Kn.push(tr),cr=lr}cr&&Kn.length>0&&Hn.push({group:Kn,day:cr});const Zn=B.error;return Zn?h(Kh,{pubErr:Zn}):!Me&&!q?Et?h(Pi,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},B.publication&&h(ja,{onClick:()=>{B.publication&&(window.location.href=`${getPublishSettingsUrl(B.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(Pi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):h(Xw,null,B.publication&&h(Ah,{pub:B.publication}),yn?h(Pi,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):$n?h(Pi,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(Rh,{direction:"column-reverse",onScroll:qn,forwardRef:Re},Hn.map(({day:tr,group:lr})=>h(EC,{key:tr.toISOString(),day:tr,items:lr,onSelect:t,isPaid:xt||dt||Et})),B.isLoadingMore||q?h(Rs,{numberToLoad:2}):B.hasMore&&h(yd,{onClick:vn})),pn?h(nC,{publicationId:n,placeholder:"Start a new thread",maxImagesToUpload:Ww,disabled:et.isLoading||q,onSubmit:En,publishOptionsEnabled:Et,visiblityOptionsEnabled:!!((k=B.publication)!=null&&k.plans)}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function Yw({item:n,onSelect:t,isPaid:r}){const{communityPost:i}=n,f=!r&&i.audience==="only_paid",x=()=>t(i.id),k=W=>{W.defaultPrevented||x()};return h(FlexColumn,{onClick:k,className:classnames(!f&&css.communityViewContainer)},f?h($h,{user:n.user,commenters:i.recent_commenters,count:i.comment_count}):h(CommunityPostView,{communityPost:i,author:n.user,onReply:x}))}function Mh({pub:n,children:t,className:r}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(n,{signedIn:!0}),className:r},t)}function Ah({pub:n}){return h(FlexBox,{paddingX:24,key:n.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Mh,{pub:n,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:n,size:40})),h(Mh,{pub:n,className:css.headerPubLink},h(Text.H4,null,n.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:n.author_id,name:n.author_name,photo_url:n.author_photo_url},size:40}))))}function Nh({postId:n,pubId:t,parentCommentId:r,onBack:i,onSelect:f,state:x,navigateToChat:k,targetReplyId:W,showTarget:B}){var q,ye,Me,Re,ze,et,Je,dt,Et,wt;const xt=r?(q=x.replies.get(r))!=null?q:Cu:(ye=x.comments.get(n))!=null?ye:Cu,Bt=x.communityPosts.get(n),kt=r&&x.communityComments.get(r),on=x.inbox.isLoading&&x.inbox.threads.length===0,pn=x.chats.get(t),En=x.inbox,vn=(ze=(Re=(Me=pn==null?void 0:pn.publication)==null?void 0:Me.threads_v2_settings)==null?void 0:Re.photo_replies_enabled)!=null?ze:!1,[hn,qn]=useState(null),Yn=`${r?`replies-${r}`:`comments-${n}`}-${xt.comments.length}${hn?`-${hn.comment.id}`:""}`,{isAuthor:$n,isFounding:yn,isPaid:mn,isFreeSubscribed:cr}=useSubscriptionStatus(t),Hn={quoteReply:hn,cancelQuoteReply:()=>qn(null)},Kn=qr=>{var lo;const Ao=(lo=x.communityComments.get(qr.id))==null?void 0:lo.user;Ao?qn({comment:qr,user:Ao}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{r?kt&&Oa(kt)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,community_comment_id:r}):Bt&&Ca(Bt)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,type:Bt.communityPost.type,audience:Bt.communityPost.audience})},[r,n,t,!!Bt,!!kt]);const Zn=useUser(),tr=useRef(),lr=useRef(),Fn=Fa(),[zn,an]=useState(null),[In,Yt]=r?["replies",{parentCommentId:r}]:["comments",{postId:n}],ur=!xt.before.isLoading&&!xt.after.isLoading&&xt.comments.length===0,Ln=r!=null?`/api/v1/community/comments/${r}/comments`:`/api/v1/community/posts/${n}/comments`,Ar=r!=null?r:n,mr=(qr,lo)=>Qi(this,null,function*(){Fn({type:`${In}-request_initial`,payload:dr(Vn({},Yt),{order:qr})});const Ao=qr==="desc"?"before":"after";try{const qo=yield fetchJson(Ln,{query:{order:qr,targetReplyId:lo!=null?lo:void 0}});Fn({type:`${In}-load_edge`,payload:dr(Vn({},Yt),{edge:Ao,result:qo})})}catch(qo){return console.warn(qo),Fn({type:`${In}-error`,payload:dr(Vn({},Yt),{edge:Ao,error:qo})}),qr==="desc"&&Nr(),qo}return lo?(setTimeout(()=>{const Jo=document.getElementById(`comment-${lo}`);Jo&&(B?Jo.scrollIntoView({behavior:"smooth",block:"center"}):Jo.scrollIntoView({behavior:"auto",block:"center"}))},B?250:50),null):(qr==="desc"&&Nr(),null)}),Nr=()=>{setTimeout(()=>{var qr;(qr=tr.current)==null||qr.scrollTo({top:1e7})},0)},Qn={before:!1,after:!1},Or=(qr,lo)=>{if(!(Qn[qr]||xt[qr].isLoading))return Qn[qr]=!0,gr(qr,lo)},gr=(qr,lo)=>Qi(this,null,function*(){var Ao,qo,Jo,ma;Fn({type:`${In}-request_edge`,payload:dr(Vn({},Yt),{edge:qr})});const Ea=last(xt.comments),Qa=xt.comments[0],nl=qr==="before"?{order:"desc",before:Ea&&((Ao=x.communityComments.get(Ea))==null?void 0:Ao.comment.created_at)}:{order:"asc",after:Qa&&((qo=x.communityComments.get(Qa))==null?void 0:qo.comment.created_at)};try{const ta=yield fetchJson(Ln,dr(Vn({},lo),{query:nl})),{current:ca}=tr,Kc=(ma=(Jo=lr.current)==null?void 0:Jo.offsetHeight)!=null?ma:0;Fn({type:`${In}-load_edge`,payload:dr(Vn({},Yt),{edge:qr,result:ta})}),setTimeout(()=>{var $c,go;if(xt.order==="desc"&&ca){const{scrollTop:zc}=ca;ca.scrollTo({top:zc+(((go=($c=lr.current)==null?void 0:$c.offsetHeight)!=null?go:0)-Kc)})}},0)}catch(ta){console.warn(ta),Fn({type:`${In}-error`,payload:dr(Vn({},Yt),{edge:qr,error:ta})})}}),Br=qr=>{xt[qr].hasMore&&Or(qr)},wo=qr=>{const{currentTarget:lo}=qr,{scrollTop:Ao,offsetHeight:qo,scrollHeight:Jo}=lo;Jo>qo&&(Ao<100?Br("before"):Ao>qo-Jo-100&&Br("after"))};useEffect(()=>{mr("asc",W).then(qr=>{qr&&an(qr)})},[Ar,W]);const Gr=useRef(gr);Gr.current=gr,useEffect(()=>{if(!ur&&xt.order==="desc"){let qr=new AbortController;const lo=()=>{setTimeout(()=>Qi(this,null,function*(){qr.signal.aborted||(qr=new AbortController,yield Gr.current("after",{signal:qr.signal}),lo())}),jw*1e3)};return lo(),()=>{qr.abort()}}},[Ar,ur,xt.order]);const ro=useFetch({pathname:`/api/v1/community/posts/${n}/comments`,method:"POST",deps:[Ar]}),la=(qr,lo,Ao)=>Qi(this,null,function*(){const qo="We failed to upload your media. Please try again later.",Jo=qr[0],{contentType:ma}=Jo,Ea=yield bC(lo,Ao,ma);if(Ea instanceof Error){alert(qo);return}const{url:Qa}=Ea;(yield PC(Jo,Qa))instanceof Error&&alert(qo)}),oi=qr=>Qi(this,[qr],function*({value:lo,mediaAssets:Ao,mentions:qo}){const Jo=lo!=null?lo:"",ma=uuid();xt.order==="asc"&&mr("desc");let Ea=null;Ao&&(Ea=Ao.map(ca=>({id:uuid(),url:ca.url,content_type:ca.contentType,type:"image",file:ca.file})));const Qa={is_founding:!!yn,membership_state:mn?"subscribed":"free_signup",role:$n?"admin":null};Fn({type:`${In}-new`,payload:dr(Vn({},Yt),{id:ma,body:Jo,postId:n,mediaUploads:Ea,quoteReply:hn,mentions:qo,pubRoles:Qa})});const nl=hn==null?void 0:hn.comment.id;hn&&qn(null),Nr(),Ao&&(yield la(Ao,ma,t));const ta=yield ro.refetch({json:{id:ma,body:Jo,parent_id:r,quote_id:nl,mentions:qo}});if(!(ta instanceof Error))Fn({type:`${In}-commit`,payload:dr(Vn({},Yt),{id:ma,reply:ta})});else if(ta instanceof FetchError){const ca=ta.body.status==="PUBLICATION_BAN";alert(ca?`You are not allowed to post to this chat. ${ta.body.error}`:"We failed to post your comment. Please try again later.")}}),Pa=zn&&((et=zn.body)==null?void 0:et.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!pn&&!En.isLoading&&!Pa&&k()},[En.isLoading]),Pa)return h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!pn&&!on)return h(Pi,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h(ja,{onClick:k},"Back to chat"));if(pn&&pn.error)return h(Kh,{pubErr:pn.error});if(zn&&((Je=zn.body)==null?void 0:Je.status)==="POST_NOT_FOUND")return h(Pi,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h(ja,{onClick:k},"Back to chat"));if(W&&zn&&((dt=zn.body)==null?void 0:dt.status)==="COMMENT_NOT_FOUND")return h(Pi,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h(ja,{onClick:i},"Go back"));if(zn&&((Et=zn.body)==null?void 0:Et.status)==="COMMENT_NOT_FOUND")return h(Pi,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h(ja,{onClick:i},"Go back"));if(Bt&&Bt.isNew||kt&&kt.isNew)return h(Pi,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h(ja,{onClick:i},"Go back"));if(Bt&&Bt.communityPost.publication_id!==t)return h(Pi,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h(ja,{onClick:k},"Back to chat"));if(kt&&kt.comment.post_id!==n)return h(Pi,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h(ja,{onClick:k},"Back to chat"));const Uo=zn&&((wt=zn.body)==null?void 0:wt.status)==="PAID_SUBSCRIPTION_REQUIRED",Aa=Bt&&Ca(Bt)&&!Bt.communityPost.is_locked,Na=$n||!Uo&&Aa&&(r?kt&&Oa(kt)&&!kt.comment.is_locked:!0),ua=qr=>lo=>{if(!qr)return;lo.preventDefault();const Ao=qr.comment.id;xt.comments.find(Jo=>Jo===Ao)&&setTimeout(()=>{const Jo=document.getElementById(`comment-${Ao}`);Jo&&Jo.scrollIntoView({behavior:"smooth",block:"start"})},100)},vp=ro.isLoading||on;return h(qw,null,(pn==null?void 0:pn.publication)&&h(Ah,{pub:pn.publication}),h(Qw,{onClick:i}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(Rh,{onScroll:wo,forwardRef:tr,fullWidth:!0},on?h(Rs,{showReplyBubble:!1}):Uo?h($h,{user:kt?kt.user:Bt?Bt.user:null,showReply:!1,analyticsParams:{publication_id:t,community_post_id:n}}):kt||Bt?h(FlexColumn,{className:css.communityViewContainer},kt&&!kt.isNew?h(CommunityCommentView,{key:kt.comment.id,communityComment:kt.comment,isBanned:kt.is_banned,pubRole:kt.pub_roles,chatPublicationId:t,author:kt.user,quoteReply:kt.quote,onDelete:i,hideReply:!0}):Bt&&!Bt.isNew&&h(CommunityPostView,{key:Bt.communityPost.id,communityPost:Bt.communityPost,author:Bt.user,onDelete:i,hideReply:!0})):h(Rs,{showReplyBubble:!1}),h(Jw,null),on?h(Rs,{numberToLoad:2}):Uo?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(pn==null?void 0:pn.publication)&&h(Zh,{pub:pn.publication,utm_source:"web-chat-paywall"})):ur?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,xt.before.error&&h(Vh,null),xt.before.isLoading?h(Rs,null):xt.before.hasMore&&h(yd,{onClick:()=>Or("before")}),h(FlexColumn,{ref:lr,gap:24},xt.comments.slice().reverse().map(qr=>{const lo=x.communityComments.get(qr);if(lo&&lo.comment.status==="published"){const Ao=!lo.isNew&&f?()=>f(lo.comment.id):void 0,qo=Jo=>{Jo.defaultPrevented||Ao==null||Ao()};return h(FlexColumn,{alignItems:"start",onClick:qo,className:css.communityViewContainer},h(CommunityCommentView,{key:lo.comment.id,communityComment:lo.comment,isBanned:lo.is_banned,chatPublicationId:t,quoteReply:lo.quote,pubRole:lo.pub_roles,onQuoteReplyClick:ua(lo.quote),onNewQuote:Kn,author:lo.isNew?Zn:lo.user,onReply:Ao,isTargeted:B&&W===lo.comment.id}))}})),xt.after.error&&h(Vh,null),xt.after.isLoading&&xt.order==="asc"?h(Rs,null):xt.after.hasMore&&h(yd,{onClick:()=>Or("after")}))),xt.order==="asc"&&xt.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>mr("desc"),rounded:!0},"Latest")),Na&&(vp?h(uC,null):h(oC,{stateChangeKey:Yn,placeholder:"Add a reply...",maxImagesToUpload:Hw,photosEnabled:vn,onSubmit:oi,quoteHandler:Hn,mentionsContext:{publication_id:t,community_post_id:n,community_comment_id:r}})))}function Jw(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function Qw({onClick:n}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:n,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function Xw(n){return h(FlexColumn,Vn({},n))}function qw(n){return h(FlexColumn,Vn({},n))}function Rh({children:n,direction:t="column",onScroll:r,forwardRef:i,fullWidth:f}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:t,onScroll:r,ref:i,alignItems:f?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:t},n))}function eC(){const[n,t]=useState([]);return{files:n,clearFiles:()=>{t([])},addFiles:x=>{t(k=>[...k,...x])},removeFile:x=>{t(k=>k.filter(W=>W!==x))}}}function tC(n){return Promise.all(n.map(t=>Qi(this,null,function*(){return{file:t,imageData:yield getImageDataFromFileInput({files:[t]})}}))).then(t=>t.map(r=>{var i;return{contentType:r==null?void 0:r.file.type,url:(i=r==null?void 0:r.imageData)==null?void 0:i.url,bytes:r==null?void 0:r.file.size,file:r==null?void 0:r.file}}))}function Lh(n,t){const r=useUser(),[i,f]=useState(!1),x={value:i,flip:()=>f(yn=>!yn)},[k,W]=useState("all_subscribers"),B={value:k,set:W},[q,ye]=useState(""),[Me,Re]=useState(),[ze,et]=useState(null),Je=useRef(null),{files:dt,clearFiles:Et,addFiles:wt,removeFile:xt}=eC(),Bt=`You can only upload ${n} ${n>1?"images":"image"} at a time.`,kt=q.trim()!==""||dt.length>0||ze!==null,[on,pn]=useState(!1),En={isSubmitting:on,clearSubmission:()=>pn(!1)},vn=yn=>Qi(this,null,function*(){yn==null||yn.preventDefault();const mn=q.trim(),cr=dt.slice(),Hn=Me?Vn({},Me):void 0,Kn=ze;if(kt){ye(""),Et(),Re(void 0),pn(!0),et(null);let Zn;if(cr.length>0)try{Zn=yield tC(cr)}catch(tr){console.error("error getting media urls",tr)}t({value:mn,sendAsEmail:i,audience:k,mediaAssets:Zn,mentions:Hn,linkUrl:Kn})}}),hn=(yn,mn=!0)=>{kt&&mn&&yn.key==="Enter"&&!yn.shiftKey&&!yn.altKey&&vn(yn)},qn=useRef(null),Yn=()=>{var yn;dt.length>=n?alert(Bt):(yn=qn.current)==null||yn.click()},$n=yn=>{yn.stopPropagation(),yn.preventDefault();const mn=[...yn.target.files];mn.length+dt.length>n?alert(`${Bt} Please try again.`):wt(mn),qn!=null&&qn.current&&(qn.current.value="")};return useEffect(()=>(Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{const yn=parseValidLinks(q);et(mn=>yn.length>0?yn[0].href:mn)},500),()=>{Je.current&&clearTimeout(Je.current)}),[q,et]),{user:r,canSubmit:kt,files:dt,linkUrl:ze,setLinkUrl:et,handleSubmit:vn,inputFile:qn,removeFile:xt,onChangeFile:$n,onImageButtonClick:Yn,textValue:q,setTextValue:ye,setMentionMap:Re,handleKeyDown:hn,sendAsEmailHandler:x,postAudienceHandler:B,submissionTracker:En}}function nC({publicationId:n,placeholder:t,maxImagesToUpload:r,publishOptionsEnabled:i,visiblityOptionsEnabled:f,disabled:x,onSubmit:k}){const[W,B]=useState(!1),q=()=>B(!1);return useEffect(()=>{W&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:n})},[W]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>B(!0),disabled:W||x,rounded:!0},t)),h(Modal,{isOpen:W,onClose:q,fullscreenMobile:!0},h(rC,{maxImagesToUpload:r,publishOptionsEnabled:i,visiblityOptionsEnabled:f,onSubmit:k,handleCloseModal:q})))}function rC({maxImagesToUpload:n,publishOptionsEnabled:t,visiblityOptionsEnabled:r,onSubmit:i,handleCloseModal:f}){const{user:x,files:k,handleSubmit:W,inputFile:B,removeFile:q,onChangeFile:ye,onImageButtonClick:Me,textValue:Re,setTextValue:ze,handleKeyDown:et,sendAsEmailHandler:Je,postAudienceHandler:dt,canSubmit:Et,linkUrl:wt,setLinkUrl:xt}=Lh(n,i),Bt=useCallback((kt,on)=>{ze(kt)},[ze]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:f},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:x}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:Re,placeholder:"Write something...",onChange:Bt,onReturn:W,className:css.modalChatEditor}))),k.length>0&&h(kh,{files:k,deleteFile:q}),wt&&h(aC,{linkUrl:wt,deleteLink:()=>xt(null)})),t&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:Je.value,onChange:Je.flip,color:"default"})),t&&r&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:kt})=>h(iC,{currentVisibility:dt.value,onPick:on=>{dt.set(on),kt()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},dt.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers")))))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:B,style:{display:"none"},onChange:ye,"aria-label":"Add image",multiple:!0}),h(Bh,{onClick:Me,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!Et,onClick:kt=>{W(kt),f()}},"Post")))}function oC({stateChangeKey:n,onSubmit:t,placeholder:r,maxImagesToUpload:i,photosEnabled:f,quoteHandler:x,mentionsContext:k}){const{user:W,files:B,handleSubmit:q,inputFile:ye,removeFile:Me,onChangeFile:Re,onImageButtonClick:ze,textValue:et,setTextValue:Je,setMentionMap:dt,canSubmit:Et,submissionTracker:wt}=Lh(i,t),xt=useCallback((Bt,kt)=>{Je(Bt),dt(kt.size===0?void 0:Object.fromEntries(kt))},[Je,dt]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:q,borderTop:"detail",alignSelf:"stretch"},B.length>0&&h(kh,{files:B,deleteFile:Me,paddingLeft:56}),x.quoteReply&&h(sC,{quoteReply:x.quoteReply,cancelQuoteReply:x.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:W,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:ye,style:{display:"none"},"aria-label":"Add image",onChange:Re,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:20,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:et,placeholder:r,onChange:xt,onReturn:q,mentionsContext:k,submitOnEnter:!0,focusKey:n,submissionTracker:wt})),f&&!x.quoteReply&&h(Bh,{onClick:ze,fill:"outline"}),Et&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function Bh({onClick:n,fontWeight:t="normal",size:r=20,containerSize:i=40,fill:f="empty",color:x}){return h(IconButton,{size:i,onClick:n,color:x,fill:f},h(Image,{size:r,fontWeight:t,className:css.addImage}))}function iC({currentVisibility:n,onPick:t}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>t("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",n==="all_subscribers"&&h(Check,{size:20}))),h(DropdownMenuItem,{onClick:()=>t("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",n==="only_paid"&&h(Check,{size:20}))))}function aC({linkUrl:n,deleteLink:t}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:n}),h(vd,{onDelete:t,className:css.deleteFile}))}function kh(n){var t=n,{files:r,deleteFile:i}=t,f=Dh(t,["files","deleteFile"]);return h(FlexBox,dr(Vn({},f),{gap:8,wrap:"wrap"}),r.map(x=>h(lC,{key:x.name,file:x,deleteFile:i})))}function sC({quoteReply:n,cancelQuoteReply:t}){return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:n.user.name,communityEntity:n.comment}),h(vd,{onDelete:t,className:css.deleteQuote,iconSize:16,xSize:14}))}function vd({onDelete:n,className:t,iconSize:r=32,xSize:i=20}){return h(IconButton,{className:t,size:r,priority:"media",onClick:n},h(X,{size:i}))}function lC({file:n,deleteFile:t}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(n),alt:n.name}),h(vd,{onDelete:()=>t(n),className:css.deleteFile}))}function yd({onClick:n}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:n},"Load more"))}function uC(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function Rs({numberToLoad:n=1,showReplyBubble:t=!0}){return h(FlexColumn,{gap:32},Array(n).fill(0).map(()=>h(cC,{showReplyBubble:t})))}function cC({showReplyBubble:n=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),n&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function dC(n,t){return t.type.startsWith("inbox-")?fC(n,t):t.type.startsWith("posts-")?pC(n,t):t.type.startsWith("replies-")||t.type.startsWith("comments-")?_C(n,t):n}const wu={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function fC(n,t){switch(t.type){case"inbox-new_items":{const{threads:r}=t.payload;return dr(Vn({},n),{inbox:dr(Vn({},n.inbox),{isLoading:!1,threads:r.map(i=>{var f=i,{communityPost:x,user:k}=f,W=Dh(f,["communityPost","user"]),B;return dr(Vn({},W),{communityPostId:(B=x==null?void 0:x.id)!=null?B:null})})}),communityPosts:new Map([...n.communityPosts,...r.map(i=>i&&i.communityPost&&i.user?[i.communityPost.id,{user:i.user,communityPost:i.communityPost,isNew:!1}]:null).filter(i=>i!==null)]),chats:new Map([...n.chats,...r.map(i=>{var f;if(i&&i.publication){const x=(f=n.chats.get(i.publication.id))!=null?f:wu;return[i.publication.id,dr(Vn({},x),{publication:i.publication})]}return null}).filter(i=>i!==null)])})}default:return n}}function pC(n,t){var r,i,f,x,k,W;const{publication_id:B}=t.payload,q=(r=n.chats.get(B))!=null?r:wu;switch(t.type){case"posts-request_initial":return dr(Vn({},n),{chats:Io(n.chats,B,dr(Vn({},q),{isLoadingMore:!0}))});case"posts-request_more":return dr(Vn({},n),{chats:Io(n.chats,B,dr(Vn({},q),{isLoadingMore:!0}))});case"posts-load_more":{const{result:ye,direction:Me}=t.payload,Re=ye.threads.find(wt=>wt.communityPost.status!=="deleted"),et=Yh({getPubChatItemFromId:wt=>wt===(Re==null?void 0:Re.communityPost.id)?Re:n.communityPosts.get(wt)}),Je=new Map([...ye.threads.map(wt=>[wt.communityPost.id,wt])]),Et=SC({getPubChatItemFromId:wt=>Je.has(wt)?Je.get(wt):n.communityPosts.get(wt)});return dr(Vn({},n),{communityPosts:Jh(n.communityPosts,Je,wt=>new Date(wt.communityPost.updated_at)),chats:Io(n.chats,B,dr(Vn({},q),{isLoadingMore:!1,hasMore:ye.more,posts:uniq([...q.posts,...ye.threads.map(wt=>wt.communityPost.id)]).sort(Et)})),inbox:Me==="after"?n.inbox:dr(Vn({},n.inbox),{threads:[...n.inbox.threads.map(wt=>{var xt;return wt.publication.id===B?dr(Vn({},wt),{communityPostId:(xt=Re==null?void 0:Re.communityPost.id)!=null?xt:wt.communityPostId,lastViewedAt:null}):wt})].sort(et)})})}case"posts-error":return dr(Vn({},n),{chats:Io(n.chats,B,dr(Vn({},q),{isLoadingMore:!1,error:t.payload}))});case"posts-new":{const ye=new Date().toISOString(),Me={communityPost:dr(Vn({},t.payload),{status:"published",created_at:ye,updated_at:ye,is_locked:!1,user_id:(f=(i=n.user)==null?void 0:i.id)!=null?f:0}),isNew:!0};return dr(Vn({},n),{communityPosts:Io(n.communityPosts,Me.communityPost.id,Me),chats:Io(n.chats,B,dr(Vn({},q),{posts:[Me.communityPost.id,...q.posts]}))})}case"posts-commit":{const{id:ye,chatItem:Me,publication_id:Re}=t.payload,ze=new Map(n.communityPosts);ze.delete(ye),ze.set(Me.communityPost.id,Me);const et=n.inbox.threads.slice(),Je=et.findIndex(dt=>dt.publication.id===Re);if(Je!==-1){let dt=et[Je];dt=dr(Vn({},dt),{communityPostId:Me.communityPost.id}),et.splice(Je,1),et.unshift(dt)}return dr(Vn({},n),{inbox:dr(Vn({},n.inbox),{threads:et}),communityPosts:ze,chats:Io(n.chats,Re,dr(Vn({},q),{posts:q.posts.map(dt=>dt===ye?Me.communityPost.id:dt)}))})}case"posts-new_reaction":{const{id:ye,reaction:Me}=t.payload,Re=n.communityPosts.get(ye);return!Re||!Ca(Re)||!((x=Re.communityPost)!=null&&x.reactions)?(console.warn("chat item does not exist"),n):Re.communityPost.reaction===Me?(console.warn("already set this reaction",Me),n):dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:Ou(Re.communityPost,Me,!0)}))})}case"posts-remove_reaction":{const{id:ye,reaction:Me}=t.payload,Re=n.communityPosts.get(ye);return!Re||!Ca(Re)||!((k=Re.communityPost)!=null&&k.reactions)?(console.warn("chat item does not exist"),n):dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:Ou(Re.communityPost,Me,!1)}))})}case"posts-delete_post":{const{id:ye,publication_id:Me}=t.payload,Re=n.communityPosts.get(ye);if(!Re)return console.warn("chat item does not exist"),n;const ze=new Map(n.communityComments),et=n.comments.get(ye);et&&et.comments.forEach(wt=>{zh(wt,ze);const xt=n.replies.get(wt);xt&&xt.comments.forEach(Bt=>{zh(Bt,ze)})});const Je=(W=n.chats.get(Me))==null?void 0:W.posts.find(wt=>{var xt;if(wt===ye)return!1;const Bt=n.communityPosts.get(wt);return((xt=Bt==null?void 0:Bt.communityPost)==null?void 0:xt.status)!=="deleted"}),Et=Yh({getPubChatItemFromId:wt=>n.communityPosts.get(wt)});return dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:dr(Vn({},Re.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:ze,inbox:dr(Vn({},n.inbox),{threads:[...n.inbox.threads.map(wt=>wt.publication.id===Me?dr(Vn({},wt),{communityPostId:Je!=null?Je:null}):wt)].sort(Et)})})}case"posts-flag_post":{const{id:ye}=t.payload,Me=n.communityPosts.get(ye);return!Me||!Ca(Me)?(console.warn("chat item does not exist"),n):dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Me),{communityPost:dr(Vn({},Me.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:ye,isLocked:Me}=t.payload,Re=n.communityPosts.get(ye);return!Re||!Ca(Re)?(console.warn("chat item does not exist"),n):dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:dr(Vn({},Re.communityPost),{is_locked:Me})}))})}case"posts-link_metadata":{const{id:ye,link_metadata:Me}=t.payload,Re=n.communityPosts.get(ye);return Re?dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:dr(Vn({},Re.communityPost),{link_metadata:Me})}))}):(console.warn("chat item does not exist"),n)}case"posts-save_scroll_position":{const{publication_id:ye,scrollPosition:Me}=t.payload;return dr(Vn({},n),{chats:Io(n.chats,ye,dr(Vn({},q),{scrollPosition:Me}))})}case"posts-update_post":{const{id:ye,post:Me}=t.payload,Re=n.communityPosts.get(ye);return!Re||!Ca(Re)?(console.warn("post does not exist"),n):dr(Vn({},n),{communityPosts:Io(n.communityPosts,ye,dr(Vn({},Re),{communityPost:Vn(Vn({},Re.communityPost),Me)}))})}default:throw new Error("Invalid action type")}}function Uh(n,t){var r;return(r=n.chats.get(t))!=null?r:wu}const hC=()=>(n,t)=>Qi(void 0,null,function*(){try{const r=yield fetchJson("/api/v1/community/posts",{method:"GET"});n({type:"inbox-new_items",payload:{threads:r==null?void 0:r.threads}})}catch(r){console.warn("error",r)}}),Fh=(n,t=!1)=>(r,i)=>Qi(void 0,null,function*(){const f=Uh(i(),n),x=f.posts[f.posts.length-1],k=i().communityPosts.get(x);try{const W=yield fetchJson(`/api/v1/community/publications/${n}/posts`,{query:{before:k&&!t?k.communityPost.created_at:void 0}});if(Array.isArray(W)&&W.length===0){const B=new Error("FLAGGED_AS_SPAM");r({type:"posts-error",payload:{publication_id:n,error:B}});return}r({type:"posts-load_more",payload:{publication_id:n,result:W,direction:t?"before":"after"}})}catch(W){console.warn("error",W),r({type:"posts-error",payload:{publication_id:n,error:W}})}}),mC=n=>(t,r)=>Qi(void 0,null,function*(){const i=Uh(r(),n);if(!(!i.hasMore||i.isLoadingMore))return yield t({type:"posts-request_more",payload:{publication_id:n}}),t(Fh(n))}),pl={isLoading:!1,hasMore:!1,error:null},Cu={before:pl,after:dr(Vn({},pl),{isLoading:!0}),order:"asc",comments:[]};function _C(n,t){var r,i,f,x,k,W,B;let q=null,ye=null;vC(t)?ye=t.payload.parentCommentId:"postId"in t.payload&&(q=t.payload.postId);const Me=Je=>ye?{replies:Je}:{comments:Je};let Re;ye?Re=(r=n.replies.get(ye))!=null?r:Cu:q&&(Re=(i=n.comments.get(q))!=null?i:Cu);const ze=ye?n.replies:n.comments,et=ye!=null?ye:q;switch(t.type){case"replies-request_initial":case"comments-request_initial":{const{order:Je}=t.payload,dt=dr(Vn({},pl),{isLoading:!0,hasMore:!1});return Vn(Vn({},n),Me(Io(ze,et,dr(Vn({},Re),{before:Je==="desc"?dt:pl,after:Je==="asc"?dt:pl,order:Je}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:Je}=t.payload;return Vn(Vn({},n),Me(Io(ze,et,dr(Vn({},Re),{[Je]:dr(Vn({},Re[Je]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:Je,result:{post:dt,parent:Et,replies:wt,more:xt}}=t.payload,Bt=wt.map(vn=>vn.comment.id),kt=new Map([...wt.map(vn=>[vn.comment.id,vn])]),on=Jh(n.communityComments,kt,vn=>new Date(vn.comment.updated_at));Et&&on.set(Et.comment.id,Et);const En=TC({getCommunityCommentFromId:vn=>on.get(vn)});return Vn(dr(Vn({},n),{communityPosts:dt?Io(n.communityPosts,dt.communityPost.id,dt):n.communityPosts,communityComments:on}),Me(Io(ze,et,dr(Vn({},Re),{comments:uniq([...Re.comments,...Bt]).sort(En),[Je]:{isLoading:!1,hasMore:xt,error:null},order:Je==="after"&&!xt?"desc":Re.order}))))}case"replies-new":case"comments-new":{const Je={comment:dr(Vn({},gC()),{id:t.payload.id,body:t.payload.body,raw_body:t.payload.mentions?t.payload.body:void 0,post_id:t.payload.postId,parent_id:ye,media_uploads:(f=t.payload.mediaUploads)!=null?f:null,user_id:(k=(x=n.user)==null?void 0:x.id)!=null?k:0,quote_id:t.payload.quoteReply?t.payload.quoteReply.comment.id:null,mentions:t.payload.mentions}),isNew:!0,is_banned:!1,quote:t.payload.quoteReply,user:n.user,pub_roles:t.payload.pubRoles},dt=Vn(dr(Vn({},n),{communityComments:Io(n.communityComments,Je.comment.id,Je)}),Me(Io(ze,et,dr(Vn({},Re),{comments:[Je.comment.id,...Re.comments]}))));if(ye){const wt=n.communityComments.get(ye);if(wt&&Oa(wt)){const xt=Gh(wt.comment,n.user,t.payload.postId);dt.communityComments.set(ye,dr(Vn({},wt),{comment:xt}))}}const Et=n.communityPosts.get(t.payload.postId);if(Et&&Ca(Et)){const wt=Gh(Et.communityPost,n.user,t.payload.postId);dt.communityPosts=Io(n.communityPosts,t.payload.postId,dr(Vn({},Et),{communityPost:wt}))}return dt}case"replies-commit":case"comments-commit":{const{id:Je,reply:dt}=t.payload,Et=new Map(n.communityComments);return Et.delete(Je),Et.set(dt.comment.id,dt),Vn(dr(Vn({},n),{communityComments:Et}),Me(Io(ze,et,dr(Vn({},Re),{comments:Re.comments.map(wt=>wt===Je?dt.comment.id:wt)}))))}case"replies-error":case"comments-error":{const{edge:Je,error:dt}=t.payload;return Vn(Vn({},n),Me(Io(ze,et,dr(Vn({},Re),{[Je]:dr(Vn({},Re[Je]),{error:dt})}))))}case"comments-new_reaction":{const{id:Je,reaction:dt}=t.payload,Et=n.communityComments.get(Je);return!Et||!Oa(Et)||!((W=Et.comment)!=null&&W.reactions)?(console.warn("comment does not exist"),n):Et.comment.reaction===dt?(console.warn("reaction already set"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},Et),{comment:Ou(Et.comment,dt,!0)}))})}case"comments-remove_reaction":{const{id:Je,reaction:dt}=t.payload,Et=n.communityComments.get(Je);return!Et||!Oa(Et)||!((B=Et.comment)!=null&&B.reactions)?(console.warn("comment does not exist"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},Et),{comment:Ou(Et.comment,dt,!1)}))})}case"comments-delete_comment":{const{id:Je}=t.payload,dt=n.communityComments.get(Je);return dt?dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},dt),{comment:dr(Vn({},dt.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),n)}case"comments-update_comment":{const{id:Je,comment:dt}=t.payload,Et=n.communityComments.get(Je);return!Et||!Oa(Et)?(console.warn("comment does not exist"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},Et),{comment:Vn(Vn({},Et.comment),dt)}))})}case"comments-flag_comment":{const{id:Je}=t.payload,dt=n.communityComments.get(Je);return!dt||!Oa(dt)?(console.warn("comment does not exist"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},dt),{comment:dr(Vn({},dt.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:Je,ban:dt}=t.payload,Et=n.communityComments.get(Je);return!Et||!Oa(Et)?(console.warn("comment does not exist"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},Et),{is_banned:dt}))})}case"comments-lock_replies":{const{id:Je,isLocked:dt}=t.payload,Et=n.communityComments.get(Je);return!Et||!Oa(Et)?(console.warn("comment does not exist"),n):Et.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),n):dr(Vn({},n),{communityComments:Io(n.communityComments,Je,dr(Vn({},Et),{comment:dr(Vn({},Et.comment),{is_locked:dt})}))})}default:throw new Error("Invalid type")}}function gC(){const n=new Date().toISOString();return{id:"",created_at:n,updated_at:n,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const jh=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Fa(){var n;return(n=(0,o.qp)(jh))==null?void 0:n.dispatch}function Io(n,t,r){const i=new Map(n);return i.set(t,r),i}function Ca(n){return n.isNew!==!0}function Oa(n){return n.isNew!==!0}function Wh(n){return"communityPost"in n}function Hh(n){return"comment"in n}function vC(n){return"parentCommentId"in n.payload}function Ou(n,t,r){var i,f;const x=n.reaction,k=Vn({},n.reactions);return k[t]=((i=k[t])!=null?i:0)+(r?1:-1),r&&x&&(k[x]=((f=k[x])!=null?f:0)-1),dr(Vn({},n),{reactions:k,reaction:r?t:null})}function yC(n){return Math.floor(Math.random()*n*1e3)}function bC(n,t,r){return Qi(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:t,comment_id:n,content_type:r}})}catch(i){return i}})}function PC(n,t){return Qi(this,null,function*(){try{return yield fetch(t,{method:"PUT",headers:{"Content-Type":n.contentType},body:n.file})}catch(r){return r}})}function EC({day:n,items:t,onSelect:r,isPaid:i}){const f=useUser();return h(Fragment,null,t.map(x=>h(Yw,{key:x.communityPost.id,item:x.isNew?dr(Vn({},x),{user:f}):x,onSelect:r,isPaid:i})),h(OC,{day:n}))}const wC=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),CC=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function OC({day:n}){const t=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},n.isSame(t,"day")?"Today":n.isSame(t.subtract(1,"day"),"day")?"Yesterday":n.isSame(t,"year")?wC.format(n.toDate()):CC.format(n.toDate())))}function Pi({title:n,body:t,children:r}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:n,body:t,children:r}))}function Vh(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function Kh({pubErr:n}){if(n.error instanceof FetchError){const t=n.error.body.status==="CHAT_NOT_ENABLED",r=n.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",i=n.error.body.status==="PUBLICATION_NOT_FOUND";if(t)return h(Pi,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(r)return h(Pi,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},n.error.body.publication&&h(Zh,{pub:n.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(i)return h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return n.error instanceof Error&&n.error.message==="FLAGGED_AS_SPAM"?h(Pi,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(Pi,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function $h({user:n,showReply:t=!0,analyticsParams:r,commenters:i,count:f}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:n,showReply:t,analyticsParams:r,commenters:i,count:f})))}function ja({onClick:n,children:t}){return h(Button,{priority:"secondary",onClick:n},t)}function zh(n,t){const r=t.get(n);return!r||r.comment.status==="deleted"?!1:(t.set(n,dr(Vn({},r),{comment:dr(Vn({},r.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function Gh(n,t,r){var i,f;let x;return t&&t.photo_url&&(x=[{id:t.id,name:t.name,photo_url:t.photo_url,post_id:r}],n.recent_commenters&&(x=uniqBy([...x,...n.recent_commenters],k=>k.id))),"reply_count"in n?dr(Vn({},n),{recent_commenters:x,reply_count:1+((i=n.reply_count)!=null?i:0)}):"comment_count"in n?dr(Vn({},n),{recent_commenters:x,comment_count:1+((f=n.comment_count)!=null?f:0)}):n}function Zh({pub:n,utm_source:t,isSubscribeWall:r}){useEffect(()=>{r&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:n.id})},[]);const i=()=>{const f=getSubscribeUrl(n,{addBase:!0,params:{next:document.location.href,utm_source:t}});window.open(f,"_blank")||(window.location.href=f)};return h(Button,{priority:"primary",onClick:i},`Subscribe to ${n.name}`)}function Yh({getPubChatItemFromId:n}){return(t,r)=>{const i=t.communityPostId?n(t.communityPostId):null,f=r.communityPostId?n(r.communityPostId):null;return bd(i,f,"post")}}function SC({getPubChatItemFromId:n}){return(t,r)=>{const i=n(t),f=n(r);return bd(i,f,"post")}}function TC({getCommunityCommentFromId:n}){return(t,r)=>{const i=n(t),f=n(r);return bd(i,f,"comment")}}function bd(n,t,r="post"){const i=!n,f=!t;if(i&&f)return 0;if(i&&!f)return 1;if(!i&&f)return-1;const x=r==="post"?n&&Wh(n)&&n.communityPost.created_at:n&&Hh(n)&&n.comment.created_at,k=new Date(x||0),W=r==="post"?t&&Wh(t)&&t.communityPost.created_at:t&&Hh(t)&&t.comment.created_at;return new Date(W||0).getTime()-k.getTime()}function Jh(n,t,r){const i=new Map(t);for(const[f,x]of n){const k=i.get(f);if(!k){i.set(f,x);continue}r(x)>r(k)&&i.set(f,Vn(Vn({},k),x))}return i}var IC=Object.defineProperty,DC=Object.defineProperties,xC=Object.getOwnPropertyDescriptors,Qh=Object.getOwnPropertySymbols,MC=Object.prototype.hasOwnProperty,AC=Object.prototype.propertyIsEnumerable,Xh=(n,t,r)=>t in n?IC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NC=(n,t)=>{for(var r in t||(t={}))MC.call(t,r)&&Xh(n,r,t[r]);if(Qh)for(var r of Qh(t))AC.call(t,r)&&Xh(n,r,t[r]);return n},RC=(n,t)=>DC(n,xC(t));const LC=n=>(0,e.h)(N.l,RC(NC({},n),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var qh=St(94016),em=St(15822);const Vi={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},BC=3,tm=6;function kC({context:n,reactions:t,currentReaction:r,onReactionClick:i,isReadOnly:f}){const x=t&&Object.keys(t).some(q=>t[q]>0),{result:k,isLoading:W}=(0,io.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),B=(0,o.Ye)(()=>!t||!(k!=null&&k.reactionTypes)?[]:Object.entries(t).sort((ye,Me)=>Me[1]===ye[1]?ye[0].localeCompare(Me[0]):Me[1]-ye[1]).filter(([ye,Me])=>Me>0&&k.reactionTypes[ye]).slice(0,BC),[t,k]);return k!=null&&k.reactionTypes?(0,e.h)(Jt.tu,null,(0,e.h)(Jt.gq,{onClick:Ed,className:d()(Vi.reactionsContainer,{[Vi.show]:x})},B.map(([q,ye])=>(0,e.h)(qh.z,{layerClassName:Vi.nameCard,content:(0,e.h)(jC,{context:n,reaction:q}),layerOptions:{placement:"bottom-center"}},(0,e.h)(Jt.gq,{key:q,className:d()(Vi.reaction,{[Vi.blue]:q===r}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>i&&i(q)},(0,e.h)(KC,{reaction:k.reactionTypes[q]}),(0,e.h)(VC,{count:ye,textColor:q===r?"bg-light":"primary"})))),!f&&(0,e.h)(bh,{content:({closePopover:q})=>(0,e.h)(FC,{emojis:k,isLoading:W,currentReaction:r,onPick:ye=>{i&&i(ye),q()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Vi.emojiPickerLayer},(0,e.h)(UC,null)))):null}function UC(){return(0,e.h)(Jt.hs,{className:Vi.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(LC,null))}function FC({emojis:n,isLoading:t,currentReaction:r,onPick:i}){var f;const x=(0,o.Ye)(()=>!(n!=null&&n.reactionTypes)||t?[]:Object.keys(n.reactionTypes),[n==null?void 0:n.reactionTypes,t]),{result:k,isLoading:W}=(0,io.Wf)(()=>St.e(695).then(St.t.bind(St,64695,19)),[],{auto:!0}),B=(0,o.I4)(Re=>[Re,...(k==null?void 0:k[Re])||[]],[k]),{filteredItems:q,setQuery:ye,hasFiltered:Me}=Ew({items:x,getKeys:B,deps:[x,B]});return t||W?(0,e.h)(em.S,null):(0,e.h)(Jt.tu,{gap:12,className:Vi.emojiPicker,onClick:Ed,overflowY:"auto"},(0,e.h)(ww,{setQuery:ye,placeholder:"Search emoji...",size:"small"}),Me&&(q&&q.length>0?(0,e.h)(Pd,{reactions:q,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:null}):(0,e.h)(Jt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!Me&&(0,e.h)(e.Fragment,null,(0,e.h)(Pd,{reactions:n.suggestedReactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:"Suggested Reactions"}),(f=n.categories)==null?void 0:f.map(Re=>(0,e.h)(Pd,{reactions:Re.reactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:Re.title}))))}function jC({reaction:n,context:t}){var r;const i=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:f,isLoading:x}=(0,io.ib)({pathname:i,method:"GET",auto:!0});if(x)return(0,e.h)(em.S,null);const W=((r=f==null?void 0:f.reactions.filter(ye=>ye.reaction===n))!=null?r:[]).map(ye=>ye.user.name),B=W.slice(0,tm),q=Math.max(0,W.length-tm);return(0,e.h)(Jt.tu,{gap:2,className:Vi.emojiPicker,onClick:Ed,overflowY:"auto"},B.map(ye=>(0,e.h)(nm,{text:ye})),q>0&&(0,e.h)(nm,{text:`+ ${q} ${q===1?"other":"others"}`}))}function WC({title:n}){return(0,e.h)(Jt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},n)}function HC({reactions:n,currentReaction:t,onPick:r,emojiMap:i}){return(0,e.h)(Jt.gq,{className:Vi.reactionSection,gap:8},n==null?void 0:n.map(f=>(0,e.h)(Jt.hs,{key:f,onClick:()=>r(f),className:d()(Vi.reactionToPick,{[Vi.blue]:f===t}),bg:"primary",alignItems:"center"},(0,e.h)($C,{reaction:i[f]}))))}function Pd({reactions:n,currentReaction:t,onPick:r,emojiMap:i,title:f}){return(0,e.h)(Jt.tu,{gap:12},f&&(0,e.h)(WC,{title:f}),(0,e.h)(HC,{reactions:n,currentReaction:t,onPick:r,emojiMap:i}))}function VC({count:n,textColor:t}){return(0,e.h)(Jt.xv,{className:Vi.count,color:t,lineHeight:20},n)}function nm({text:n}){return(0,e.h)(Jt.xv,{size:12,color:"primary",weight:"medium",font:"text"},n)}function KC({reaction:n}){return(0,e.h)(Jt.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}function $C({reaction:n}){return(0,e.h)(Jt.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}const Ed=n=>{n.stopPropagation(),n.preventDefault()},ri={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var zC=Object.defineProperty,GC=Object.defineProperties,ZC=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,om=Object.prototype.propertyIsEnumerable,im=(n,t,r)=>t in n?zC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,us=(n,t)=>{for(var r in t||(t={}))rm.call(t,r)&&im(n,r,t[r]);if(Su)for(var r of Su(t))om.call(t,r)&&im(n,r,t[r]);return n},YC=(n,t)=>GC(n,ZC(t)),am=(n,t)=>{var r={};for(var i in n)rm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Su)for(var i of Su(n))t.indexOf(i)<0&&om.call(n,i)&&(r[i]=n[i]);return r},zo=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const JC="ffe5d072-ae52-11ed-afa1-0242ac120002";function sm({communityPost:n,author:t,extras:r,withAttribution:i,flex:f,hideReply:x,isReadOnly:k,onReply:W,onDelete:B}){const q=(0,o.sO)(null),ye={type:"posts",id:n.id},Me=Fa(),Re=!(n.type==="media"&&n.media_assets);return(0,e.h)(Cd,{user:t,flex:f,containerRef:q},i&&(0,e.h)(hm,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(lm,{actionMenuProps:{communityEntity:n,publicationId:n.publication_id,onReply:W,onDelete:B,isReadOnly:k,isFlagged:n.reported_by_user},flex:f},(0,e.h)(Od,null,n.type==="media"&&n.media_assets&&(0,e.h)(hl,{context:ye,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),isReadOnly:k},(0,e.h)(lw.q,{assets:n.media_assets.map(ze=>ze.url),className:ri.imageGroup,readOnly:k})),n.link_url&&(0,e.h)(hl,{context:ye,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),setReactions:Re,isReadOnly:k},(0,e.h)(BO,{linkUrl:n.link_url,linkMetadata:n.link_metadata,postId:n.id})),n.body&&(0,e.h)(hl,{context:ye,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),setReactions:Re&&!n.link_url,isReadOnly:k},(0,e.h)(fm,{authorName:t.name,communityEntity:n})))),!x&&(0,e.h)(dm,null,(0,e.h)(Td,{commenters:n.recent_commenters,count:n.comment_count})),r)}function lm({children:n,actionMenuProps:t,flex:r="grow"}){return(0,e.h)(Ye.gq,{alignItems:"start",gap:12,flex:r},(0,e.h)(Ye.tu,null,n),(0,e.h)(CO,us({},t)))}function hl({children:n,context:t,reactions:r,currentReaction:i,setReactions:f=!0,onReactionClick:x,isReadOnly:k}){return f?(0,e.h)(Ye.gq,{className:ri.reactionsWrapper},n,(0,e.h)(kC,{context:t,reactions:r,currentReaction:i,onReactionClick:x,isReadOnly:k})):(0,e.h)(e.Fragment,null,n)}const ml=(n,t,r,i)=>f=>zo(void 0,null,function*(){r(i===f?XC(f,n,t):QC(f,n,t,i))}),QC=(n,t,r,i)=>(f,x)=>zo(void 0,null,function*(){f({type:`${r}-new_reaction`,payload:{id:t,reaction:n}}),(yield mO(n,t,r))instanceof Error&&f(i?{type:`${r}-new_reaction`,payload:{id:t,reaction:i}}:{type:`${r}-remove_reaction`,payload:{id:t,reaction:n}})}),XC=(n,t,r)=>(i,f)=>zo(void 0,null,function*(){i({type:`${r}-remove_reaction`,payload:{id:t,reaction:n}}),(yield _O(n,t,r))instanceof Error&&i({type:`${r}-new_reaction`,payload:{id:t,reaction:n}})}),qC=(n,t)=>(r,i)=>zo(void 0,null,function*(){r({type:"posts-delete_post",payload:{id:n,publication_id:t}});const f=yield hO(n);f instanceof Error&&console.warn("error deleting thread",f)}),eO=(n,t,r)=>(i,f)=>zo(void 0,null,function*(){i({type:"comments-delete_comment",payload:{id:n,postId:t}});const x=yield dO(n);if(x instanceof Error&&console.warn("error deleting comment",x),r){const W=yield fO(r);W instanceof Error||i({type:"comments-update_comment",payload:{id:r,comment:W.comment}})}const k=yield pO(t);k instanceof Error||i({type:"posts-update_post",payload:{id:t,post:k.communityPost}})}),tO=(n,t)=>(r,i)=>zo(void 0,null,function*(){r({type:"posts-lock_replies",payload:{id:n,isLocked:t}});const f=yield aO(n,t);f instanceof Error&&(console.warn("error locking post",f),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),r({type:"posts-lock_replies",payload:{id:n,isLocked:!t}}))}),nO=(n,t)=>(r,i)=>zo(void 0,null,function*(){r({type:"comments-lock_replies",payload:{id:n,isLocked:t}});const f=yield sO(n,t);f instanceof Error&&(console.warn("error locking comment",f),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),r({type:"comments-lock_replies",payload:{id:n,isLocked:!t}}))}),rO=n=>(t,r)=>zo(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:n}});const i=yield uO(n);i instanceof Error&&console.warn("error flagging post",i)}),oO=n=>(t,r)=>zo(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:n}});const i=yield cO(n);i instanceof Error&&console.warn("error flagging comment",i)}),iO=(n,t)=>(r,i)=>zo(void 0,null,function*(){r({type:"comments-ban_author",payload:{id:n,ban:t}});const f=yield lO(n,t);f instanceof Error&&(console.warn("error toggling ban for comment author",f),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),r({type:"comments-ban_author",payload:{id:n,ban:!t}}))});function aO(n,t){return zo(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function sO(n,t){return zo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function lO(n,t){return zo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(r){return r}})}function uO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/posts/${n}/reports`,{method:"POST",json:{postId:n}})}catch(t){return t}})}function cO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/comments/${n}/reports`,{method:"POST",json:{commentId:n}})}catch(t){return t}})}function dO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/comments/${n}`,{method:"DELETE",json:{commentId:n}})}catch(t){return t}})}function fO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/comments/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function pO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/posts/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function hO(n){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/posts/${n}`,{method:"DELETE",json:{postId:n}})}catch(t){return t}})}function mO(n,t,r){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"POST",json:{reaction:n}})}catch(i){return i}})}function _O(n,t,r){return zo(this,null,function*(){try{return yield(0,io.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"DELETE",query:{reaction:n}})}catch(i){return i}})}function um({author:n,extras:t,showReply:r=!0,analyticsParams:i,commenters:f,count:x}){return(0,o.d4)(()=>{i&&(0,M.j)(M.FP.THREAD_PAYWALL_SCREEN_VIEWED,i)},[]),(0,e.h)(Cd,{user:n},(0,e.h)(Od,null,(0,e.h)(LO,null),r&&(0,e.h)(Td,{isLocked:!0,commenters:f,count:x})),t)}function wd(n){return typeof n.message=="string"}function gO({text:n,rawText:t,specialText:r,mentionMap:i,limit:f=600}){const[x,k]=(0,o.eJ)(!1);if(r)return(0,e.h)("em",null,r);if(!n)return(0,e.h)(e.Fragment,null);let W=[{characters:n.length,message:n}];t&&i&&(W=yO(t,i));const{alwaysShow:B,afterExpansion:q}=vO(W,f),ye=q.length>0;return(0,e.h)(e.Fragment,null,B.map(Me=>wd(Me)?(0,e.h)(cm,null,Me.message):Me.message),ye&&!x&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(Gn.kG,{resetCss:!0,className:ri.readMore,onClick:Me=>{Me.preventDefault(),k(!0)}},"Read more")),ye&&x&&(0,e.h)(e.Fragment,null,q.map(Me=>wd(Me)?(0,e.h)(cm,null,Me.message):Me.message)))}function cm({children:n}){return(0,e.h)(uh(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},n)}function vO(n,t){let r=0;const i=[],f=[];for(const x of n){let k=x;if(r<t){if(r+k.characters>t&&wd(k)){const W=t-r,B={characters:W,message:k.message.slice(0,W)},q={characters:k.characters-W,message:k.message.slice(W)};k=B,f.push(q)}r+=k.characters,i.push(k)}else f.push(k)}return{alwaysShow:i,afterExpansion:f}}function yO(n,t){const r=/\$\{(\d+)\}/g;let i=r.exec(n);const f=n,x=[];let k=0;for(;i;){const W=Number(i[1]),B=t[W];B?(i.index>k&&x.push({characters:i.index-k,message:f.slice(k,i.index)}),x.push({characters:B.text.length,message:PO(B.user_id,bO(B.text),B.text)})):x.push({characters:r.lastIndex-k,message:f.slice(k,r.lastIndex)}),k=r.lastIndex,i=r.exec(n)}return k<f.length&&x.push({characters:f.length-k,message:f.slice(k)}),x}function bO(n){return n.slice(1)}function PO(n,t,r){return(0,e.h)(md.default,{name:t,id:n,mentionText:r,type:"user",uuid:JC,isStatic:!1,isEditorContext:!1})}function IW(n){var t=n,{communityComment:r,quoteReply:i,isTargeted:f,isBanned:x,pubRole:k}=t,W=am(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return h(EO,us({isTargeted:f,commentInfoArr:[{communityComment:r,quoteReply:i,isBanned:x,pubRole:k}]},W))}function EO({commentInfoArr:n,author:t,chatPublicationId:r,hideReply:i,onReply:f,onNewQuote:x,onQuoteReplyClick:k,onDelete:W,commentRef:B,isTargeted:q}){const ye=useDispatch(),Me=n[n.length-1].communityComment,{reply_count:Re=0,recent_commenters:ze=[]}=Me!=null?Me:{};return h(Cd,{user:t,pubRole:n[0].pubRole,containerRef:B,id:`comment-${Me==null?void 0:Me.id}`},h(lm,{actionMenuProps:{communityEntity:n[0].communityComment,isBanned:n[0].isBanned,isFlagged:n[0].communityComment.reported_by_user,onReply:f,onDelete:W,onNewQuote:x,isReadOnly:!1,publicationId:r}},h(Od,null,n.map(({communityComment:{id:et,body:Je,quote_id:dt,media_uploads:Et,reactions:wt,reaction:xt,reported_by_user:Bt},quoteReply:kt},on)=>h(Fragment,{key:et},!Bt&&Et&&Et.length>0&&dt===null&&h(hl,{context:{type:"comments",id:et},reactions:wt,currentReaction:xt,onReactionClick:ml(et,"comments",ye,xt)},h(ImageGroup,{assets:Et.map(pn=>pn.url),className:css.imageGroup})," "),dt&&kt&&h(RO,{authorName:kt.user.name,communityEntity:kt.comment,onClick:k}),Je&&h(hl,{context:{type:"comments",id:et},reactions:wt,currentReaction:xt,onReactionClick:ml(et,"comments",ye,xt),setReactions:!Et||Et.length===0},h(fm,{authorName:t.name,communityEntity:n[on].communityComment,isTargeted:q})))))),!i&&Re>0&&h(dm,null,h(Td,{commenters:ze,count:Re})))}function cs(n){return n.post_id===void 0}function Cd({user:n,children:t,flex:r="grow",containerRef:i,id:f,pubRole:x}){return(0,e.h)(Ye.hs,{id:f,alignItems:"start",gap:12,flex:r,ref:i,className:d()(Vi.avatarContainer,ri.avatarContainer)},(0,e.h)(Ye.hs,{paddingTop:4},n?(0,e.h)(mm,{user:n,pubRole:x,size:40}):(0,e.h)(Ba.Vm,{type:"circle",size:40})),(0,e.h)(Ye.tu,{flex:"grow",gap:4},t))}function wO(){return(0,e.h)(Ye.hs,{className:ri.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(ch.Z,null))}function CO({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:f,isBanned:x,isFlagged:k,onNewQuote:W}){const B=(0,o.sO)(!1),q=ye=>{B.current=ye};return(0,e.h)(Ye.hs,{alignItems:"center",className:ri.actions},(0,e.h)(bh,{content:({closePopover:ye})=>(0,e.h)(OO,{communityEntity:n,onReply:t,onDelete:r,closePopover:ye,isReadOnly:i,publicationId:f,isBanned:x,isFlagged:k,onNewQuote:W}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:ri.actionMenuLayer,onOpen:()=>q&&q(!0),onClose:()=>q&&q(!1)},(0,e.h)(wO,null)))}function OO({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:f,isBanned:x,isFlagged:k,closePopover:W,onNewQuote:B}){const q=(0,is.aF)(),{isAuthor:ye}=(0,ld.Y0)(f!=null?f:0),Me=f&&ye,Re=n&&q&&n.user_id===q.id,ze=n&&!cs(n),et=ze&&"parent_id"in n&&n.parent_id!==null,Je=Re||Me,dt=Re||Me,Et=!Re&&!k,wt=Me&&ze&&!Re;return(0,e.h)(Ye.tu,{className:ri.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!i&&t&&(0,e.h)(TO,{disabled:!!(n!=null&&n.is_locked),onReply:t}),!i&&B&&ze&&(0,e.h)(SO,{onNewQuote:B,communityComment:n,closePopover:W}),n&&n.body&&(0,e.h)(IO,{communityEntity:n,closePopover:W}),n&&cs(n)&&(0,e.h)(DO,{communityPost:n,closePopover:W}),!i&&n&&!et&&dt&&(0,e.h)(xO,{communityEntity:n,closePopover:W}),!i&&n&&Je&&(0,e.h)(NO,{communityEntity:n,closePopover:W,onDelete:r}),!i&&n&&Et&&(0,e.h)(MO,{communityEntity:n,closePopover:W}),!i&&n&&x!==void 0&&wt&&(0,e.h)(AO,{communityEntity:n,closePopover:W,isBanned:x}))}function SO({onNewQuote:n,communityComment:t,closePopover:r}){return(0,e.h)(Eo.sN,{icon:(0,e.h)(Z2,null),onClick:()=>{n(t),r()}},"Quote")}function TO({disabled:n,onReply:t}){return(0,e.h)(Eo.sN,{icon:(0,e.h)(Y2,null),onClick:t,disabled:n},"Reply")}function IO({communityEntity:n,closePopover:t}){const r=(0,ni.pm)(),i=()=>{if(n){const{body:f}=n;(0,b.copyToClipboard)(f),r.popToast(x=>(0,e.h)(ni.FN,YC(us({},x),{text:"Text copied",Icon:pd})))}t()};return(0,e.h)(Eo.sN,{icon:(0,e.h)(pd,null),onClick:i},"Copy Text")}function DO({communityPost:n,closePopover:t}){const r=(0,_h.g)(),i=()=>{if(n){const{id:f}=n,x=`${window.location.protocol}//open.${window.location.host}/chat/posts/${f}`;r(x)}t()};return(0,e.h)(Eo.sN,{icon:(0,e.h)(dl.Z,null),onClick:i},"Copy Link")}function xO({communityEntity:n,closePopover:t}){const r=Fa(),{id:i,is_locked:f}=n,x=cs(n),k=()=>zo(this,null,function*(){r(x?tO(i,!f):nO(i,!f)),t()});return(0,e.h)(Eo.sN,{icon:f?(0,e.h)(dh,null):(0,e.h)(J2,null),onClick:k,priority:f?"primary":"destructive"},f?"Turn on replies":"Turn off replies")}function MO({communityEntity:n,closePopover:t}){const r=Fa(),i=cs(n),f=()=>zo(this,null,function*(){if(confirm(`Are you sure you want to flag this ${i?"thread":"reply"}?`)){const{id:k}=n;r(i?rO(k):oO(k)),t()}});return(0,e.h)(Eo.sN,{icon:(0,e.h)(fh.Z,null),onClick:f,priority:"destructive"},i?"Flag thread":"Flag reply")}function AO({communityEntity:n,closePopover:t,isBanned:r}){const i=Fa(),f=()=>zo(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:k}=n;i(iO(k,!r)),t()}});return(0,e.h)(Eo.sN,{icon:r?(0,e.h)(Q2.Z,null):(0,e.h)(ph.Z,null),onClick:f,priority:"destructive"},r?"Unban user":"Ban user")}function NO({communityEntity:n,closePopover:t,onDelete:r}){const i=Fa(),f=cs(n),x=()=>zo(this,null,function*(){if(confirm(`Are you sure you want to delete this ${f?"thread":"comment"}?`)){const{id:W}=n;if(f){const{publication_id:B}=n;i(qC(W,B))}else{const{post_id:B,parent_id:q}=n;i(eO(W,B,q))}r&&setTimeout(r,500)}t()});return(0,e.h)(Eo.sN,{icon:(0,e.h)(X2,null),onClick:x,priority:"destructive"},f?"Delete thread":"Delete reply")}function dm(n){return(0,e.h)(Ye.tu,us({className:ri.replyContainer,alignItems:"start"},n))}function Od(n){return(0,e.h)(Ye.tu,us({className:ri.bubbleStack,gap:4,alignItems:"start"},n))}function Sd(n){var t=n,{isTargeted:r}=t,i=am(t,["isTargeted"]);return(0,e.h)(Ye.hs,us({className:d()(ri.bubble,r&&ri.targetedAnimation),padding:12,bg:"secondary",minWidth:0},i))}function fm({authorName:n,communityEntity:t,isTargeted:r}){return(0,e.h)(Sd,{isTargeted:r},(0,e.h)(pm,{authorName:n,communityEntity:t}))}function RO({authorName:n,communityEntity:t,onClick:r}){return h(FlexBox,{className:classnames(css.bubble,css.quoteBox),onClick:r,padding:12,minWidth:0},h(pm,{authorName:n,communityEntity:t}))}function pm({authorName:n,communityEntity:t}){var r,i,f,x;let k=null;const W=cs(t)?"thread":"reply";return t.reported_by_user&&(k=`You flagged this ${W}`),(t.status==="deleted"||!t.body)&&(k=`This ${W} is not available`),t.body||(cs(t)?(r=t.media_assets)!=null&&r.length?k=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(k=`Link: ${t.link_url}`,(i=t.link_metadata)!=null&&i.title&&(k=`Link: "${t.link_metadata.title}"`)):(f=t.media_uploads)!=null&&f.length&&(k=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(rt.Zx,{isParagraph:!0,className:ri.bubbleText},(0,e.h)(rt.Zx,{weight:"semibold",className:ri.authorName},n)," ",(t.body||k)&&(0,e.h)(gO,{text:(x=t.raw_body)!=null?x:t.body,rawText:t.raw_body,specialText:k,mentionMap:t.mentions}))}function Td({isLocked:n,count:t=0,commenters:r}){const i=n?hd.Z:ll.Z;return(0,e.h)(Sd,{alignSelf:"stretch"},(0,e.h)(Ye.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(Ye.hs,{alignItems:"center",gap:8},r&&(0,e.h)(Ye.hs,{className:ri.facepile,alignItems:"center"},r.map(f=>(0,e.h)(mm,{className:ri.facepileAvatar,user:f,size:24}))),(0,e.h)(rt.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(i,{size:20,stroke:"var(--color-secondary)"})))}function LO(){return(0,e.h)(Ye.hs,{className:ri.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(Ye.hs,{alignItems:"center",gap:4},(0,e.h)(hd.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(rt.xv.Meta,null,"PAID SUBSCRIBERS ONLY")))}function BO({linkUrl:n,linkMetadata:t,postId:r}){var i,f,x;const k=Fa();let W;try{const ze=new URL((i=t==null?void 0:t.url)!=null?i:n);W=`${ze.host}${ze.pathname}${ze.search}${ze.hash}`}catch(ze){W=n}const{result:B,isLoading:q,error:ye}=(0,io.ib)({pathname:"/api/v1/link-metadata",query:{url:n},auto:!t,deps:[n]});B&&!t&&r&&k({type:"posts-link_metadata",payload:{id:r,link_metadata:B}});const Me=(f=t==null?void 0:t.title)!=null?f:B==null?void 0:B.title,Re=(x=t==null?void 0:t.image)!=null?x:B==null?void 0:B.image;return(0,e.h)(Sd,null,(0,e.h)(Ye.hs,{as:"a",href:n,target:"_blank",justifyContent:"space-between",gap:12,className:ri.linkBubble,onClick:ze=>ze.stopPropagation()},(0,e.h)(Ye.tu,{gap:4},Me&&(0,e.h)(rt.xv,{font:"serif",weight:"semibold",className:ri.linkTitle},Me),(0,e.h)(rt.xv.Detail,{ellipsis:!0,className:ri.linkUrl},W)),Re&&(0,e.h)(rn.e,{className:ri.linkImg,src:Re,maxWidth:72*2})))}function kO(n){return(0,e.h)(Gn.zx,us({className:ri.ctaButton,priority:"primary-theme"},n))}function hm({text:n,isStatic:t}){return(0,e.h)(Ye.hs,{paddingX:8,paddingY:4},(0,e.h)(rt.xv.Detail,{weight:"semibold"},(0,e.h)(sw,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",n))}function mm({user:n,size:t,pubRole:r,className:i}){let f;(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="contributor"?f="author":r!=null&&r.is_founding?f="founding":(r==null?void 0:r.membership_state)==="subscribed"&&(f="paid");const x=(0,sa.L0)(n);return(0,e.h)(Ye.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,Ze.getReaderProfileUrl)(n,{noBase:!0}),target:"_blank"},(0,e.h)(fl.YY,{showProfileHovercard:x,className:i,size:t,user:n,subscriptionType:f}))}function*DW(n,t,r=1){for(let i=n;i<t;i+=r)yield i}function xW({utm_campaign:n,utm_source:t}={}){const[r,i]=useState(!1);return{open:()=>i(!0),modal:h(UO,{isOpen:r,onClose:()=>i(!1),utm_campaign:n,utm_source:t})}}function _m({label:n}){return(0,e.h)(Ye.hs,{gap:16,alignItems:"center",className:se.divider},(0,e.h)("hr",{className:se.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(rt.xv.Meta,null,n),(0,e.h)("hr",{className:se.dividerLine})))}function UO({isOpen:n,onClose:t,utm_campaign:r,utm_source:i}){return h(Modal,{isOpen:n,onClose:t},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:32,padding:32},h(Text.B3,{weight:"semibold"},"Scan the QR code below"),h(FlexBox,{padding:4,alignItems:"center",className:css.qrCode},h("img",{src:imginary("/img/app_page/app-store-redirect-qr.jpg",400)})),h(_m,{label:"OR"}),h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:r,utm_source:i})},h("img",{src:imginary("/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:r,utm_source:i})},h("img",{src:imginary("/img/app_page/google-play.png",160*2),height:48}))))))}var FO=St(30058),gm=Object.getOwnPropertySymbols,jO=Object.prototype.hasOwnProperty,WO=Object.prototype.propertyIsEnumerable,HO=(n,t)=>{var r={};for(var i in n)jO.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&gm)for(var i of gm(n))t.indexOf(i)<0&&WO.call(n,i)&&(r[i]=n[i]);return r};const Id=n=>{var t=n,{size:r="md",shape:i="circle",badgePosition:f="top-right",badge:x,imageUrl:k,onClick:W,className:B,border:q}=t,ye=HO(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return(0,e.h)(FO.e,{className:B},(0,e.h)("div",{onClick:W,className:d()("tw-relative","tw-inline-block")},(0,e.h)("img",{className:d()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":r==="sm","tw-h-8 tw-w-8":r==="md","tw-h-10 tw-w-10":r==="lg","tw-h-[64px] tw-w-[64px]":r==="xl","tw-h-[88px] tw-w-[88px]":r==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":q},W?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:k?(0,v.imginary)(k):void 0}),x!=null?(0,e.h)("span",{className:d()("tw-absolute",{"tw-top-0 tw-right-0":f==="top-right","tw-top-0 tw-left-0":f==="top-left","tw-bottom-0 tw-right-0":f==="bottom-right","tw-bottom-0 tw-left-0":f==="bottom-left"})},x):null))},Xi={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var VO=Object.defineProperty,Tu=Object.getOwnPropertySymbols,vm=Object.prototype.hasOwnProperty,ym=Object.prototype.propertyIsEnumerable,bm=(n,t,r)=>t in n?VO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KO=(n,t)=>{for(var r in t||(t={}))vm.call(t,r)&&bm(n,r,t[r]);if(Tu)for(var r of Tu(t))ym.call(t,r)&&bm(n,r,t[r]);return n},$O=(n,t)=>{var r={};for(var i in n)vm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Tu)for(var i of Tu(n))t.indexOf(i)<0&&ym.call(n,i)&&(r[i]=n[i]);return r};function Pm({children:n,pub:t,user:r,showHeader:i,layoutTop:f}){return(0,e.h)("div",{className:d()(Xi.pageContainer,f?Xi.layoutTop:Xi.layoutCentered)},(0,e.h)("div",{className:Xi.header},i&&t&&r&&(0,e.h)(gu,{pub:t,user:r,hideSections:!0,hideTitle:!0})),n)}function zO({pub:n,utm_campaign:t}){return(0,e.h)(Ye.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Om,{utm_campaign:t}),(0,e.h)(rt.xv.B4,{size:12,color:"secondary",className:Xi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function GO({pub:n,utm_campaign:t}){return(0,e.h)(Ye.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Sm,{utm_campaign:t}),(0,e.h)(rt.xv.B4,{size:12,color:"secondary",className:Xi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function Em({pub:n,communityAction:t}){var r,i;const f=t?`${t.author.name} started a thread`:`Join ${(0,he.possessive)(n.author_name)} subscriber chat `,x=t!=null&&t.communityPost?(r=t.communityPost.body)==null?void 0:r.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,k=((i=t==null?void 0:t.communityPost)==null?void 0:i.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),W=k?t.communityPost.media_assets[0].url:n.logo_url,B=(0,Ze.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,b.setMetaData)({title:f,socialTitle:f,description:x,image:W,isLargeImage:k}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:dd()((0,fd.hd)(n,{name:f,url:B,description:x,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function ZO({publication:n,communityAction:t,user:r,showHeader:i}){return(0,e.h)(Pm,{pub:n,user:r,showHeader:i},(0,e.h)(Ye.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Ye.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(JO,{publication:n,communityAction:t,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:"threads-page"}))))}function YO({publication:n,communityAction:t,user:r,postId:i,layoutTop:f,appModalOpenByDefault:x}){const k=(0,vi.XA)(),[W,B]=(0,o.eJ)(!k&&x),q="thread-page",ye=(0,e.h)(Ye.tu,{gap:8},(0,e.h)(kO,{href:(0,Ze.getCommunityPostAppLinkUrl)({postId:i,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:q}),onClick:k?null:Me=>{Me.preventDefault(),B(!0)}},"Open in app"),(0,e.h)(wm,{publication:n,postId:i,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(Pm,{pub:n,user:r,layoutTop:f},(0,e.h)(Ye.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Ye.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(Ye.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.communityPost?(0,e.h)(sm,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:k?null:ye,flex:"auto",isReadOnly:!0}):(0,e.h)(Ye.tu,null,(0,e.h)(um,{author:t.author,extras:k?null:ye})))),k&&(0,e.h)(Ye.tu,{className:Xi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},ye),(0,e.h)(Em,{pub:n,communityAction:t})),(0,e.h)(XO,{utm_campaign:q,isOpen:W,postId:i,onClose:()=>B(!1),subdomain:n.subdomain}))}function JO({publication:n,communityAction:t,publicationAuthor:r,noFallback:i,utm_campaign:f}){const x=(0,P.isMobile)(),k=(0,P.isAndroid)();return(0,e.h)(Ye.tu,{gap:x?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(Id,{imageUrl:(0,v.getUserPhotoUrl)(r),size:"xxl",border:!0,badge:(0,e.h)("div",{className:d()(Xi.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(Ye.tu,{gap:8},(0,e.h)(rt.xv.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",(0,he.possessive)(r.name)," subscriber chat")),!x&&(0,e.h)("div",{className:Xi.threadsLinkContainer},(0,e.h)(Cm,{utm_campaign:f,subdomain:n.subdomain})),x&&(k?(0,e.h)(GO,{pub:n,utm_campaign:f}):(0,e.h)(zO,{pub:n,utm_campaign:f})),(0,e.h)(wm,{publication:n,source:"pub-nav-bar"}),(0,e.h)(Em,{pub:n,communityAction:t}))}function wm({publication:n,source:t,postId:r,text:i="Or open on web"}){return(0,e.h)("a",{href:(0,Ze.getWebChatUrl)({pubId:n.id,postId:r,params:{utm_source:t}}),className:Xi.webChatLink},(0,e.h)(rt.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},i))}function Cm({utm_campaign:n,postId:t,subdomain:r}){return(0,e.h)(Ye.tu,{gap:24,alignItems:"center"},(0,e.h)(Ye.hs,{justifyContent:"center"},(0,e.h)(rt.xv.B4,{as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(Ye.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:4,className:Xi.qrCode},(0,e.h)(QO,{utm_campaign:n,postId:t,subdomain:r})),(0,e.h)(_m,{label:"OR"}),(0,e.h)(Ye.hs,{gap:16,justifyContent:"center"},(0,e.h)(Om,{utm_campaign:n}),(0,e.h)(Sm,{utm_campaign:n})))}function QO({utm_campaign:n,postId:t,subdomain:r}){const i=(0,o.sO)(),f=t?(0,Ze.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:n}):(0,Ze.getPublicationChatAppLinkUrl)({pubKey:r,redirect:"app-store",utm_campaign:n});return(0,o.d4)(()=>{const{current:x}=i;x&&z2.toCanvas(x,f,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:i})}function Om({utm_campaign:n}){return(0,e.h)("a",{className:Xi.appBadge,href:(0,v.getAppStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/app-store.png",400),height:40}))}function Sm({utm_campaign:n}){return(0,e.h)("a",{className:Xi.appBadge,href:(0,v.getPlayStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/google-play.png",400),height:40}))}function XO(n){var t=n,{postId:r,utm_campaign:i,subdomain:f}=t,x=$O(t,["postId","utm_campaign","subdomain"]);return(0,e.h)(Hi.u_,KO({},x),(0,e.h)(Hi.xB,{title:"Open in the Substack app",includeClose:!0,onClose:x.onClose,bottomBorder:!0}),(0,e.h)(Ye.tu,{paddingY:32,paddingX:40},(0,e.h)(Cm,{utm_campaign:i,postId:r,subdomain:f})))}var _l=St(23237),fa=St(6378),Dd=function(){return(Dd=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var f in t=arguments[r])Object.prototype.hasOwnProperty.call(t,f)&&(n[f]=t[f]);return n}).apply(this,arguments)},gl,vl,xd=(0,tt.createContext)(void 0),Tm="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",Im="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",qO=function(ye){var t=ye.config,r=ye.version,r=r===void 0?3:r,i=ye.src,i=i===void 0?r===2?Tm:Im:i,f=ye.onStartup,x=ye.onLoad,k=ye.onError,W=ye.typesettingOptions,B=ye.renderMode,B=B===void 0?"post":B,q=ye.hideUntilTypeset,ye=ye.children,Re=(0,tt.useContext)(xd);if((Re==null?void 0:Re.version)!==void 0&&(Re==null?void 0:Re.version)!==r)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(r===2&&vl!==void 0||r===3&&gl!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var Me=(0,tt.useRef)(Re),Re=(0,tt.useRef)((Re==null?void 0:Re.version)||null);if(Re.current===null)Re.current=r;else if(Re.current!==r)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var ze=i||(r===2?Tm:Im);function et(Je,dt){t&&(window.MathJax=t);var Et=document.createElement("script");Et.type="text/javascript",Et.src=ze,Et.async=!1,Et.addEventListener("load",function(){var wt=window.MathJax;f&&f(wt),Je(wt),x&&x()}),Et.addEventListener("error",function(wt){return dt(wt)}),document.getElementsByTagName("head")[0].appendChild(Et)}return Me.current===void 0&&(Re={typesettingOptions:W,renderMode:B,hideUntilTypeset:q},r===2?gl===void 0&&(typeof window!="undefined"?(gl=new Promise(et)).catch(function(Je){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(ze,"' due to: ").concat(Je));k(Je)}):(gl=Promise.reject()).catch(function(Je){})):vl===void 0&&(typeof window!="undefined"?(vl=new Promise(et)).catch(function(Je){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(ze,"' due to: ").concat(Je));k(Je)}):(vl=Promise.reject()).catch(function(Je){})),Me.current=Dd(Dd({},Re),r===2?{version:2,promise:gl}:{version:3,promise:vl})),tt.default.createElement(xd.Provider,{value:Me.current},ye)};const eS=qO;var Wa=function(){return(Wa=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var f in t=arguments[r])Object.prototype.hasOwnProperty.call(t,f)&&(n[f]=t[f]);return n}).apply(this,arguments)},tS=function(n,t){var r={};for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&t.indexOf(f)<0&&(r[f]=n[f]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,f=Object.getOwnPropertySymbols(n);i<f.length;i++)t.indexOf(f[i])<0&&Object.prototype.propertyIsEnumerable.call(n,f[i])&&(r[f[i]]=n[f[i]]);return r},yl=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},nS=function(n){function t(){var kt;Je==="every"&&wt&&dt==="post"&&ze.current!==null&&(ze.current.style.visibility=(kt=(kt=Me.style)==null?void 0:kt.visibility)!=null?kt:"visible"),xt.current||(Je==="first"&&ze.current!==null&&(ze.current.style.visibility="visible"),f&&f(),xt.current=!0),x&&x(),Bt.current=!1}var i=n.inline,r=i!==void 0&&i,i=n.hideUntilTypeset,f=n.onInitTypeset,x=n.onTypeset,k=n.text,W=n.dynamic,B=n.typesettingOptions,q=n.renderMode,ye=n.children,Me=tS(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),Re=(0,tt.useRef)(""),ze=(0,tt.useRef)(null),et=(0,tt.useContext)(xd),Je=i!=null?i:et==null?void 0:et.hideUntilTypeset,dt=q!=null?q:et==null?void 0:et.renderMode,Et=B!=null?B:et==null?void 0:et.typesettingOptions,wt=W!==!1&&(W||!1),xt=(0,tt.useRef)(!1),Bt=(0,tt.useRef)(!1);return!Bt.current&&ze.current!==null&&wt&&Je==="every"&&dt==="post"&&(ze.current.style.visibility="hidden"),(typeof window!="undefined"?tt.useLayoutEffect:tt.useEffect)(function(){if((wt||!xt.current)&&ze.current!==null){if(!et)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(dt==="pre"){if(!(typeof(kt=k)=="string"&&0<kt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!B||!B.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(et.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}dt!=="post"&&k===Re.current||Bt.current||(Bt.current=!0,et.version===3?et.promise.then(function(on){var pn;dt==="pre"?(pn=function(En){Re.current=k,on.startup.document.clear(),on.startup.document.updateDocument(),ze.current!==null&&(ze.current.innerHTML=En.outerHTML),t()},B.fn.endsWith("Promise")?on.startup.promise.then(function(){return on[Et.fn](k,Wa(Wa({},(Et==null?void 0:Et.options)||{}),{display:!r}))}).then(pn).catch(function(En){throw t(),Error(yl(En))}):on.startup.promise.then(function(){var En=on[Et.fn](k,Wa(Wa({},(Et==null?void 0:Et.options)||{}),{display:!r}));pn(En)}).catch(function(En){throw t(),Error(yl(En))})):on.startup.promise.then(function(){return on.typesetClear([ze.current]),on.typesetPromise([ze.current])}).then(t).catch(function(En){throw t(),Error(yl(En))})}).catch(function(on){throw t(),Error(yl(on))}):et.promise.then(function(on){on.Hub.Queue(["Typeset",on.Hub,ze.current]),on.Hub.Queue(t)}).catch(function(on){throw t(),Error(yl(on))}))}var kt}),tt.default.createElement("span",Wa({},Me,{style:Wa(Wa({display:r?"inline":"block"},Me.style),{visibility:Je?"hidden":(n=Me.style)==null?void 0:n.visibility}),ref:ze}),ye)};const rS=nS;var Ei=St(82626),oS=St(42395),mi=St.n(oS),Xr=St(18492);const Ls={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function iS({pub:n,subdomain:t}){return(0,e.h)(Ye.tu,{className:Ls.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:Md(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(Id,{size:"xl",imageUrl:(0,Ze.imginary)(n.author_photo_url),border:!0}),(0,e.h)(Ye.tu,{gap:4,alignItems:"center"},(0,e.h)(rt.xv.H3,{as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Ye.tu,{alignSelf:"stretch"},(0,e.h)(Gn.zx,{priority:"primary-theme",href:Md(t)},"Join chat")))}function aS({pub:n,subdomain:t}){return(0,e.h)("a",{className:Ls.emailWrapper,href:Md(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:Ls.container},(0,e.h)(Xr.NS,{size:64,src:(0,Ze.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:Ls.text},(0,e.h)(rt.xv.H3,{className:Ls.title,as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(Xr.Bj,{tableClassName:Ls.button},"Join chat")))}function Md(n){return(0,Ze.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:"chat_embed"})}const Iu={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var sS=Object.defineProperty,Dm=Object.getOwnPropertySymbols,lS=Object.prototype.hasOwnProperty,uS=Object.prototype.propertyIsEnumerable,xm=(n,t,r)=>t in n?sS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,cS=(n,t)=>{for(var r in t||(t={}))lS.call(t,r)&&xm(n,r,t[r]);if(Dm)for(var r of Dm(t))uS.call(t,r)&&xm(n,r,t[r]);return n};function dS({communityPost:n,is_freemail:t,author:r,cta:i,withAttribution:f,attributionText:x,hideReply:k,truncateBodyAt:W}){const B=!n||t&&n.audience==="only_paid";let q=null;return!B&&n.body&&(q=W?(0,he.truncateText)(n.body,W):n.body),(0,e.h)(Xr.zK,{gap:12,verticalAlign:"top"},(0,e.h)(Xr.NS,{src:r.photo_url,size:40}),(0,e.h)(Xr.i$,{gap:4,style:{lineHeight:0}},f&&(0,e.h)(hm,{isStatic:!0,text:x||`From ${(0,he.possessive)(r.name)} subscriber chat`}),B?(0,e.h)(fS,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(ye=>(0,e.h)(pS,{key:ye.url,asset:ye})):n.type==="link"&&(0,e.h)(hS,{communityPost:n}),q&&(0,e.h)(Ad,null,(0,e.h)("span",null,(0,e.h)(rt.Zx,{weight:"bold"},r.name)," ",q))],!k&&(0,e.h)(Ad,null,(0,e.h)(Xr.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(rt.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(ll.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(Xr.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(rt.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function Ad(n){return(0,e.h)("div",cS({className:Iu.bubble},n))}function fS(){return(0,e.h)("div",{className:Iu.paywallBubble,style:{backgroundImage:`url(${(0,Ze.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(rt.xv.Meta,null,"SUBSCRIBERS ONLY"))}function pS({asset:n}){return(0,e.h)("img",{className:Iu.img,width:400,src:(0,Ze.imginary)(n.url,400*2,{crop:"limit",height:400*2})})}function hS({communityPost:n}){var t,r;const{link_metadata:i,link_url:f}=n,x=(r=(t=i==null?void 0:i.url)!=null?t:f)!=null?r:"";let k;try{const W=new URL(x);k=`${W.host}${W.pathname}${W.search}${W.hash}`}catch(W){k=x}return(0,e.h)(Ad,null,(0,e.h)(Xr.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(rt.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(rt.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:Iu.linkImg,src:(0,Ze.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}const Nd={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var mS=Object.defineProperty,_S=Object.defineProperties,gS=Object.getOwnPropertyDescriptors,Mm=Object.getOwnPropertySymbols,vS=Object.prototype.hasOwnProperty,yS=Object.prototype.propertyIsEnumerable,Am=(n,t,r)=>t in n?mS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bS=(n,t)=>{for(var r in t||(t={}))vS.call(t,r)&&Am(n,r,t[r]);if(Mm)for(var r of Mm(t))yS.call(t,r)&&Am(n,r,t[r]);return n},PS=(n,t)=>_S(n,gS(t));function ES({postId:n}){var t;const{isLoading:r,error:i,result:f}=(0,io.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),x=i instanceof io.kp&&i.response.status===402&&((t=i.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?i.body:null;return(0,e.h)(Ye.hs,{as:"a",className:Nd.container,target:"_blank",href:(0,Ze.getCommunityPostAppLinkUrl)({postId:n,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},x?(0,e.h)(um,{author:x.user}):i?"Error":f&&(0,e.h)(sm,{author:f.user,communityPost:f.communityPost,withAttribution:!0,isReadOnly:!0}))}function wS(n){const{postId:t}=n;return(0,e.h)("a",{className:Nd.emailWrapper,href:(0,Ze.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:Nd.container},(0,e.h)(dS,PS(bS({},n),{withAttribution:!0}))))}var CS=St(31131),Nm=St(81470),bl=St(31517),Rm=St(26240),Rd=St(65024),OS=St(52543),Du=St(50670),SS=St(4070),TS=St(6742),Lm=St(41474),Bm=St(55687);const km={note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function IS({commentId:n}){const{isLoading:t,error:r,result:i}=(0,io.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return r instanceof io.kp?r.getMessage():!i||t?(0,e.h)(xS,null):(0,e.h)(DS,{feedItem:i.item})}function DS({feedItem:n}){var t,r,i,f,x;const{comment:k,parentComments:W}=n,{truncatedBodyJson:B}=(0,SS.Z)(k),q=W[W.length-1],ye=(t=k.attachments)==null?void 0:t.find(et=>et.type!=="image"),Me=(r=k.attachments)==null?void 0:r.filter(et=>et.type==="image"),Re=ye&&(0,Rd.k)(ye),ze=(0,o.sO)(null);return(0,TS.UM)(ze,()=>(0,Lm.zi)(n,Nm.Uo.PostEmbed),{threshold:.2}),(0,e.h)(Ye.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"}},(0,e.h)(hu.h,null,(0,e.h)(Ye.hs,{as:"a",target:"_blank",href:(0,Ze.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:km.note,ref:ze},(0,e.h)(Ye.hs,{flex:"auto"},(0,e.h)(Du.Zb,{user:k})),(0,e.h)(Ye.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(Ye.tu,{minWidth:0,flex:"grow"},(0,e.h)(Du.KF,null,(0,e.h)(rt.Zx,{weight:"semibold"},k.name),(0,e.h)(ai.o,{tier:k.user_bestseller_tier}),(0,e.h)(Du.Ku,{timestamp:k.date})),q&&(0,e.h)(rt.xv.Detail,null,"Replying to ",q.name),(0,e.h)(Ye.tu,{gap:12,flex:"grow"},(0,e.h)(Du.sP,null,B&&(0,e.h)(OS.x,{content:B})),(0,e.h)(Rd.y,{attachments:ye?[ye]:Me||[],readOnly:!0,onAttachmentClick:({commentId:et}={})=>(0,Lm.rw)(n,Nm.Uo.PostEmbed,"attachment",{extraEventProps:{commentId:et}}),utm_content:n.entity_key}))),(0,e.h)(Ye.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(xu,{icon:(0,e.h)(nd.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=k.reaction_count)!=null?i:0}),(0,e.h)(xu,{icon:(0,e.h)(Rm.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(f=k.children_count)!=null?f:0}),(0,e.h)(xu,{icon:(0,e.h)(bl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(x=k.restacks)!=null?x:0}),(0,e.h)(xu,{icon:(0,e.h)(CS.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function xu({icon:n,count:t}){return(0,e.h)(Ye.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(rt.xv.Digit,{color:"secondary"},t>0&&(0,Bm.u)(t)))}function xS(){return(0,e.h)(hu.h,null,(0,e.h)(Ye.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(Ye.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:km.note},(0,e.h)(Ba.Vm,{type:"circle",size:48}),(0,e.h)(Ye.tu,{gap:12,flex:"grow"},(0,e.h)(Ba.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ba.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ba.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Ba.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var MS=Object.defineProperty,AS=Object.defineProperties,NS=Object.getOwnPropertyDescriptors,Um=Object.getOwnPropertySymbols,RS=Object.prototype.hasOwnProperty,LS=Object.prototype.propertyIsEnumerable,Fm=(n,t,r)=>t in n?MS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BS=(n,t)=>{for(var r in t||(t={}))RS.call(t,r)&&Fm(n,r,t[r]);if(Um)for(var r of Um(t))LS.call(t,r)&&Fm(n,r,t[r]);return n},kS=(n,t)=>AS(n,NS(t));const US=n=>(0,e.h)(N.l,kS(BS({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Pl=St(84606);function AW({item:n,utmSource:t}){const{comment:r}=n;return h(jm,{comment:r,utmSource:t})}function jm({comment:n,utmSource:t}){var r,i,f,x,k,W,B;const q=(r=n.attachments)==null?void 0:r.find(et=>et.type==="image"),ye=(i=n.attachments)==null?void 0:i.find(et=>et.type==="post"),Me=ye==null?void 0:ye.postSelection,Re=(f=n.attachments)==null?void 0:f.find(et=>et.type!=="image"),ze=Re&&(0,Rd.k)(Re);return(0,e.h)(Pl.x,{as:"a",href:(0,Ze.getFeedCommentUrl)(n,{urlParams:{utm_source:t}}),padding:16,radius:8,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"},"data-component-name":"EmailCommentEmbed"},(0,e.h)(Xr.YF,{style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{style:{verticalAlign:"top",width:48}},(0,e.h)(Xr.NS,{src:(x=n.photo_url)!=null?x:(0,v.getDefaultUserPhotoById)(n.user_id),size:48})),(0,e.h)("td",{width:12}),(0,e.h)("td",{style:{verticalAlign:"top"}},(0,e.h)(Xr.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(Pl.x,null,(0,e.h)(rt.xv.B3,null,(0,e.h)(rt.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(rt.Zx,{color:"secondary"},Bn()(n.date).fromNowShort())),(0,e.h)(rt.xv.B3,null,(0,he.truncateWords)(n.body,420))),ye&&Me&&(0,e.h)(rt.xv.B3,null,(0,e.h)(FS,{attachment:ye,selection:Me})),ze&&!ye&&(0,e.h)(rt.xv.B4,{color:"accent-blue"},ze),q&&(0,e.h)(jS,{attachment:q}),(0,e.h)(Xr.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(nd.Z,{width:16,height:16,strokeWidth:1.5,stroke:El,style:Mu,fill:"none",isStatic:!0}),(0,e.h)(Ld,{count:(k=n.reaction_count)!=null?k:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Rm.Z,{height:16,width:16,strokeWidth:1.5,stroke:El,style:Mu,isStatic:!0}),(0,e.h)(Ld,{count:(W=n.children_count)!=null?W:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(bl.Z,{height:16,width:16,strokeWidth:1.5,stroke:El,style:Mu,isStatic:!0}),(0,e.h)(Ld,{count:(B=n.restacks)!=null?B:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(US,{height:16,width:16,strokeWidth:2,stroke:El,fill:El,style:Mu,isStatic:!0})))))))))}const Mu={display:"inline-block",verticalAlign:"middle"};function Ld({count:n}){return(0,e.h)(rt.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,Bm.u)(n):" ")}const El="#808080";function FS({attachment:n,selection:t}){return(0,e.h)(Pl.x,{padding:12,radius:8,bg:"secondary"},(0,e.h)(rt.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},"\u201C",(0,he.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014"," ",(0,xe.getPostAuthor)(n.publication,n.post).name))}function jS({attachment:n}){return(0,e.h)(Pl.x,{as:"img",src:(0,Ze.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:8,style:{maxHeight:600,objectFit:"cover",margin:0}})}const WS=(0,Po.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Bs={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},HS=({avatarUrl:n,name:t,url:r})=>(0,e.h)(Xr.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(Xr.zK,{gap:12},(0,e.h)(Xr.NS,{src:n,size:40}),(0,e.h)(Xr.i$,null,(0,e.h)(rt.xv.H4,{size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Xr.Bj,{tableClassName:Bs.emailButton,href:r},"Book meeting")),VS=({avatarUrl:n,name:t,url:r})=>(0,e.h)(Ye.hs,{direction:{mobile:"column",desktop:"row"},radius:8,padding:24,alignItems:"center",className:Bs.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(Ye.gq,{className:Bs.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(Id,{className:Bs.avatar,imageUrl:n,size:"lg",badge:(0,e.h)("div",{className:Bs.badge},(0,e.h)(WS,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(rt.xv.H4,{paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(Gn.zx,{className:Bs.cta,priority:"primary-theme",onClick:()=>{(0,b.redirect)(r,{newTab:!0})}},"Book meeting"));var KS=Object.defineProperty,$S=Object.defineProperties,zS=Object.getOwnPropertyDescriptors,Wm=Object.getOwnPropertySymbols,GS=Object.prototype.hasOwnProperty,ZS=Object.prototype.propertyIsEnumerable,Hm=(n,t,r)=>t in n?KS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YS=(n,t)=>{for(var r in t||(t={}))GS.call(t,r)&&Hm(n,r,t[r]);if(Wm)for(var r of Wm(t))ZS.call(t,r)&&Hm(n,r,t[r]);return n},JS=(n,t)=>$S(n,zS(t));const Bd=n=>(0,e.h)(N.l,JS(YS({},n),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));var QS=Object.defineProperty,XS=Object.defineProperties,qS=Object.getOwnPropertyDescriptors,Vm=Object.getOwnPropertySymbols,e5=Object.prototype.hasOwnProperty,t5=Object.prototype.propertyIsEnumerable,Km=(n,t,r)=>t in n?QS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,n5=(n,t)=>{for(var r in t||(t={}))e5.call(t,r)&&Km(n,r,t[r]);if(Vm)for(var r of Vm(t))t5.call(t,r)&&Km(n,r,t[r]);return n},r5=(n,t)=>XS(n,qS(t));const kd=n=>(0,e.h)(N.l,r5(n5({},n),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));var o5=Object.defineProperty,i5=Object.defineProperties,a5=Object.getOwnPropertyDescriptors,Au=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,zm=Object.prototype.propertyIsEnumerable,Gm=(n,t,r)=>t in n?o5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,s5=(n,t)=>{for(var r in t||(t={}))$m.call(t,r)&&Gm(n,r,t[r]);if(Au)for(var r of Au(t))zm.call(t,r)&&Gm(n,r,t[r]);return n},l5=(n,t)=>i5(n,a5(t)),u5=(n,t)=>{var r={};for(var i in n)$m.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Au)for(var i of Au(n))t.indexOf(i)<0&&zm.call(n,i)&&(r[i]=n[i]);return r};const c5=n=>{var t=n,{fill:r="white"}=t,i=u5(t,["fill"]);return(0,e.h)(N.l,l5(s5({},i),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};var d5=Object.defineProperty,f5=Object.defineProperties,p5=Object.getOwnPropertyDescriptors,Nu=Object.getOwnPropertySymbols,Zm=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable,Jm=(n,t,r)=>t in n?d5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h5=(n,t)=>{for(var r in t||(t={}))Zm.call(t,r)&&Jm(n,r,t[r]);if(Nu)for(var r of Nu(t))Ym.call(t,r)&&Jm(n,r,t[r]);return n},m5=(n,t)=>f5(n,p5(t)),_5=(n,t)=>{var r={};for(var i in n)Zm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Nu)for(var i of Nu(n))t.indexOf(i)<0&&Ym.call(n,i)&&(r[i]=n[i]);return r};const g5=n=>{var t=n,{fill:r="white"}=t,i=_5(t,["fill"]);return(0,e.h)(N.l,m5(h5({},i),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var v5=Object.defineProperty,y5=Object.defineProperties,b5=Object.getOwnPropertyDescriptors,Qm=Object.getOwnPropertySymbols,P5=Object.prototype.hasOwnProperty,E5=Object.prototype.propertyIsEnumerable,Ud=(n,t,r)=>t in n?v5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,w5=(n,t)=>{for(var r in t||(t={}))P5.call(t,r)&&Ud(n,r,t[r]);if(Qm)for(var r of Qm(t))E5.call(t,r)&&Ud(n,r,t[r]);return n},C5=(n,t)=>y5(n,b5(t)),Fd=(n,t,r)=>(Ud(n,typeof t!="symbol"?t+"":t,r),r),O5=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Xm="AudioPlayer.playbackRate",S5=5,qm={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class T5 extends e.Component{constructor(t){super(t)}shouldComponentUpdate(t){return this.props.currentPlaybackRate!==t.currentPlaybackRate||this.props.setPlaybackRate!==t.setPlaybackRate}render(){const{currentPlaybackRate:t,setPlaybackRate:r}=this.props;return(0,e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:i=>r(Number(i.target.value))},(0,e.h)("option",{value:"1",selected:t===1},"1x"),(0,e.h)("option",{value:"1.25",selected:t===1.25},"1.25x"),(0,e.h)("option",{value:"1.5",selected:t===1.5},"1.5x"),(0,e.h)("option",{value:"1.75",selected:t===1.75},"1.75x"),(0,e.h)("option",{value:"2",selected:t===2},"2x"))}}class ks extends e.Component{constructor(t,r){super(t,r),Fd(this,"setPlaybackRate",i=>{this.state.playbackRate!==i&&(this.player&&(this.player.playbackRate=i),this.setState({playbackRate:i}),(0,Ti.ex)(Xm,i))}),Fd(this,"maybeAppendIframeVisitId",i=>{var f;const x=(f=(0,M.A)())==null?void 0:f.id;return x&&(i=(0,v.updateQuery)(i,{src_iid:x})),i}),Fd(this,"openEpisodePage",()=>{let i=this.props.post.canonical_url;i=this.maybeAppendIframeVisitId(i),i=(0,v.updateQuery)(i,qm),window.open(i,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:t.playbackRate||(0,Ti.mM)(Xm,1),currentTime:0,waiting:!0,duration:t.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var t,r;(t=b.globalPlaybackNotifier)==null||t.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((r=this.player)==null?void 0:r.duration)&&this.props.onGetDuration(this.player.duration),(0,b.preloadImage)((0,v.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var t;(t=b.globalPlaybackNotifier)==null||t.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(t,r){!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"&&this.track(M.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(M.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%S5===0&&this.track(M.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&r.playing&&this.player&&this.player.ended&&this.track(M.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var t;(t=b.globalPlaybackNotifier)==null||t.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(t){this.onDragStart(t.clientX)}onMouseMove(t){this.onDragMove(t.clientX)}onTouchStart(t){t.touches&&t.touches.length>0&&this.onDragStart(t.touches[0].pageX)}onTouchMove(t){typeof this.state.dragTime=="number"&&t.preventDefault(),t.touches&&t.touches.length>0&&this.onDragMove(t.touches[0].pageX)}onDragStart(t){typeof this.state.dragTime!="number"&&this.setDragTime(t)}onDragMove(t){typeof this.state.dragTime=="number"&&this.setDragTime(t)}onDragEnd(){this.clearDragTime()}onUnload(t){this.state.playing&&(t.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(t){this!==t&&this.player&&(this.track(M.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return O5(this,null,function*(){if(this.player)if(this.player.paused){this.track(M.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(t){if(t.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw t}}else this.track(M.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const t=Math.max(0,this.state.currentTime-15);this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}skipForward(){if(this.player){const t=Math.min(this.state.duration,this.state.currentTime+30);this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}setDragTime(t){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const r=document.body.getBoundingClientRect(),i=this.progressBar.getBoundingClientRect(),f=i.left-r.left,x=i.right;let W=(Math.max(f,Math.min(x,t))-f)/(x-f)*this.state.duration;this.isDragTimeCloseToCurrentTime(W)&&(W=this.state.currentTime),this.setState({dragTime:W})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const t=this.state.dragTime;this.track(M.FP.SEEKED_AUDIO,{new_time:t,source:"slider"}),this.isDragTimeCloseToCurrentTime(t)?this.setState({dragTime:null}):(this.setState({currentTime:t,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=t))}isDragTimeCloseToCurrentTime(t){if(typeof this.state.currentTime!="number")return!1;let r;return this.state.duration<10?r=0:this.state.duration<30?r=3:r=5,Math.abs(this.state.currentTime-t)<r}track(t,r={}){const i=this.props.metricsPost;i&&(0,M.j)(t,Object.assign({post_id:i.id,publication_id:i.publication_id,is_podcast_free_preview:(0,fa.podcastPostIsFreePreview)(i),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},r))}render({src:t,autoPlay:r,pub:i,post:f,isFancy:x,showCTAs:k,metricsPost:W,addToPodcastLink:B,isPaywalled:q,render:ye}){if(ye){const{dragTime:Me,duration:Re,currentTime:ze,playbackRate:et}=this.state;return(0,e.h)(e.Fragment,null,ye({isPaywalled:q,progress:Re?(typeof Me=="number"?Me:ze)/Re:0,currentTime:Re?(0,he.secondsToHHMMSS)(ze):"--:--",remainingTime:Re?`-${(0,he.secondsToHHMMSS)(Re-Math.min(ze,Re))}`:"--:--",isPlaying:this.state.playing,playbackRate:et,progressBarOnMouseDown:Je=>{this.onMouseDown(Je)},progressBarRef:Je=>{this.progressBar=Je},setPlaybackRate:Je=>{this.setPlaybackRate(Je)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),t&&!q&&(0,e.h)("audio",{ref:Je=>{this.player=Je},src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."))}return x?this.renderFancy({src:t,autoPlay:r,pub:i,post:f,metricsPost:W,showCTAs:k}):this.renderOriginal({src:t,autoPlay:r,pub:i,metricsPost:W,addToPodcastLink:B})}renderFancy({src:t,autoPlay:r,pub:i,post:f,showCTAs:x}){const k=(0,b.getPodcastEpisodeImageUrl)(i,f);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-wrapper-fancy"},(0,e.h)("div",{className:"audio-player"},(0,e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,e.h)(ae.Z,{color:"#F8F8F8"})),(0,e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},k&&(0,e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,v.imginary)(k,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},f.title),(0,e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},f.subtitle),t&&(0,e.h)("audio",{"data-testid":"audio-element",ref:W=>this.player=W,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),x&&(0,e.h)("div",{className:"btn-group"},(0,e.h)(gt.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,e.h)(gt.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,v.getSubscribeUrl)(i,C5(w5({},qm),{simple:!0,next:(0,v.getPostUrl)(i,f)}))),newTab:!0},(0,he.getSubscribeText)(i))))))}renderOriginal({src:t,autoPlay:r,pub:i,addToPodcastLink:f}){return(0,e.h)("div",{className:"audio-player-wrapper"},(0,e.h)("div",{className:"audio-player"},t&&(0,e.h)("audio",{ref:x=>this.player=x,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),f&&!i.hide_podcast_feed_link&&(0,e.h)("div",{className:"audio-player-add-to-podcast-link",href:f},(0,e.h)("a",{href:f,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:t,href:r},{playing:i,waiting:f,playbackRate:x}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,e.h)(Bd,{className:"skip-icon"})),(0,e.h)("button",{className:d()("audio-player-play",{pause:"playing",waiting:f}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},i?(0,e.h)(c5,{className:"playback-icon pause",fill:"#1C110B"}):(0,e.h)(g5,{className:"playback-icon play",fill:"#1C110B"})),(0,e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,e.h)(kd,{className:"skip-icon"})))}renderButtons({src:t,href:r,isStatic:i},{playing:f,waiting:x,playbackRate:k}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,e.h)("td",{className:"audio-player-backward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipBack()},(0,e.h)(Bd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:`audio-player-play ${f?"pause":""} ${x?"waiting":""}`},(0,e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,e.h)("img",{src:(0,v.imginary)(f?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,e.h)("td",{className:"audio-player-forward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipForward()},(0,e.h)(kd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),t&&(0,e.h)(T5,{currentPlaybackRate:k,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:t,currentTime:r,dragTime:i}){return(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-progress-past"},t?(0,he.secondsToHHMMSS)(r):"--:--"),(0,e.h)("td",{ref:f=>this.progressBar=f,className:"audio-player-progress-bar",onMouseDown:f=>this.onMouseDown(f)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${t?100*(typeof i=="number"?i:r)/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${t?100*r/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${t?100*(typeof i=="number"?i:r)/t:0}%`}),typeof i=="number"&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,he.secondsToHHMMSS)(i))),(0,e.h)("td",{className:"audio-player-progress-left"},t?`-${(0,he.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--"))))}renderProgressFancy({},{duration:t,currentTime:r,dragTime:i,lastDragClearedAt:f}){const x=typeof i=="number",k=f?performance.now()-f<50:!1;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("div",{ref:W=>this.progressBar=W,className:"audio-player-progress-bar",onMouseDown:W=>this.onMouseDown(W)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${t?100*(x?i:r)/t:0}%`}}),(0,e.h)("div",{className:d()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":x,"audio-player-progress-bar-current-disable-animations":k}),style:`left:${t?100*r/t:0}%`}),x&&(0,e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${t?100*i/t:0}%`}),x&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,he.secondsToHHMMSS)(i)))),(0,e.h)("div",{className:"audio-player-time-wrapper"},(0,e.h)("div",{className:"audio-player-progress-past"},t?(0,he.secondsToHHMMSS)(r):"--:--"),(0,e.h)("div",{className:"audio-player-progress-left"},t?`-${(0,he.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--")))}}var I5=Object.defineProperty,D5=Object.defineProperties,x5=Object.getOwnPropertyDescriptors,e0=Object.getOwnPropertySymbols,M5=Object.prototype.hasOwnProperty,A5=Object.prototype.propertyIsEnumerable,t0=(n,t,r)=>t in n?I5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,N5=(n,t)=>{for(var r in t||(t={}))M5.call(t,r)&&t0(n,r,t[r]);if(e0)for(var r of e0(t))A5.call(t,r)&&t0(n,r,t[r]);return n},R5=(n,t)=>D5(n,x5(t));const L5=n=>(0,e.h)(N.l,R5(N5({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var B5=Object.defineProperty,k5=Object.defineProperties,U5=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,F5=Object.prototype.hasOwnProperty,j5=Object.prototype.propertyIsEnumerable,r0=(n,t,r)=>t in n?B5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,W5=(n,t)=>{for(var r in t||(t={}))F5.call(t,r)&&r0(n,r,t[r]);if(n0)for(var r of n0(t))j5.call(t,r)&&r0(n,r,t[r]);return n},H5=(n,t)=>k5(n,U5(t));const wl=n=>(0,e.h)(N.l,H5(W5({},n),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));var V5=Object.defineProperty,K5=Object.defineProperties,$5=Object.getOwnPropertyDescriptors,o0=Object.getOwnPropertySymbols,z5=Object.prototype.hasOwnProperty,G5=Object.prototype.propertyIsEnumerable,i0=(n,t,r)=>t in n?V5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Z5=(n,t)=>{for(var r in t||(t={}))z5.call(t,r)&&i0(n,r,t[r]);if(o0)for(var r of o0(t))G5.call(t,r)&&i0(n,r,t[r]);return n},Y5=(n,t)=>K5(n,$5(t));const J5=n=>(0,e.h)(N.l,Y5(Z5({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),Q5={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var X5=Object.defineProperty,q5=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,tT=Object.prototype.hasOwnProperty,nT=Object.prototype.propertyIsEnumerable,s0=(n,t,r)=>t in n?X5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,l0=(n,t)=>{for(var r in t||(t={}))tT.call(t,r)&&s0(n,r,t[r]);if(a0)for(var r of a0(t))nT.call(t,r)&&s0(n,r,t[r]);return n},u0=(n,t)=>q5(n,eT(t)),rT=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Podcast",n.PodcastPreview="Podcast free version",n))(rT||{}),oT=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new podcast episode by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n))(oT||{}),iT=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(iT||{});const jd=({containerRef:n,currentTime:t,remainingTime:r,progress:i,onMouseDown:f,shouldCollapseOnMobile:x=!1,theme:k=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:d()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":x})},t),(0,e.h)("div",{ref:n,className:d()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":x}),onMouseDown:f},(0,e.h)("div",{className:d()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":k===1,"tw-bg-substack-detail":k!==1})}),(0,e.h)("div",{className:d()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":k!==2,"tw-bg-substack-accent":k===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:d()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":k===1,"tw-border-substack-bg":k!==1,"tw-bg-substack-accent":k===2,"tw-bg-pub-accent":k!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},r)),Ru=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],Wd=({onSetPlaybackRate:n,playbackRate:t,className:r})=>{const i=Ru.findIndex(({value:f})=>f===t);return(0,e.h)("div",{onClick:()=>{const f=(i+1)%Ru.length;n(Ru[f].value)},className:r},Ru[i].display,"\xD7")},jW=({togglePlayback:n,isPlaying:t,isDisabled:r=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:r}),r||n()},className:"tw-flex tw-justify-center tw-pb-8"},t?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!r,"tw-fill-pub-accent":!r,"tw-fill-substack-detail":r}),stroke:"none",height:28})),aT=({isPlaying:n,onSkipBack:t,onSkipForward:r,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},t&&(0,e.h)("div",{onClick:t,role:"button",className:"tw-cursor-pointer"},(0,e.h)(Bd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:d()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(wl,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(kd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),c0=n=>(0,e.h)(ks,u0(l0({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:t,isPlaying:r,progress:i,progressBarRef:f,progressBarOnMouseDown:x,remainingTime:k,playbackRate:W,setPlaybackRate:B,togglePlayback:q})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(Wd,{onSetPlaybackRate:B,playbackRate:W,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(jd,{currentTime:t,remainingTime:k,containerRef:f,progress:i,onMouseDown:x}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:q,role:"button"},r?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(wl,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),d0=({pub:n,post:t,duration:r,label:i})=>{var f;return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:t.canonical_url,className:d()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",Q5.noUnderline)},(0,e.h)(L5,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(f=n.theme)==null?void 0:f.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,he.truncateText)(i,10)||"Listen now"," \xB7 ",(0,he.secondsToHHMMSS)(r))))))},sT=n=>{const t=(0,$t.useMediaQuery)({maxWidth:631}),r=`/api/v1/audio/upload/${n.mediaUploadId}/src`;return(0,e.h)(ks,u0(l0({},n),{src:r,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:i,currentTime:f,isPlaying:x,progress:k,progressBarRef:W,progressBarOnMouseDown:B,remainingTime:q,playbackRate:ye,setPlaybackRate:Me,togglePlayback:Re})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(J5,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},i?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},"Upgrade to paid to play voiceover"):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},"Article voiceover"),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(Wd,{onSetPlaybackRate:Me,playbackRate:ye,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(jd,{currentTime:f,remainingTime:q,containerRef:W,progress:k,onMouseDown:B,shouldCollapseOnMobile:!0}))),i?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(wl,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:t?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Re,role:"button"},x?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(wl,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},WW=({pub:n,post:t,isPaywalled:r})=>{var i,f,x;const k=r?"Upgrade to paid for post voiceover":`Listen to post ${((i=t.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(t.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:r?(f=n.theme)==null?void 0:f.background_contrast_3:(x=n.theme)==null?void 0:x.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},k)))))},HW=({isOpen:n,onDismiss:t,onDeleteAudio:r})=>h(Modal,{isOpen:n,onClose:t},h(ModalHeader,{includeClose:!1,title:"Something went wrong..."}),h(ModalBody,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:r,variant:"primary"},"Got it")}));var lT=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const uT=n=>parseFloat(n).toFixed(2),cT=({symbol:n,prependSymbol:t=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${n}`,[f,x]=(0,o.eJ)(null),[k,W]=(0,o.eJ)(null),[B,q]=(0,o.eJ)(!1);return(0,o.d4)(()=>{(()=>lT(void 0,null,function*(){try{const Me=yield ie().get(i);if(Me.body){if(Me.body.status==="not_found"){q(!0);return}x(Me.body.price),W(Me.body.change_pct)}}catch(Me){q(!0)}}))()},[i]),!t&&n.startsWith("$")&&(n=n.slice(1)),r?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,v.getStockLandingUrl)(n)}`},n," ")):B?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:d()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noreferrer",href:`${(0,v.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,k?(0,e.h)("span",null,(0,e.h)("span",{className:d()("delta")},`${uT(k)}%`,!!k&&(parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))):"0.00"))};var f0=St(14531),dT=St(91036),p0=St.n(dT);const Do={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--Ig8_w",menu:"frontend-components-DigestPostEmbed-index-module__menu--Bz7Fv",caption:"frontend-components-DigestPostEmbed-index-module__caption--YO4hv",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--B5QxT",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--iauxz",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--KEbmN",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--R2y7M",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--xH1Q_",link:"frontend-components-DigestPostEmbed-index-module__link--j23hQ",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--sgsa4"};var fT=Object.defineProperty,pT=Object.defineProperties,hT=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,mT=Object.prototype.hasOwnProperty,_T=Object.prototype.propertyIsEnumerable,m0=(n,t,r)=>t in n?fT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gT=(n,t)=>{for(var r in t||(t={}))mT.call(t,r)&&m0(n,r,t[r]);if(h0)for(var r of h0(t))_T.call(t,r)&&m0(n,r,t[r]);return n},vT=(n,t)=>pT(n,hT(t));const Lu=n=>{n.stopPropagation()},yT=({editing:n,caption:t,onFocus:r,onSave:i,onCancel:f})=>{const x=t.replace(/<br\s*\/?>/gi,`
`),[k,W]=(0,o.eJ)(x);return n?(0,e.h)(Jt.tu,{flex:"grow"},(0,e.h)(Jt.gx,{name:"description",value:k,onChange:B=>{W(B.target.value)},className:Do.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:Lu,onKeyDown:Lu,onCopy:Lu,onPaste:Lu}),(0,e.h)(Jt.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(Jt.zx,{priority:"secondary-theme",onClick:f},"Cancel"),(0,e.h)(Jt.zx,{priority:"primary-theme",onClick:()=>{const B=k.replace(/\n/g,"<br>"),q=p0()(B,vT(gT({},p0().defaults),{allowedTags:["br"]}));i(q)}},"Save"))):(0,e.h)("p",{onClick:r,className:Do.caption,dangerouslySetInnerHTML:{__html:t}})};var _0=St(48960);const bT=({size:n,onOpen:t,onClose:r,onEditCaption:i,onSetLayout:f,onConvertToLink:x,onConvertToEmbeddedPost:k,onDelete:W})=>(0,e.h)(Jt.hs,{className:Do.menu,justifyContent:"end"},(0,e.h)(Eo.v2,{trigger:(0,e.h)(Jt.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(Xa,{className:Do.menuIcon,height:20})),onOpen:t,onClose:r,layerOptions:{placement:"bottom-end"}},(0,e.h)(Eo.sN,{disabled:n==="sm",onClick:()=>f("sm")},"Small display"),(0,e.h)(Eo.sN,{disabled:n==="md",onClick:()=>f("md")},"Medium display"),(0,e.h)(Eo.sN,{disabled:n==="lg",onClick:()=>f("lg")},"Large display"),(0,e.h)(_0.i,null),(n==="lg"||n==="md")&&(0,e.h)(Eo.sN,{onClick:i},"Edit caption"),(0,e.h)(Eo.sN,{onClick:()=>k()},"Convert to default"),(0,e.h)(Eo.sN,{onClick:x},"Convert to link"),(0,e.h)(Eo.sN,{priority:"destructive",onClick:W},"Remove"))),g0=(0,Po.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),Hd=({post:n,href:t,isEditor:r,includeUfi:i=!1,paddingTop:f=0,paddingBottom:x=0})=>{const k=(0,is.aF)(),W=(0,ud.I)();return(0,e.h)(Ye.gq,{gap:16,paddingTop:f,paddingBottom:x,alignItems:"center"},i&&W&&k&&n&&(0,e.h)(Ye.gq,{gap:8,className:"post-ufi"},(0,e.h)(Ho.RY,{post:n,pub:W,user:k}),(0,e.h)(Ho.L9,{post:n,pub:W}),(0,e.h)(Ho.pD,{post:n,pub:W,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(Jt.xv.Button,{className:d()({[Do.disableLink]:r}),as:"a",href:t,align:"center"},(0,e.h)(Ye.gq,{gap:8,alignItems:"center",className:Do.link},(0,e.h)(Jt.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(g0,{size:16}))))},v0=({href:n,includeUfi:t=!1,paddingTop:r=0,paddingBottom:i=0})=>(0,e.h)(Xr.zK,{gap:16,style:{paddingTop:r,paddingBottom:i}},(0,e.h)(Jt.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(Xr.zK,{gap:8},(0,e.h)(Jt.xv.B4,{color:"pub-accent",as:"span",size:14,className:Do.link},"Read full story"))));var Vd=St(45809);const Kd=({bylines:n,date:t,isEditor:r})=>(0,e.h)(Ye.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(Jt.xv.Meta,{className:d()({[Do.disableLink]:r}),color:"pub-secondary-text"},(0,e.h)(Vd.M,{array:n||[],limit:3,formatter:({id:i,name:f})=>(0,e.h)("a",{className:Do.inheritColor,href:(0,Ze.getProfileUrlById)(i,f)},f)})),(0,e.h)(Jt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(Jt.xv.Meta,{color:"pub-secondary-text"},(0,b.formatPostDate)(t))),y0=({bylines:n,date:t})=>(0,e.h)(Xr.zK,{gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(Jt.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(Vd.M,{array:n||[],limit:3,formatter:({id:r,name:i})=>(0,e.h)("a",{className:Do.inheritColor,href:(0,Ze.getProfileUrlById)(r,i)},i)})),(0,e.h)(Jt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(Jt.xv.Meta,{color:"pub-secondary-text"},(0,b.formatPostDate)(t))),PT=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:f,canonical_url:x,post_date:k,section_name:W,cover_image:B,cover_image_alt:q}=n;return(0,e.h)(Ye.tu,null,W&&(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(Jt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},W)),(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(Jt.xv.H2,{color:"pub-primary-text"},f)),(0,e.h)(Kd,{bylines:i,date:k,isEditor:t}),B&&(0,e.h)(Jt.xu,{paddingTop:24},(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(rn.e,{className:Do.fullWidth,src:B,alt:q!=null?q:f,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(Jt.hs,{paddingTop:16,flex:"grow"},t?r:(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},r)),(0,e.h)(Hd,{post:n,href:x,includeUfi:!1,isEditor:t}))},b0=({post:n,children:t})=>{const{publishedBylines:r,title:i,canonical_url:f,post_date:x,section_name:k,cover_image:W,cover_image_alt:B}=n;return(0,e.h)(Xr.i$,null,k&&(0,e.h)("a",{href:f},(0,e.h)(Jt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:f},(0,e.h)(Jt.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(y0,{bylines:r,date:x}),W&&(0,e.h)(Jt.xu,{paddingTop:24},(0,e.h)("a",{href:f},(0,e.h)(rn.e,{className:Do.fullWidth,src:W,alt:B!=null?B:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:f},(0,e.h)(Jt.xu,{as:"p"},t)),(0,e.h)(v0,{href:f}))},ET=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:f,canonical_url:x,post_date:k,section_name:W,cover_image:B,cover_image_alt:q}=n,ye=(0,vi.XA)();return(0,e.h)(Ye.tu,null,W&&(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(Jt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},W)),(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(Jt.xv.H2,{color:"pub-primary-text"},f)),(0,e.h)(Kd,{bylines:i,date:k,isEditor:t}),(0,e.h)(Jt.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},B&&(0,e.h)(Jt.xu,{style:{width:ye?"unset":140}},(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(rn.e,{className:ye?Do.fullWidth:Do.mdSquare,src:B,alt:q!=null?q:f,maxWidth:ye?1300:280,imageProps:{height:Math.round(ye?1300:280),smartCrop:!0}}))),(0,e.h)(Ye.tu,{flex:"grow"},t?r:(0,e.h)("a",{href:x,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},r),(0,e.h)(Hd,{post:n,href:x,isEditor:t}))))},wT=({post:n,children:t})=>(0,e.h)(b0,{post:n,children:t}),CT=({post:n,isEditor:t})=>{const{publishedBylines:r,title:i,canonical_url:f,post_date:x,cover_image:k,cover_image_alt:W}=n;return(0,e.h)("a",{href:f,className:d()({[Do.disableLink]:t}),target:"_blank",rel:"noreferrer"},(0,e.h)(Ye.gq,{gap:16},k&&(0,e.h)(Jt.xu,{style:{width:70,height:70}},(0,e.h)(rn.e,{className:Do.smSquare,src:k,alt:W!=null?W:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(Ye.tu,null,(0,e.h)(Jt.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(Kd,{bylines:r,date:x,isEditor:t}),(0,e.h)(Hd,{post:n,href:f,includeUfi:!1,isEditor:t}))))},OT=({post:n})=>{const{publishedBylines:t,title:r,canonical_url:i,post_date:f,cover_image:x,cover_image_alt:k}=n;return(0,e.h)(Xr.zK,{gap:16},x&&(0,e.h)(Jt.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(rn.e,{className:Do.smSquare,src:x,alt:k!=null?k:r,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(Xr.i$,null,(0,e.h)(Jt.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},r)),(0,e.h)(y0,{bylines:t,date:f}),(0,e.h)(v0,{href:i})))};var ST=Object.defineProperty,Bu=Object.getOwnPropertySymbols,P0=Object.prototype.hasOwnProperty,E0=Object.prototype.propertyIsEnumerable,w0=(n,t,r)=>t in n?ST(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,TT=(n,t)=>{for(var r in t||(t={}))P0.call(t,r)&&w0(n,r,t[r]);if(Bu)for(var r of Bu(t))E0.call(t,r)&&w0(n,r,t[r]);return n},IT=(n,t)=>{var r={};for(var i in n)P0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bu)for(var i of Bu(n))t.indexOf(i)<0&&E0.call(n,i)&&(r[i]=n[i]);return r};const ku=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},DT=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},xT=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},MT=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},AT=({nodeId:n,caption:t,size:r="lg",isEditor:i,title:f,publishedBylines:x,post_date:k,cover_image:W,cover_image_alt:B,canonical_url:q,section_name:ye,id:Me,type:Re,reaction_count:ze,comment_count:et,publication_name:Je,publication_logo_url:dt})=>{const[Et,wt]=(0,o.eJ)(!1),[xt,Bt]=(0,o.eJ)(!1),[kt,on]=(0,o.eJ)(!1),pn={title:f,publishedBylines:x,post_date:k,cover_image:W,cover_image_alt:B,canonical_url:q,section_name:ye,id:Me,type:Re,reaction_count:ze,comment_count:et,publication_name:Je,publication_logo_url:dt},En=()=>{Bt(!0),wt(!1),ku({nodeId:n,shouldDisableDrag:!0})},vn=(0,e.h)(yT,{editing:xt,caption:t,onFocus:En,onSave:hn=>{Bt(!1),ku({nodeId:n,caption:hn,shouldDisableDrag:!1})},onCancel:()=>{Bt(!1),ku({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:d()(Do.digestPostEmbed),onMouseEnter:()=>!xt&&wt(!0),onMouseLeave:()=>!kt&&wt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&Et&&(0,e.h)(bT,{size:r,onOpen:()=>on(!0),onClose:()=>on(!1),onEditCaption:En,onSetLayout:hn=>{ku(TT({nodeId:n,caption:t,size:hn},pn))},onConvertToEmbeddedPost:()=>{xT({url:q})},onConvertToLink:()=>{DT({url:q})},onDelete:()=>{MT()}}),r==="sm"&&(0,e.h)(CT,{post:pn,isEditor:i}),r==="md"&&(0,e.h)(ET,{post:pn,isEditor:i},i?vn:(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:t}})),r==="lg"&&(0,e.h)(PT,{post:pn,isEditor:i},i?vn:(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:t}}))))},NT=n=>{var t=n,{caption:r,size:i}=t,f=IT(t,["caption","size"]);return f?(0,e.h)("div",{className:d()(Do.digestPostEmbed,f0.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(OT,{post:f}),i==="md"&&(0,e.h)(wT,{post:f},(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:r}})),i==="lg"&&(0,e.h)(b0,{post:f},(0,e.h)("p",{className:Do.caption,dangerouslySetInnerHTML:{__html:r}}))):null},pa={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--IXwNH",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"},RT=({align:n,width:t})=>{const r={};if(n==="center"||t==="100%"||t>=v.EMAIL_CONTENT_WIDTH)return r;const i=n==="left"?"paddingRight":"paddingLeft";return r[i]=v.EMAIL_CONTENT_WIDTH-t,r},LT=({src:n,alt:t,title:r,width:i,height:f,size:x,align:k})=>{const W=i==="100%"?v.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:d()(pa.staticView),"data-component-name":"Image3Static"},(0,e.h)("div",{style:RT({align:k,width:i}),className:d()(pa.staticImageWrap)},(0,e.h)("img",{width:W,height:f,src:(0,v.imginary)(n,2*v.EMAIL_CONTENT_WIDTH),alt:t}),r&&(0,e.h)("div",{className:d()(pa.caption,pa.static)},r)))};var $d=St(55661);const BT=({src:n,alt:t,title:r,width:i,height:f,size:x,align:k})=>{const[W,B]=(0,o.eJ)(!1),[q,ye]=(0,o.eJ)(0),[Me,Re]=(0,o.eJ)(0),ze=(0,o.sO)(null),et=()=>{const dt=document.querySelector(".ProseMirror");dt&&Re(dt==null?void 0:dt.clientWidth),ze.current&&(ze.current.onload=()=>{ye(ze.current.naturalWidth/ze.current.naturalHeight)})};(0,o.d4)(()=>{et()});const Je=()=>{switch(x){case"large":return v.LARGE_IMAGE_WIDTH;case"full":return typeof window!==void 0?window.innerWidth:v.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?v.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:d()(pa.mediaNodeView,k&&pa[`align-${k}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(Ye.gq,{className:d()(pa.imageContainer,pa.zoom,pa[x]),onClick:()=>B(!0)},(0,e.h)(Ye.tu,{gap:8},(0,e.h)(rn.e,{className:pa[x],src:n,alt:t,title:r,maxWidth:Je(),imageRef:ze}),r&&(0,e.h)("figcaption",{className:pa.caption},r))),(0,e.h)($d.ImageViewerModal,{showModal:W,modalContent:[{attrs:{src:n,alt:t,title:r}}],onClose:()=>B(!1),step:0}))};var kT=St(71284);const Ki={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"},C0=(n,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?n<=2?"small":"medium":n<=5?"small":"medium",O0={small:237,medium:360,large:728},S0=({src:n,size:t,onSelectImage:r,useViewer:i=!1,alt:f})=>{const x=()=>{i&&r()};return(0,e.h)(rn.e,{src:n,alt:f,maxWidth:2*O0[t],className:d()(Ki.image,Ki[t],i&&Ki.zoom),onClick:x})},UT=(n,t="",r="")=>{const i=[];for(const f in n){const x=n[f],{height:k=0,width:W=0}=(0,Ze.extractDimensionsFromImageUrl)(x.src)||{},B=`(${Number(f)+1} of ${n.length})`,q={src:x.src,height:k,width:W,alt:`${r} ${B}`,title:`${t} ${B}`};i.push({attrs:q})}return i},FT=({onEditGallery:n,editGalleryRef:t})=>(0,e.h)(Ye.hs,{justifyContent:"center",alignItems:"center",className:Ki.editGalleryWrap},(0,e.h)(Fi.Fx,{ref:t,noList:!0},(0,e.h)(Ye.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Ki.editGallery},(0,e.h)(_l.Z,{height:20})))),jT=({node:n,editor:t})=>{const{gallery:r}=n.attrs,i=n.attrs.isEditor||t,{images:f=[],caption:x,alt:k}=r,W=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[B,q]=(0,o.eJ)(!1),[ye,Me]=(0,o.eJ)(0),Re=(0,o.sO)(null),ze=f.length===1,et=UT(f,x),Je=xt=>{Me(xt),q(!0)},dt=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(f.length===0)return null;const Et=xt=>{var Bt,kt;i&&(xt?(Bt=Re.current)==null||Bt.open():(kt=Re.current)==null||kt.close())},wt=T0(f);return(0,e.h)(kT.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,e.h)("figure",{className:d()(Ki.imageGallery,i&&Ki.canEdit),onMouseEnter:()=>Et(!0),onMouseLeave:()=>Et(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&r&&(0,e.h)(FT,{onEditGallery:dt,editGalleryRef:Re}),(0,e.h)(Ye.tu,{gap:8},ze?(0,e.h)(S0,{src:f[0].src,alt:k,caption:x,size:C0(0,1),onSelectImage:()=>Je(0),useViewer:W}):wt.map(xt=>(0,e.h)(Ye.hs,{className:d()(Ki.imageRow,Ki[`length-${xt.length}`]),gap:8},xt.map((Bt,kt)=>(0,e.h)(S0,{src:Bt.src,alt:k,caption:x,size:C0(kt,f.length),onSelectImage:()=>Je(kt),useViewer:W})))),x&&(0,e.h)("figcaption",{className:Ki.imageCaption},x)),(0,e.h)($d.ImageViewerModal,{showModal:B,modalContent:et,onClose:()=>q(!1),step:ye})))},WT=({node:n})=>{const{gallery:t}=n.attrs;if(!t)return null;const{alt:r,staticGalleryImage:i,caption:f}=t;return i?(0,e.h)("div",{className:d()(Ki.static,Ki.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,Ze.imginary)(i.src,2*O0.large),alt:r}),f&&(0,e.h)("div",{className:d()(Ki.imageCaption,Ki.static)},f)):null};function T0(n){const t=n.length===4?2:3;let r=[n.slice(0,t)];const i=n.slice(t);return i.length>0&&(r=r.concat(T0(i))),r}var HT=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(HT||{});const I0={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"};var VT=Object.defineProperty,KT=Object.defineProperties,$T=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,zT=Object.prototype.hasOwnProperty,GT=Object.prototype.propertyIsEnumerable,x0=(n,t,r)=>t in n?VT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ZT=(n,t)=>{for(var r in t||(t={}))zT.call(t,r)&&x0(n,r,t[r]);if(D0)for(var r of D0(t))GT.call(t,r)&&x0(n,r,t[r]);return n},YT=(n,t)=>KT(n,$T(t));const M0=n=>(0,e.h)(N.l,YT(ZT({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})),JT={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var QT=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const XT=({tierNumber:n,rewardDescription:t,numReferralsRequired:r,pub:i})=>{const[f,x]=(0,o.eJ)([]),k=()=>QT(void 0,null,function*(){const{body:ye}=yield ie().get("/api/v1/reader_referrals/tiers");x(ye.tiers)});(0,o.d4)(()=>{k()},[]);const W=f[n-1],B=W?W.reward_description?W.reward_description:I0[W.reward_type]:t,q=W?W.num_referrals_required:r;return(0,e.h)(Ye.tu,{href:(0,Ze.getLeaderboardUrl)(i,{addBase:!0}),className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((ye,Me)=>(0,e.h)(M0,{width:20,height:20,strokeWidth:2,stroke:"#18ADFF",fill:"#18ADFF",key:Me}))),(0,e.h)(Ye.tu,{gap:4},(0,e.h)(rt.xv.H4,null,B),(0,e.h)(rt.xv.Meta,null,"Tier ",n," reward - ",q," Referrals")),(0,e.h)(Ye.gq,{alignItems:"center"},(0,e.h)(fn.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(rt.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name)))},qT=({tierNumber:n,pub:t})=>(0,e.h)("a",{href:(0,Ze.getLeaderboardUrl)(t,{addBase:!0}),className:JT.referralsTierCard},(0,e.h)(Xr.i$,{gap:16},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((r,i)=>(0,e.h)(M0,{width:20,height:20,strokeWidth:2,stroke:"#18ADFF",fill:"#18ADFF",key:i,isStatic:!0}))),(0,e.h)(Xr.i$,{gap:4},(0,e.h)(rt.xv.H4,null,Ei.Substitutions.REWARD_DESCRIPTION),(0,e.h)(rt.xv.Meta,null,"Tier ",n," reward - ",Ei.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,e.h)(Xr.zK,{verticalAlign:"middle"},(0,e.h)(fn.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(rt.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var eI=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const tI=({mediaUploadId:n})=>{const[t,r]=(0,o.eJ)(null),[i,f]=(0,o.eJ)(!0),[x,k]=(0,o.eJ)(null);return(0,o.d4)(()=>{n?(()=>eI(void 0,null,function*(){try{const B=yield ie().get(`/api/v1/video/upload/${n}`);r(B.body),f(!1)}catch(B){console.error("Failed to load media upload:",B),k((0,b.getNetworkErrorMessage)(B)),f(!1)}}))():(r(null),f(!1))},[n,x]),{mediaUpload:t,loading:i,error:x}};var nI=St(54125),A0=St.n(nI),rI=Object.defineProperty,oI=Object.defineProperties,iI=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertySymbols,aI=Object.prototype.hasOwnProperty,sI=Object.prototype.propertyIsEnumerable,R0=(n,t,r)=>t in n?rI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lI=(n,t)=>{for(var r in t||(t={}))aI.call(t,r)&&R0(n,r,t[r]);if(N0)for(var r of N0(t))sI.call(t,r)&&R0(n,r,t[r]);return n},uI=(n,t)=>oI(n,iI(t));const L0=n=>(0,e.h)(N.l,uI(lI({},n),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));var cI=Object.defineProperty,B0=Object.getOwnPropertySymbols,dI=Object.prototype.hasOwnProperty,fI=Object.prototype.propertyIsEnumerable,k0=(n,t,r)=>t in n?cI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pI=(n,t)=>{for(var r in t||(t={}))dI.call(t,r)&&k0(n,r,t[r]);if(B0)for(var r of B0(t))fI.call(t,r)&&k0(n,r,t[r]);return n};const hI=5,mI="video:playback_location:",_I=4*60,gI=60,vI=60,yI=3,bI=60,PI={hls:"application/x-mpegURL",mp4:"video/mp4"};class Cl extends e.Component{constructor(t,r){var i;super(t,r),this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var x;(x=b.globalPlaybackNotifier)==null||x.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:x=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),x&&this.player&&!(0,b.isIOs)()&&(this.player.currentTime=0),(0,b.exitFullscreen)(),(0,b.exitPictureInPicture)()},this.onPreviewClick=()=>{var x,k;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(x=this.player)==null||x.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(k=this.player)==null||k.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=x=>{x.preventDefault()},this.onAllSourcesFailed=()=>{var x,k;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(k=(x=this.props).onPlaybackFailed)==null||k.call(x)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=x=>{this!==x&&this.player&&(this.track(M.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=x=>{var k;this.props.noKeyboardShortcuts||x.metaKey||x.altKey||x.ctrlKey||document.activeElement!==document.body||!this.player||((k=b.globalPlaybackNotifier)==null?void 0:k.listenerCount("play"))>1&&this.player.paused||(x.key==="f"?(0,b.isFullscreen)()?(0,b.exitFullscreen)()&&x.preventDefault():((0,b.goFullscreen)(this.player)&&x.preventDefault(),this.player.paused&&this.player.play()):x.key===" "&&!(0,b.isFullscreen)()?(x.preventDefault(),this.player.paused?this.player.play():this.player.pause()):x.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):x.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const f=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:f,currentTime:0,waiting:!0,duration:(i=t.mediaUpload.duration)!=null?i:null,autoPlay:t.autoPlay,playing:!1,attemptingToPlay:t.autoPlay,previewHidden:f!==null&&f>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var t;this._initHlsjs(),(t=b.globalPlaybackNotifier)==null||t.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&A0().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:A0().utils.now()}})}componentWillUnmount(){var t;this.setPlaybackRestoreLocation(),(t=b.globalPlaybackNotifier)==null||t.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(t,r){var i;if((this.props.noPreview!==t.noPreview||this.props.noControls!==t.noControls||this.props.noKeyboardShortcuts!==t.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"){const{useHLSJS:f,browserCanPlayHLS:x,HLSerrored:k}=this.state;this.track(M.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:f,browser_can_play_hls:x,hls_errored:k})}this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(M.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%hI===0&&this.track(M.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&r.playing&&((i=this.player)!=null&&i.ended)&&this.track(M.FP.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${mI}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>_I){const t=(0,Ti.mM)(this.getPlaybackLocationKey());if((t==null?void 0:t.currentTime)>gI&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-t.currentTime>vI){const r=Date.now()-t.watchedAt>bI?yI:0,i=Math.max(0,t.currentTime-r);if(i)return i}}return null}setPlaybackRestoreLocation(){var t;this.playbackEnabled()&&((t=this.player)!=null&&t.currentTime)&&(0,Ti.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(t,r={}){const i=this.props.post;i&&(0,M.j)(t,Object.assign({post_id:i.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},r))}render(t,r){const{height:i,width:f}=(0,he.videoPlayerDimensions)(t.mediaUpload,{isStatic:t.isStatic}),x={paddingBottom:`${Math.min(100,100*i/f).toFixed(4)}%`};return(0,e.h)("div",{className:d()("video-player-wrapper",{"with-preview":!r.previewHidden,"is-static":t.isStatic,"full-width":f>=960}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:"video-player",href:this.href(),style:x},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:"video-player",style:x},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:t,pub:r,reaction_token:i=null,isStatic:f,noControls:x,noPreview:k},{autoPlay:W,attemptingToPlay:B,previewHidden:q,useHLSJS:ye,browserCanPlayHLS:Me,HLSerrored:Re}){const ze=!k&&!q,et=f||!this.playbackEnabled(),Je=(0,v.updateQuery)(`/api/v1/video/upload/${t.id}/src`,{token:i,override_publication_id:r==null?void 0:r.id});let dt=[];return(0,b.isAndroid)()?dt=["mp4"]:Me?dt=["hls","mp4"]:ye?dt=[]:Re?dt=["mp4"]:dt=["hls","mp4"],[this.playbackEnabled()&&!f&&typeof window!="undefined"&&(0,e.h)("video",{ref:Et=>this.player=Et,controls:!x&&!ze,controlsList:"nodownload",autoPlay:W&&this.playbackEnabled(),poster:(0,v.getMediaUploadThumbnailUrlForPlayer)(t)},dt.map((Et,wt)=>(0,e.h)("source",{src:(0,v.updateQuery)(Je,{type:Et}),type:PI[Et],onError:wt===dt.length-1?this.onAllSourcesFailed:void 0}))),ze&&[et&&(0,e.h)("img",{className:"video-player-preview","data-testid":f?"video-player-static-preview-image":"",width:550,src:(0,v.getMediaUploadThumbnailUrlForPlayer)(t,{pub:r,isStatic:f}),"data-component-name":"VideoPlayer-PreviewImg"}),!et&&(0,e.h)("div",{className:d()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)(gt.Z,{className:d()({loading:B&&this.playbackEnabled()})},(0,e.h)(L0,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta()))))]]}_initHlsjs(){const t=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(t){this.setState({browserCanPlayHLS:t});return}St.e(631).then(St.t.bind(St,67631,23)).then(r=>{this._initHlsjsWrapped(r.default)})}_initHlsjsWrapped(t){const r=this,i=t.isSupported();if(!t.isSupported()){this.setState({useHLSJS:i});return}this.hls!=null&&this.hls.destroy();const f={},x=new t(pI({enableWorker:!1},f));this.player!=null&&x.attachMedia(this.player);const{mediaUpload:k,pub:W,reaction_token:B=null}=this.props,q=(0,v.updateQuery)(`/api/v1/video/upload/${k.id}/src`,{token:B,override_publication_id:W==null?void 0:W.id,type:"hls"});x.on(t.Events.MEDIA_ATTACHED,()=>{x.loadSource(q),x.on(t.Events.MANIFEST_PARSED,()=>{var ye;this.state.autoPlay&&((ye=this.player)==null||ye.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),x.on(t.Events.ERROR,function(ye,Me){if(Me.fatal)switch(Me.type){case t.ErrorTypes.NETWORK_ERROR:r.setState({useHLSJS:!1}),r.hls.destroy(),x.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:x.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=x,this.hlsModule=t}}const ds={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},EI=({mediaUploadId:n,post:t,pub:r,isEditor:i=!1})=>{const[f,x]=(0,o.eJ)(null),k=(0,o.sO)(null),W=Re=>{var ze,et;i&&(Re?(ze=k.current)==null||ze.open():(et=k.current)==null||et.close())},{mediaUpload:B,loading:q,error:ye}=tI({mediaUploadId:n});n&&!f&&B&&x(B);const Me=(0,o.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,Ze.getLinkableElementIdForVideo)({mediaUploadId:n}),className:ds.videoScrollTarget},q?(0,e.h)("div",{className:ds.videoPlaceholder},"Loading video"):ye||!f?(0,e.h)("div",{className:ds.videoPlaceholder},"Could not load video."):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:d()(ds.videoEmbed,i&&ds.canEdit),onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1)},i&&(0,e.h)(wI,{onEditVideoEmbed:Me,menuRef:k}),(0,e.h)(Cl,{mediaUpload:f,isStatic:!1,post:t!=null?t:null,pub:r}))))},wI=({onEditVideoEmbed:n,menuRef:t})=>(0,e.h)(Ye.hs,{justifyContent:"center",alignItems:"center",className:ds.editVideoEmbedWrap},(0,e.h)(Fi.Fx,{ref:t,noList:!0},(0,e.h)(Ye.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:ds.editVideoEmbed},(0,e.h)(_l.Z,{height:20})))),CI=({mediaUpload:n,post:t,pub:r})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,Ze.getLinkToVideo)({pub:r,post:t,mediaUploadId:n.id});return(0,e.h)(Cl,{mediaUpload:n,isStatic:!0,post:t,pub:r,href:i})};var OI=Object.defineProperty,SI=Object.defineProperties,TI=Object.getOwnPropertyDescriptors,U0=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,F0=(n,t,r)=>t in n?OI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Sa=(n,t)=>{for(var r in t||(t={}))II.call(t,r)&&F0(n,r,t[r]);if(U0)for(var r of U0(t))DI.call(t,r)&&F0(n,r,t[r]);return n},Ol=(n,t)=>SI(n,TI(t));const xI=(n,{pub:t,props:{isStatic:r,post:i,dataForEmailRender:f}})=>{var x;try{const k=n.getAttribute("data-attrs");if(k){const{mediaUploadId:W}=JSON.parse(mi()(k));return r?(0,e.h)(CI,{pub:t,post:i,mediaUpload:(x=f.idToMediaUpload)==null?void 0:x[W]}):(0,e.h)(EI,{pub:t,post:i,mediaUploadId:W})}}catch(k){console.error("Failed to parse video:",k)}return(0,e.h)(e.Fragment,null)},MI=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs");if(i){const f=JSON.parse(mi()(i));return r?(0,e.h)(NT,Ol(Sa({},f),{isEditor:!1})):(0,e.h)(AT,Ol(Sa({},f),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},AI=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs"),f=JSON.parse(mi()(i));return r?(0,e.h)(qT,Ol(Sa({},f),{pub:t})):(0,e.h)(XT,Ol(Sa({},f),{pub:t}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},NI=(n,{props:{isStatic:t}})=>{var r;try{const i=n.getAttribute("data-attrs");if(i){const x=(r=JSON.parse(i))!=null?r:{};return t?(0,e.h)(LT,Sa({},x)):(0,e.h)(BT,Sa({},x))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},RI=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const f=n.getAttribute("data-attrs");if(f){const x=JSON.parse(f),W={node:{attrs:Ol(Sa({},x),{isEditor:!1})}};return r?(0,e.h)(WT,Sa({},W)):(0,e.h)(jT,Sa({},W))}}catch(f){console.error("Failed to parse image gallery embed:",f)}return(0,e.h)(e.Fragment,null)};var j0=St(87251),zd=St(46505);function W0(n,t){return(0,j0.cleanSlug)((0,he.truncateText)(n,500,{ellipsis:""}),{allowUnicode:t})}function LI({text:n,post:t,pub:r,offsetTop:i,isAboutPage:f}){const{isStatic:x}=(0,o.qp)(zd.E),k=W0(n,!0),W=W0(n,!1),B=(0,_h.g)();if(!t&&!f||!r||x)return null;const q=f?`${(0,v.getAboutUrl)(r,{addBase:!0})}#\xA7${k}`:`${(0,v.getBaseUrl)(r)}/i/${t.id}/${k}`,ye=Me=>{location!=null&&location.href&&(Me.preventDefault(),(0,M.j)(M.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:q}),B(q))};return(0,e.h)("div",{id:`\xA7${k}`,className:d()("header-anchor-widget",{"offset-top":i})},(t==null?void 0:t.id)<66696300&&k!==W&&(0,e.h)("div",{id:`\xA7${W}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:q,onClick:ye},(0,e.h)(dl.Z,{className:"header-anchor-widget-icon",size:20}))))}var BI=St(47641),H0;const kI=typeof window!="undefined"?(H0=window._preloads)==null?void 0:H0.freeSignup:!1,V0=(0,e.createContext)(kI);V0.displayName="FreeSignupContext";function UI(){return(0,o.qp)(V0)}var K0=St(35291),FI=Object.defineProperty,jI=Object.defineProperties,WI=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,HI=Object.prototype.hasOwnProperty,VI=Object.prototype.propertyIsEnumerable,z0=(n,t,r)=>t in n?FI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KI=(n,t)=>{for(var r in t||(t={}))HI.call(t,r)&&z0(n,r,t[r]);if($0)for(var r of $0(t))VI.call(t,r)&&z0(n,r,t[r]);return n},$I=(n,t)=>jI(n,WI(t));class zI extends Gt.p{constructor(t,r){var i,f;super(t,r),this.state.email=(f=(i=this.props.user)==null?void 0:i.email)!=null?f:null}onOpen(){(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:r,user:i,audience:f,pollId:x}=this.props,{email:k}=this.state,W=f==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",W," can vote on this poll.")),(0,e.h)(yr.ZP,{method:"post",action:(0,v.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:B=>{(0,M.j)(M.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:x,post_id:r.id}),t.plans||t.has_recommendations?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,$I(KI({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:r&&r.id,just_signed_up:!0,requires_confirmation:B.body.requires_confirmation?"true":""},B.body.subscription_id&&{subscription_id:B.body.subscription_id}),{next:(0,v.getPostUrl)(t,r)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!i.email,tabIndex:0,onChange:B=>{this.setState({email:B.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:(0,v.getPostUrl)(t,r)})},"Sign in")))}}var GI=St(30105);function ZI(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function YI(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t}var JI=function(){function n(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=n.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var f=YI(this),x;this.tags.length===0?x=this.before:x=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(f,x),this.tags.push(f)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var W=ZI(k);try{var B=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;W.insertRule(i,B?0:W.cssRules.length)}catch(q){}}else k.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function QI(n){function t(Fn,zn,an,In,Yt){for(var ur=0,Ln=0,Ar=0,mr=0,Nr,Qn,Or=0,gr=0,Br,wo=Br=Nr=0,Gr=0,ro=0,la=0,oi=0,Pa=an.length,Ja=Pa-1,Ri,Fr="",Uo="",Aa="",Na="",ua;Gr<Pa;){if(Qn=an.charCodeAt(Gr),Gr===Ja&&Ln+mr+Ar+ur!==0&&(Ln!==0&&(Qn=Ln===47?10:47),mr=Ar=ur=0,Pa++,Ja++),Ln+mr+Ar+ur===0){if(Gr===Ja&&(0<ro&&(Fr=Fr.replace(Re,"")),0<Fr.trim().length)){switch(Qn){case 32:case 9:case 59:case 13:case 10:break;default:Fr+=an.charAt(Gr)}Qn=59}switch(Qn){case 123:for(Fr=Fr.trim(),Nr=Fr.charCodeAt(0),Br=1,oi=++Gr;Gr<Pa;){switch(Qn=an.charCodeAt(Gr)){case 123:Br++;break;case 125:Br--;break;case 47:switch(Qn=an.charCodeAt(Gr+1)){case 42:case 47:e:{for(wo=Gr+1;wo<Ja;++wo)switch(an.charCodeAt(wo)){case 47:if(Qn===42&&an.charCodeAt(wo-1)===42&&Gr+2!==wo){Gr=wo+1;break e}break;case 10:if(Qn===47){Gr=wo+1;break e}}Gr=wo}}break;case 91:Qn++;case 40:Qn++;case 34:case 39:for(;Gr++<Ja&&an.charCodeAt(Gr)!==Qn;);}if(Br===0)break;Gr++}switch(Br=an.substring(oi,Gr),Nr===0&&(Nr=(Fr=Fr.replace(Me,"").trim()).charCodeAt(0)),Nr){case 64:switch(0<ro&&(Fr=Fr.replace(Re,"")),Qn=Fr.charCodeAt(1),Qn){case 100:case 109:case 115:case 45:ro=zn;break;default:ro=cr}if(Br=t(zn,ro,Br,Qn,Yt+1),oi=Br.length,0<Kn&&(ro=r(cr,Fr,la),ua=W(3,Br,ro,zn,$n,Yn,oi,Qn,Yt,In),Fr=ro.join(""),ua!==void 0&&(oi=(Br=ua.trim()).length)===0&&(Qn=0,Br="")),0<oi)switch(Qn){case 115:Fr=Fr.replace(on,k);case 100:case 109:case 45:Br=Fr+"{"+Br+"}";break;case 107:Fr=Fr.replace(wt,"$1 $2"),Br=Fr+"{"+Br+"}",Br=mn===1||mn===2&&x("@"+Br,3)?"@-webkit-"+Br+"@"+Br:"@"+Br;break;default:Br=Fr+Br,In===112&&(Br=(Uo+=Br,""))}else Br="";break;default:Br=t(zn,r(zn,Fr,la),Br,In,Yt+1)}Aa+=Br,Br=la=ro=wo=Nr=0,Fr="",Qn=an.charCodeAt(++Gr);break;case 125:case 59:if(Fr=(0<ro?Fr.replace(Re,""):Fr).trim(),1<(oi=Fr.length))switch(wo===0&&(Nr=Fr.charCodeAt(0),Nr===45||96<Nr&&123>Nr)&&(oi=(Fr=Fr.replace(" ",":")).length),0<Kn&&(ua=W(1,Fr,zn,Fn,$n,Yn,Uo.length,In,Yt,In))!==void 0&&(oi=(Fr=ua.trim()).length)===0&&(Fr="\0\0"),Nr=Fr.charCodeAt(0),Qn=Fr.charCodeAt(1),Nr){case 0:break;case 64:if(Qn===105||Qn===99){Na+=Fr+an.charAt(Gr);break}default:Fr.charCodeAt(oi-1)!==58&&(Uo+=f(Fr,Nr,Qn,Fr.charCodeAt(2)))}la=ro=wo=Nr=0,Fr="",Qn=an.charCodeAt(++Gr)}}switch(Qn){case 13:case 10:Ln===47?Ln=0:1+Nr===0&&In!==107&&0<Fr.length&&(ro=1,Fr+="\0"),0<Kn*tr&&W(0,Fr,zn,Fn,$n,Yn,Uo.length,In,Yt,In),Yn=1,$n++;break;case 59:case 125:if(Ln+mr+Ar+ur===0){Yn++;break}default:switch(Yn++,Ri=an.charAt(Gr),Qn){case 9:case 32:if(mr+ur+Ln===0)switch(Or){case 44:case 58:case 9:case 32:Ri="";break;default:Qn!==32&&(Ri=" ")}break;case 0:Ri="\\0";break;case 12:Ri="\\f";break;case 11:Ri="\\v";break;case 38:mr+Ln+ur===0&&(ro=la=1,Ri="\f"+Ri);break;case 108:if(mr+Ln+ur+yn===0&&0<wo)switch(Gr-wo){case 2:Or===112&&an.charCodeAt(Gr-3)===58&&(yn=Or);case 8:gr===111&&(yn=gr)}break;case 58:mr+Ln+ur===0&&(wo=Gr);break;case 44:Ln+Ar+mr+ur===0&&(ro=1,Ri+="\r");break;case 34:case 39:Ln===0&&(mr=mr===Qn?0:mr===0?Qn:mr);break;case 91:mr+Ln+Ar===0&&ur++;break;case 93:mr+Ln+Ar===0&&ur--;break;case 41:mr+Ln+ur===0&&Ar--;break;case 40:if(mr+Ln+ur===0){if(Nr===0)switch(2*Or+3*gr){case 533:break;default:Nr=1}Ar++}break;case 64:Ln+Ar+mr+ur+wo+Br===0&&(Br=1);break;case 42:case 47:if(!(0<mr+ur+Ar))switch(Ln){case 0:switch(2*Qn+3*an.charCodeAt(Gr+1)){case 235:Ln=47;break;case 220:oi=Gr,Ln=42}break;case 42:Qn===47&&Or===42&&oi+2!==Gr&&(an.charCodeAt(oi+2)===33&&(Uo+=an.substring(oi,Gr+1)),Ri="",Ln=0)}}Ln===0&&(Fr+=Ri)}gr=Or,Or=Qn,Gr++}if(oi=Uo.length,0<oi){if(ro=zn,0<Kn&&(ua=W(2,Uo,ro,Fn,$n,Yn,oi,In,Yt,In),ua!==void 0&&(Uo=ua).length===0))return Na+Uo+Aa;if(Uo=ro.join(",")+"{"+Uo+"}",mn*yn!==0){switch(mn!==2||x(Uo,2)||(yn=0),yn){case 111:Uo=Uo.replace(Bt,":-moz-$1")+Uo;break;case 112:Uo=Uo.replace(xt,"::-webkit-input-$1")+Uo.replace(xt,"::-moz-$1")+Uo.replace(xt,":-ms-input-$1")+Uo}yn=0}}return Na+Uo+Aa}function r(Fn,zn,an){var In=zn.trim().split(dt);zn=In;var Yt=In.length,ur=Fn.length;switch(ur){case 0:case 1:var Ln=0;for(Fn=ur===0?"":Fn[0]+" ";Ln<Yt;++Ln)zn[Ln]=i(Fn,zn[Ln],an).trim();break;default:var Ar=Ln=0;for(zn=[];Ln<Yt;++Ln)for(var mr=0;mr<ur;++mr)zn[Ar++]=i(Fn[mr]+" ",In[Ln],an).trim()}return zn}function i(Fn,zn,an){var In=zn.charCodeAt(0);switch(33>In&&(In=(zn=zn.trim()).charCodeAt(0)),In){case 38:return zn.replace(Et,"$1"+Fn.trim());case 58:return Fn.trim()+zn.replace(Et,"$1"+Fn.trim());default:if(0<1*an&&0<zn.indexOf("\f"))return zn.replace(Et,(Fn.charCodeAt(0)===58?"":"$1")+Fn.trim())}return Fn+zn}function f(Fn,zn,an,In){var Yt=Fn+";",ur=2*zn+3*an+4*In;if(ur===944){Fn=Yt.indexOf(":",9)+1;var Ln=Yt.substring(Fn,Yt.length-1).trim();return Ln=Yt.substring(0,Fn).trim()+Ln+";",mn===1||mn===2&&x(Ln,1)?"-webkit-"+Ln+Ln:Ln}if(mn===0||mn===2&&!x(Yt,1))return Yt;switch(ur){case 1015:return Yt.charCodeAt(10)===97?"-webkit-"+Yt+Yt:Yt;case 951:return Yt.charCodeAt(3)===116?"-webkit-"+Yt+Yt:Yt;case 963:return Yt.charCodeAt(5)===110?"-webkit-"+Yt+Yt:Yt;case 1009:if(Yt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Yt+Yt;case 978:return"-webkit-"+Yt+"-moz-"+Yt+Yt;case 1019:case 983:return"-webkit-"+Yt+"-moz-"+Yt+"-ms-"+Yt+Yt;case 883:if(Yt.charCodeAt(8)===45)return"-webkit-"+Yt+Yt;if(0<Yt.indexOf("image-set(",11))return Yt.replace(qn,"$1-webkit-$2")+Yt;break;case 932:if(Yt.charCodeAt(4)===45)switch(Yt.charCodeAt(5)){case 103:return"-webkit-box-"+Yt.replace("-grow","")+"-webkit-"+Yt+"-ms-"+Yt.replace("grow","positive")+Yt;case 115:return"-webkit-"+Yt+"-ms-"+Yt.replace("shrink","negative")+Yt;case 98:return"-webkit-"+Yt+"-ms-"+Yt.replace("basis","preferred-size")+Yt}return"-webkit-"+Yt+"-ms-"+Yt+Yt;case 964:return"-webkit-"+Yt+"-ms-flex-"+Yt+Yt;case 1023:if(Yt.charCodeAt(8)!==99)break;return Ln=Yt.substring(Yt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Ln+"-webkit-"+Yt+"-ms-flex-pack"+Ln+Yt;case 1005:return et.test(Yt)?Yt.replace(ze,":-webkit-")+Yt.replace(ze,":-moz-")+Yt:Yt;case 1e3:switch(Ln=Yt.substring(13).trim(),zn=Ln.indexOf("-")+1,Ln.charCodeAt(0)+Ln.charCodeAt(zn)){case 226:Ln=Yt.replace(kt,"tb");break;case 232:Ln=Yt.replace(kt,"tb-rl");break;case 220:Ln=Yt.replace(kt,"lr");break;default:return Yt}return"-webkit-"+Yt+"-ms-"+Ln+Yt;case 1017:if(Yt.indexOf("sticky",9)===-1)break;case 975:switch(zn=(Yt=Fn).length-10,Ln=(Yt.charCodeAt(zn)===33?Yt.substring(0,zn):Yt).substring(Fn.indexOf(":",7)+1).trim(),ur=Ln.charCodeAt(0)+(Ln.charCodeAt(7)|0)){case 203:if(111>Ln.charCodeAt(8))break;case 115:Yt=Yt.replace(Ln,"-webkit-"+Ln)+";"+Yt;break;case 207:case 102:Yt=Yt.replace(Ln,"-webkit-"+(102<ur?"inline-":"")+"box")+";"+Yt.replace(Ln,"-webkit-"+Ln)+";"+Yt.replace(Ln,"-ms-"+Ln+"box")+";"+Yt}return Yt+";";case 938:if(Yt.charCodeAt(5)===45)switch(Yt.charCodeAt(6)){case 105:return Ln=Yt.replace("-items",""),"-webkit-"+Yt+"-webkit-box-"+Ln+"-ms-flex-"+Ln+Yt;case 115:return"-webkit-"+Yt+"-ms-flex-item-"+Yt.replace(En,"")+Yt;default:return"-webkit-"+Yt+"-ms-flex-line-pack"+Yt.replace("align-content","").replace(En,"")+Yt}break;case 973:case 989:if(Yt.charCodeAt(3)!==45||Yt.charCodeAt(4)===122)break;case 931:case 953:if(hn.test(Fn)===!0)return(Ln=Fn.substring(Fn.indexOf(":")+1)).charCodeAt(0)===115?f(Fn.replace("stretch","fill-available"),zn,an,In).replace(":fill-available",":stretch"):Yt.replace(Ln,"-webkit-"+Ln)+Yt.replace(Ln,"-moz-"+Ln.replace("fill-",""))+Yt;break;case 962:if(Yt="-webkit-"+Yt+(Yt.charCodeAt(5)===102?"-ms-"+Yt:"")+Yt,an+In===211&&Yt.charCodeAt(13)===105&&0<Yt.indexOf("transform",10))return Yt.substring(0,Yt.indexOf(";",27)+1).replace(Je,"$1-webkit-$2")+Yt}return Yt}function x(Fn,zn){var an=Fn.indexOf(zn===1?":":"{"),In=Fn.substring(0,zn!==3?an:10);return an=Fn.substring(an+1,Fn.length-1),Zn(zn!==2?In:In.replace(vn,"$1"),an,zn)}function k(Fn,zn){var an=f(zn,zn.charCodeAt(0),zn.charCodeAt(1),zn.charCodeAt(2));return an!==zn+";"?an.replace(pn," or ($1)").substring(4):"("+zn+")"}function W(Fn,zn,an,In,Yt,ur,Ln,Ar,mr,Nr){for(var Qn=0,Or=zn,gr;Qn<Kn;++Qn)switch(gr=Hn[Qn].call(ye,Fn,Or,an,In,Yt,ur,Ln,Ar,mr,Nr)){case void 0:case!1:case!0:case null:break;default:Or=gr}if(Or!==zn)return Or}function B(Fn){switch(Fn){case void 0:case null:Kn=Hn.length=0;break;default:if(typeof Fn=="function")Hn[Kn++]=Fn;else if(typeof Fn=="object")for(var zn=0,an=Fn.length;zn<an;++zn)B(Fn[zn]);else tr=!!Fn|0}return B}function q(Fn){return Fn=Fn.prefix,Fn!==void 0&&(Zn=null,Fn?typeof Fn!="function"?mn=1:(mn=2,Zn=Fn):mn=0),q}function ye(Fn,zn){var an=Fn;if(33>an.charCodeAt(0)&&(an=an.trim()),lr=an,an=[lr],0<Kn){var In=W(-1,zn,an,an,$n,Yn,0,0,0,0);In!==void 0&&typeof In=="string"&&(zn=In)}var Yt=t(cr,an,zn,0,0);return 0<Kn&&(In=W(-2,Yt,an,an,$n,Yn,Yt.length,0,0,0),In!==void 0&&(Yt=In)),lr="",yn=0,Yn=$n=1,Yt}var Me=/^\0+/g,Re=/[\0\r\f]/g,ze=/: */g,et=/zoo|gra/,Je=/([,: ])(transform)/g,dt=/,\r+?/g,Et=/([\t\r\n ])*\f?&/g,wt=/@(k\w+)\s*(\S*)\s*/,xt=/::(place)/g,Bt=/:(read-only)/g,kt=/[svh]\w+-[tblr]{2}/,on=/\(\s*(.*)\s*\)/g,pn=/([\s\S]*?);/g,En=/-self|flex-/g,vn=/[^]*?(:[rp][el]a[\w-]+)[^]*/,hn=/stretch|:\s*\w+\-(?:conte|avail)/,qn=/([^-])(image-set\()/,Yn=1,$n=1,yn=0,mn=1,cr=[],Hn=[],Kn=0,Zn=null,tr=0,lr="";return ye.use=B,ye.set=q,n!==void 0&&q(n),ye}const XI=QI;var Gd="/*|*/",qI=Gd+"}";function e4(n){n&&Uu.current.insert(n+"}")}var Uu={current:null},t4=function(t,r,i,f,x,k,W,B,q,ye){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return Uu.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(B===0)return r+Gd;break}case 3:switch(B){case 102:case 112:return Uu.current.insert(i[0]+r),"";default:return r+(ye===0?Gd:"")}case-2:r.split(qI).forEach(e4)}},n4=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var f=new XI(i),x={},k;{k=t.container||document.head;var W=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(W,function(Re){var ze=Re.getAttribute("data-emotion-"+r);ze.split(" ").forEach(function(et){x[et]=!0}),Re.parentNode!==k&&k.appendChild(Re)})}var B;if(f.use(t.stylisPlugins)(t4),B=function(ze,et,Je,dt){var Et=et.name;if(Uu.current=Je,!1)var wt;f(ze,et.styles),dt&&(Me.inserted[Et]=!0)},!1)var q,ye;var Me={key:r,sheet:new JI({key:r,container:k,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:x,registered:{},insert:B};return Me};const r4=n4;var o4=!0;function G0(n,t,r){var i="";return r.split(" ").forEach(function(f){n[f]!==void 0?t.push(n[f]):i+=f+" "}),i}var Z0=function(t,r,i){var f=t.key+"-"+r.name;if((i===!1||o4===!1&&t.compat!==void 0)&&t.registered[f]===void 0&&(t.registered[f]=r.styles),t.inserted[r.name]===void 0){var x=r;do{var k=t.insert("."+f,x,t.sheet,!0);x=x.next}while(x!==void 0)}};function i4(n){for(var t=0,r,i=0,f=n.length;f>=4;++i,f-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(f){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const a4=i4;var s4={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const l4=s4;function u4(n){var t={};return function(r){return t[r]===void 0&&(t[r]=n(r)),t[r]}}const c4=u4;var zW=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,GW="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",d4=/[A-Z]|^ms/g,f4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Y0=function(t){return t.charCodeAt(1)===45},J0=function(t){return t!=null&&typeof t!="boolean"},Zd=c4(function(n){return Y0(n)?n:n.replace(d4,"-$&").toLowerCase()}),Q0=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(f4,function(i,f,x){return va={name:f,styles:x,next:va},f})}return l4[t]!==1&&!Y0(t)&&typeof r=="number"&&r!==0?r+"px":r};if(!1)var ZW,YW,JW,QW,XW,qW;var eH=!0;function Sl(n,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return va={name:r.name,styles:r.styles,next:va},r.name;if(r.styles!==void 0){var f=r.next;if(f!==void 0)for(;f!==void 0;)va={name:f.name,styles:f.styles,next:va},f=f.next;var x=r.styles+";";return x}return p4(n,t,r)}case"function":{if(n!==void 0){var k=va,W=r(n);return va=k,Sl(n,t,W,i)}break}case"string":if(!1)var B,q;break}if(t==null)return r;var ye=t[r];return ye!==void 0&&!i?ye:r}function p4(n,t,r){var i="";if(Array.isArray(r))for(var f=0;f<r.length;f++)i+=Sl(n,t,r[f],!1);else for(var x in r){var k=r[x];if(typeof k!="object")t!=null&&t[k]!==void 0?i+=x+"{"+t[k]+"}":J0(k)&&(i+=Zd(x)+":"+Q0(x,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(t==null||t[k[0]]===void 0))for(var W=0;W<k.length;W++)J0(k[W])&&(i+=Zd(x)+":"+Q0(x,k[W])+";");else{var B=Sl(n,t,k,!1);switch(x){case"animation":case"animationName":{i+=Zd(x)+":"+B+";";break}default:i+=x+"{"+B+"}"}}}return i}var X0=/label:\s*([^\s;\n{]+)\s*;/g,tH,va,Yd=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var f=!0,x="";va=void 0;var k=t[0];k==null||k.raw===void 0?(f=!1,x+=Sl(i,r,k,!1)):x+=k[0];for(var W=1;W<t.length;W++)x+=Sl(i,r,t[W],x.charCodeAt(x.length-1)===46),f&&(x+=k[W]);var B;X0.lastIndex=0;for(var q="",ye;(ye=X0.exec(x))!==null;)q+="-"+ye[1];var Me=a4(x)+q;return{name:Me,styles:x,next:va}},Jd=Object.prototype.hasOwnProperty,q0=(0,tt.createContext)(typeof HTMLElement!="undefined"?r4():null),e_=(0,tt.createContext)({}),nH=q0.Provider,t_=function(t){var r=function(f,x){return(0,tt.createElement)(q0.Consumer,null,function(k){return t(f,k,x)})};return(0,tt.forwardRef)(r)},rH=function(t){return t.replace(/\$/g,"-")},Qd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oH="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",h4=function(t,r){var i={};for(var f in r)Jd.call(r,f)&&(i[f]=r[f]);if(i[Qd]=t,!1)var x,k;return i},n_=function(t,r,i,f){var x=i===null?r.css:r.css(i);typeof x=="string"&&t.registered[x]!==void 0&&(x=t.registered[x]);var k=r[Qd],W=[x],B="";typeof r.className=="string"?B=G0(t.registered,W,r.className):r.className!=null&&(B=r.className+" ");var q=Yd(W);if(!1)var ye;var Me=Z0(t,q,typeof k=="string");B+=t.key+"-"+q.name;var Re={};for(var ze in r)Jd.call(r,ze)&&ze!=="css"&&ze!==Qd&&(Re[ze]=r[ze]);Re.ref=f,Re.className=B;var et=(0,tt.createElement)(k,Re);return et},m4=t_(function(n,t,r){return typeof n.css=="function"?(0,tt.createElement)(e_.Consumer,null,function(i){return n_(t,n,i,r)}):n_(t,n,null,r)});function _4(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Yd(t)}const Xd=_4;var Qr=function(t,r){var i=arguments;if(r==null||!Jd.call(r,"css"))return tt.createElement.apply(void 0,i);var f=i.length,x=new Array(f);x[0]=m4,x[1]=h4(t,r);for(var k=2;k<f;k++)x[k]=i[k];return tt.createElement.apply(null,x)},iH=!1,aH=null,sH=null,g4=function(){var t=Xd.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},v4=function n(t){for(var r=t.length,i=0,f="";i<r;i++){var x=t[i];if(x!=null){var k=void 0;switch(typeof x){case"boolean":break;case"object":{if(Array.isArray(x))k=n(x);else{k="";for(var W in x)x[W]&&W&&(k&&(k+=" "),k+=W)}break}default:k=x}k&&(f&&(f+=" "),f+=k)}}return f};function y4(n,t,r){var i=[],f=G0(n,i,r);return i.length<2?r:f+t(i)}var b4=t_(function(n,t){return(0,tt.createElement)(e_.Consumer,null,function(r){var i=!1,f=function(){for(var q=arguments.length,ye=new Array(q),Me=0;Me<q;Me++)ye[Me]=arguments[Me];var Re=Yd(ye,t.registered);return Z0(t,Re,!1),t.key+"-"+Re.name},x=function(){for(var q=arguments.length,ye=new Array(q),Me=0;Me<q;Me++)ye[Me]=arguments[Me];return y4(t.registered,f,v4(ye))},k={css:f,cx:x,theme:r},W=n.children(k);return i=!0,W})});function P4(n,t){if(n==null)return{};var r={},i=Object.keys(n),f,x;for(x=0;x<i.length;x++)f=i[x],!(t.indexOf(f)>=0)&&(r[f]=n[f]);return r}function fs(n,t){if(n==null)return{};var r=P4(n,t),i,f;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(n);for(f=0;f<x.length;f++)i=x[f],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function to(){return to=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},to.apply(this,arguments)}function E4(n){if(Array.isArray(n))return n}function w4(n,t){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,f,x,k,W=[],B=!0,q=!1;try{if(x=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;B=!1}else for(;!(B=(i=x.call(r)).done)&&(W.push(i.value),W.length!==t);B=!0);}catch(ye){q=!0,f=ye}finally{try{if(!B&&r.return!=null&&(k=r.return(),Object(k)!==k))return}finally{if(q)throw f}}return W}}function qd(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function r_(n,t){if(n){if(typeof n=="string")return qd(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qd(n,t)}}function C4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_(n,t){return E4(n)||w4(n,t)||r_(n,t)||C4()}function O4(n){if(Array.isArray(n))return qd(n)}function S4(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function T4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4(n){return O4(n)||S4(n)||r_(n)||T4()}function Ta(n){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(n)}function D4(n,t){if(Ta(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(Ta(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function i_(n){var t=D4(n,"string");return Ta(t)==="symbol"?t:String(t)}function Ii(n,t,r){return t=i_(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Ha(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a_(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i_(i.key),i)}}function Va(n,t,r){return t&&a_(n.prototype,t),r&&a_(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function ef(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tf(n,t){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,f){return i.__proto__=f,i},tf(n,t)}function Ka(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&tf(n,t)}function ps(n,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ef(n)}function Di(n){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Di(n)}function x4(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function M4(n,t){t===void 0&&(t=x4);var r,i=[],f,x=!1;function k(){for(var W=[],B=0;B<arguments.length;B++)W[B]=arguments[B];return x&&r===this&&t(W,i)||(f=n.apply(this,W),x=!0,r=this,i=W),f}return k}const s_=M4;function A4(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var N4=St(35639),l_=function(){};function R4(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function L4(n,t,r){var i=[r];if(t&&n)for(var f in t)t.hasOwnProperty(f)&&t[f]&&i.push("".concat(R4(n,f)));return i.filter(function(x){return x}).map(function(x){return String(x).trim()}).join(" ")}var u_=function(t){return Array.isArray(t)?t.filter(Boolean):Ta(t)==="object"&&t!==null?[t]:[]};function lH(n,t,r){if(r){var i=r(n,t);if(typeof i=="string")return i}return n}function nf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function c_(n){return nf(n)?window.pageYOffset:n.scrollTop}function Fu(n,t){if(nf(n)){window.scrollTo(0,t);return}n.scrollTop=t}function B4(n){var t=getComputedStyle(n),r=t.position==="absolute",i=/(auto|scroll)/,f=document.documentElement;if(t.position==="fixed")return f;for(var x=n;x=x.parentElement;)if(t=getComputedStyle(x),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return x;return f}function k4(n,t,r,i){return r*((n=n/i-1)*n*n+1)+t}function ju(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l_,f=c_(n),x=t-f,k=10,W=0;function B(){W+=k;var q=k4(W,f,x,r);Fu(n,q),W<r?window.requestAnimationFrame(B):i(n)}B()}function U4(n,t){var r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),f=t.offsetHeight/3;i.bottom+f>r.bottom?Fu(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+f,n.scrollHeight)):i.top-f<r.top&&Fu(n,Math.max(t.offsetTop-f,0))}function F4(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function d_(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function j4(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function f_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function p_(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function h_(n){var t=W4();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function W4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function H4(n){var t=n.maxHeight,r=n.menuEl,i=n.minHeight,f=n.placement,x=n.shouldScroll,k=n.isFixedPosition,W=n.theme,B=W.spacing,q=B4(r),ye={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return ye;var Me=q.getBoundingClientRect(),Re=Me.height,ze=r.getBoundingClientRect(),et=ze.bottom,Je=ze.height,dt=ze.top,Et=r.offsetParent.getBoundingClientRect(),wt=Et.top,xt=window.innerHeight,Bt=c_(q),kt=parseInt(getComputedStyle(r).marginBottom,10),on=parseInt(getComputedStyle(r).marginTop,10),pn=wt-on,En=xt-dt,vn=pn+Bt,hn=Re-Bt-dt,qn=et-xt+Bt+kt,Yn=Bt+dt-on,$n=160;switch(f){case"auto":case"bottom":if(En>=Je)return{placement:"bottom",maxHeight:t};if(hn>=Je&&!k)return x&&ju(q,qn,$n),{placement:"bottom",maxHeight:t};if(!k&&hn>=i||k&&En>=i){x&&ju(q,qn,$n);var yn=k?En-kt:hn-kt;return{placement:"bottom",maxHeight:yn}}if(f==="auto"||k){var mn=t,cr=k?pn:vn;return cr>=i&&(mn=Math.min(cr-kt-B.controlHeight,t)),{placement:"top",maxHeight:mn}}if(f==="bottom")return Fu(q,qn),{placement:"bottom",maxHeight:t};break;case"top":if(pn>=Je)return{placement:"top",maxHeight:t};if(vn>=Je&&!k)return x&&ju(q,Yn,$n),{placement:"top",maxHeight:t};if(!k&&vn>=i||k&&pn>=i){var Hn=t;return(!k&&vn>=i||k&&pn>=i)&&(Hn=k?pn-on:vn-on),x&&ju(q,Yn,$n),{placement:"top",maxHeight:Hn}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(f,'".'))}return ye}function V4(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var rf=function(t){return t==="auto"?"bottom":t},K4=function(t){var r,i=t.placement,f=t.theme,x=f.borderRadius,k=f.spacing,W=f.colors;return r={label:"menu"},Ii(r,V4(i),"100%"),Ii(r,"backgroundColor",W.neutral0),Ii(r,"borderRadius",x),Ii(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ii(r,"marginBottom",k.menuGutter),Ii(r,"marginTop",k.menuGutter),Ii(r,"position","absolute"),Ii(r,"width","100%"),Ii(r,"zIndex",1),r},m_=(0,tt.createContext)({getPortalPlacement:null}),__=function(n){Ka(r,n);var t=h_(r);function r(){var i;Ha(this,r);for(var f=arguments.length,x=new Array(f),k=0;k<f;k++)x[k]=arguments[k];return i=t.call.apply(t,[this].concat(x)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(W){var B=i.props,q=B.minMenuHeight,ye=B.maxMenuHeight,Me=B.menuPlacement,Re=B.menuPosition,ze=B.menuShouldScrollIntoView,et=B.theme;if(W){var Je=Re==="fixed",dt=ze&&!Je,Et=H4({maxHeight:ye,menuEl:W,minHeight:q,placement:Me,shouldScroll:dt,isFixedPosition:Je,theme:et}),wt=i.context.getPortalPlacement;wt&&wt(Et),i.setState(Et)}},i.getUpdatedProps=function(){var W=i.props.menuPlacement,B=i.state.placement||rf(W);return p_(p_({},i.props),{},{placement:B,maxHeight:i.state.maxHeight})},i}return Va(r,[{key:"render",value:function(){var f=this.props.children;return f({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(tt.Component);__.contextType=m_;var $4=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerRef,W=t.innerProps;return Qr("div",to({css:x("menu",t),className:f({menu:!0},i)},W,{ref:k}),r)},z4=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},G4=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.isMulti,W=t.innerRef,B=t.innerProps;return Qr("div",to({css:x("menuList",t),className:f({"menu-list":!0,"menu-list--is-multi":k},i),ref:W},B),r)},g_=function(t){var r=t.theme,i=r.spacing.baseUnit,f=r.colors;return{color:f.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},Z4=g_,Y4=g_,v_=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps;return Qr("div",to({css:x("noOptionsMessage",t),className:f({"menu-notice":!0,"menu-notice--no-options":!0},i)},k),r)};v_.defaultProps={children:"No options"};var y_=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps;return Qr("div",to({css:x("loadingMessage",t),className:f({"menu-notice":!0,"menu-notice--loading":!0},i)},k),r)};y_.defaultProps={children:"Loading..."};var J4=function(t){var r=t.rect,i=t.offset,f=t.position;return{left:r.left,position:f,top:i,width:r.width,zIndex:1}},Q4=function(n){Ka(r,n);var t=h_(r);function r(){var i;Ha(this,r);for(var f=arguments.length,x=new Array(f),k=0;k<f;k++)x[k]=arguments[k];return i=t.call.apply(t,[this].concat(x)),i.state={placement:null},i.getPortalPlacement=function(W){var B=W.placement,q=rf(i.props.menuPlacement);B!==q&&i.setState({placement:B})},i}return Va(r,[{key:"render",value:function(){var f=this.props,x=f.appendTo,k=f.children,W=f.controlElement,B=f.menuPlacement,q=f.menuPosition,ye=f.getStyles,Me=q==="fixed";if(!x&&!Me||!W)return null;var Re=this.state.placement||rf(B),ze=F4(W),et=Me?0:window.pageYOffset,Je=ze[Re]+et,dt={offset:Je,position:q,rect:ze},Et=Qr("div",{css:ye("menuPortal",dt)},k);return Qr(m_.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},x?(0,tt.createPortal)(Et,x):Et)}}]),r}(tt.Component),b_=Array.isArray,P_=Object.keys,X4=Object.prototype.hasOwnProperty;function of(n,t){if(n===t)return!0;if(n&&t&&Ta(n)=="object"&&Ta(t)=="object"){var r=b_(n),i=b_(t),f,x,k;if(r&&i){if(x=n.length,x!=t.length)return!1;for(f=x;f--!==0;)if(!of(n[f],t[f]))return!1;return!0}if(r!=i)return!1;var W=n instanceof Date,B=t instanceof Date;if(W!=B)return!1;if(W&&B)return n.getTime()==t.getTime();var q=n instanceof RegExp,ye=t instanceof RegExp;if(q!=ye)return!1;if(q&&ye)return n.toString()==t.toString();var Me=P_(n);if(x=Me.length,x!==P_(t).length)return!1;for(f=x;f--!==0;)if(!X4.call(t,Me[f]))return!1;for(f=x;f--!==0;)if(k=Me[f],!(k==="_owner"&&n.$$typeof)&&!of(n[k],t[k]))return!1;return!0}return n!==n&&t!==t}function q4(n,t){try{return of(n,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}var e3=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},t3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps,W=t.isDisabled,B=t.isRtl;return Qr("div",to({css:x("container",t),className:f({"--is-disabled":W,"--is-rtl":B},i)},k),r)},n3=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},r3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.isMulti,k=t.getStyles,W=t.hasValue;return Qr("div",{css:k("valueContainer",t),className:f({"value-container":!0,"value-container--is-multi":x,"value-container--has-value":W},i)},r)},o3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},i3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles;return Qr("div",{css:x("indicatorsContainer",t),className:f({indicators:!0},i)},r)};function E_(){var n=A4([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return E_=function(){return n},n}function uH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var a3={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},w_=function(t){var r=t.size,i=fs(t,["size"]);return Qr("svg",to({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:a3},i))},af=function(t){return Qr(w_,to({size:20},t),Qr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},C_=function(t){return Qr(w_,to({size:20},t),Qr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},O_=function(t){var r=t.isFocused,i=t.theme,f=i.spacing.baseUnit,x=i.colors;return{label:"indicatorContainer",color:r?x.neutral60:x.neutral20,display:"flex",padding:f*2,transition:"color 150ms",":hover":{color:r?x.neutral80:x.neutral40}}},s3=O_,l3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps;return Qr("div",to({},k,{css:x("dropdownIndicator",t),className:f({indicator:!0,"dropdown-indicator":!0},i)}),r||Qr(C_,null))},u3=O_,c3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps;return Qr("div",to({},k,{css:x("clearIndicator",t),className:f({indicator:!0,"clear-indicator":!0},i)}),r||Qr(af,null))},d3=function(t){var r=t.isDisabled,i=t.theme,f=i.spacing.baseUnit,x=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?x.neutral10:x.neutral20,marginBottom:f*2,marginTop:f*2,width:1}},f3=function(t){var r=t.className,i=t.cx,f=t.getStyles,x=t.innerProps;return Qr("span",to({},x,{css:f("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},p3=g4(E_()),h3=function(t){var r=t.isFocused,i=t.size,f=t.theme,x=f.colors,k=f.spacing.baseUnit;return{label:"loadingIndicator",color:r?x.neutral60:x.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},sf=function(t){var r=t.delay,i=t.offset;return Qr("span",{css:Xd({animation:"".concat(p3," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},S_=function(t){var r=t.className,i=t.cx,f=t.getStyles,x=t.innerProps,k=t.isRtl;return Qr("div",to({},x,{css:f("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)}),Qr(sf,{delay:0,offset:k}),Qr(sf,{delay:160,offset:!0}),Qr(sf,{delay:320,offset:!k}))};S_.defaultProps={size:4};var m3=function(t){var r=t.isDisabled,i=t.isFocused,f=t.theme,x=f.colors,k=f.borderRadius,W=f.spacing;return{label:"control",alignItems:"center",backgroundColor:r?x.neutral5:x.neutral0,borderColor:r?x.neutral10:i?x.primary:x.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(x.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:W.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?x.primary:x.neutral30}}},_3=function(t){var r=t.children,i=t.cx,f=t.getStyles,x=t.className,k=t.isDisabled,W=t.isFocused,B=t.innerRef,q=t.innerProps,ye=t.menuIsOpen;return Qr("div",to({ref:B,css:f("control",t),className:i({control:!0,"control--is-disabled":k,"control--is-focused":W,"control--menu-is-open":ye},x)},q),r)};function T_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function g3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var v3=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},y3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.Heading,W=t.headingProps,B=t.label,q=t.theme,ye=t.selectProps;return Qr("div",{css:x("group",t),className:f({group:!0},i)},Qr(k,to({},W,{selectProps:ye,theme:q,getStyles:x,cx:f}),B),Qr("div",null,r))},b3=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},P3=function(t){var r=t.className,i=t.cx,f=t.getStyles,x=t.theme,k=t.selectProps,W=fs(t,["className","cx","getStyles","theme","selectProps"]);return Qr("div",to({css:f("groupHeading",g3({theme:x},W)),className:i({"group-heading":!0},r)},W))};function I_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function E3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var w3=function(t){var r=t.isDisabled,i=t.theme,f=i.spacing,x=i.colors;return{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,visibility:r?"hidden":"visible",color:x.neutral80}},C3=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},O3=function(t){var r=t.className,i=t.cx,f=t.getStyles,x=t.innerRef,k=t.isHidden,W=t.isDisabled,B=t.theme,q=t.selectProps,ye=fs(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Qr("div",{css:f("input",E3({theme:B},ye))},Qr(N4.Z,to({className:i({input:!0},r),inputRef:x,inputStyle:C3(k),disabled:W},ye)))};function D_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function lf(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var S3=function(t){var r=t.theme,i=r.spacing,f=r.borderRadius,x=r.colors;return{label:"multiValue",backgroundColor:x.neutral10,borderRadius:f/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},T3=function(t){var r=t.theme,i=r.borderRadius,f=r.colors,x=t.cropWithEllipsis;return{borderRadius:i/2,color:f.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:x?"ellipsis":null,whiteSpace:"nowrap"}},I3=function(t){var r=t.theme,i=r.spacing,f=r.borderRadius,x=r.colors,k=t.isFocused;return{alignItems:"center",borderRadius:f/2,backgroundColor:k&&x.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:x.dangerLight,color:x.danger}}},x_=function(t){var r=t.children,i=t.innerProps;return Qr("div",i,r)},D3=x_,x3=x_;function M3(n){var t=n.children,r=n.innerProps;return Qr("div",r,t||Qr(af,{size:14}))}var M_=function(t){var r=t.children,i=t.className,f=t.components,x=t.cx,k=t.data,W=t.getStyles,B=t.innerProps,q=t.isDisabled,ye=t.removeProps,Me=t.selectProps,Re=f.Container,ze=f.Label,et=f.Remove;return Qr(b4,null,function(Je){var dt=Je.css,Et=Je.cx;return Qr(Re,{data:k,innerProps:lf(lf({},B),{},{className:Et(dt(W("multiValue",t)),x({"multi-value":!0,"multi-value--is-disabled":q},i))}),selectProps:Me},Qr(ze,{data:k,innerProps:{className:Et(dt(W("multiValueLabel",t)),x({"multi-value__label":!0},i))},selectProps:Me},r),Qr(et,{data:k,innerProps:lf({className:Et(dt(W("multiValueRemove",t)),x({"multi-value__remove":!0},i))},ye),selectProps:Me}))})};M_.defaultProps={cropWithEllipsis:!0};var A3=function(t){var r=t.isDisabled,i=t.isFocused,f=t.isSelected,x=t.theme,k=x.spacing,W=x.colors;return{label:"option",backgroundColor:f?W.primary:i?W.primary25:"transparent",color:r?W.neutral20:f?W.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(f?W.primary:W.primary50)}}},N3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.isDisabled,W=t.isFocused,B=t.isSelected,q=t.innerRef,ye=t.innerProps;return Qr("div",to({css:x("option",t),className:f({option:!0,"option--is-disabled":k,"option--is-focused":W,"option--is-selected":B},i),ref:q},ye),r)},R3=function(t){var r=t.theme,i=r.spacing,f=r.colors;return{label:"placeholder",color:f.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},L3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.innerProps;return Qr("div",to({css:x("placeholder",t),className:f({placeholder:!0},i)},k),r)},B3=function(t){var r=t.isDisabled,i=t.theme,f=i.spacing,x=i.colors;return{label:"singleValue",color:r?x.neutral40:x.neutral80,marginLeft:f.baseUnit/2,marginRight:f.baseUnit/2,maxWidth:"calc(100% - ".concat(f.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},k3=function(t){var r=t.children,i=t.className,f=t.cx,x=t.getStyles,k=t.isDisabled,W=t.innerProps;return Qr("div",to({css:x("singleValue",t),className:f({"single-value":!0,"single-value--is-disabled":k},i)},W),r)};function A_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function N_(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}for(var U3={ClearIndicator:c3,Control:_3,DropdownIndicator:l3,DownChevron:C_,CrossIcon:af,Group:y3,GroupHeading:P3,IndicatorsContainer:i3,IndicatorSeparator:f3,Input:O3,LoadingIndicator:S_,Menu:$4,MenuList:G4,MenuPortal:Q4,LoadingMessage:y_,NoOptionsMessage:v_,MultiValue:M_,MultiValueContainer:D3,MultiValueLabel:x3,MultiValueRemove:M3,Option:N3,Placeholder:L3,SelectContainer:t3,SingleValue:k3,ValueContainer:r3},F3=function(t){return N_(N_({},U3),t.components)},uf=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],j3=new RegExp("["+uf.map(function(n){return n.letters}).join("")+"]","g"),R_={},cf=0;cf<uf.length;cf++)for(var df=uf[cf],ff=0;ff<df.letters.length;ff++)R_[df.letters[ff]]=df.base;var L_=function(t){return t.replace(j3,function(r){return R_[r]})};function B_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function W3(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var k_=function(t){return t.replace(/^\s+|\s+$/g,"")},H3=function(t){return"".concat(t.label," ").concat(t.value)},V3=function(t){return function(r,i){var f=W3({ignoreCase:!0,ignoreAccents:!0,stringify:H3,trim:!0,matchFrom:"any"},t),x=f.ignoreCase,k=f.ignoreAccents,W=f.stringify,B=f.trim,q=f.matchFrom,ye=B?k_(i):i,Me=B?k_(W(r)):W(r);return x&&(ye=ye.toLowerCase(),Me=Me.toLowerCase()),k&&(ye=L_(ye),Me=L_(Me)),q==="start"?Me.substr(0,ye.length)===ye:Me.indexOf(ye)>-1}};function cH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var K3={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},$3=function(t){return Qr("span",to({css:K3},t))};function z3(n){var t=n.in,r=n.out,i=n.onExited,f=n.appear,x=n.enter,k=n.exit,W=n.innerRef,B=n.emotion,q=fs(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Qr("input",to({ref:W},q,{css:Xd({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function G3(n){var t=Z3();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function Z3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var U_=function(n){Ka(r,n);var t=G3(r);function r(){return Ha(this,r),t.apply(this,arguments)}return Va(r,[{key:"componentDidMount",value:function(){this.props.innerRef((0,tt.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),r}(tt.Component),F_=["boxSizing","height","overflow","paddingRight","position"],j_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function W_(n){n.preventDefault()}function H_(n){n.stopPropagation()}function V_(){var n=this.scrollTop,t=this.scrollHeight,r=n+this.offsetHeight;n===0?this.scrollTop=1:r===t&&(this.scrollTop=n-1)}function K_(){return"ontouchstart"in window||navigator.maxTouchPoints}function Y3(n){var t=J3();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function J3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var $_=!!(window.document&&window.document.createElement),Tl=0,z_=function(n){Ka(r,n);var t=Y3(r);function r(){var i;Ha(this,r);for(var f=arguments.length,x=new Array(f),k=0;k<f;k++)x[k]=arguments[k];return i=t.call.apply(t,[this].concat(x)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Va(r,[{key:"componentDidMount",value:function(){var f=this;if($_){var x=this.props,k=x.accountForScrollbars,W=x.touchScrollTarget,B=document.body,q=B&&B.style;if(k&&F_.forEach(function(ze){var et=q&&q[ze];f.originalStyles[ze]=et}),k&&Tl<1){var ye=parseInt(this.originalStyles.paddingRight,10)||0,Me=document.body?document.body.clientWidth:0,Re=window.innerWidth-Me+ye||0;Object.keys(j_).forEach(function(ze){var et=j_[ze];q&&(q[ze]=et)}),q&&(q.paddingRight="".concat(Re,"px"))}B&&K_()&&(B.addEventListener("touchmove",W_,this.listenerOptions),W&&(W.addEventListener("touchstart",V_,this.listenerOptions),W.addEventListener("touchmove",H_,this.listenerOptions))),Tl+=1}}},{key:"componentWillUnmount",value:function(){var f=this;if($_){var x=this.props,k=x.accountForScrollbars,W=x.touchScrollTarget,B=document.body,q=B&&B.style;Tl=Math.max(Tl-1,0),k&&Tl<1&&F_.forEach(function(ye){var Me=f.originalStyles[ye];q&&(q[ye]=Me)}),B&&K_()&&(B.removeEventListener("touchmove",W_,this.listenerOptions),W&&(W.removeEventListener("touchstart",V_,this.listenerOptions),W.removeEventListener("touchmove",H_,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),r}(tt.Component);z_.defaultProps={accountForScrollbars:!0};function dH(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function Q3(n){var t=X3();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function X3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var q3={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},e9=function(n){Ka(r,n);var t=Q3(r);function r(){var i;Ha(this,r);for(var f=arguments.length,x=new Array(f),k=0;k<f;k++)x[k]=arguments[k];return i=t.call.apply(t,[this].concat(x)),i.state={touchScrollTarget:null},i.getScrollTarget=function(W){W!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:W})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Va(r,[{key:"render",value:function(){var f=this.props,x=f.children,k=f.isEnabled,W=this.state.touchScrollTarget;return k?Qr("div",null,Qr("div",{onClick:this.blurSelectInput,css:q3}),Qr(U_,{innerRef:this.getScrollTarget},x),W?Qr(z_,{touchScrollTarget:W}):null):x}}]),r}(tt.PureComponent);function t9(n){var t=n9();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function n9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var r9=function(n){Ka(r,n);var t=t9(r);function r(){var i;Ha(this,r);for(var f=arguments.length,x=new Array(f),k=0;k<f;k++)x[k]=arguments[k];return i=t.call.apply(t,[this].concat(x)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(W){W.preventDefault(),W.stopPropagation()},i.handleEventDelta=function(W,B){var q=i.props,ye=q.onBottomArrive,Me=q.onBottomLeave,Re=q.onTopArrive,ze=q.onTopLeave,et=i.scrollTarget,Je=et.scrollTop,dt=et.scrollHeight,Et=et.clientHeight,wt=i.scrollTarget,xt=B>0,Bt=dt-Et-Je,kt=!1;Bt>B&&i.isBottom&&(Me&&Me(W),i.isBottom=!1),xt&&i.isTop&&(ze&&ze(W),i.isTop=!1),xt&&B>Bt?(ye&&!i.isBottom&&ye(W),wt.scrollTop=dt,kt=!0,i.isBottom=!0):!xt&&-B>Je&&(Re&&!i.isTop&&Re(W),wt.scrollTop=0,kt=!0,i.isTop=!0),kt&&i.cancelScroll(W)},i.onWheel=function(W){i.handleEventDelta(W,W.deltaY)},i.onTouchStart=function(W){i.touchStart=W.changedTouches[0].clientY},i.onTouchMove=function(W){var B=i.touchStart-W.changedTouches[0].clientY;i.handleEventDelta(W,B)},i.getScrollTarget=function(W){i.scrollTarget=W},i}return Va(r,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(f){f&&(typeof f.addEventListener=="function"&&f.addEventListener("wheel",this.onWheel,!1),typeof f.addEventListener=="function"&&f.addEventListener("touchstart",this.onTouchStart,!1),typeof f.addEventListener=="function"&&f.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(f){f&&(typeof f.removeEventListener=="function"&&f.removeEventListener("wheel",this.onWheel,!1),typeof f.removeEventListener=="function"&&f.removeEventListener("touchstart",this.onTouchStart,!1),typeof f.removeEventListener=="function"&&f.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return tt.default.createElement(U_,{innerRef:this.getScrollTarget},this.props.children)}}]),r}(tt.Component);function o9(n){var t=n.isEnabled,r=t===void 0?!0:t,i=fs(n,["isEnabled"]);return r?tt.default.createElement(r9,i):i.children}var i9=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.isSearchable,f=r.isMulti,x=r.label,k=r.isDisabled,W=r.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(W?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(x||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(f?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},a9=function(t,r){var i=r.value,f=r.isDisabled;if(i)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return f?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},s9=function(t){var r=t.focusedValue,i=t.getOptionLabel,f=t.selectValue;return"value ".concat(i(r)," focused, ").concat(f.indexOf(r)+1," of ").concat(f.length,".")},l9=function(t){var r=t.focusedOption,i=t.getOptionLabel,f=t.options;return"option ".concat(i(r)," focused").concat(r.isDisabled?" disabled":"",", ").concat(f.indexOf(r)+1," of ").concat(f.length,".")},u9=function(t){var r=t.inputValue,i=t.screenReaderMessage;return"".concat(i).concat(r?" for search term "+r:"",".")},c9=function(t){return t.label},d9=function(t){return t.label},f9=function(t){return t.value},G_=function(t){return!!t.isDisabled};function Z_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function p9(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(i){_defineProperty(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var h9={clearIndicator:u3,container:e3,control:m3,dropdownIndicator:s3,group:v3,groupHeading:b3,indicatorsContainer:o3,indicatorSeparator:d3,input:w3,loadingIndicator:h3,loadingMessage:Y4,menu:K4,menuList:z4,menuPortal:J4,multiValue:S3,multiValueLabel:T3,multiValueRemove:I3,noOptionsMessage:Z4,option:A3,placeholder:R3,singleValue:B3,valueContainer:n3};function fH(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=p9({},n);return Object.keys(t).forEach(function(i){n[i]?r[i]=function(f,x){return t[i](n[i](f,x),x)}:r[i]=t[i]}),r}var m9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_9=4,Y_=4,g9=38,v9=Y_*2,y9={baseUnit:Y_,controlHeight:g9,menuGutter:v9},pf={borderRadius:_9,colors:m9,spacing:y9};function J_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,i)}return r}function Us(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(i){Ii(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function b9(n){var t=P9();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function P9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var E9={backspaceRemovesValue:!0,blurInputOnSelect:d_(),captureMenuScroll:!d_(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:V3(),formatGroupLabel:c9,getOptionLabel:d9,getOptionValue:f9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:G_,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!j4(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},w9=1,Q_=function(n){Ka(r,n);var t=b9(r);function r(i){var f;Ha(this,r),f=t.call(this,i),f.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},f.blockOptionHover=!1,f.isComposing=!1,f.clearFocusValueOnUpdate=!1,f.commonProps=void 0,f.components=void 0,f.hasGroups=!1,f.initialTouchX=0,f.initialTouchY=0,f.inputIsHiddenAfterUpdate=void 0,f.instancePrefix="",f.openAfterFocus=!1,f.scrollToFocusedOptionOnUpdate=!1,f.userIsDragging=void 0,f.controlRef=null,f.getControlRef=function(B){f.controlRef=B},f.focusedOptionRef=null,f.getFocusedOptionRef=function(B){f.focusedOptionRef=B},f.menuListRef=null,f.getMenuListRef=function(B){f.menuListRef=B},f.inputRef=null,f.getInputRef=function(B){f.inputRef=B},f.cacheComponents=function(B){f.components=F3({components:B})},f.focus=f.focusInput,f.blur=f.blurInput,f.onChange=function(B,q){var ye=f.props,Me=ye.onChange,Re=ye.name;Me(B,Us(Us({},q),{},{name:Re}))},f.setValue=function(B){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ye=arguments.length>2?arguments[2]:void 0,Me=f.props,Re=Me.closeMenuOnSelect,ze=Me.isMulti;f.onInputChange("",{action:"set-value"}),Re&&(f.inputIsHiddenAfterUpdate=!ze,f.onMenuClose()),f.clearFocusValueOnUpdate=!0,f.onChange(B,{action:q,option:ye})},f.selectOption=function(B){var q=f.props,ye=q.blurInputOnSelect,Me=q.isMulti,Re=f.state.selectValue;if(Me)if(f.isOptionSelected(B,Re)){var ze=f.getOptionValue(B);f.setValue(Re.filter(function(et){return f.getOptionValue(et)!==ze}),"deselect-option",B),f.announceAriaLiveSelection({event:"deselect-option",context:{value:f.getOptionLabel(B)}})}else f.isOptionDisabled(B,Re)?f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B),isDisabled:!0}}):(f.setValue([].concat(I4(Re),[B]),"select-option",B),f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B)}}));else f.isOptionDisabled(B,Re)?f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B),isDisabled:!0}}):(f.setValue(B,"select-option"),f.announceAriaLiveSelection({event:"select-option",context:{value:f.getOptionLabel(B)}}));ye&&f.blurInput()},f.removeValue=function(B){var q=f.state.selectValue,ye=f.getOptionValue(B),Me=q.filter(function(Re){return f.getOptionValue(Re)!==ye});f.onChange(Me.length?Me:null,{action:"remove-value",removedValue:B}),f.announceAriaLiveSelection({event:"remove-value",context:{value:B?f.getOptionLabel(B):""}}),f.focusInput()},f.clearValue=function(){f.onChange(null,{action:"clear"})},f.popValue=function(){var B=f.state.selectValue,q=B[B.length-1],ye=B.slice(0,B.length-1);f.announceAriaLiveSelection({event:"pop-value",context:{value:q?f.getOptionLabel(q):""}}),f.onChange(ye.length?ye:null,{action:"pop-value",removedValue:q})},f.getValue=function(){return f.state.selectValue},f.cx=function(){for(var B=arguments.length,q=new Array(B),ye=0;ye<B;ye++)q[ye]=arguments[ye];return L4.apply(void 0,[f.props.classNamePrefix].concat(q))},f.getOptionLabel=function(B){return f.props.getOptionLabel(B)},f.getOptionValue=function(B){return f.props.getOptionValue(B)},f.getStyles=function(B,q){var ye=h9[B](q);ye.boxSizing="border-box";var Me=f.props.styles[B];return Me?Me(ye,q):ye},f.getElementId=function(B){return"".concat(f.instancePrefix,"-").concat(B)},f.getActiveDescendentId=function(){var B=f.props.menuIsOpen,q=f.state,ye=q.menuOptions,Me=q.focusedOption;if(!(!Me||!B)){var Re=ye.focusable.indexOf(Me),ze=ye.render[Re];return ze&&ze.key}},f.announceAriaLiveSelection=function(B){var q=B.event,ye=B.context;f.setState({ariaLiveSelection:a9(q,ye)})},f.announceAriaLiveContext=function(B){var q=B.event,ye=B.context;f.setState({ariaLiveContext:i9(q,Us(Us({},ye),{},{label:f.props["aria-label"]}))})},f.onMenuMouseDown=function(B){B.button===0&&(B.stopPropagation(),B.preventDefault(),f.focusInput())},f.onMenuMouseMove=function(B){f.blockOptionHover=!1},f.onControlMouseDown=function(B){var q=f.props.openMenuOnClick;f.state.isFocused?f.props.menuIsOpen?B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&f.onMenuClose():q&&f.openMenu("first"):(q&&(f.openAfterFocus=!0),f.focusInput()),B.target.tagName!=="INPUT"&&B.target.tagName!=="TEXTAREA"&&B.preventDefault()},f.onDropdownIndicatorMouseDown=function(B){if(!(B&&B.type==="mousedown"&&B.button!==0)&&!f.props.isDisabled){var q=f.props,ye=q.isMulti,Me=q.menuIsOpen;f.focusInput(),Me?(f.inputIsHiddenAfterUpdate=!ye,f.onMenuClose()):f.openMenu("first"),B.preventDefault(),B.stopPropagation()}},f.onClearIndicatorMouseDown=function(B){B&&B.type==="mousedown"&&B.button!==0||(f.clearValue(),B.stopPropagation(),f.openAfterFocus=!1,B.type==="touchend"?f.focusInput():setTimeout(function(){return f.focusInput()}))},f.onScroll=function(B){typeof f.props.closeMenuOnScroll=="boolean"?B.target instanceof HTMLElement&&nf(B.target)&&f.props.onMenuClose():typeof f.props.closeMenuOnScroll=="function"&&f.props.closeMenuOnScroll(B)&&f.props.onMenuClose()},f.onCompositionStart=function(){f.isComposing=!0},f.onCompositionEnd=function(){f.isComposing=!1},f.onTouchStart=function(B){var q=B.touches,ye=q&&q.item(0);ye&&(f.initialTouchX=ye.clientX,f.initialTouchY=ye.clientY,f.userIsDragging=!1)},f.onTouchMove=function(B){var q=B.touches,ye=q&&q.item(0);if(ye){var Me=Math.abs(ye.clientX-f.initialTouchX),Re=Math.abs(ye.clientY-f.initialTouchY),ze=5;f.userIsDragging=Me>ze||Re>ze}},f.onTouchEnd=function(B){f.userIsDragging||(f.controlRef&&!f.controlRef.contains(B.target)&&f.menuListRef&&!f.menuListRef.contains(B.target)&&f.blurInput(),f.initialTouchX=0,f.initialTouchY=0)},f.onControlTouchEnd=function(B){f.userIsDragging||f.onControlMouseDown(B)},f.onClearIndicatorTouchEnd=function(B){f.userIsDragging||f.onClearIndicatorMouseDown(B)},f.onDropdownIndicatorTouchEnd=function(B){f.userIsDragging||f.onDropdownIndicatorMouseDown(B)},f.handleInputChange=function(B){var q=B.currentTarget.value;f.inputIsHiddenAfterUpdate=!1,f.onInputChange(q,{action:"input-change"}),f.props.menuIsOpen||f.onMenuOpen()},f.onInputFocus=function(B){var q=f.props,ye=q.isSearchable,Me=q.isMulti;f.props.onFocus&&f.props.onFocus(B),f.inputIsHiddenAfterUpdate=!1,f.announceAriaLiveContext({event:"input",context:{isSearchable:ye,isMulti:Me}}),f.setState({isFocused:!0}),(f.openAfterFocus||f.props.openMenuOnFocus)&&f.openMenu("first"),f.openAfterFocus=!1},f.onInputBlur=function(B){if(f.menuListRef&&f.menuListRef.contains(document.activeElement)){f.inputRef.focus();return}f.props.onBlur&&f.props.onBlur(B),f.onInputChange("",{action:"input-blur"}),f.onMenuClose(),f.setState({focusedValue:null,isFocused:!1})},f.onOptionHover=function(B){f.blockOptionHover||f.state.focusedOption===B||f.setState({focusedOption:B})},f.shouldHideSelectedOptions=function(){var B=f.props,q=B.hideSelectedOptions,ye=B.isMulti;return q===void 0?ye:q},f.onKeyDown=function(B){var q=f.props,ye=q.isMulti,Me=q.backspaceRemovesValue,Re=q.escapeClearsValue,ze=q.inputValue,et=q.isClearable,Je=q.isDisabled,dt=q.menuIsOpen,Et=q.onKeyDown,wt=q.tabSelectsValue,xt=q.openMenuOnFocus,Bt=f.state,kt=Bt.focusedOption,on=Bt.focusedValue,pn=Bt.selectValue;if(!Je&&!(typeof Et=="function"&&(Et(B),B.defaultPrevented))){switch(f.blockOptionHover=!0,B.key){case"ArrowLeft":if(!ye||ze)return;f.focusValue("previous");break;case"ArrowRight":if(!ye||ze)return;f.focusValue("next");break;case"Delete":case"Backspace":if(ze)return;if(on)f.removeValue(on);else{if(!Me)return;ye?f.popValue():et&&f.clearValue()}break;case"Tab":if(f.isComposing||B.shiftKey||!dt||!wt||!kt||xt&&f.isOptionSelected(kt,pn))return;f.selectOption(kt);break;case"Enter":if(B.keyCode===229)break;if(dt){if(!kt||f.isComposing)return;f.selectOption(kt);break}return;case"Escape":dt?(f.inputIsHiddenAfterUpdate=!1,f.onInputChange("",{action:"menu-close"}),f.onMenuClose()):et&&Re&&f.clearValue();break;case" ":if(ze)return;if(!dt){f.openMenu("first");break}if(!kt)return;f.selectOption(kt);break;case"ArrowUp":dt?f.focusOption("up"):f.openMenu("last");break;case"ArrowDown":dt?f.focusOption("down"):f.openMenu("first");break;case"PageUp":if(!dt)return;f.focusOption("pageup");break;case"PageDown":if(!dt)return;f.focusOption("pagedown");break;case"Home":if(!dt)return;f.focusOption("first");break;case"End":if(!dt)return;f.focusOption("last");break;default:return}B.preventDefault()}},f.buildMenuOptions=function(B,q){var ye=B.inputValue,Me=ye===void 0?"":ye,Re=B.options,ze=function(Je,dt){var Et=f.isOptionDisabled(Je,q),wt=f.isOptionSelected(Je,q),xt=f.getOptionLabel(Je),Bt=f.getOptionValue(Je);if(!(f.shouldHideSelectedOptions()&&wt||!f.filterOption({label:xt,value:Bt,data:Je},Me))){var kt=Et?void 0:function(){return f.onOptionHover(Je)},on=Et?void 0:function(){return f.selectOption(Je)},pn="".concat(f.getElementId("option"),"-").concat(dt);return{innerProps:{id:pn,onClick:on,onMouseMove:kt,onMouseOver:kt,tabIndex:-1},data:Je,isDisabled:Et,isSelected:wt,key:pn,label:xt,type:"option",value:Bt}}};return Re.reduce(function(et,Je,dt){if(Je.options){f.hasGroups||(f.hasGroups=!0);var Et=Je.options,wt=Et.map(function(kt,on){var pn=ze(kt,"".concat(dt,"-").concat(on));return pn&&et.focusable.push(kt),pn}).filter(Boolean);if(wt.length){var xt="".concat(f.getElementId("group"),"-").concat(dt);et.render.push({type:"group",key:xt,data:Je,options:wt})}}else{var Bt=ze(Je,"".concat(dt));Bt&&(et.render.push(Bt),et.focusable.push(Je))}return et},{render:[],focusable:[]})};var x=i.value;f.cacheComponents=s_(f.cacheComponents,q4).bind(ef(f)),f.cacheComponents(i.components),f.instancePrefix="react-select-"+(f.props.instanceId||++w9);var k=u_(x);f.buildMenuOptions=s_(f.buildMenuOptions,function(B,q){var ye=B,Me=o_(ye,2),Re=Me[0],ze=Me[1],et=q,Je=o_(et,2),dt=Je[0],Et=Je[1];return ze===Et&&Re.inputValue===dt.inputValue&&Re.options===dt.options}).bind(ef(f));var W=i.menuIsOpen?f.buildMenuOptions(i,k):{render:[],focusable:[]};return f.state.menuOptions=W,f.state.selectValue=k,f}return Va(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(f){var x=this.props,k=x.options,W=x.value,B=x.menuIsOpen,q=x.inputValue;if(this.cacheComponents(f.components),f.value!==W||f.options!==k||f.menuIsOpen!==B||f.inputValue!==q){var ye=u_(f.value),Me=f.menuIsOpen?this.buildMenuOptions(f,ye):{render:[],focusable:[]},Re=this.getNextFocusedValue(ye),ze=this.getNextFocusedOption(Me.focusable);this.setState({menuOptions:Me,selectValue:ye,focusedOption:ze,focusedValue:Re})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(f){var x=this.props,k=x.isDisabled,W=x.menuIsOpen,B=this.state.isFocused;(B&&!k&&f.isDisabled||B&&W&&!f.menuIsOpen)&&this.focusInput(),B&&k&&!f.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(U4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var f=this.props,x=f.isSearchable,k=f.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:x,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(f,x){this.props.onInputChange(f,x)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(f){var x=this,k=this.state,W=k.selectValue,B=k.isFocused,q=this.buildMenuOptions(this.props,W),ye=this.props,Me=ye.isMulti,Re=ye.tabSelectsValue,ze=f==="first"?0:q.focusable.length-1;if(!Me){var et=q.focusable.indexOf(W[0]);et>-1&&(ze=et)}this.scrollToFocusedOptionOnUpdate=!(B&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:q,focusedValue:null,focusedOption:q.focusable[ze]},function(){x.onMenuOpen(),x.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:Re}})})}},{key:"focusValue",value:function(f){var x=this.props,k=x.isMulti,W=x.isSearchable,B=this.state,q=B.selectValue,ye=B.focusedValue;if(k){this.setState({focusedOption:null});var Me=q.indexOf(ye);ye||(Me=-1,this.announceAriaLiveContext({event:"value"}));var Re=q.length-1,ze=-1;if(q.length){switch(f){case"previous":Me===0?ze=0:Me===-1?ze=Re:ze=Me-1;break;case"next":Me>-1&&Me<Re&&(ze=Me+1);break}ze===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:W,isMulti:k}}),this.setState({inputIsHidden:ze!==-1,focusedValue:q[ze]})}}}},{key:"focusOption",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",x=this.props,k=x.pageSize,W=x.tabSelectsValue,B=this.state,q=B.focusedOption,ye=B.menuOptions,Me=ye.focusable;if(Me.length){var Re=0,ze=Me.indexOf(q);q||(ze=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:W}})),f==="up"?Re=ze>0?ze-1:Me.length-1:f==="down"?Re=(ze+1)%Me.length:f==="pageup"?(Re=ze-k,Re<0&&(Re=0)):f==="pagedown"?(Re=ze+k,Re>Me.length-1&&(Re=Me.length-1)):f==="last"&&(Re=Me.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Me[Re],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:G_(Me[Re]),tabSelectsValue:W}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(pf):Us(Us({},pf),this.props.theme):pf}},{key:"getCommonProps",value:function(){var f=this.clearValue,x=this.cx,k=this.getStyles,W=this.getValue,B=this.setValue,q=this.selectOption,ye=this.props,Me=ye.isMulti,Re=ye.isRtl,ze=ye.options,et=this.hasValue();return{cx:x,clearValue:f,getStyles:k,getValue:W,hasValue:et,isMulti:Me,isRtl:Re,options:ze,selectOption:q,setValue:B,selectProps:ye,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(f){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var x=this.state,k=x.focusedValue,W=x.selectValue,B=W.indexOf(k);if(B>-1){var q=f.indexOf(k);if(q>-1)return k;if(B<f.length)return f[B]}return null}},{key:"getNextFocusedOption",value:function(f){var x=this.state.focusedOption;return x&&f.indexOf(x)>-1?x:f[0]}},{key:"hasValue",value:function(){var f=this.state.selectValue;return f.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var f=this.props,x=f.isClearable,k=f.isMulti;return x===void 0?k:x}},{key:"isOptionDisabled",value:function(f,x){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(f,x):!1}},{key:"isOptionSelected",value:function(f,x){var k=this;if(x.indexOf(f)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(f,x);var W=this.getOptionValue(f);return x.some(function(B){return k.getOptionValue(B)===W})}},{key:"filterOption",value:function(f,x){return this.props.filterOption?this.props.filterOption(f,x):!0}},{key:"formatOptionLabel",value:function(f,x){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,W=this.state.selectValue;return this.props.formatOptionLabel(f,{context:x,inputValue:k,selectValue:W})}else return this.getOptionLabel(f)}},{key:"formatGroupLabel",value:function(f){return this.props.formatGroupLabel(f)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var f=this.state,x=f.ariaLiveContext,k=f.selectValue,W=f.focusedValue,B=f.focusedOption,q=this.props,ye=q.options,Me=q.menuIsOpen,Re=q.inputValue,ze=q.screenReaderStatus,et=W?s9({focusedValue:W,getOptionLabel:this.getOptionLabel,selectValue:k}):"",Je=B&&Me?l9({focusedOption:B,getOptionLabel:this.getOptionLabel,options:ye}):"",dt=u9({inputValue:Re,screenReaderMessage:ze({count:this.countOptions()})});return"".concat(et," ").concat(Je," ").concat(dt," ").concat(x)}},{key:"renderInput",value:function(){var f=this.props,x=f.isDisabled,k=f.isSearchable,W=f.inputId,B=f.inputValue,q=f.tabIndex,ye=f.form,Me=this.components.Input,Re=this.state.inputIsHidden,ze=W||this.getElementId("input"),et={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return tt.default.createElement(z3,to({id:ze,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:l_,onFocus:this.onInputFocus,readOnly:!0,disabled:x,tabIndex:q,form:ye,value:""},et));var Je=this.commonProps,dt=Je.cx,Et=Je.theme,wt=Je.selectProps;return tt.default.createElement(Me,to({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:dt,getStyles:this.getStyles,id:ze,innerRef:this.getInputRef,isDisabled:x,isHidden:Re,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:wt,spellCheck:"false",tabIndex:q,form:ye,theme:Et,type:"text",value:B},et))}},{key:"renderPlaceholderOrValue",value:function(){var f=this,x=this.components,k=x.MultiValue,W=x.MultiValueContainer,B=x.MultiValueLabel,q=x.MultiValueRemove,ye=x.SingleValue,Me=x.Placeholder,Re=this.commonProps,ze=this.props,et=ze.controlShouldRenderValue,Je=ze.isDisabled,dt=ze.isMulti,Et=ze.inputValue,wt=ze.placeholder,xt=this.state,Bt=xt.selectValue,kt=xt.focusedValue,on=xt.isFocused;if(!this.hasValue()||!et)return Et?null:tt.default.createElement(Me,to({},Re,{key:"placeholder",isDisabled:Je,isFocused:on}),wt);if(dt){var pn=Bt.map(function(vn,hn){var qn=vn===kt;return tt.default.createElement(k,to({},Re,{components:{Container:W,Label:B,Remove:q},isFocused:qn,isDisabled:Je,key:"".concat(f.getOptionValue(vn)).concat(hn),index:hn,removeProps:{onClick:function(){return f.removeValue(vn)},onTouchEnd:function(){return f.removeValue(vn)},onMouseDown:function($n){$n.preventDefault(),$n.stopPropagation()}},data:vn}),f.formatOptionLabel(vn,"value"))});return pn}if(Et)return null;var En=Bt[0];return tt.default.createElement(ye,to({},Re,{data:En,isDisabled:Je}),this.formatOptionLabel(En,"value"))}},{key:"renderClearIndicator",value:function(){var f=this.components.ClearIndicator,x=this.commonProps,k=this.props,W=k.isDisabled,B=k.isLoading,q=this.state.isFocused;if(!this.isClearable()||!f||W||!this.hasValue()||B)return null;var ye={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return tt.default.createElement(f,to({},x,{innerProps:ye,isFocused:q}))}},{key:"renderLoadingIndicator",value:function(){var f=this.components.LoadingIndicator,x=this.commonProps,k=this.props,W=k.isDisabled,B=k.isLoading,q=this.state.isFocused;if(!f||!B)return null;var ye={"aria-hidden":"true"};return tt.default.createElement(f,to({},x,{innerProps:ye,isDisabled:W,isFocused:q}))}},{key:"renderIndicatorSeparator",value:function(){var f=this.components,x=f.DropdownIndicator,k=f.IndicatorSeparator;if(!x||!k)return null;var W=this.commonProps,B=this.props.isDisabled,q=this.state.isFocused;return tt.default.createElement(k,to({},W,{isDisabled:B,isFocused:q}))}},{key:"renderDropdownIndicator",value:function(){var f=this.components.DropdownIndicator;if(!f)return null;var x=this.commonProps,k=this.props.isDisabled,W=this.state.isFocused,B={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return tt.default.createElement(f,to({},x,{innerProps:B,isDisabled:k,isFocused:W}))}},{key:"renderMenu",value:function(){var f=this,x=this.components,k=x.Group,W=x.GroupHeading,B=x.Menu,q=x.MenuList,ye=x.MenuPortal,Me=x.LoadingMessage,Re=x.NoOptionsMessage,ze=x.Option,et=this.commonProps,Je=this.state,dt=Je.focusedOption,Et=Je.menuOptions,wt=this.props,xt=wt.captureMenuScroll,Bt=wt.inputValue,kt=wt.isLoading,on=wt.loadingMessage,pn=wt.minMenuHeight,En=wt.maxMenuHeight,vn=wt.menuIsOpen,hn=wt.menuPlacement,qn=wt.menuPosition,Yn=wt.menuPortalTarget,$n=wt.menuShouldBlockScroll,yn=wt.menuShouldScrollIntoView,mn=wt.noOptionsMessage,cr=wt.onMenuScrollToTop,Hn=wt.onMenuScrollToBottom;if(!vn)return null;var Kn=function(In){var Yt=dt===In.data;return In.innerRef=Yt?f.getFocusedOptionRef:void 0,tt.default.createElement(ze,to({},et,In,{isFocused:Yt}),f.formatOptionLabel(In.data,"menu"))},Zn;if(this.hasOptions())Zn=Et.render.map(function(an){if(an.type==="group"){var In=an.type,Yt=fs(an,["type"]),ur="".concat(an.key,"-heading");return tt.default.createElement(k,to({},et,Yt,{Heading:W,headingProps:{id:ur,data:an.data},label:f.formatGroupLabel(an.data)}),an.options.map(function(Ln){return Kn(Ln)}))}else if(an.type==="option")return Kn(an)});else if(kt){var tr=on({inputValue:Bt});if(tr===null)return null;Zn=tt.default.createElement(Me,et,tr)}else{var lr=mn({inputValue:Bt});if(lr===null)return null;Zn=tt.default.createElement(Re,et,lr)}var Fn={minMenuHeight:pn,maxMenuHeight:En,menuPlacement:hn,menuPosition:qn,menuShouldScrollIntoView:yn},zn=tt.default.createElement(__,to({},et,Fn),function(an){var In=an.ref,Yt=an.placerProps,ur=Yt.placement,Ln=Yt.maxHeight;return tt.default.createElement(B,to({},et,Fn,{innerRef:In,innerProps:{onMouseDown:f.onMenuMouseDown,onMouseMove:f.onMenuMouseMove},isLoading:kt,placement:ur}),tt.default.createElement(o9,{isEnabled:xt,onTopArrive:cr,onBottomArrive:Hn},tt.default.createElement(e9,{isEnabled:$n},tt.default.createElement(q,to({},et,{innerRef:f.getMenuListRef,isLoading:kt,maxHeight:Ln}),Zn))))});return Yn||qn==="fixed"?tt.default.createElement(ye,to({},et,{appendTo:Yn,controlElement:this.controlRef,menuPlacement:hn,menuPosition:qn}),zn):zn}},{key:"renderFormField",value:function(){var f=this,x=this.props,k=x.delimiter,W=x.isDisabled,B=x.isMulti,q=x.name,ye=this.state.selectValue;if(!(!q||W))if(B)if(k){var Me=ye.map(function(et){return f.getOptionValue(et)}).join(k);return tt.default.createElement("input",{name:q,type:"hidden",value:Me})}else{var Re=ye.length>0?ye.map(function(et,Je){return tt.default.createElement("input",{key:"i-".concat(Je),name:q,type:"hidden",value:f.getOptionValue(et)})}):tt.default.createElement("input",{name:q,type:"hidden"});return tt.default.createElement("div",null,Re)}else{var ze=ye[0]?this.getOptionValue(ye[0]):"";return tt.default.createElement("input",{name:q,type:"hidden",value:ze})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?tt.default.createElement($3,{"aria-live":"polite"},tt.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),tt.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var f=this.components,x=f.Control,k=f.IndicatorsContainer,W=f.SelectContainer,B=f.ValueContainer,q=this.props,ye=q.className,Me=q.id,Re=q.isDisabled,ze=q.menuIsOpen,et=this.state.isFocused,Je=this.commonProps=this.getCommonProps();return tt.default.createElement(W,to({},Je,{className:ye,innerProps:{id:Me,onKeyDown:this.onKeyDown},isDisabled:Re,isFocused:et}),this.renderLiveRegion(),tt.default.createElement(x,to({},Je,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Re,isFocused:et,menuIsOpen:ze}),tt.default.createElement(B,to({},Je,{isDisabled:Re}),this.renderPlaceholderOrValue(),this.renderInput()),tt.default.createElement(k,to({},Je,{isDisabled:Re}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),r}(tt.Component);Q_.defaultProps=E9;function C9(n){var t=O9();return function(){var i=Di(n),f;if(t){var x=Di(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return ps(this,f)}}function O9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var S9={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},T9=function(t){var r,i;return i=r=function(f){Ka(k,f);var x=C9(k);function k(){var W;Ha(this,k);for(var B=arguments.length,q=new Array(B),ye=0;ye<B;ye++)q[ye]=arguments[ye];return W=x.call.apply(x,[this].concat(q)),W.select=void 0,W.state={inputValue:W.props.inputValue!==void 0?W.props.inputValue:W.props.defaultInputValue,menuIsOpen:W.props.menuIsOpen!==void 0?W.props.menuIsOpen:W.props.defaultMenuIsOpen,value:W.props.value!==void 0?W.props.value:W.props.defaultValue},W.onChange=function(Me,Re){W.callProp("onChange",Me,Re),W.setState({value:Me})},W.onInputChange=function(Me,Re){var ze=W.callProp("onInputChange",Me,Re);W.setState({inputValue:ze!==void 0?ze:Me})},W.onMenuOpen=function(){W.callProp("onMenuOpen"),W.setState({menuIsOpen:!0})},W.onMenuClose=function(){W.callProp("onMenuClose"),W.setState({menuIsOpen:!1})},W}return Va(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(B){return this.props[B]!==void 0?this.props[B]:this.state[B]}},{key:"callProp",value:function(B){if(typeof this.props[B]=="function"){for(var q,ye=arguments.length,Me=new Array(ye>1?ye-1:0),Re=1;Re<ye;Re++)Me[Re-1]=arguments[Re];return(q=this.props)[B].apply(q,Me)}}},{key:"render",value:function(){var B=this,q=this.props,ye=q.defaultInputValue,Me=q.defaultMenuIsOpen,Re=q.defaultValue,ze=fs(q,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return tt.default.createElement(t,to({},ze,{ref:function(Je){B.select=Je},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}(tt.Component),r.defaultProps=S9,i};function pH(n){var t=I9();return function(){var i=_getPrototypeOf(n),f;if(t){var x=_getPrototypeOf(this).constructor;f=Reflect.construct(i,arguments,x)}else f=i.apply(this,arguments);return _possibleConstructorReturn(this,f)}}function I9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var hH=null,D9=T9(Q_);const x9=D9;var M9=Object.defineProperty,X_=Object.getOwnPropertySymbols,A9=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,q_=(n,t,r)=>t in n?M9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eg=(n,t)=>{for(var r in t||(t={}))A9.call(t,r)&&q_(n,r,t[r]);if(X_)for(var r of X_(t))N9.call(t,r)&&q_(n,r,t[r]);return n};const tg=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:t})=>{}});tg.displayName="PublishContext";const mH=n=>{const t=r=>{const i=ng();return h(n,eg(eg({},i),r))};return t.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,t},ng=()=>(0,o.qp)(tg);var R9=Object.defineProperty,L9=Object.defineProperties,B9=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,rg=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable,ig=(n,t,r)=>t in n?R9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hs=(n,t)=>{for(var r in t||(t={}))rg.call(t,r)&&ig(n,r,t[r]);if(Wu)for(var r of Wu(t))og.call(t,r)&&ig(n,r,t[r]);return n},Hu=(n,t)=>L9(n,B9(t)),k9=(n,t)=>{var r={};for(var i in n)rg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Wu)for(var i of Wu(n))t.indexOf(i)<0&&og.call(n,i)&&(r[i]=n[i]);return r};const U9=()=>null,ag=n=>{var t=n,{variant:r="default",isSearchable:i=!1,className:f}=t,x=k9(t,["variant","isSearchable","className"]),k,W;const{pub:B}=ng();return(0,e.h)(x9,Hu(hs({},x),{isDisabled:x.isDisabled,className:d()("themed-select",f),components:hs({IndicatorSeparator:U9},x.components),theme:(0,b.getSelectTheme)({primary:((k=B.theme)==null?void 0:k.background_pop_color)||B.theme_var_background_pop||"#1a1a1a",neutral0:r==="light"?"white":(W=B.theme)==null?void 0:W.web_bg_color}),isSearchable:i,styles:hs(hs({container:q=>Hu(hs({},q),{flex:1}),dropdownIndicator:q=>Hu(hs({},q),{color:"#1a1a1a"})},x.showOnlyIndicator&&{valueContainer:q=>Hu(hs({},q),{width:0,padding:0})}),x.styles)}))};var F9=Object.defineProperty,j9=Object.defineProperties,W9=Object.getOwnPropertyDescriptors,sg=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,lg=(n,t,r)=>t in n?F9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ug=(n,t)=>{for(var r in t||(t={}))H9.call(t,r)&&lg(n,r,t[r]);if(sg)for(var r of sg(t))V9.call(t,r)&&lg(n,r,t[r]);return n},K9=(n,t)=>j9(n,W9(t)),Il=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const cg=2,dg=5,$9=35,z9=255,G9=({isExpired:n,isPublished:t,remainingHours:r})=>n?"POLL CLOSED":t?r>=48?`${Math.floor(r/24)} DAYS REMAINING`:r>=24?"1 DAY REMAINING":r>=2?`${r} HOURS REMAINING`:r==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",hf=n=>n>1?`Choice ${n+1} (optional)`:`Choice ${n+1}`,Z9=({question:n,expiry:t,audience:r,options:i})=>{const f=i.filter(Boolean);if(n.length<1||n.length>255)return"The question must be between 1 and 255 characters long.";if(f.length<2||f.length>5)return"Your poll must have 2 to 5 options.";if(f.some(x=>x.length<1||x.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(r)){if(![1,24,72,168].includes(t))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},Y9=({index:n,text:t,onChange:r,onDelete:i,showDeleteButton:f,disabled:x})=>(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:k=>{r(n,k.currentTarget.value)},value:t,disabled:x,placeholder:hf(n),maxLength:$9}),(0,e.h)("button",{className:d()("poll-remove-option",{"is-hidden":!f}),onClick:()=>i(n),disabled:x,tabIndex:f?void 0:-1},(0,e.h)(As.Z,null))),J9=({poll:n,isOpen:t,onClose:r,onSave:i,isPublished:f,totalVotes:x,shouldShowAudiencePicker:k})=>{let W=n.options.map(Kn=>Kn.label);W.length>1?W.length<dg&&W.push(""):W=["",""];const{payments_state:B}=(0,ud.I)()||{},q=k&&B==="enabled"?"only_paid":"all_subscribers",[ye,Me]=(0,o.eJ)(n.question||""),[Re,ze]=(0,o.eJ)(W),[et,Je]=(0,o.eJ)(n.expiry||24),[dt,Et]=(0,o.eJ)(n.audience||q),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(n.votes_hidden||!1),[on,pn]=(0,o.eJ)(null),En=Z9({question:ye,options:Re,expiry:et,audience:dt,votes_hidden:Bt}),vn=(0,o.I4)(()=>{var Kn;Me(n.question||""),ze(((Kn=n.options)==null?void 0:Kn.map(Zn=>Zn.label))||["",""]),Je(n.expiry||24),Et(n.audience||q),kt(n.votes_hidden||!1),pn(null),r()},[Me,ze,Je,Et,n,r]),hn=(0,o.I4)(({value:Kn})=>{["only_paid","all_subscribers"].includes(Kn)&&Et(Kn)},[Et]),qn=dt==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",Yn=(0,o.I4)(({value:Kn})=>{const Zn=Number(Kn);[1,24,72,168].includes(Zn)&&Je(Zn)},[Je]),$n=et===1?"1 hour":et===24?"1 day":et===72?"3 days":"1 week",yn=(0,o.I4)((Kn,Zn)=>{const tr=[...Re];tr.splice(Kn,1,Zn),Kn===tr.length-1&&tr.length<dg&&tr.push(""),ze(tr)},[Re,ze]),mn=(0,o.I4)(Kn=>{if(Re.length<=cg||Kn>=Re.length)return;const Zn=[...Re];Zn.splice(Kn,1),Zn[Zn.length-1].length&&Zn.push(""),ze(Zn)},[Re,ze]),cr=Array(Math.max(2,Re.length||0)).fill("").map((Kn,Zn)=>Re.length>Zn?Re[Zn]:Kn),Hn=on||f&&`This poll is part of a post that has already been published. If you modify it, ${x} existing ${x===1?"vote":"votes"} will be removed.`;return(0,e.h)(Hi.u_,{className:"poll-editor-modal",isOpen:t,onClose:r},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:ye,onChange:Kn=>Me(Kn.currentTarget.value),placeholder:"Enter your question...",disabled:wt,maxLength:z9})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},cr.map((Kn,Zn)=>(0,e.h)(Y9,{index:Zn,text:Kn,onChange:yn,onDelete:mn,disabled:wt,showDeleteButton:cr.length>cg&&(Zn<cr.length-1||Kn.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},"Length"),(0,e.h)(ag,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 day",value:"72"},{label:"1 week",value:"168"}],isDisabled:wt,value:{label:$n,value:String(et)},onChange:Yn})),k&&B==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,e.h)(ag,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:wt,value:{label:qn,value:dt},onChange:hn})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(K0.p,{checked:Bt,onChange:()=>kt(!Bt),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},Hn&&(0,e.h)("div",{className:"edit-warning"},Hn),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(aa.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:vn,disabled:wt},"Cancel"),(0,e.h)(GI.L,{content:En,className:d()("inverse",{disabled:En===null})},(0,e.h)(aa.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Il(void 0,null,function*(){xt(!0);try{yield i({audience:dt,question:ye,options:Re.filter(Boolean),expiry:et,votes_hidden:Bt})}catch(Kn){pn("An error occurred while saving this poll.")}xt(!1)}),disabled:En!==null||wt},"Save"))))))},Q9=({id:n,text:t,onVote:r,showVotes:i,currentVotes:f,totalVotes:x,myVote:k,canVote:W})=>{const B=(0,o.I4)(()=>Il(void 0,null,function*(){n&&(yield r(n))}),[n,r]),q=Math.round(100*(x===0?0:f/x));return(0,e.h)("div",{className:d()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":W,"my-vote":k}),onClick:B},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${q}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,i&&k&&(0,e.h)(dh,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},q,"%"))},X9=({id:n,isEditor:t,post:r,pub:i,isVersionView:f})=>{var x,k,W;const[B,q]=(0,o.eJ)(!1),[ye,Me]=(0,o.eJ)(!0),[Re,ze]=(0,o.eJ)(null),[et,Je]=(0,o.eJ)(null),[dt,Et]=(0,o.eJ)(!0),[wt,xt]=(0,o.eJ)(f!=null?f:!1),Bt=(0,ni.pm)(),kt={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const Qn=(0,v.parseQuery)(window.location.href);if(Qn&&Qn.token&&(kt.token=Qn.token),!kt.token&&((x=window._preloads)!=null&&x.original_url)){const Or=(0,v.parseQuery)(window._preloads.original_url);Or&&Or.token&&(kt.token=Or.token)}}if(typeof window!="undefined"&&!t&&r.is_draft){const Qn=(0,v.getPostSlug)(window.location.href);Qn&&(0,he.isUUID)(Qn)&&(kt.uuid=Qn)}const on=(0,is.aF)()||{},pn=ug({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},on),{is_subscribed:En,is_admin:vn,is_contributor:hn,is_author:qn}=pn;let{is_free_subscribed:Yn}=pn;UI()&&(Yn=!0);const $n=hn||vn||qn,yn=Bn()(),mn=Re&&Re.published_at&&Bn()(Re.published_at).add(Re.expiry,"hour"),cr=mn&&mn.diff(yn,"hour"),Kn=(Re==null?void 0:Re.audience)==="only_paid"?En:Yn,Zn=Re&&Re.options.some(Qn=>Qn.my_vote),tr=!!(Re!=null&&Re.is_published),lr=tr&&mn&&mn.isBefore(yn),Fn=t&&((Re==null?void 0:Re.post_type)!=="adhoc_email"||!tr),zn=(0,o.sO)(null),an=!Zn&&tr&&!lr&&Kn,In=(Re==null?void 0:Re.total_votes)==1?"1 VOTE":`${Re==null?void 0:Re.total_votes} VOTES`,Yt=G9({isExpired:lr,isPublished:tr,remainingHours:cr}),ur=(0,o.I4)((...Qn)=>Il(void 0,[...Qn],function*({shouldNotSetLoading:Or}={shouldNotSetLoading:!1}){Or||Me(!0);try{const gr=yield ie()(`/api/v1/poll/${n}`).query(kt);ze(gr.body),Je(null)}catch(gr){Je("We were unable to load this poll. Please refresh the page.")}Me(!1)}),[n,Me,ze]);(0,o.d4)(()=>{ur()},[ur]);const Ln=(0,o.I4)(Qn=>Il(void 0,null,function*(){try{yield ie().put(`/api/v1/poll/${n}`).send(Qn)}catch(Or){return Or}return q(!1),Me(!0),yield ur(),null}),[n,Me,ur]),Ar=(0,o.I4)(Qn=>Il(void 0,null,function*(){var Or;if(!Kn&&tr&&!lr&&!Fn){(Or=zn.current)==null||Or.open();return}if(!(Fn||!an||wt)){xt(!0);try{yield ie().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:Qn}).query(kt),Je(null)}catch(gr){Je("We were unable to record your vote. Please refresh the page and try again."),xt(!1);return}yield ur({shouldNotSetLoading:!0}),xt(!1)}}),[Fn,an,wt,xt,n,ur,Kn,tr,lr]),mr=Fn?Array(Math.max(2,((k=Re==null?void 0:Re.options)==null?void 0:k.length)||0)).fill("").map((Qn,Or)=>{var gr;return Re&&((gr=Re.options)==null?void 0:gr.length)>Or?Re.options[Or].label:hf(Or)}):(W=Re==null?void 0:Re.options)==null?void 0:W.map(Qn=>Qn.label);if(et!==null&&!Re)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},et));const Nr=t?null:`${(0,v.getPostUrl)(i,r)}#poll-${n}`;return(0,e.h)(Ye.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Nr&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:Qn=>{location!=null&&location.href&&(Qn.preventDefault(),(0,b.copyToClipboard)(Nr),Bt.popToast(Or=>(0,e.h)(ni.FN,K9(ug({},Or),{text:"Link copied",Icon:dl.Z}))))}},(0,e.h)("a",{href:Nr},(0,e.h)(dl.Z,{size:20})))),Fn&&Re&&(0,e.h)(J9,{poll:Re,isOpen:B,onClose:()=>{q(!1)},isPublished:tr,totalVotes:(Re==null?void 0:Re.total_votes)||0,onSave:Ln,shouldShowAudiencePicker:(Re==null?void 0:Re.post_type)!=="adhoc_email"}),!t&&Re&&(0,e.h)(zI,{ref:zn,noCloseButton:!0,className:"poll-dialog",pub:i,post:r,user:on,pollId:Re.id,audience:Re.audience}),ye?(0,e.h)(Ye.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(rt.xv.Meta,null,"Loading...")):(0,e.h)(e.Fragment,null,Fn&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{q(!0)},disabled:ye},(0,e.h)(BI.Z,{height:20})),(0,e.h)(Ye.tu,{gap:4},(0,e.h)(Ye.gq,{className:"poll-title",alignItems:"baseline",gap:4},(Re==null?void 0:Re.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(hd.Z,{size:16}),(0,e.h)(rt.xv.Meta,{className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(rt.xv.Meta,null,"POLL")),(0,e.h)(rt.xv.H3,{className:"poll-question",color:"pub-primary-text"},(Re==null?void 0:Re.question)||"New Poll")),et!==null&&(0,e.h)("div",{className:"poll-error"},et),(0,e.h)(Ye.tu,{gap:12,className:d()("poll-options",{"no-margins":!tr})},mr.map((Qn,Or)=>{var gr,Br,wo;return(0,e.h)(Q9,{id:((gr=Re==null?void 0:Re.options[Or])==null?void 0:gr.id)||null,text:Qn,canVote:!Zn&&tr&&!lr&&(!t||(Re==null?void 0:Re.post_type)==="adhoc_email"),onVote:Ar,showVotes:Zn||lr||$n&&dt,totalVotes:(Re==null?void 0:Re.total_votes)||0,currentVotes:((Br=Re==null?void 0:Re.options[Or])==null?void 0:Br.votes)||0,myVote:((wo=Re==null?void 0:Re.options[Or])==null?void 0:wo.my_vote)||!1})})),tr&&(0,e.h)(rt.xv.Meta,{className:"poll-status"},($n||!Re.votes_hidden)&&`${In} \xB7 `,Yt,$n&&!Zn&&!lr&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:"Only the author, contributors, and admins may view results before voting.",onClick:()=>{Et(!dt)}},dt?"SHOW OPTIONS":"SHOW RESULTS")))))},q9=({id:n,embeddedPolls:t})=>{const r=t.find(i=>i.id===n);return r?(0,e.h)(Xr.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(r==null?void 0:r.audience)==="only_paid"?"SUBSCRIBER-ONLY POLL":"POLL")),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,r.question||"New Poll")),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.YF,{className:"poll-options",width:"100%"},r.options.map(({label:i,id:f},x)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${f}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},i||hf(x))))))))))))):(0,e.h)("table",{className:"poll-wrapper"},"Something went wrong.")};var Dl=St(25380);const Vu=(0,e.createContext)({isSubstack:!1,customDomain:null});Vu.displayName="DomainInfoContext";function gH(){return useContext(Vu)}function vH({value:n,children:t}){const r=useMemo(()=>n,Object.values(n));return h(Vu.Provider,{value:r},t)}var eD=Object.defineProperty,tD=Object.defineProperties,nD=Object.getOwnPropertyDescriptors,fg=Object.getOwnPropertySymbols,rD=Object.prototype.hasOwnProperty,oD=Object.prototype.propertyIsEnumerable,pg=(n,t,r)=>t in n?eD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,iD=(n,t)=>{for(var r in t||(t={}))rD.call(t,r)&&pg(n,r,t[r]);if(fg)for(var r of fg(t))oD.call(t,r)&&pg(n,r,t[r]);return n},aD=(n,t)=>tD(n,nD(t));const sD=n=>(0,e.h)(N.l,aD(iD({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Dl.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var lD=Object.defineProperty,uD=Object.defineProperties,cD=Object.getOwnPropertyDescriptors,hg=Object.getOwnPropertySymbols,dD=Object.prototype.hasOwnProperty,fD=Object.prototype.propertyIsEnumerable,mg=(n,t,r)=>t in n?lD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,_g=(n,t)=>{for(var r in t||(t={}))dD.call(t,r)&&mg(n,r,t[r]);if(hg)for(var r of hg(t))fD.call(t,r)&&mg(n,r,t[r]);return n},pD=(n,t)=>uD(n,cD(t));const hD=["Subscribe","Subscribe now","Sign up","Sign up now"];function gg({isStatic:n,pub:t,user:r,freeSignup:i,children:f,pledgesEnabled:x}){if(n)return(0,e.h)(zd.E.Consumer,null,({isFreemail:q,isFreeSubscribed:ye,isPledged:Me})=>f({isFreeSubscribed:ye,isSubscribed:!q,isFullySubscribed:t.plans?!q:!x||Me,isForPaidSubscription:!!t.plans&&q,isPledged:Me}));const k=i||(r==null?void 0:r.is_free_subscribed),W=r==null?void 0:r.is_subscribed,B=r==null?void 0:r.is_pledged;return f({isFreeSubscribed:k,isSubscribed:W,isFullySubscribed:t.plans?W:k&&(!x||B),isForPaidSubscription:!!t.plans&&k&&!W,isPledged:B})}function mf({pub:n,user:t,now:r,isStatic:i}){return(0,e.h)(De.vz.Consumer,null,({getSettingFor:f})=>{const x=n.payments_state==="disabled"&&!n.invite_only&&f("payment_pledges_enabled");return(0,e.h)(gg,{isStatic:i,user:t,pub:n,pledgesEnabled:x},({isFreeSubscribed:k,isPledged:W})=>(0,he.getSubscribeText)(n,{now:r,isFreeSubscribed:k,isPledged:W,pledgesEnabled:x}))})}class Fs extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,pD(_g({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:r,subscribeButtonAttrs:i,isStatic:f,source:x,post:k,next:W}=this.props,B={utm_medium:f?"email":"web",utm_source:x||"subscribe-widget",utm_content:k&&k.id,next:W,referring_pub_ids:f?void 0:(0,v.getQueryItem)("referring_pub_ids")};return t?f?Ei.Substitutions.ACCOUNT_URL:(0,v.getPubAccountSettingsUrl)(r,{params:B}):(0,v.getSubscribeUrl)(r,_g({addBase:!0,root:i?i.url:f&&Ei.Substitutions.CHECKOUT_URL},B))}getButtonLabel(t,r,{isPledged:i,pledgesEnabled:f}){if(t||i)return"Subscribed";const{pub:x,subscribeButtonAttrs:k}=this.props,W=k&&k.text;if(W&&!hD.includes(W))return W;const B=r;return(0,he.getSubscribeText)(x,{now:!B,isFreeSubscribed:B,isPledged:i,pledgesEnabled:f})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:f,source:x,isStatic:k,forceEmailInput:W,onPrepareData:B,onError:q},{loading:ye}){const Me=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(De.vz.Consumer,null,({getSettingFor:Re})=>(0,e.h)(Vu.Consumer,null,ze=>(0,e.h)(gg,{pub:t,user:r,isStatic:k,freeSignup:i,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Re("payment_pledges_enabled")},({isFreeSubscribed:et,isSubscribed:Je,isFullySubscribed:dt,isPledged:Et})=>{var wt;const xt=this.getButtonLabel(Je,et,{isPledged:Et,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&Re("payment_pledges_enabled")}),Bt=et||Je;return(0,e.h)("div",{className:d()("subscribe-widget",{"is-signed-up":Bt,"is-fully-subscribed":dt}),"data-component-name":"SubscribeWidget"},!W&&(Bt||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:d()("button subscribe-btn",dt?"outline":"primary"),href:this.getHref(dt),native:!k},dt&&(0,e.h)(sD,{stroke:((wt=t==null?void 0:t.theme)==null?void 0:wt.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||R.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,xt)):(0,e.h)(aa.z,{className:"subscribe-btn",href:this.getHref(dt),localNavigation:!1,variant:dt?"themed-secondary":"themed-primary",leftIcon:dt?(0,e.h)(Dl.Z,{size:20}):null},(0,e.h)("span",null,xt))):(0,e.h)(Pr.Z,{source:x||"subscribe-widget",user:r,pub:t,freeSignup:i,freeSignupEmail:f,onPrepareData:B,onSuccess:kt=>this.onSignup(kt),onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:q,hideTerms:!0,hideLogin:!0,disabled:Bt||ye,submitButtonText:Bt?"\u2713":(0,he.getSubscribeText)(t),useSubscribeLink:(ze==null?void 0:ze.isSubstack)||Me,utm_campaign:ze!=null&&ze.isSubstack?"reader2":Me?"cross-post":null,next:Me?window.location.href:null}))})))}}var mD=Object.defineProperty,_D=Object.defineProperties,gD=Object.getOwnPropertyDescriptors,vg=Object.getOwnPropertySymbols,vD=Object.prototype.hasOwnProperty,yD=Object.prototype.propertyIsEnumerable,yg=(n,t,r)=>t in n?mD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ia=(n,t)=>{for(var r in t||(t={}))vD.call(t,r)&&yg(n,r,t[r]);if(vg)for(var r of vg(t))yD.call(t,r)&&yg(n,r,t[r]);return n},bg=(n,t)=>_D(n,gD(t));const bD=(n,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Fs,Ia({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),PD=(n,t)=>{try{const r=JSON.parse(mi()(n.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",Ei.Substitutions.CHECKOUT_URL,Ei.Substitutions.FOUNDING_CHECKOUT_URL].includes(r.url)){const i=JSON.parse(mi()(n.getAttribute("data-attrs")));return(0,e.h)(Fs,Ia({pub:t.pub,subscribeButtonAttrs:i},t.props))}}catch(r){console.error("Failed to parse button:",r)}},ED=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const f=n.getAttribute("data-attrs");if(f){const x=JSON.parse(mi()(f));return r?(0,e.h)(d0,{label:x.label,pub:t,post:i,duration:x.duration}):(0,e.h)(c0,{label:x.label,pub:t,post:i,src:`/api/v1/audio/upload/${x.mediaUploadId}/src`,duration:x.duration,autoPlay:!1})}}catch(f){console.error("Failed to parse audio:",f)}},wD=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const f=n.getAttribute("data-attrs");if(f){const x=JSON.parse(mi()(f));return r?(0,e.h)(d0,{label:x.label,pub:t,post:i,duration:x.duration}):(0,e.h)(c0,{label:x.label,pub:t,post:i,src:x.url,duration:x.duration,autoPlay:!1})}}catch(f){console.error("Failed to parse audio:",f)}},CD=(n,{props:{isStatic:t}})=>{try{const r=n.getAttribute("data-attrs");if(r){const{name:i,avatarUrl:f,url:x}=JSON.parse(mi()(r));return t?(0,e.h)(HS,{name:i,avatarUrl:f,url:x}):(0,e.h)(VS,{name:i,avatarUrl:f,url:x})}}catch(r){console.error("Failed to parse audio:",r)}},OD=n=>{try{const t=JSON.parse(n.dataset.attrs).symbol;return t?(0,e.h)(cT,{symbol:t,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},SD=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{if(r){const f=n.getAttribute("data-attrs");if(f){const x=JSON.parse(mi()(f)),k=x==null?void 0:x.persistentExpression;return k?(0,e.h)("img",{src:(0,v.getLatexUrl)(k),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found in email")}else return(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 data attributes not found")}else{const f=n.getAttribute("data-attrs"),x=JSON.parse(mi()(f)),k=x==null?void 0:x.persistentExpression;return k?(0,e.h)(Ye.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(Ye.tu,{justifyContent:"center"},(0,e.h)(rS,{inline:!1},`\\(${k}\\)`))):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found")}}catch(f){return console.error("failed to render mathjax",f),(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 error")}},TD=n=>{try{const t=JSON.parse(n.dataset.attrs),{name:r,id:i,type:f,url:x,photo_url:k,uuid:W,isStatic:B}=t;return r?(0,e.h)(md.default,{name:r,id:i,type:f,url:x,photo_url:k,uuid:W,isStatic:B}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},ID=(n,t)=>{var r;try{const i=JSON.parse(mi()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(q9,{id:i.id,embeddedPolls:(r=t.props.dataForEmailRender)==null?void 0:r.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(X9,{id:i.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function DD(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(mi()(r));return(0,e.h)("div",{className:"community-chat",dataAttrs:r},t?(0,e.h)(aS,Ia({},i)):(0,e.h)(iS,{pub:i.pub,subdomain:i.subdomain}))}catch(r){return console.error("Failed to parse chat embed:",r),(0,e.h)(e.Fragment,null)}}function xD(n,t){const{props:{isStatic:r,is_freemail:i}}=t;try{const f=n.getAttribute("data-attrs"),x=JSON.parse(mi()(f));return r?(0,e.h)(wS,Ia({is_freemail:i},x)):(0,e.h)(ES,Ia({},x))}catch(f){return console.error("Failed to parse chat post embed:",f),(0,e.h)(e.Fragment,null)}}function MD(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(mi()(r));return t?(0,e.h)(jm,Ia({},i)):(0,e.h)(IS,Ia({},i))}catch(r){return console.error("Failed to parse chat post embed:",r),(0,e.h)(e.Fragment,null)}}const AD=(n,t,r)=>{var i;const f=n.id,[x,,k]=f.split("-"),W=(i=r.wrapper.querySelector(`#${x}-${k}`))==null?void 0:i.nextElementSibling;return W?((0,P.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(qh.z,{content:(0,e.h)("div",{className:"markup"},xl(W,t,r)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},xl(n,t,r))):xl(n,t,r)},Ku=(n,t,{shallow:r}={})=>{var i,f,x;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=t.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),t.pub&&n.nodeName==="P"&&(0,b.hasClass)(n,"button-wrapper")){const k=PD(n,t);if(k)return k}return(0,b.hasClass)(n,"subscription-widget-wrap")?bD(n,t):(0,b.hasClass)(n,"cashtag-wrap")?OD(n):(0,b.hasClass)(n,"mention-wrap")?TD(n):t.pub&&(0,b.hasClass)(n,"native-audio-url-embed")?wD(n,t):t.pub&&(0,b.hasClass)(n,"native-audio-embed")?ED(n,t):t.pub&&(0,b.hasClass)(n,"native-video-embed")?xI(n,t):t.pub&&(0,b.hasClass)(n,"meeting-embed")?CD(n,t):(0,b.hasClass)(n,"poll-embed")?ID(n,t):(0,b.hasClass)(n,"image-gallery-embed")?RI(n,t):(0,b.hasClass)(n,"image3")?NI(n,t):(0,b.hasClass)(n,"latex-rendered")?SD(n,t):(0,b.hasClass)(n,"community-chat")?DD(n,t):(0,b.hasClass)(n,"community-post")?xD(n,t):(0,b.hasClass)(n,"digest-post-embed")?MI(n,t):(0,b.hasClass)(n,"comment")&&!(0,b.hasClass)(n,"template-comment")?MD(n,t):(0,b.hasClass)(n,"referrals-tier-card")?AI(n,t):((x=(f=t.props)==null?void 0:f.post)!=null&&x.id&&(0,b.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${t.props.post.id}`),n.href&&(n.href+=`-${t.props.post.id}`)),(0,b.hasClass)(n,"footnote-anchor")?AD(n,Ku,t):r?null:xl(n,Ku,t))},ND=function(n){const t={},r=Array.prototype.slice.call(n);for(const{name:i,value:f}of r)t[i]=f;return t},RD=(n,t)=>{let r=0;return function(){const i=[].slice.call(arguments,0),f=++r>t;f&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:r});const x=n.apply(null,[...i,...f?[!0]:[]]);return r--,x}};function LD(n,t,r,i){var f,x,k;const W=d()("header-with-anchor-widget",t.className),B=r.children.length?Array.prototype.map.call(r.childNodes,q=>Ku(q,i)):[r.textContent];return(0,e.h)(n,bg(Ia({},t),{className:W}),...B,(0,e.h)(LI,{text:r.textContent,pub:i==null?void 0:i.pub,post:(f=i==null?void 0:i.props)==null?void 0:f.post,offsetTop:!0,isAboutPage:(k=(x=i==null?void 0:i.props)==null?void 0:x.isAboutPage)!=null?k:!1}))}const xl=RD((n,t,r,i)=>{var f,x;if(!n)throw new Error("Empty node, cannot preactify!");const k=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),W=n.nodeType!==1?{}:ND(n.attributes),B=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(k,bg(Ia({},W),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const q=!!((f=n.parentElement)!=null&&f.getAttribute("data-prose-mirror-wrapper"));if(((x=r==null?void 0:r.pub)==null?void 0:x.type)!=="rss"&&q&&["h1","h2","h3","h4"].includes(k)&&!n.className)return LD(k,W,n,r);if(B)return(0,e.h)(k,W,B);const ye=t(n,r,{shallow:!0});return ye||(0,e.h)(k,W,...Array.prototype.map.call(n.childNodes,Me=>t(Me,r)))},2500);function BD(n,t,r={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,f=>xl(f,Ku,{wrapper:i,pub:t,props:r}))}var _f=St(96283);function Pg(n,t){var r;const[i,f]=(0,o.eJ)(typeof localStorage!="undefined"&&(r=localStorage.getItem(n))!=null?r:t);return[i,k=>{f(k),localStorage.setItem(n,k)}]}function PH(n,t){const r=useMemo(()=>JSON.stringify(t),[t]),[i,f]=Pg(n,r);return[useMemo(()=>{try{return JSON.parse(i)}catch(W){return console.error("Failed to parse stored value:",W),t}},[i,t]),W=>f(JSON.stringify(W))]}var Eg=St(16742);const Da={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS"};var kD=Object.defineProperty,UD=Object.defineProperties,FD=Object.getOwnPropertyDescriptors,$u=Object.getOwnPropertySymbols,wg=Object.prototype.hasOwnProperty,Cg=Object.prototype.propertyIsEnumerable,Og=(n,t,r)=>t in n?kD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ms=(n,t)=>{for(var r in t||(t={}))wg.call(t,r)&&Og(n,r,t[r]);if($u)for(var r of $u(t))Cg.call(t,r)&&Og(n,r,t[r]);return n},Ml=(n,t)=>UD(n,FD(t)),jD=(n,t)=>{var r={};for(var i in n)wg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$u)for(var i of $u(n))t.indexOf(i)<0&&Cg.call(n,i)&&(r[i]=n[i]);return r},Al=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function WD(n){var t,r,i,f;const{nuxModal:x,showRestackNux:k}=(0,Eg.y)("post");return(0,e.h)(e.Fragment,null,x,((f=(i=(r=(t=n.selection)==null?void 0:t.text)==null?void 0:r.split)==null?void 0:i.call(r," "))==null?void 0:f.length)>=3&&(0,e.h)(HD,ms({onShare:k},n)))}function HD({pub:n,post:t,selection:r,onShare:i,onClose:f,userInteractionDisabled:x}){var k;const W=(0,is.aF)(),B=(0,ni.pm)(),q=(0,vu.i3)(),ye=(0,vi.XA)(),Me="has_dismissed_restack_selection_explainer",[Re]=Pg(Me),ze=(0,is.SE)();(0,o.d4)(()=>{Re==="true"&&(ze!=null&&ze.userSettings)&&!ze.userSettings.has_seen_select_to_restack_tooltip_nux&&ze.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const et=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),Je=!t.is_draft&&!!W,dt=!t.is_draft,Et=()=>Al(this,null,function*(){const vn=yield(0,io.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(vn instanceof Error)throw vn;return vn.selection.id}),wt=()=>Al(this,null,function*(){const vn=yield Et();return(0,v.getPostUrl)(n,t,{urlParams:{r:W?W.id.toString(36):null,selection:vn,utm_campaign:"post_selection",utm_medium:"web"}})}),xt=()=>Al(this,null,function*(){if(!Je)return;f();let vn;try{vn=yield wt()}catch(qn){B.popToast(Yn=>(0,e.h)(ni.FN,Ml(ms({},Yn),{text:"Failed to generate quote"})));return}const hn=yield q.open({restackUrl:vn});hn instanceof Error?(console.error(hn),B.popToast(qn=>(0,e.h)(ni.FN,Ml(ms({},qn),{text:"Failed to post"})))):(i(),B.popToast(qn=>(0,e.h)(ni.FN,Ml(ms({},qn),{text:"Note sent",cta:"View",href:(0,Ze.getFeedUrl)()}))))}),Bt=()=>Al(this,null,function*(){if(!dt)return;f();let vn;try{vn=yield wt()}catch(hn){B.popToast(qn=>(0,e.h)(ni.FN,Ml(ms({},qn),{text:"Failed to copy link to quote"})));return}(0,b.copyToClipboard)(vn),B.popToast(hn=>(0,e.h)(ni.FN,Ml(ms({},hn),{text:"Link copied to clipboard"})))}),kt=vn=>Al(this,null,function*(){if(W)return;f();let hn;try{hn=yield Et()}catch($n){}const qn=(0,v.updateQuery)(document.location.href,{selection:hn}),Yn=(0,v.getSigninUrl)({redirect:qn});(0,b.redirect)(Yn,{local_navigation:!1,event:vn})});(0,o.d4)(()=>(window.addEventListener("scroll",f,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",f,{capture:!0,once:!0})}),[f]);const on=(ze==null?void 0:ze.userSettings)&&!((k=ze.userSettings)!=null&&k.has_seen_select_to_restack_tooltip_nux),pn=on?156:40,En=()=>{ze.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(Ye.tu,{style:{top:et?r.y+r.height+8:r.y-pn-8,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:x?"none":"auto",maxWidth:240},justifyContent:"center",className:Da.popover,shadow:"md"},(0,e.h)(Ye.tu,{className:d()(Da.popoverButtons,ye&&Da.isMobile),radius:8,padding:on?8:4,gap:8},on&&(0,e.h)(KD,{onDismiss:En}),(0,e.h)(VD,{onClick:W?xt:kt,disabled:!Je&&!!W,isExplainer:on},(0,e.h)(bl.Z,{className:d()(Da.icon,!Je&&Da.disabled)}),(0,e.h)(rt.xv.B4,{color:Je?"bg-light":"secondary",weight:"medium"},Je?"Restack quote":W?t.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function VD(n){var t=n,{isExplainer:r}=t,i=jD(t,["isExplainer"]);return(0,e.h)(Gn.kG,ms({className:d()(Da.button,r&&Da.explainerButton),resetCss:!0},i))}function KD({onDismiss:n}){return(0,e.h)(Ye.tu,{className:Da.explainer,radius:4,paddingX:16,paddingY:8,gap:4},(0,e.h)(Gn.kG,{resetCss:!0,className:Da.dismissExplainer,onClick:n},(0,e.h)(As.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(rt.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(rt.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to"," ",(0,e.h)(_f.hh,{color:"secondary",decoration:"underline",href:"https://substack.com/notes",target:"_blank"},"Substack Notes"),"."))}var $D=Object.defineProperty,zD=Object.defineProperties,GD=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,Sg=Object.prototype.hasOwnProperty,Tg=Object.prototype.propertyIsEnumerable,gf=(n,t,r)=>t in n?$D(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ZD=(n,t)=>{for(var r in t||(t={}))Sg.call(t,r)&&gf(n,r,t[r]);if(zu)for(var r of zu(t))Tg.call(t,r)&&gf(n,r,t[r]);return n},YD=(n,t)=>zD(n,GD(t)),JD=(n,t)=>{var r={};for(var i in n)Sg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zu)for(var i of zu(n))t.indexOf(i)<0&&Tg.call(n,i)&&(r[i]=n[i]);return r},_s=(n,t,r)=>(gf(n,typeof t!="symbol"?t+"":t,r),r),QD=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Ig=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,XD=".image-link.image2";class Gu extends e.Component{constructor(t,r){super(t,r),_s(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),_s(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),_s(this,"onMouseUp",()=>{this.setState((i,f)=>i.selectionUserInteractionDisabled?(i.selection&&f.trackSelection&&(0,M.j)(M.FP.POST_TEXT_SELECTED,{post_id:f.post.id,post_audience:f.post.audience,post_type:f.post.type}),{selectionUserInteractionDisabled:!1}):null)}),_s(this,"onSelectionChange",bu()(()=>{const i=this.getSelectionState();i?this.setState({selection:i}):this.state.selection&&this.setState({selection:null})},100)),_s(this,"onDocumentClick",i=>{const f=i.target.closest(".image-link.image2");if(f&&this.originalImageState){const x=f.querySelector("img"),k=this.originalImageState.findIndex(W=>W.src===x.src);if(k>=0){i.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null}),_s(this,"clearActiveSelection",()=>{this.setState({selection:null})}),_s(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=(0,e.createRef)()}componentDidMount(){return QD(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(Ig));this.originalParagraphState=t.map(W=>({text:W.textContent}));const r=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(XD));i=i.map(W=>{const B=W.querySelector("img"),q=JSON.parse(B.getAttribute("data-attrs")),ye=q.width/q.height,Me=q.resizeWidth?q.resizeWidth/ye:q.height,Re=q.resizeWidth?q.resizeWidth/Me:ye;return{element:W,image:B,attrs:q,extraAttrs:{imageRatio:ye,resizeHeight:Me,resizeRatio:Re}}});let f=0;if(r){const W=i.find(B=>B.attrs.src===r);W&&(f=W.image.getBoundingClientRect().top-65)}const x=240,k=4;if(i=i.filter(W=>(0,v.unimginary)(W.image.src)===(0,v.unimginary)(W.element.href)),i=i.filter(W=>W.attrs.height>x&&W.extraAttrs.resizeHeight>x),i=i.filter(W=>W.extraAttrs.imageRatio<k&&W.extraAttrs.resizeRatio<k),this.originalImageState=i.map(W=>{var B;const q=W.image.src;let ye=null;const Me=W.element.parentElement;return Me.tagName==="FIGURE"&&(ye=(B=Me.querySelector(":scope > figcaption"))==null?void 0:B.textContent),{src:q,attrs:W.attrs,caption:ye}}),r){window.scrollTo({top:f});const W=this.originalImageState.findIndex(B=>B.attrs.src===r);W>=0&&this.setState({selectedImgIndex:W})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,r){return this.props.html!==t.html||this.state.selectedImgIndex!==r.selectedImgIndex||this.state.selection!==r.selection||this.state.selectionUserInteractionDisabled!==r.selectionUserInteractionDisabled}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const r=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,M.j)(M.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:r.href}),window.location.host===r.host){const i=(0,he.transformDocumentLink)(r.href);i!==r.href&&(0,b.redirect)(i,{local_navigation:!1,event:t});return}t.preventDefault(),(0,he.handleDocumentLinkClick)(r.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const r=this.findParentParagraph(t.anchorNode);if(!r)return;const i=this.findParentParagraph(t.focusNode);if(!i)return;const f=Array.from(this.body.current.querySelectorAll(Ig)),x=f.findIndex(Me=>Me.isSameNode(r));if(x===-1)return;const k=f.findIndex(Me=>Me.isSameNode(i));if(k===-1)return;const W=this.getCharacterOffsetParagraph(r,t.anchorNode,t.anchorOffset);if(W===null)return;const B=this.getCharacterOffsetParagraph(i,t.focusNode,t.focusOffset);if(B===null)return;const q=x>k||x===k&&W>B,ye=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:q?k:x,endParagraph:q?x:k,startOffset:q?B:W,endOffset:q?W:B,y:ye.y,height:ye.height,rect:ye,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?t.nodeName==="P"?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,r){return t===null?!1:t.isSameNode(r)?!0:this.isAncestorOf(t.parentNode,r)}getCharacterOffsetParagraph(t,r,i){var f;let x=i;for(let k=0;k<t.childNodes.length;k++){const W=t.childNodes[k];if(this.isAncestorOf(r,W))return x;W.className!=="footnote-anchor"&&(x+=((f=W.textContent)==null?void 0:f.length)||0)}return x}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var r=t,{children:i,html:f,pub:x,skipTrackClick:k,trackSelection:W,paywall:B,isAboutPage:q}=r,ye=JD(r,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:Me,selectedImgIndex:Re}=this.state;f&&(i=BD(f,x,YD(ZD({},ye),{isAboutPage:q})),i&&(f=null));const ze=i?Array.from(i).some(Je=>{var dt;return((dt=Je.props)==null?void 0:dt.className)==="latex-rendered"}):!1,et=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:f?{__html:f}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),(0,e.h)(WD,{pub:x,post:this.props.post,selection:Me,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),(0,e.h)($d.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:Re}));return ze&&!ye.isStatic?(0,e.h)(eS,null,et):et}}const qD=({tabs:n,tab:t,onTabClick:r})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:f})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${t===i?"active":""}`,onClick:()=>r&&r(i)},f)));var Dg=St(36868);const $a={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},Nl=(n,t)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,v.getDefaultPodcastArtUrl)(),mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:t,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),ex=({logoUrl:n,mainClickUrl:t,buttonClickUrl:r,name:i,description:f,showButton:x,buttonText:k,openInNewTab:W=!1})=>(0,e.h)("div",{className:$a.childPublication},n&&(0,e.h)("img",{className:$a.logo,src:(0,v.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:$a.details},(0,e.h)("div",{className:$a.info},(0,e.h)("div",{className:$a.title},(0,e.h)("a",{className:$a.link,href:t},i)),(0,e.h)("div",{className:$a.description},f)),x&&(0,e.h)(Gn.zx,{priority:"primary",className:$a.subscribe,href:r,newTab:W},k))),Zu=({showButton:n,items:t,openInNewTab:r=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(f=>(0,e.h)(ex,{logoUrl:f.logoUrl,mainClickUrl:f.mainClickUrl,buttonClickUrl:f.buttonClickUrl,name:f.name,description:f.description,buttonText:i,openInNewTab:r,showButton:n}))),vf={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var tx=Object.defineProperty,nx=(n,t,r)=>t in n?tx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rx=(n,t,r)=>(nx(n,typeof t!="symbol"?t+"":t,r),r),Yu=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function ox(n){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=n;for(let r=t.childNodes.length-1;r>=0;r--){const i=t.childNodes[r];if((0,b.hasClass)(i,"button-wrapper")||(0,b.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const ix=({pub:n,user:t,freeSignup:r,freeSignupEmail:i})=>{const f=n.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,o.d4)(()=>{(0,M.j)(M.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:f})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(oe,{onVisible:()=>{(0,M.j)(M.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:f})}}),(0,e.h)(Ye.tu,{alignItems:"center",gap:16,padding:24,className:d()(vf.container,"end-cta-container")},(0,e.h)("img",{src:(0,v.imginary)(n.author_photo_url||n.logo_url,64),className:vf.authorPic}),(0,e.h)(Ye.tu,{alignItems:"center"},(0,e.h)(rt.xv.H2,{lineHeight:30,align:"center"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(rt.xv.Meta,{size:12,className:vf.heroText,align:"center"},n.hero_text)),(0,e.h)(Fs,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function ax({pub:n,user:t,freeSignup:r,freeSignupEmail:i,subscribeContent:f}){return typeof f!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(Gu,{html:f,pub:n,user:t,freeSignup:r,freeSignupEmail:i,isAboutPage:!0}))}function sx({pub:n,people:t}){const r=(0,$t.useMediaQuery)({maxWidth:540}),i=r?[[]]:[[],[]];for(let f=0;f<t.length;++f)i[r?0:f%2].push(t[f]);return(0,e.h)("div",{className:"content-people"},i.map(f=>(0,e.h)("div",{className:"people-column"},f.map(x=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,ah.Q)(k,(0,v.getProfileUrl)(x,n,{utm_source:"about-page"}),{native:!0})},(0,e.h)(sa.PP,{subject:x,profile:x,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class lx extends e.Component{constructor(t,r){if(super(t,r),rx(this,"onTabClick",i=>{this.loadTab({tabId:i})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]},(t.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const i=(0,he.group_by)(t.pub.child_publications,"type");for(const f of Array.from(i.keys()).sort())this.state.tabs.push({id:f,title:`${(0,he.toTitleCase)(f)}s`});this.state.tab=this.state.tabs.find(f=>f.id===t.sort)||this.state.tabs[0]}}componentDidMount(){return Yu(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,b.redirect)((0,v.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return Yu(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield ie().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return Yu(this,null,function*(){if(!this.state.people)try{const{body:t}=yield ie().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return Yu(this,arguments,function*({tabId:t}={}){const r=t?this.state.tabs.find(i=>i.id===t):this.state.tab;this.state.tab.id!==r.id&&(this.setState({tab:r}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:r.id})))})}renderChildPublications({pub:t,user:r,freeSignup:i},{tab:f}){let x,k;t.plans?(k=r&&r.is_subscribed,x=k):(x=i||r&&r.is_free_subscribed,k=r&&r.is_free_subscribed);const W=ye=>`${(0,v.getBaseUrl)(ye)}/?showWelcome=true`;if(f.id==="podcast")if(k){const ye=fa.getMultiPubChildPodcasts(t).map(Me=>Nl(Me,(0,v.getPodcatcherSetupUrl)(Me,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(Zu,{pub:t,showButton:!0,buttonText:"Set up podcast",items:ye})}else{const ye=fa.getMultiPubChildPodcasts(t).map(Me=>Nl(Me,W(Me)));return(0,e.h)(Zu,{pub:t,showButton:!x,buttonText:I`Subscribe`,items:ye})}const q=(t.child_publications?t.child_publications.filter(ye=>ye.type===f.id):[]).map(ye=>Nl(ye,W(ye)));return(0,e.h)(Zu,{pub:t,showButton:!x,buttonText:I`Subscribe`,items:q})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:f,metadata:x},{subscribeContent:k,people:W,tabs:B,tab:q}){const ye=B.length>0&&(q==null?void 0:q.id),Me=!ye||(q==null?void 0:q.id)==="about",Re=(!r||!(0,Dg.P)(r,t))&&ox(k);return(0,e.h)("div",{className:"page typography about-page typography"},x&&(0,b.setMetaData)(x),(0,e.h)("div",{className:"container"},(r==null?void 0:r.is_contributor)&&Me&&(0,e.h)(aa.z,{variant:"themed-secondary",href:(0,v.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},"Edit"),ye&&(0,e.h)(qD,{tabs:B,tab:q.id,onTabClick:this.onTabClick}),Me&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(ax,{pub:t,user:r,freeSignup:i,freeSignupEmail:f,subscribeContent:k})),Re?(0,e.h)(ix,{pub:t,user:r,freeSignup:i,freeSignupEmail:f}):null,(W!=null?W:[]).length>0&&(0,e.h)(Ye.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(sx,{pub:t,people:W}))),ye&&["podcast","newsletter"].includes(q.id)&&this.renderChildPublications({pub:t,user:r,freeSignup:i},{tab:q})))}}const yf={container:"frontend-main-home-SectionLayout-module__container--CSPtP","full-width":"frontend-main-home-SectionLayout-module__full-width--Hx4bG","full-width-with-sidebar":"frontend-main-home-SectionLayout-module__full-width-with-sidebar--zhtRk","show-below":"frontend-main-home-SectionLayout-module__show-below--znqr9","three-column-width":"frontend-main-home-SectionLayout-module__three-column-width--NGumL","three-column-width-with-sidebar":"frontend-main-home-SectionLayout-module__three-column-width-with-sidebar--yum2K","one-column-two-column":"frontend-main-home-SectionLayout-module__one-column-two-column--lBSfs","one-column-two-column-one-column":"frontend-main-home-SectionLayout-module__one-column-two-column-one-column--eCeiu"},za=({children:n,showContentBelowOnMobile:t,stretchVertically:r,variant:i})=>(0,e.h)("div",{style:r?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:d()(yf.container,yf[i],{[yf["show-below"]]:t})},n)),bf=({numColumns:n,paddingBottom:t,paddingTop:r})=>(0,e.h)(za,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(Jt.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof r=="number"?r:24},(0,e.h)(Jt.hs,{borderBottom:"detail-themed"})));var ux=Object.defineProperty,cx=Object.defineProperties,dx=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,xg=Object.prototype.hasOwnProperty,Mg=Object.prototype.propertyIsEnumerable,Ag=(n,t,r)=>t in n?ux(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fx=(n,t)=>{for(var r in t||(t={}))xg.call(t,r)&&Ag(n,r,t[r]);if(Ju)for(var r of Ju(t))Mg.call(t,r)&&Ag(n,r,t[r]);return n},px=(n,t)=>cx(n,dx(t)),hx=(n,t)=>{var r={};for(var i in n)xg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ju)for(var i of Ju(n))t.indexOf(i)<0&&Mg.call(n,i)&&(r[i]=n[i]);return r};const Qu=n=>{var t=n,{stroke:r}=t,i=hx(t,["stroke"]);return(0,e.h)(N.l,px(fx({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};var Rl=St(43615),xi=St(39776);const ya={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},gs=({className:n,hidePlaceholder:t,imageAspectRatio:r,imageWidth:i,isBelowTheFold:f,post:x,squareImageSize:k})=>{const{getConfigFor:W}=(0,Rt.xR)(),{isMobile:B}=da(),q=W("show_entire_square_image"),ye=(0,xe.getCoverImageUrl)(x);if(!ye&&t)return null;const Me=!i&&!r?1.32:r,Re=i||336,ze=!!ye&&x.cover_image_is_square&&q,et=ze&&!!k&&!B,Je=f?"lazy":void 0;return et?(0,e.h)(mx,{aspectRatio:Me,className:n,imageUrl:ye,loading:Je,size:k,width:Re}):(0,e.h)("div",{className:d()(n,ya.container,{"post-preview-cover-image-container--empty":!ye}),style:`aspect-ratio: ${Me}`},ye?(0,e.h)(rn.e,{className:d()(ya.image,{[ya["image-square-legacy"]]:ze}),src:ye,alt:"",maxWidth:Re,imageProps:Me?{height:Math.round(Re/Me),smartCrop:!0,gravity:"center"}:{},loading:Je,style:`aspect-ratio: ${Me}`}):null)},mx=({aspectRatio:n,className:t,imageUrl:r,width:i,loading:f,size:x})=>(0,e.h)("div",{className:d()(t,ya.container,ya.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:d()(ya["inner-wrapper"],ya[`inner-wrapper-${x}`])},(0,e.h)(rn.e,{className:d()(ya.image,ya["image-square"],ya[`image-square-${x}`]),src:r,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:f})));var _x=St(98913),gx=St.n(_x),vx=Object.defineProperty,Xu=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Rg=Object.prototype.propertyIsEnumerable,Pf=(n,t,r)=>t in n?vx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yx=(n,t)=>{for(var r in t||(t={}))Ng.call(t,r)&&Pf(n,r,t[r]);if(Xu)for(var r of Xu(t))Rg.call(t,r)&&Pf(n,r,t[r]);return n},bx=(n,t)=>{var r={};for(var i in n)Ng.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Xu)for(var i of Xu(n))t.indexOf(i)<0&&Rg.call(n,i)&&(r[i]=n[i]);return r},Ef=(n,t,r)=>(Pf(n,typeof t!="symbol"?t+"":t,r),r),Px=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const qu=({className:n=null,title:t,subtitle:r=null,reauthenticationTitle:i,publication:f,post:x,user:k,freeSignup:W=null,freeSignupEmail:B=null,email_form:q=!1,autoFocus:ye=!1,isStatic:Me=!1,coupon:Re=null})=>{const ze=k&&k.email||B||null,et=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),Je=(x==null?void 0:x.audience)==="founding",dt=!!(k!=null&&k.is_free_subscribed||W),Et=(0,v.getPostUrl)(f,x),wt=Re&&Re.id&&!Je;let xt;wt?(x==null?void 0:x.type)==="podcast"?xt="Listen to this episode with a 7-day free trial":(x==null?void 0:x.type)==="video"?xt="Watch with a 7-day free trial":xt=`Keep ${(0,he.getPostCtaPresentParticiple)(x==null?void 0:x.type)} with a 7-day free trial`:et?xt=i:xt=t;let Bt;return wt&&((x==null?void 0:x.type)==="podcast"?Bt="listen to this episode":(x==null?void 0:x.type)==="video"?Bt="watch this video":Bt=`keep ${(0,he.getPostCtaPresentParticiple)(x==null?void 0:x.type)} this ${(0,he.getPrintedPostType)(x==null?void 0:x.type)}`),(0,e.h)("div",{className:d()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},ze&&(0,e.h)("div",{className:"paywall-intro"},"Hi ",(0,e.h)("b",null,ze)),(0,e.h)("h2",{className:"paywall-title"},xt),r&&!wt&&(0,e.h)("p",{className:"paywall-subtitle"},r),wt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(0,e.h)("p",{className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)("b",null,(0,e.h)("i",null,f.name))," ","to ",Bt," and get 7 days of free access to the full post archives.")),q?!dt&&(0,e.h)("div",{className:"paywall-cta"},(0,e.h)(Pr.Z,{source:"post-unlock",email:ze,user:k,pub:f,freeSignup:W,freeSignupEmail:B,onSuccess:()=>document.location.reload(),hideLogin:!0,hideTerms:!0,autoFocus:ye!=null?ye:!0,submitButtonText:`Start ${(0,he.getPostCtaPresentParticiple)(x==null?void 0:x.type,{isFinalWord:!0})}`})):(0,e.h)(Ex,{coupon:Re,email:ze,isStatic:Me,post:x,postUrl:Et,publication:f,useCoupon:wt,user:k}),!et&&!Me&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:f.subdomain,change_user:!!ze}),native:!0},Tx({post:x,publication:f,isPaid:!q})," ",(0,e.h)("b",null,ze?"Switch accounts":"Sign in"))))},Ex=({coupon:n,email:t,isStatic:r,post:i,postUrl:f,publication:x,useCoupon:k,user:W})=>{const B=!!(W!=null&&W.is_founding),q=!!(W!=null&&W.is_subscribed),ye=!!(W!=null&&W.is_subscribed&&(W!=null&&W.is_magic)),Me=(i==null?void 0:i.audience)==="founding",{exposeExperiment:Re,getExperimentVariant:ze}=(0,Ue.jc)(),et=ze("autosubscribe_from_paywall")==="treatment";if(r){if(!x.plans)return null;const Je=Me?Ei.Substitutions.FOUNDING_CHECKOUT_URL:Ei.Substitutions.CHECKOUT_URL,dt=k?`&coupon=${n.id}`:"",Et=Me?`Upgrade to ${(0,fa.getFoundingTierName)(x)}`:k?"Start trial":(0,e.h)(mf,{pub:x,user:W,isStatic:r});return(0,e.h)(wx,{href:`${Je}simple=true&utm_source=paywall&utm_medium=email&utm_content=${i.id}&next=${f}${dt}`},Et)}return!B&&Me?x.plans?(0,e.h)(ec,{href:(0,v.getCheckoutUrl)(x,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:i?i.id:null,plan:"founding"})},`Upgrade to ${(0,fa.getFoundingTierName)(x)}`):null:q?ye?(0,e.h)(ec,{href:(0,v.getSigninUrl)({for_pub:x.subdomain,email:t})},"Click here to sign in"):null:x.plans?W!=null&&W.email&&!k?(0,e.h)(ec,{onClick:()=>Px(void 0,null,function*(){if(yield Re("autosubscribe_from_paywall"),et)try{yield ie().post("/api/v1/free").send({source:"paywall",email:t,first_url:s.xY,first_referrer:s.ip,current_url:s.UE,current_referrer:s.xU})}catch(Je){(0,M.j)(M.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:Je.message})}window.location.href=(0,v.getCheckoutUrl)(x,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,just_signed_up:et})})},(0,e.h)(mf,{pub:x,user:W,isStatic:r})):(0,e.h)(ec,{href:(0,v.getCheckoutUrl)(x,{simple:!0,next:document.location.href,utm_source:k?"paywall-free-trial":"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,coupon:k?n.id:null})},k?"Start trial":(0,e.h)(mf,{pub:x,user:W,isStatic:r})):null},wx=({children:n,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,n))),ec=({children:n,href:t,onClick:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:r,native:!0},(0,e.h)(gt.Z,{className:"subscribe-btn"},n)));class Cx extends Gt.p{renderChildren(){const t=this.props,{ref:r}=t,i=bx(t,["ref"]);return(0,e.h)(qu,yx({className:"modal-paywall"},i))}}class Ox extends ks{renderButtons({pub:t,post:r,isStatic:i,paywallAudience:f}){return(0,e.h)("div",{className:"audio-player-buttons audio-player-paywall"},(0,e.h)("a",{className:"primary",href:(0,v.getCheckoutUrl)(t,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:r?r.id:null}),native:!0},(0,e.h)(gt.Z,null,(0,e.h)(L0,{alt:"play",isStatic:i,stroke:"#000000",fill:"#000000"}),`This episode is for ${f!=null?f:"paid subscribers"}`)))}}class Sx extends Cl{constructor(){super(...arguments),Ef(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Ef(this,"cta",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?"Subscribe for full video":"Subscribe and watch"),Ef(this,"href",()=>{var t;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,v.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(t=this.props.post)==null?void 0:t.id})})}}function Tx({post:n,publication:t,isPaid:r=!0}={}){var i;return r?(n==null?void 0:n.audience)==="founding"?`Already in the ${(i=(0,fa.getFoundingTierName)(t))!=null?i:"Founding Member"} plan?`:"Already a paid subscriber?":"Already a subscriber?"}var Lg=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Ix={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},Dx=({ban:n,onReply:t,showReplyLink:r,name:i})=>{const f=Bn()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",f,"."," ",r&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function wf({pub:n,sub:t,children:r,tab:i}){return!t||!t.email?r:(0,e.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(n,t.email,{tab:i})},r)}const xx=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,Mx=({bans:n,activeBans:t})=>n.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Bn()(n[0].start).standardDatetimeWithYear()," to"," ",Bn()(n[0].expiry).standardDatetimeWithYear()),Ax=({comment:n,pub:t,onReply:r,onBan:i,onClose:f})=>{const[x,k]=(0,o.eJ)(null),[W,B]=(0,o.eJ)(!1),[q,ye]=(0,o.eJ)([]),[Me,Re]=(0,o.eJ)(!1),[ze,et]=(0,o.eJ)("24h"),[Je,dt]=(0,o.eJ)(null),[Et,wt]=(0,o.eJ)(!0),xt=(0,o.sO)(null),Bt=!!n||W,kt=hn=>{const qn=hn;hn.forEach(Yn=>{qn.findIndex($n=>$n.id===Yn.id)==-1&&qn.push(Yn)}),ye(qn)},on=()=>{r(n.id),xt.current.close()};(0,o.d4)(()=>{xt!=null&&xt.current&&(Bt?xt.current.state.open||xt.current.open():xt.current.state.open&&xt.current.close())},[n,W]),(0,o.d4)(()=>Lg(void 0,null,function*(){if(n){Re(!1),B(!0),ye([]),dt(null),k(null);try{const hn=yield ie().get(`/api/v1/user/${n.user_id}/bans`);ye(hn.body.bans),k(hn.body.sub)}catch(hn){console.error("Failed to get bans:",hn),dt(!0)}B(!1)}}),[n]);const pn=()=>Lg(void 0,null,function*(){B(!0);try{const hn=yield ie().post(`/api/v1/comment_ban/${n.id}`,{pub:t}).send({user_id:n.user_id,expiry:ze,removeAllComments:Et});Et&&document.location.reload(),kt(hn.body.bans),Re(!0),B(!1),i(n,q)}catch(hn){console.error("Failed to submit ban",hn),dt(!0)}B(!1)});if(!n)return null;const En=Ix[ze],vn=q.filter(hn=>Bn()(hn.expiry).isAfter(Bn()()));return(0,e.h)(Gt.p,{ref:xt,noExitOnClick:!0,onClose:f},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(wf,{pub:t,sub:x},(0,e.h)(Yr.fi,{photo_url:n.photo_url,size:80,banned:vn.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(wf,{pub:t,sub:x},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(xx,{sub:x}),(0,e.h)(Mx,{bans:q,activeBans:vn}))),Je&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),W?"Loading...":(0,e.h)("form",{className:"form"},vn.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:hn=>et(hn.target.value),value:ze},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Et,onInput:hn=>wt(hn.target.checked)}),"Remove ",(0,he.guessFirstName)(n.name),"'s"," ",(0,e.h)(wf,{pub:t,sub:x,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(gt.Z,{className:"button primary",onClick:pn},"Ban for ",En))),vn.length>0&&q.filter(hn=>hn.user_id).map(hn=>(0,e.h)(Dx,{ban:hn,showReplyLink:Me,onReply:on,name:n.name})))))},wH=null;var Ni=St(82622),Cf=St(38441),Nx=St(7617);const Bg=(0,Po.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),Rx=(0,Po.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),Lx=(0,Po.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var Bx=St(66440),kx=St(81108),Ux=Object.defineProperty,Fx=Object.defineProperties,jx=Object.getOwnPropertyDescriptors,kg=Object.getOwnPropertySymbols,Wx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,Ug=(n,t,r)=>t in n?Ux(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vx=(n,t)=>{for(var r in t||(t={}))Wx.call(t,r)&&Ug(n,r,t[r]);if(kg)for(var r of kg(t))Hx.call(t,r)&&Ug(n,r,t[r]);return n},Kx=(n,t)=>Fx(n,jx(t));const $x=n=>(0,e.h)(N.l,Kx(Vx({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var vs=St(31533),js=St(36250);const Fg="comment-collapse-state",jg=250,xa=Qx(),zx=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},Gx=()=>typeof window!="undefined"&&window.location.hash==="#input",Wg=(n,t)=>{if(!n||!t||!t.length)return null;for(const r of t){if(r.id===n)return r;if(r.children&&r.children.length){const i=Wg(n,r.children);if(i)return i}}return null};function Ll(n,t){return n.map(r=>r.id===t.id?t:(r.children=Ll(r.children,t),r)).filter(r=>r)}function Zx(n,t,{recurse:r=!0}={}){var i,f,x,k;return!!(n.id!==t.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((f=t==null?void 0:t.metadata)==null?void 0:f.is_author)||((x=n==null?void 0:n.metadata)==null?void 0:x.founding)!==((k=t==null?void 0:t.metadata)==null?void 0:k.founding)||(n==null?void 0:n.body)!==(t==null?void 0:t.body)||(n==null?void 0:n.status)!==(t==null?void 0:t.status)||n.reaction!==t.reaction||n.user_banned!==t.user_banned||n.reported_by_user!==t.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(n.reactions).reduce((W,B)=>W+B,0)!==Object.values(t.reactions).reduce((W,B)=>W+B,0)||r&&Yx(n.children,t.children,{recurse:r}))}function Yx(n,t,{recurse:r=!0}={}){if((n?n.length:0)!==(t?t.length:0))return!0;if(n)for(const i of n){const f=t.find(x=>x.id===i.id);if(!f||r&&Zx(i,f,{recurse:r}))return!0}return!1}function Bl(n,t,r){return(0,v.pathWithQuery)((0,v.getPostUrl)(t,n,{comments:!(0,he.shouldUseInlineComments)(t,n)}),r)}function Jx(n){return(n||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(uh(),{options:{validate:{url:r=>r&&!r.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const tc=n=>{var t,r,i,f;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=n.metadata)==null?void 0:t.membership_state),is_subscribed:((r=n.metadata)==null?void 0:r.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(f=n.metadata)==null?void 0:f.is_author}};function Qx(){try{return(0,Ti.mM)(Fg,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function Xx(n,t){let r=!1;if(t)xa.includes(n)||(r=!0,xa.push(n),xa.length>jg&&xa.splice(0,xa.length-jg));else{const i=xa.indexOf(n);i>=0&&(r=!0,xa.splice(i,1))}if(r)try{(0,Ti.ex)(Fg,xa)}catch(i){console.error("Failed to store comment collapse state:",i)}}function qx(n){return xa.includes(n)}const eM={link:"frontend-main-comments-CommentActions-module__link--yWV0t"};var nc=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const tM=({comment:n,pub:t,user:r,post:i,reaction_token:f,commentsEnabledForPost:x,hideContextMenu:k,noRestack:W,onChange:B,startReply:q,startEdit:ye,startReport:Me,openBan:Re,updateCommentReacted:ze})=>{var et;const{pinned_by_user_id:Je}=n,dt=!!Je,Et=(0,o.sO)(),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(!1),[on,pn]=(0,o.eJ)(!1),En=()=>nc(void 0,null,function*(){if(!on&&window.confirm(`Are you sure you want to ${dt?"unpin":"pin"} this comment?`)&&!on){pn(!0);try{yield ie().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!dt}),B({pinned:!dt}),document.location.reload()}catch(mr){alert((0,b.getNetworkErrorMessage)(mr)),pn(!1)}}}),vn=()=>nc(void 0,null,function*(){var mr;if(!wt&&window.confirm("Are you sure you want to remove this comment?")&&!wt){xt(!0);try{yield ie().patch(`/api/v1/comment/${n.id}/status`).send({status:Ni.COMMENT_STATUS.moderator_removed}),B({suppressed:!0,status:Ni.COMMENT_STATUS.moderator_removed,body:null}),(mr=Et.current)==null||mr.close()}catch(Nr){alert((0,b.getNetworkErrorMessage)(Nr))}xt(!1)}}),hn=()=>nc(void 0,null,function*(){var mr;if(!Bt&&window.confirm("Are you sure you want to delete this comment?")&&!Bt){kt(!0);try{yield ie().delete(`/api/v1/comment/${n.id}`).send(),B({status:Ni.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(mr=Et.current)==null||mr.close()}catch(Nr){alert((0,b.getNetworkErrorMessage)(Nr))}kt(!1)}}),qn=()=>nc(void 0,null,function*(){const mr=(0,js.getCommentUrl)(i,n,t),Nr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${mr}&status=Triage`;window.open(Nr,"_blank")}),Yn=!!(r&&r.id===n.user_id),$n=(r==null?void 0:r.is_contributor)&&(0,Ni.Ng)(n)&&n.ancestor_path==="",yn=(0,he.canEditComment)(r,n),mn=(r==null?void 0:r.is_contributor)&&(0,Ni.Ng)(n)&&n.ancestor_path==="",cr=!Yn&&n.metadata.eligibleForGift&&!n.metadata.is_author,Hn=(r==null?void 0:r.is_contributor)&&(0,Ni.Ng)(n),Kn=!Yn&&t.moderation_enabled&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Zn=Yn,tr=Hn&&!Yn,lr=Hn&&r.is_global_admin,Fn=r==null?void 0:r.is_global_admin,zn=Hn&&!n.user_banned&&!Yn,an=Hn&&n.email&&!Yn,In=yn||mn||cr||an,Yt=zn||Kn||tr||Zn||lr,ur=(0,xi.default)("like_comments_enabled"),Ln=!k&&(In||Yt),Ar=`${t.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,j0.cleanSlug)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(Ye.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!n.deleted&&[ur&&(0,e.h)(vs.dJ,{user:r,pub:t,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:f,onChange:({comment:mr})=>B(mr),onReactedChange:mr=>{ze&&ze(n.id,mr)},noSelfUpdate:!!ze}),x&&(0,e.h)(_f.hh,{onClick:()=>q(),className:eM.link},(0,e.h)(Ye.hs,{gap:6,alignItems:"center"},(0,e.h)(Nx.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(rt.xv.Meta,{color:"pub-secondary-text"},"Reply",((et=n.children)==null?void 0:et.length)>0&&` (${n.children.length})`))),!W&&(0,e.h)(rM,{pub:t,post:i,comment:n,onChange:B}),Ln&&(0,e.h)(Eo.v2,{trigger:(0,e.h)(Gn.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(ch.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},$n&&(0,e.h)(nM,{pub:t,post:i,comment:n}),yn&&(0,e.h)(Eo.sN,{icon:(0,e.h)(_l.Z,null),onClick:ye},"Edit"),mn&&(0,e.h)(Eo.sN,{icon:(0,e.h)(Bg,null),onClick:En},on?dt?"Unpinning...":"Pinning...":dt?"Unpin":"Pin"),cr&&(0,e.h)(Eo.sN,{icon:(0,e.h)(Rx,null),href:Ar},"Gift a subscription"),Fn&&(0,e.h)(Eo.sN,{icon:(0,e.h)($x,{strokeWidth:0,height:24,width:24}),onClick:qn},"Add comment to Linear"),an&&(0,e.h)(Eo.sN,{icon:(0,e.h)(Lx,null),onClick:()=>window.open((0,v.getSubscriberDetailsUrl)(t,n.email),"_blank")},"Subscriber details"),In&&Yt&&(0,e.h)(_0.i,null),Zn&&(0,e.h)(Eo.sN,{icon:(0,e.h)(Bx.Z,null),onClick:hn,priority:"destructive"},Bt?"Deleting...":"Delete"),tr&&(0,e.h)(Eo.sN,{icon:(0,e.h)(kx.Z,null),onClick:vn,priority:"destructive"},wt?"Removing...":"Remove"),Kn&&(0,e.h)(Eo.sN,{icon:(0,e.h)(fh.Z,null),onClick:Me,priority:"destructive"},"Report"),zn&&(0,e.h)(Eo.sN,{icon:(0,e.h)(ph.Z,null),onClick:Re,priority:"destructive"},"Ban or suspend user"))])};function nM({pub:n,post:t,comment:r}){const i=(0,vu.i3)();return(0,e.h)(Eo.sN,{icon:(0,e.h)(bl.Z,null),onClick:()=>{i.open({restackUrl:(0,js.getCommentUrl)(t,r,n)})}},"Restack")}function rM({pub:n,post:t,comment:r,onChange:i}){const{canRestack:f,isRestacked:x,restacks:k,menuItems:W,nuxModal:B}=(0,Eg.K)({pub:n,post:t,comment:r,onRestack:q=>{i({restacked:q,restacks:k+(q?1:-1)})}});if(f)return(0,e.h)("span",null,B,(0,e.h)(Eo.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:d()("restack-button",x&&"restacked"),href:"javascript:void(0)"},(0,e.h)(bl.Z,null),"Restack",k>0&&` (${k})`)},W))}const oM=tM,iM=({comment:n,bodyRef:t,expandToggleClicked:r})=>{const[i,f]=(0,o.eJ)(!1),x=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(aM,{comment:n,showHiddenComment:i,setShowHiddenComment:f}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):x?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(sM,{comment:n}):Jx(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>r()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},aM=({comment:n,showHiddenComment:t,setShowHiddenComment:r})=>{const i=(0,Ni.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),f=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,f,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>r(!t)},t?"Hide":"Show")))},sM=({comment:n})=>{const{title:t,truncated_body_text:r,date:i,bylines:f,like_count:x,comment_count:k,url:W}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,v.pathWithQuery)(W,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),r&&(0,e.h)("div",{className:"reply-comment-body"},(0,he.formatEllipsis)(r)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,he.getPostEmbedMeta)({date:i,bylines:f,like_count:x,comment_count:k})))},lM=iM;var Of=St(34085),Hg=St(61152),uM=Object.defineProperty,cM=Object.defineProperties,dM=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertySymbols,fM=Object.prototype.hasOwnProperty,pM=Object.prototype.propertyIsEnumerable,Kg=(n,t,r)=>t in n?uM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hM=(n,t)=>{for(var r in t||(t={}))fM.call(t,r)&&Kg(n,r,t[r]);if(Vg)for(var r of Vg(t))pM.call(t,r)&&Kg(n,r,t[r]);return n},mM=(n,t)=>cM(n,dM(t));const _M=n=>(0,e.h)(N.l,mM(hM({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var gM=Object.defineProperty,vM=Object.defineProperties,yM=Object.getOwnPropertyDescriptors,$g=Object.getOwnPropertySymbols,bM=Object.prototype.hasOwnProperty,PM=Object.prototype.propertyIsEnumerable,zg=(n,t,r)=>t in n?gM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EM=(n,t)=>{for(var r in t||(t={}))bM.call(t,r)&&zg(n,r,t[r]);if($g)for(var r of $g(t))PM.call(t,r)&&zg(n,r,t[r]);return n},wM=(n,t)=>vM(n,yM(t));const CM=n=>(0,e.h)(N.l,wM(EM({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var OM=Object.defineProperty,SM=Object.defineProperties,TM=Object.getOwnPropertyDescriptors,Gg=Object.getOwnPropertySymbols,IM=Object.prototype.hasOwnProperty,DM=Object.prototype.propertyIsEnumerable,Zg=(n,t,r)=>t in n?OM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xM=(n,t)=>{for(var r in t||(t={}))IM.call(t,r)&&Zg(n,r,t[r]);if(Gg)for(var r of Gg(t))DM.call(t,r)&&Zg(n,r,t[r]);return n},MM=(n,t)=>SM(n,TM(t));const AM=n=>(0,e.h)(N.l,MM(xM({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var NM=St(18446),kl=St.n(NM),RM=Object.defineProperty,Yg=Object.getOwnPropertySymbols,LM=Object.prototype.hasOwnProperty,BM=Object.prototype.propertyIsEnumerable,Sf=(n,t,r)=>t in n?RM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kM=(n,t)=>{for(var r in t||(t={}))LM.call(t,r)&&Sf(n,r,t[r]);if(Yg)for(var r of Yg(t))BM.call(t,r)&&Sf(n,r,t[r]);return n},rc=(n,t,r)=>(Sf(n,typeof t!="symbol"?t+"":t,r),r);class Jg extends e.Component{constructor(t,r){super(t,r),rc(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),rc(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),rc(this,"onDocumentMouseUp",i=>{var f;!(0,b.isRootOrChild)(i.target,this.portalRef.current,((f=this.props.baseRef)==null?void 0:f.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),rc(this,"onDocumentKeyDown",i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=bu()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,r,i,f,x,k,W;const B=(f=(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:r.getBoundingClientRect)==null?void 0:f.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(B){let q=0,ye=((x=this.props.baseRef)==null?void 0:x.current)||this.props.baseRef;for(;ye=ye==null?void 0:ye.parentElement;)q+=ye.scrollTop;this.setState({coords:{left:B.x+(this.props.rightAlign?B.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:B.y+q+(((W=this.props.offset)==null?void 0:W.y)||0),width:B.width,height:B.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,r,i,f;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.addEventListener("mouseenter",this.open),(f=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||f.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,r,i,f;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.removeEventListener("mouseenter",this.open),(f=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||f.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var r,i;const f=t==null?void 0:t.getBoundingClientRect(),x=(i=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!f||!x)return;const k=({x:Me,y:Re})=>q<=Me&&Me<=ye&&W<=Re&&Re<=B,{top:W,bottom:B,left:q,right:ye}=f;k({x:x.left,y:x.top})||k({x:x.right,y:x.top})||k({x:x.left,y:x.bottom})||k({x:x.right,y:x.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const r=(t==null?void 0:t.current)||t,i=bu()(()=>this.onScroll(r),10);return r==null||r.addEventListener("scroll",i),()=>r==null?void 0:r.removeEventListener("scroll",i)})}componentShouldUpdate(t,r){return!kl()(this.props,t)||!kl()(this.state,r)}componentDidUpdate(t){var r,i,f,x;!kl()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),kl()(t.baseRef,this.props.baseRef)||((i=((r=t.baseRef)==null?void 0:r.current)||t.baseRef)==null||i.removeEventListener("mouseenter",this.open),(x=((f=t.baseRef)==null?void 0:f.current)||t.baseRef)==null||x.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:r,className:i},{coords:f}){return typeof window=="undefined"?null:(0,tt.createPortal)((0,e.h)("div",{style:kM({},f),className:d()("tooltip-portal",i),ref:this.portalRef},t),r||document.body)}}Jg.defaultProps={scrollContainers:[]};const Qg=Jg;function UM({subject:n,hoverDisabled:t=!1,onClick:r}){return(0,e.h)(Ye.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(sa.Ct,{subject:n,disabled:t,utmSource:"comment"},(0,e.h)("a",{onClick:r,href:r?"javascript:void(0)":(0,Ze.getReaderProfileUrl)(n)},(0,e.h)(rt.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(ai.s,{size:"sm",tier:n.bestseller_tier,userId:n.id}))}var FM=St(44695);const Xg=({post:n,pub:t,comment:r,isCollapsed:i,onProfileClick:f,userBanned:x,toggleCollapse:k,noHoverProfile:W,userPendingApproval:B})=>{var q,ye;const Me=Je=>Je.children.length+Je.children.reduce((dt,Et)=>dt+Me(Et),0),Re=Me(r),ze=!!r.edited_at,et=!r.hidden&&((q=r.metadata.author_on_other_pub)==null?void 0:q.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},r.name?(0,e.h)(UM,{subject:tc(r),hoverDisabled:W||!(0,Ni.Ng)(r)||r.hidden||i,onClick:f?()=>f(r):null}):r.hidden?(0,e.h)("i",null,"hidden"):r.deleted?(0,e.h)("i",null,"deleted"):(0,Ni.Ng)(r)?"Anonymous":"Removed",x&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),B&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${r.user_id}`,target:"_blank",rel:"noopener"}," ","(Awaiting New Commenter Approval)")),r.metadata.author_on_other_pub&&!r.metadata.is_author&&(et?(0,e.h)(FM.Sm,{publication_id:(ye=r.metadata.author_on_other_pub)==null?void 0:ye.id},(0,e.h)(qg,{comment:r})):(0,e.h)(qg,{comment:r})),(0,e.h)("a",{className:"comment-timestamp",href:(0,js.getCommentUrl)(n,r,t),onClick:Je=>(void 0).onDateClick(Je),rel:"nofollow",native:!0},Bn()(r.date).standardDateOrTime()),ze&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,"edited ",Bn()(r.edited_at).standardDateOrTime()))],(0,e.h)(jM,{comment:r})),i&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(gt.Z,{className:"outline comment-collapse-toggle",onClick:k},"Expand comment ",Re>0?`and ${(0,he.pluralize)(Re,"reply")}`:""))]};function qg({comment:n}){return(0,e.h)("a",{className:"commenter-publication",href:(0,v.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},"Writes ",(0,e.h)("span",null," ",(0,he.truncateText)(n.metadata.author_on_other_pub.name,32)," "))}const jM=({comment:n})=>{const[t,r]=(0,o.eJ)(!1),i=(0,o.sO)(null),f=(0,o.sO)(null),x=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!x)return null;const k={pinned:(0,e.h)(CM,null),author:(0,e.h)(AM,null),liked:(0,e.h)(_M,null)},W={pinned:"Pinned",author:"Author",liked:`Liked by ${n.reactor_names.join(", ")}`},B=x==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:d()("highlight",{hover:t}),onMouseEnter:()=>B&&r(!0),onMouseLeave:()=>B&&r(!1)},k[x],(0,e.h)("span",{className:"highlight-text"},W[x]),B&&(0,e.h)(Qg,{baseRef:i,hoverToggle:!0,onOpen:()=>{var q;return(q=f.current)==null?void 0:q.open()},onClose:()=>{var q;return(q=f.current)==null?void 0:q.close()}},(0,e.h)(Fi.Fx,{ref:f,noList:!0,className:"explanation above small thin"},"Pinned by ",(0,e.h)("span",{className:"bold"},n.pinned_by_name))))};var WM=Object.defineProperty,HM=Object.defineProperties,VM=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,KM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,tv=(n,t,r)=>t in n?WM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nv=(n,t)=>{for(var r in t||(t={}))KM.call(t,r)&&tv(n,r,t[r]);if(ev)for(var r of ev(t))$M.call(t,r)&&tv(n,r,t[r]);return n},zM=(n,t)=>HM(n,VM(t)),Ul=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class GM extends e.Component{constructor(t){var r;super(t),this.state={value:(r=t.commentBeingEdited)==null?void 0:r.body,alsoShareToNotes:!1}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var r;if((r=this.props.user)!=null&&r.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,he.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}onInput(t){if(!(0,he.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Ul(this,arguments,function*({profileUpdated:t}={}){const{user:r,pub:i,post:f,parent:x,token:k}=this.props,{alsoShareToNotes:W}=this.state;if(!(0,he.canPostComments)(r,f,i).canReply)throw yield this.showPaywall(),yield new Promise(q=>setTimeout(q,600)),new yr.ew("Please sign in");if(this.needsProfile()&&!t)throw yield this.showProfileUpdate(),yield new Promise(q=>setTimeout(q,600)),new yr.ew("Please update your profile");const B={body:this.bodyInput.value,token:k};try{let q;if(W){const Me=yield ie().post("/api/v1/comment/attachment").send({type:"link",url:(0,v.getPostUrl)(i,f)});if(!(Me!=null&&Me.body))console.log("Error creating attachment");else{const Re=nv({},B);Re.attachmentIds=[Me.body.id],q=yield ie().post("/api/v1/comment/feed").send(Re)}}x&&(B.parent_id=x.id);const ye=yield ie().post(`/api/v1/post/${f.id}/comment`).send(B);if(!(r!=null&&r.profile_set_up_at)){const{body:{count:Me}}=yield ie().get("/api/v1/user/profile_role_count");if(Me>=2)return window.location=(0,v.pathWithQuery)(`${(0,v.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,js.getCommentUrl)(f,ye.body,i)}),!1}return{notesComment:q,res:ye}}catch(q){throw q.response&&q.response.statusCode===403&&(r&&r.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),q}})}onSuccess(t){const{res:r,notesComment:i}=t;if(r!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const f=(0,Ze.getFeedCommentUrl)(i.body);this.props.popToast(x=>(0,e.h)(Jt.FN,zM(nv({},x),{icon:Dl.Z,text:"Shared to Notes",cta:"View Now",href:f})))}this.setState({value:""}),this.props.onSuccess(r.body)}else{const f=Bl(this.props.post,this.props.pub);window.location.pathname===f?window.location.reload():window.location.href=Bl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,Ze.getFeedCommentUrl)(r.body)}:{})}}showFinishMagicLoginModal(){return Ul(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,M.j)(M.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Ul(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,M.j)(M.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Ul(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,M.j)(M.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Ul(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield ie().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,b.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:r,freeSignupEmail:i,pub:f,post:x,token:k,onCancel:W,autoFocus:B,commentBeingEdited:q,saveEdit:ye,formClassName:Me,bannedFromNotes:Re},{value:ze,alsoShareToNotes:et}){return(0,e.h)(Ye.hs,{flex:"grow",className:d()("comment-input-wrap",{comment:q})},(0,e.h)(yr.ZP,{ref:Je=>this.form=Je,className:d()("comment-input",Me),performSubmit:Je=>q?ye(ze):this.postComment(Je),onSuccess:Je=>this.onSuccess(Je),noInlineErrors:!0,autoLock:!0},(0,e.h)(fl.qE,{user:t,size:32}),(0,e.h)(Ye.tu,{flex:"grow",className:"comment-input-right"},q&&(0,e.h)(Xg,{post:x,pub:f,comment:q,isCollapsed:!1,userBanned:!1}),(0,e.h)(Hg.Z,{ref:Je=>this.bodyInput=Je&&Je.base,name:"body",placeholder:"Write a comment\u2026",autoHeight:!0,maxLines:8,value:ze||"",onInput:Je=>this.onInput(Je),onKeyDown:Je=>this.onKeyDown(Je)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Ye.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!ze&&!W&&(0,e.h)(Ye.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Re&&(0,e.h)(Jt.XZ,{name:"also_feed",size:"medium",as:"div",checked:et,onChange:()=>{this.setState({alsoShareToNotes:!et})},withTheme:!0}),!Re&&(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"Also share to"," ",(0,e.h)(_f.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,Ze.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(W||!!ze)&&(0,e.h)(gt.Z,{className:"primary",type:"submit"},q?"Save":"Post"),W&&(0,e.h)(gt.Z,{className:"cancel",onClick:W},"Cancel")))),(0,e.h)(cu.h,null,(0,e.h)(Of.EB,{ref:Je=>this.profileUpdater=Je,user:t,freeSignup:r,freeSignupEmail:i,optionalPhoto:!0,token:k,text:"Save & Post Comment",onBeforeClose:Je=>Je&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(Cx,{ref:Je=>this.modalPaywall=Je,user:t,freeSignup:r,freeSignupEmail:i,publication:f,post:x,title:"Only paid subscribers can comment on this post",reauthenticationTitle:"To post a comment, please re-authenticate."}),(0,e.h)(Gt.p,{ref:Je=>this.finishMagicLoginModal=Je,className:"finish-magic-login-modal"},(0,e.h)("h4",null,"Check your email"),(0,e.h)("p",null,"For your security, we need to re-authenticate you."),(0,e.h)("p",null,"Click the link we sent to ",t==null?void 0:t.email,", or"," ",(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:f.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const Fl=(0,Jt.dd)(GM);var ZM=St(702),YM=Object.defineProperty,JM=Object.defineProperties,QM=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,XM=Object.prototype.hasOwnProperty,qM=Object.prototype.propertyIsEnumerable,Tf=(n,t,r)=>t in n?YM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ws=(n,t)=>{for(var r in t||(t={}))XM.call(t,r)&&Tf(n,r,t[r]);if(rv)for(var r of rv(t))qM.call(t,r)&&Tf(n,r,t[r]);return n},ov=(n,t)=>JM(n,QM(t)),$i=(n,t,r)=>(Tf(n,typeof t!="symbol"?t+"":t,r),r),iv=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const av=200,eA=50,tA=140,nA=728,rA=80;function oA(){const t=Math.min(nA,document.body.clientWidth)-tA;return Math.ceil(t/eA)}const sv=oA();class iA extends e.Component{constructor(t,r){super(t,r),$i(this,"bodyRef",(0,e.createRef)(null)),$i(this,"headContainerRef",(0,e.createRef)(null)),$i(this,"openBan",()=>{this.props.banComment()}),$i(this,"setSelectedHighlight",()=>{const f=zx()===this.props.comment.id;this.setState({isSelected:f})}),$i(this,"startEdit",()=>{this.setState({editing:!0})}),$i(this,"saveEdit",i=>iv(this,null,function*(){if(this.state.editing)return yield ie().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})})),$i(this,"onSaveEditSuccess",({edited:i})=>{this.setState({editing:!1}),this.props.onChange(Ws(Ws({},this.props.comment),i))}),$i(this,"startReport",()=>{this.setState({reporting:!0})}),$i(this,"cancelReport",()=>{this.setState({reporting:!1})}),$i(this,"onReportSuccess",()=>{this.props.onChange(ov(Ws({},this.props.comment),{reported_by_user:!0}))}),$i(this,"expandToggleClicked",()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,M.j)(M.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))}),$i(this,"onChange",i=>{this.props.onChange?this.props.onChange(Ws(Ws({},this.props.comment),i)):document.location.href=Bl(this.props.post,this.props.pub)}),$i(this,"setComment",i=>{this.setState({comment:i})}),$i(this,"setCollapsed",i=>{var f,x;if(this.setState({isCollapsed:i}),i&&((x=(f=this.headContainerRef)==null?void 0:f.current)!=null&&x.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-rA)}this.props.retainUserCollapseState&&Xx(this.props.comment.id,i)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&qx(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var r,i;((r=t.comment)==null?void 0:r.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return iv(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[r,i]=t.target.href.split("?")[0].split("#");r===window.location.href.split("?")[0].split("#")[0]&&i&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const r=t.scrollHeight-t.clientHeight;r>0&&r<av?t.classList.add("expanded"):r>=av&&(t.classList.add("long"),t.setAttribute("data-hidden-height",r))}render({user:t,comment:r,freeSignup:i,freeSignupEmail:f,pub:x,post:k,reaction_token:W,depth:B,collapseAtDepth:q,onChange:ye,scrollRef:Me,retainUserCollapseState:Re,onStartReply:ze,noHoverProfile:et,onProfileClick:Je,hideContextMenu:dt,noRestack:Et,updateCommentReacted:wt},{isSelected:xt,replying:Bt,editing:kt,reporting:on,hideAnchors:pn,isCollapsed:En}){var vn,hn;const qn=x.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:Yn}=r;let $n=!1;return(vn=r.metadata)!=null&&vn.is_author?$n="author":(hn=r.metadata)!=null&&hn.founding&&($n="founding"),kt?(0,e.h)(Fl,{autoFocus:!0,user:t,freeSignup:i,freeSignupEmail:f,pub:x,post:k,commentBeingEdited:r,saveEdit:this.saveEdit,token:W,onCancel:()=>this.setState({editing:!1}),onSuccess:ye?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:d()("comment",{selected:xt,"post-reply":r.type==="reply",collapsed:En}),key:`comment-${r.id}`},!pn&&[(0,e.h)("div",{id:`comment-${r.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${r.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(sa.Ct,{subject:tc(r),disabled:et||!(0,Ni.Ng)(r)||r.hidden||En,utmSource:"comment"},(0,e.h)(Cf.ZP,{subject:tc(r),pub:x,user:t,freeSignup:i,freeSignupEmail:f,token:W,isBanned:Yn,tooltip:{founding:(0,he.foundingMemberDescription)(x),author_ons_other_pub:"Author of another publication"}[$n],badge:$n,isAuthor:r.metadata.is_author,onClick:Je?()=>Je(r):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(Xg,{post:k,pub:x,comment:r,commentUser:tc,isCollapsed:En,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Je,userBanned:Yn,noHoverProfile:et,userPendingApproval:r.status===Ni.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(lM,{comment:r,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Bt&&(0,e.h)(oM,{comment:r,pub:x,user:t,post:k,reaction_token:W,commentsEnabledForPost:qn,hideContextMenu:dt,noRestack:Et,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:wt})))),Bt&&qn&&(0,e.h)(Fl,{ref:yn=>this.commentInput=yn,user:t,freeSignup:i,freeSignupEmail:f,pub:x,post:k,parent:r,token:W,onCancel:()=>this.setState({replying:!1}),onSuccess:ye?yn=>{this.setState({replying:!1});const mn=ov(Ws({},r),{children:[yn].concat(r.children)});ye(mn)}:null}),r.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,js.getCommentUrl)(k,r,x)},r.childrenSummary)),!r.childrenSummary&&B>=sv&&!!r.children.length&&(0,e.h)(gt.Z,{className:"outline continue-thread-button",href:(0,js.getCommentUrl)(k,r,x)},"Continue Thread \u2192"),!r.childrenSummary&&B<sv&&(0,e.h)(oc,{key:`comment:${r.id}`,user:t,freeSignup:i,freeSignupEmail:f,pub:x,post:k,comments:r.children,parent:r,reaction_token:W,depth:(B||0)+1,collapseAtDepth:q,onChange:ye,isChild:!0,scrollRef:Me,retainUserCollapseState:Re,onStartReply:ze,noHoverProfile:et,onProfileClick:Je,hideContextMenu:dt,updateCommentReacted:wt,noRestack:!0}),!En&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),on&&(0,e.h)(ZM.Z,{pub:x,comment:r,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}var aA=Object.defineProperty,sA=Object.defineProperties,lA=Object.getOwnPropertyDescriptors,lv=Object.getOwnPropertySymbols,uA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,uv=(n,t,r)=>t in n?aA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,dA=(n,t)=>{for(var r in t||(t={}))uA.call(t,r)&&uv(n,r,t[r]);if(lv)for(var r of lv(t))cA.call(t,r)&&uv(n,r,t[r]);return n},fA=(n,t)=>sA(n,lA(t));const pA=St(43174),hA=5,mA=1,cv=16,_A=50,gA=200;function dv(n){return n.reduce((t,r)=>t+1+dv(r.children||[]),0)}function oc({user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:f,comments:x,reaction_token:k,depth:W,collapseAtDepth:B,onChange:q,pageSize:ye,retainUserCollapseState:Me,updateCommentReacted:Re,parent:ze,scrollRef:et,className:Je,onStartReply:dt,noHoverProfile:Et,onProfileClick:wt,hideContextMenu:xt,noRestack:Bt}){const kt=ye||cv,[on,pn]=(0,o.eJ)(kt),[En,vn]=(0,o.eJ)(-1),[hn,qn]=(0,o.eJ)(null),[Yn,$n]=(0,o.eJ)(null),[yn,mn]=(0,o.eJ)(new Set(x.map(({id:Zn})=>Zn)));if((0,o.d4)(()=>{En>=0&&window.scrollTo(window.scrollX,En)},[En]),(x||[]).length===0)return;const[cr,Hn]=pA(x,({id:Zn,user_id:tr})=>yn.has(Zn)||tr===(n==null?void 0:n.id)),Kn=cr.slice(0,on);return(0,e.h)("div",{className:d()("comment-list",Je,{"has-new-comments":Hn.length>0})},(0,e.h)(Ax,{pub:i,comment:hn,onClose:()=>qn(null),onReply:Zn=>{$n(Zn),qn(null)},onBan:(Zn,tr)=>{q?q(fA(dA({},Zn),{user_banned:!0,bans:tr.concat(Zn.bans)})):document.location.href=Bl(f,i)}}),Hn.length>0&&(0,e.h)(gt.Z,{className:"collapsed-reply outline",onClick:()=>mn(new Set(x.map(({id:Zn})=>Zn)))},(0,he.pluralize)(dv(Hn),"new reply")),(0,e.h)("div",{className:"comment-list-items"},Kn.map(Zn=>(0,e.h)(iA,{banComment:()=>qn(Zn),key:`cmt-${Zn.id}`,user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:f,comment:Zn,parent:ze,reaction_token:k,collapseAtDepth:B,depth:W||0,onChange:q,replying:Yn===Zn.id,scrollRef:et,retainUserCollapseState:Me,onStartReply:dt,noHoverProfile:Et,onProfileClick:wt,hideContextMenu:xt,noRestack:Bt,updateCommentReacted:Re}))),cr.length>Kn.length&&(0,e.h)(gt.Z,{className:"collapsed-reply outline",onClick:()=>{vn(window.scrollY),pn(on+kt)}},"Load More"))}var fv=St(70444),vA=St(35442),ic=St(85200);function yA({publication:n,siteConfigs:t={},twitterCardUrl:r=null}){var i;const{title:f,description:x}=ac(n);let k,W;return r?(k=r,W=!0):[k,W]=Df(n,null),(0,b.setMetaData)({title:f,description:x,image:k,isLargeImage:W,pub:n,siteConfigs:t,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function ac(n,t,r){var i,f;let x;const k=!!(0,xi.default)("publication_author_display_override")&&String((0,xi.default)("publication_author_display_override"))||((i=(0,ic.Im)(n.contributors))==null?void 0:i.owner),W=k&&!((f=n.name)!=null&&f.toLowerCase().includes(k==null?void 0:k.toLowerCase())),B=t!=null?t:n.name;return W?x=`${B} | ${k} | Substack`:x=`${B} | Substack`,{title:x,description:mi()(pv(n,r))}}function pv(n,t){var r,i,f;const x=(r=n.name)==null?void 0:r.trim();let k=x;(0,he.endsWithPunctuation)(x)&&(k=`"${x}"`);const W=(0,ic.Im)(n.contributors);let B,q;return n.invite_only?(B=null,q=null):(B=(i=n.rankingDetailFreeIncluded)!=null&&i.toLowerCase().includes("readers")?n.rankingDetailFreeIncluded.toLowerCase():null,q=n.rankingDetailFreeIncluded||n.rankingDetail),(0,ic.ab)(t!=null?t:(f=n.hero_text)==null?void 0:f.trim(),W,B,k,q)}function If({publication:n,post:t,siteConfigs:r={},twitterCardUrl:i=null,isCommentPage:f=!1,selection:x=null}){const k=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||n.name,{title:W,description:B}=hv(t,n,{isCommentPage:f});let q,ye;i?(q=i,ye=!0):x?(q=(0,v.getPostSelectionPreviewUrl)(n,t,x),ye=!0):[q,ye]=Df(n,t);const Me=f&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,b.setMetaData)({title:W,socialTitle:k,searchDescription:t==null?void 0:t.search_engine_description,description:B,image:q,isLargeImage:ye,imageHeight:x&&564,imageWidth:x&&1128,seoProps:{noindex:Me,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:n,post:t,siteConfigs:r})}function hv(n,t,{isCommentPage:r=!1}={}){var i,f;const x=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||t.name;let k,W;n?W=(0,he.getPrintedByline)(t,n):W=(0,xi.default)("publication_author_display_override")||((i=(0,ic.Im)(t.contributors))==null?void 0:i.owner);const B=W&&!((f=t.name)!=null&&f.toLowerCase().includes(W==null?void 0:W.toLowerCase()));n!=null&&n.title?(k=(n==null?void 0:n.search_engine_title)||x,r&&n.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${W}`.length<60&&(W&&B&&(k+=` - by ${W}`),`${k} - ${t.name}`.length<60&&(k+=` - ${t.name}`))):B?k=`${t.name} | ${W} | Substack`:k=`${t.name} | Substack`;let q;return n?q=(0,he.postSocialDescription)(n,t):q=pv(t),q=mi()(q),{title:k,description:q}}function Df(n,t){let r,i;return t!=null&&t.cover_image?(r=(0,v.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(r=(0,v.imginary)("/img/numlock_square.png?v=2",840),i=!1):(r=(0,v.getTwitterSubscribeCardUrl)(n),i=!0),[r,i]}var bA=Object.defineProperty,mv=Object.getOwnPropertySymbols,PA=Object.prototype.hasOwnProperty,EA=Object.prototype.propertyIsEnumerable,_v=(n,t,r)=>t in n?bA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wA=(n,t)=>{for(var r in t||(t={}))PA.call(t,r)&&_v(n,r,t[r]);if(mv)for(var r of mv(t))EA.call(t,r)&&_v(n,r,t[r]);return n};function CA({comment:n,post:t,publication:r}){var i,f,x;const k=`${n.name} on Substack`,W=t&&r?hv(t,r,{isCommentPage:!0}).title:`${k}: "${(0,he.truncateText)(n.body,280)}"`,B=(i=n.attachments)==null?void 0:i.find(Je=>Je.type==="image"),q=B==null?void 0:B.imageUrl,ye=!1,Me=ye?680:void 0,Re=ye?680:void 0,ze=q!=null?q:ye?(0,Ze.imginary)((0,fv.IY)(n.id),Re,{height:Me}):(0,v.getUserPhotoUrl)(n),et=!ye||q?n.body:"Subscribe to see all their notes.";return(0,e.h)(vA.Metadata,wA({},{title:W,socialTitle:k,description:et,image:ze,imageHeight:Me,imageWidth:Re,isLargeImage:!0,siteName:r?r.name:"Substack Notes",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((f=n.reaction_count)!=null?f:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((x=n.children_count)!=null?x:0)}]}))}var gv=St(49786),jl=St(69427),OA=Object.defineProperty,SA=(n,t,r)=>t in n?OA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,TA=(n,t,r)=>(SA(n,typeof t!="symbol"?t+"":t,r),r),IA=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class xf extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,M.j)(M.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,M.j)(M.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return IA(this,null,function*(){try{yield ie().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,b.getNetworkErrorMessage)(t))}})}render({className:t,pub:r,post:i,user:f,freeSignup:x,freeSignupEmail:k,isStatic:W,hidden:B,truncated:q,invisible:ye,post_reaction_token:Me,onChange:Re,showCta:ze=q,showUnsubscribeNotice:et,dataForEmailRender:Je={},showReactions:dt=!0,gap:Et=16}){typeof B!="boolean"&&(B=i.hidden);let wt,xt;B?(wt="Subscribe to view",xt=(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id})):(xt=(0,v.getPostUrl)(r,i,{noBase:!0}),i.type!=="thread"||q?wt=(0,he.getPostCtaText)(i):i.comment_count?wt=`View ${i.comment_count} comments`:wt="Reply");const Bt=W&&!this.context.isAmp;return(0,e.h)(Xr.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.i$,{width:"100%"},!ye&&!B&&(0,e.h)(oe,{onVisible:()=>this.onTopReached()}),(0,e.h)(Xr.i$,{gap:Et,width:"100%"},(0,e.h)(Ec,{pub:r,post:i,user:f,isStatic:W,freeSignup:x,freeSignupEmail:k,reaction_token:Me,allowEdit:!0,allowTruncate:q,showReactions:!!ze||dt,showShare:!1,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Re,showLabel:!0}),(0,e.h)(Gu,{user:f,freeSignup:x,freeSignupEmail:k,pub:r,post:i,html:!B&&!q&&i.body_html,isStatic:W,dataForEmailRender:Je},B?(0,e.h)("p",null,(0,e.h)("i",null,"This thread is only visible to paid subscribers of ",r.name)):q?(0,e.h)("p",null,i.description):null),ze?(0,e.h)("a",{className:"thread-head-cta",href:xt,native:!0},wt," \u2192"):B&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,v.getSubscribeUrl)(r,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id}),className:"button primary subscribe-btn",native:!W},(0,he.getSubscribeText)(r)),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:r.subdomain}),className:"button",native:!0},"Sign in"))),Bt&&(0,e.h)(Xr.i$,{gap:Et,style:{width:"100%"}},(0,e.h)(Xr.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ei.Substitutions.HALF_MAGIC_COMMENTS_URL},"See the discussion")),(0,e.h)(Ho.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:dt},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),et&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},"Email notifications are disabled for this thread."," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},"Re-enable")),!ye&&!B&&(0,e.h)(oe,{onVisible:()=>this.onBottomReached()})))))}}TA(xf,"contextType",zd.E);class DA extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Mf=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var xA=Object.defineProperty,MA=Object.defineProperties,AA=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,NA=Object.prototype.hasOwnProperty,RA=Object.prototype.propertyIsEnumerable,yv=(n,t,r)=>t in n?xA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LA=(n,t)=>{for(var r in t||(t={}))NA.call(t,r)&&yv(n,r,t[r]);if(vv)for(var r of vv(t))RA.call(t,r)&&yv(n,r,t[r]);return n},BA=(n,t)=>MA(n,AA(t));const kA=n=>(0,e.h)(N.l,BA(LA({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var UA=Object.defineProperty,FA=(n,t,r)=>t in n?UA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jA=(n,t,r)=>(FA(n,typeof t!="symbol"?t+"":t,r),r);class WA extends e.Component{constructor(){super(...arguments),jA(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:r,pub:i}){const f=(0,xi.default)("like_comments_enabled");return(0,e.h)("div",{className:d()("comments-page-sort-controls",{loading:r})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Ni.Sh)(t)),(0,e.h)(kA,{height:"6"})),(0,e.h)(Fi.ZP,{className:"comments-page-sort-menu-dropdown",ref:x=>this.sortMenuRef=x},(0,Ni.Hz)({likesEnabled:f}).map(({key:x,text:k})=>(0,e.h)(qt.Z,{className:t===x?"selected":"",onClick:()=>this.onSortCommentsClicked(x)},k)))))}}const bv=WA;var HA=Object.defineProperty,VA=Object.defineProperties,KA=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,$A=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,Af=(n,t,r)=>t in n?HA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Nf=(n,t)=>{for(var r in t||(t={}))$A.call(t,r)&&Af(n,r,t[r]);if(Pv)for(var r of Pv(t))zA.call(t,r)&&Af(n,r,t[r]);return n},GA=(n,t)=>VA(n,KA(t)),Ev=(n,t,r)=>(Af(n,typeof t!="symbol"?t+"":t,r),r),Wl=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const ZA=30*1e3;class YA extends e.Component{constructor(t,r){super(t,r),Ev(this,"modalRef",(0,e.createRef)(null)),Ev(this,"onWindowVisibilityChange",()=>{(0,b.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Wl(this,null,function*(){var t;if((0,b.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const r=this.props.matches.feedCommentUrl,i=new URL(location.toString());i.searchParams.delete("feedCommentUrl"),history.replaceState({},"",i),this.props.popToast(f=>(0,e.h)(Jt.FN,GA(Nf({},f),{text:"Note Shared.",cta:"View Now",href:r})),{ttl:1e4})}})}componentWillUnmount(){(0,b.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,r){return Wl(this,null,function*(){if(t.slug!==this.props.slug||r.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,b.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,Ni.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,M.j)(M.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,he.canSeeComments)(this.props.user,t))&&(0,M.j)(M.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve(ie().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),ZA)}loadPost(){return Wl(this,null,function*(){if(this.state.comments&&!(0,b.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let r;this.state.comments&&(r=null,(0,Ni.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!r||i.date>r)&&(r=i.date)}));try{const i=this.props.slug,f=this.state.sort,x={token:this.props.post_reaction_token||"",all_comments:!0,sort:f,last_comment_at:r};this.state.post&&this.props.commentId&&(x.comment_id=this.props.commentId);const k=yield ie().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(x);if(this.setState({loading:!1}),i!==this.props.slug||f!==this.state.sort)return;let W=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(W=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,b.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:W}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,b.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,b.scrollToHash)(),(0,b.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:Ll(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,M.j)(M.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){var r;const{publication:i}=this.props;return((r=(i==null?void 0:i.parent_publication)||i)==null?void 0:r.subdomain)===t}render({slug:t,user:r,freeSignup:i,freeSignupEmail:f,publication:x,post_reaction_token:k,inline:W,commentId:B,selectionFromQuery:q,freeTrialCoupon:ye,show_reaction_upsell:Me,bannedFromNotes:Re},{sort:ze,post:et,comments:Je,notAllowedToFetchComments:dt,reactionSigninComment:Et}){if(!et||!x.community_enabled)return!W&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(DA,null)));const wt=x.community_enabled&&et&&et.write_comment_permissions!=="none",xt=dt||wt&&!(0,he.canSeeComments)(r,et),Bt=(kt,on)=>Wl(this,null,function*(){return Cv({user:r,reactionToken:k,comments:Je,id:kt,reacted:on,setComments:pn=>this.setState({comments:pn}),onNeedsSignin:pn=>new Promise(En=>this.setState({reactionSigninComment:pn},()=>this.modalRef.current.open(En)))})});return(0,e.h)("div",{className:"comments-page"},B&&(Je==null?void 0:Je.length)>0?(0,e.h)(CA,{comment:Je[0],post:et,publication:x}):(0,e.h)(If,{post:et,publication:x,isCommentPage:!this.props.inline,selection:q}),(0,e.h)(jl.ZP,{ref:this.shareDialogRef,user:r,pub:x,post:et,reaction_token:k}),!W&&!B&&(0,e.h)("div",{className:"container"},(0,e.h)(xf,{pub:x,post:Object.assign({},et,{comment_url_override:(0,v.getPostUrl)(x,et,{comments:!0})}),user:r,freeSignup:i,freeSignupEmail:f,hidden:!(0,he.isUUID)(t)&&et.hidden,truncated:et.type!=="thread",post_reaction_token:k,onChange:kt=>this.setState(kt),showUnsubscribeNotice:!0,gap:0},(0,e.h)("div",{className:"full-container-border"}))),xt&&(0,e.h)("div",{className:"container"},(0,e.h)(qu,{user:r,freeSignupEmail:f,freeSignup:i,publication:x,post:et,title:`Comments on this ${et.type==="podcast"?"episode":"post"} are for paid subscribers`,reauthenticationTitle:"To see the comments, please re-authenticate.",coupon:ye})),et.type==="thread"||(0,he.canSeeComments)(r,et)?(0,e.h)("div",{className:"container"},Je&&(0,e.h)("div",{className:"comments-heading"},(0,he.pluralize)(et.comment_count,"Comment",{zero_fallback:"Comments"})),Je&&Je.length>0&&!wt&&(0,e.h)(wv,{post:et}),wt&&(0,e.h)(Fl,{user:r,freeSignup:i,freeSignupEmail:f,pub:x,post:et,token:k,autoFocus:Gx(),onSuccess:kt=>this.setState({comments:[kt].concat(Je)}),bannedFromNotes:Re}),(!Je||Je.length>0)&&!dt&&!B&&(0,e.h)(bv,{sort:ze,loading:!Je,onSortSelected:kt=>this.onSortSelected(kt),pub:x}),B&&Je&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,v.getPostUrl)(x,et,{comments:!0,commentId:B,highlightComment:!0})},"\u2B60 Return to thread"),!Je&&!dt?[(0,e.h)(Mf,null),(0,e.h)(Mf,null)]:Je.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(oc,{key:`post:${et.id}`,user:r,freeSignup:i,freeSignupEmail:f,pub:x,post:et,comments:Je,reaction_token:k,depth:0,collapseAtDepth:W?10:Je.length>3&&ze==="most_recent_first"?mA:hA,onChange:kt=>this.onChange(kt),pageSize:W||this._isPub("astralcodexten")?gA:et.type==="thread"?_A:cv,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Bt,noRestack:!0}))]:null):null,Et&&(0,e.h)(vs.oq,{comment:Et,pub:x,user:r,react:()=>Bt(Et.id,!0),modalRef:this.modalRef}),Me?(0,e.h)(gv.hF,{pub:x}):null)}}const Rf=(0,Jt.dd)(YA),wv=({post:n})=>(0,e.h)("div",{className:"locked-comments"},"Commenting has been turned off for this ",(0,he.getPrintedPostType)(n.type));function Cv(n){return Wl(this,arguments,function*({user:t,reactionToken:r,comments:i,id:f,reacted:x,setComments:k,onNeedsSignin:W}){var B;const q=Wg(f,i);if(!q)return;const ye=Nf({},q);(0,vs.E6)(t,ye,x),k(Ll(i.slice(0),ye));try{yield(0,vs.xl)(ye,!0,x,r)}catch(Me){if((0,vs.E6)(t,ye,!x),k(Ll(i.slice(0),Nf({},ye))),((B=Me.response)==null?void 0:B.statusCode)!==401){alert((0,b.getNetworkErrorMessage)(Me));return}yield W({comment:ye})}})}const JA=({comments:n,expectedCommentCount:t,inputRef:r,post:i,pub:f,sort:x,token:k,user:W,onAddComment:B,onUpdateComment:q,onUpdateSort:ye})=>(0,he.canSeeComments)(W,i)?(0,e.h)("div",null,(0,e.h)(Fl,{ref:r,formClassName:"tw-m-0",user:W,pub:f,post:i,token:k,onSuccess:B}),t>0&&(0,e.h)(bv,{sort:x,loading:!n,onSortSelected:ye,pub:f}),n?(0,e.h)(oc,{comments:n,post:i,pub:f,reaction_token:k,user:W,onChange:q,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},gx()(Math.min(t,5),()=>(0,e.h)(Mf,null)))):(0,e.h)(qu,{user:W,publication:f,post:i,title:"Comments on this episode are for paid subscribers",reauthenticationTitle:"To see the comments, please re-authenticate."});var QA=St(91613),Ov=St(25597),XA=Object.defineProperty,qA=Object.defineProperties,e6=Object.getOwnPropertyDescriptors,Sv=Object.getOwnPropertySymbols,t6=Object.prototype.hasOwnProperty,n6=Object.prototype.propertyIsEnumerable,Tv=(n,t,r)=>t in n?XA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,r6=(n,t)=>{for(var r in t||(t={}))t6.call(t,r)&&Tv(n,r,t[r]);if(Sv)for(var r of Sv(t))n6.call(t,r)&&Tv(n,r,t[r]);return n},o6=(n,t)=>qA(n,e6(t));const Iv=n=>(0,e.h)(N.l,o6(r6({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function Dv({post:n,pub:t,user:r,showDate:i,showDatetime:f,isStatic:x,className:k,postReactionToken:W,onChange:B,allowEdit:q,hidePinning:ye,showEmailSent:Me,allowSendEmail:Re,allowMobileFooter:ze,reactors:et,onCommentsClick:Je,useWashBackground:dt,showRestackModal:Et,setFooterShown:wt}){const xt=(0,P.isMobile)({checkFirst4:!0}),Bt=typeof window=="undefined",kt=(0,Rt.xR)(),on=(0,he.getBylineUsers)(n),pn=f?Bn()(n.post_date).standardDatetime():x?Bn()(n.post_date).standardDate():Bn()(n.post_date).standardDateOrTime(),{getSettingFor:En}=(0,De.So)(),vn=t.bylines_enabled&&(0,he.getPrintedByline)(t,n)&&n.type!=="podcast",hn=vn&&t.byline_images_enabled&&on.some(({photo_url:Hn})=>!!Hn),qn=n.type!=="page",Yn=xt&&hn&&on.length>2,$n=(t==null?void 0:t.community_enabled)&&n.slug&&!n.is_draft&&(0,he.showCommentsOnPost)({publication:t,post:n}),yn=vn&&on.length===1&&on[0].is_guest&&on[0].primaryPublicationSubscribeUrl&&on[0].primaryPublicationId!==t.id&&!t.parent_publication&&!n.is_draft&&!(0,xi.default)("dont_show_guest_byline"),mn=(0,he.oxfordComma)(on.map(Hn=>x?(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(Hn,t,{base:x}),onClick:Kn=>Kn.stopPropagation()},Hn.name):(0,e.h)(Ye.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(sa.Ct,{subject:Hn,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(Hn,t,{base:x}),onClick:Kn=>Kn.stopPropagation()},Hn.name)),!x&&(0,e.h)(ai.s,{tier:Hn.bestseller_tier,size:"sm",userId:Hn.id})))),cr=!n.is_draft&&(0,QA.x)(r,{enable_restacking:!!En("enable_restacking")},n,t,x);return(0,e.h)("div",{className:d()("post-subheader",k)},(0,e.h)("div",{className:d()("left",{vertical:Yn})},hn&&(x?(0,e.h)(Rl.Pn,{pub:t,post:n}):(0,e.h)(Rl.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:on.map(({id:Hn,name:Kn,photo_url:Zn})=>({id:Hn,name:Kn,photo_url:Zn})),faceUtmSource:"author-byline-face",elevated:dt})),(0,e.h)("div",{className:"label-stack"},vn&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},mn)),yn&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:on[0].primaryPublicationUrl,title:on[0].primaryPublicationName},on[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:on[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(Iv,{className:"audience-icon adhoc-email-icon",height:16,isStatic:x}):qn&&(0,xe.isPaidAudience)(n.audience)&&(0,e.h)(Ov.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:x,thin:!0}),(i||f)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:Bn()(n.post_date).toISOString()},pn),n.is_draft&&(i||f)&&"Draft"))),(0,e.h)("div",{className:"right"},xt&&!Bt&&ze&&(0,e.h)(Ho.mt,{post:n,pub:t,user:r,isStatic:x,onChange:B,allowEdit:q,hidePinning:ye,showEmailSent:Me,allowSendEmail:Re,hideComments:!$n,onCommentsClick:Je,showRestackButton:cr,showRestackModal:Et,setFooterShown:wt}),!xt&&(0,e.h)(Ho._2,{post:n,pub:t,user:r,isStatic:x,style:"button",onChange:B,allowEdit:q,hidePinning:ye,showEmailSent:Me,allowSendEmail:Re,labelStyle:"counts-or-none",hideComments:!$n,onCommentsClick:Je,position:"post-header",showRestackButton:cr,showRestackModal:Et})))}const i6=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(wl,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var a6=St(71212),s6=St(22939),l6=St(99758),u6=Object.defineProperty,c6=Object.defineProperties,d6=Object.getOwnPropertyDescriptors,xv=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,p6=Object.prototype.propertyIsEnumerable,Mv=(n,t,r)=>t in n?u6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h6=(n,t)=>{for(var r in t||(t={}))f6.call(t,r)&&Mv(n,r,t[r]);if(xv)for(var r of xv(t))p6.call(t,r)&&Mv(n,r,t[r]);return n},m6=(n,t)=>c6(n,d6(t));const Av=n=>(0,e.h)(N.l,m6(h6({},n),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var _6=Object.defineProperty,g6=Object.defineProperties,v6=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,Nv=Object.prototype.hasOwnProperty,Rv=Object.prototype.propertyIsEnumerable,Lv=(n,t,r)=>t in n?_6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,y6=(n,t)=>{for(var r in t||(t={}))Nv.call(t,r)&&Lv(n,r,t[r]);if(sc)for(var r of sc(t))Rv.call(t,r)&&Lv(n,r,t[r]);return n},b6=(n,t)=>g6(n,v6(t)),P6=(n,t)=>{var r={};for(var i in n)Nv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&sc)for(var i of sc(n))t.indexOf(i)<0&&Rv.call(n,i)&&(r[i]=n[i]);return r};const E6=n=>{var t=n,{strokeWidth:r=1.5}=t,i=P6(t,["strokeWidth"]);return(0,e.h)(N.l,b6(y6({},i),{strokeWidth:r,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var Bv=St(46209);const kv=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:n=>{document.location.href=`itpc://${(0,v.stripProtocol)(n)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:n=>{document.location.href=`podcast://${(0,v.stripProtocol)(n)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:n=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(n).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:n=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(n)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:n=>{document.location.href=`pktc://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:n=>{document.location.href=`downcast://${(0,v.stripProtocol)(n)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:n=>{document.location.href=`podcastaddict://${(0,v.stripProtocol)(n)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:n=>{(0,b.copyToClipboard)(n),document.location.href=`castros://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:n=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(n)}`}}],Uv=({className:n,pub:t,utmSource:r})=>{const i=typeof window!="undefined"?window.location.href:"",f=(0,Ze.getSubscribeUrl)(t,{params:{utm_source:r,simple:!0,next:i}});return(0,e.h)(gt.Z,{className:d()("primary tw-text-sm tw-font-semibold",n),href:f},(0,he.getSubscribeText)(t))};var w6=Object.defineProperty,lc=Object.getOwnPropertySymbols,Fv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,Wv=(n,t,r)=>t in n?w6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hv=(n,t)=>{for(var r in t||(t={}))Fv.call(t,r)&&Wv(n,r,t[r]);if(lc)for(var r of lc(t))jv.call(t,r)&&Wv(n,r,t[r]);return n},C6=(n,t)=>{var r={};for(var i in n)Fv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&lc)for(var i of lc(n))t.indexOf(i)<0&&jv.call(n,i)&&(r[i]=n[i]);return r},O6=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const S6=St(39776),T6=["Podcast Addict"],I6=["Apple Podcasts"],D6=["Apple Podcasts"],x6=[],M6="hide_media_download_option",A6="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",N6=({feedUrl:n,post:t,pub:r,sectionId:i,hasAccessToPrivatePodcastFeed:f,fileSrc:x})=>{const[k,W]=(0,o.eJ)(!1),[B,q]=(0,s6.E)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:d()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",k?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:q},(0,e.h)("span",{className:"sm:tw-hidden"},"Open in player"),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),(0,e.h)(l6.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(R6,{feedUrl:n,menuRef:B,post:t,pub:r,sectionId:i,onToggle:W,hasAccessToPrivatePodcastFeed:f,fileSrc:x}))},R6=({feedUrl:n,menuRef:t,post:r,pub:i,sectionId:f,onToggle:x,hasAccessToPrivatePodcastFeed:k,fileSrc:W})=>{const B=(0,b.isMobileBrowser)(),q=()=>{(0,M.j)(M.FP.PODCAST_FEED_URL_COPIED),(0,b.copyToClipboard)(n),alert("Copied")},ye=()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:n}),document.location.href=(0,v.getPostAppLinkUrl)(i==null?void 0:i.subdomain,r==null?void 0:r.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return(0,e.h)(Fi.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Me})=>{(0,M.j)(M.FP.PODCAST_LISTEN_ON_CLICKED),x(Me)}},B?(0,e.h)(L6,{feedUrl:n,pub:i,onCopyFeed:q,onClickSubstackApp:ye,hasAccessToPrivatePodcastFeed:k,fileSrc:W}):(0,e.h)(B6,{feedUrl:n,pub:i,sectionId:f,onCopyFeed:q,onClickSubstackApp:ye,hasAccessToPrivatePodcastFeed:k,fileSrc:W}))},Vv=({fileSrc:n})=>S6.getConfigFor(M6)?null:(0,e.h)(Hl,{onClick:()=>{(0,b.downloadSrc)((0,v.updateQuery)(n,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(a6.Z,null)),(0,e.h)("span",null,"Download MP3")),L6=({feedUrl:n,pub:t,onCopyFeed:r,onClickSubstackApp:i,hasAccessToPrivatePodcastFeed:f,fileSrc:x})=>{var k;return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),(0,b.isIOs)()&&(0,e.h)(Hl,{onClick:i},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Bv.Z,null)),(0,e.h)("span",null,"Substack App")),n&&kv.filter(W=>(0,b.isIOs)()?I6.includes(W.name):T6.includes(W.name)).map(({name:W,icon:B,onClick:q})=>(0,e.h)(Hl,{key:W,onClick:()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:W,feedUrl:n}),q(n)}},(0,e.h)("img",{src:B,alt:`${W} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},W))),(0,e.h)(Vv,{fileSrc:x}),n?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",(0,e.h)(cc,null)),(0,e.h)("div",null,(0,e.h)(uc,{className:"tw-w-full",onClick:r},(0,e.h)(Av,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Copy link")))):f?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Kv,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(k=t.podcast_title)!=null?k:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",(0,e.h)(cc,null)),(0,e.h)(Uv,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},B6=({feedUrl:n,pub:t,sectionId:r,onCopyFeed:i,onClickSubstackApp:f,hasAccessToPrivatePodcastFeed:x,fileSrc:k})=>{var W;const[B,q]=(0,o.eJ)(!1),[ye,Me]=(0,o.eJ)(null),Re=()=>O6(void 0,null,function*(){try{(0,M.j)(M.FP.PODCAST_EMAIL_LINK_CLICKED),yield ie().post("/api/v1/subscription/send_podcast_email").send({section_id:r}),alert("Email sent"),q(!0)}catch(ze){console.error("Failed to send podcast setup email:",ze),Me(ze)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(Hl,{onClick:f},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Bv.Z,null)),(0,e.h)("span",null,"Substack App")),n&&kv.filter(ze=>(0,b.isMac)()?D6.includes(ze.name):x6.includes(ze.name)).map(({name:ze,icon:et,onClick:Je})=>(0,e.h)(Hl,{key:ze,onClick:()=>{(0,M.j)(M.FP.PODCAST_APP_LINK_CLICK,{appName:ze,feedUrl:n}),Je(n)}},(0,e.h)("img",{src:et,alt:`${ze} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},ze))),(0,e.h)(Vv,{fileSrc:k})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},n?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",(0,e.h)(cc,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(uc,{onClick:i},(0,e.h)(Av,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,"Copy link")),(0,e.h)(uc,{onClick:Re,disabled:B},(0,e.h)(E6,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Email link"))),ye&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,b.getNetworkErrorMessage)(ye))):x?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(Kv,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",(W=t.podcast_title)!=null?W:"this podcast"," to get a private link for listening in your favorite podcast player. ",(0,e.h)(cc,null)),(0,e.h)(Uv,{pub:t,utmSource:"podcast_post_listen_on"}))))},Hl=n=>{var t=n,{children:r,href:i}=t,f=C6(t,["children","href"]);const x="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return i?(0,e.h)("a",Hv({className:d()("tw-no-underline",x),href:i},f),r):(0,e.h)("div",Hv({className:d()("tw-cursor-pointer",x),role:"button"},f),r)},uc=({children:n,className:t="",disabled:r=!1,onClick:i})=>(0,e.h)(gt.Z,{className:d()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:i,disabled:r},n),cc=()=>(0,e.h)("a",{href:A6,target:"_blank",rel:"noopener noreferrer",className:"tw-text-pub-accent"},"Learn about RSS."),Kv=({pub:n})=>(0,e.h)(uc,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(qt.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,v.getPodcatcherSetupUrl)(n),onClick:()=>{}},"Set up feed")),k6=N6;var U6=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const F6=({isFreeSubscribed:n,isSubscribed:t,pub:r,post:i,magicToken:f,onGetDuration:x,isPreview:k})=>{const[W,B]=(0,o.eJ)(null);return(0,o.d4)(()=>{if(!t&&!n)return;(()=>U6(void 0,null,function*(){const ye=yield ie().get("/api/v1/subscription/podcast_rss_url").query({token:f,section_id:i.section_id});ye.body.podcast_rss_url&&B(ye.body.podcast_rss_url)}))()},[n,t,f]),(0,e.h)(ks,{feature:"Podcast",pub:r,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:x,render:({currentTime:q,isPlaying:ye,progress:Me,progressBarRef:Re,progressBarOnMouseDown:ze,remainingTime:et,playbackRate:Je,setPlaybackRate:dt,skipBack:Et,skipForward:wt,togglePlayback:xt})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(aT,{isPlaying:ye,onSkipBack:Et,onSkipForward:wt,onTogglePlayback:xt}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(Wd,{onSetPlaybackRate:dt,playbackRate:Je,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(jd,{currentTime:q,remainingTime:et,containerRef:Re,progress:Me,onMouseDown:ze}),k?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(k6,{feedUrl:W,post:i,pub:r,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:t||n,fileSrc:i.podcast_url}))})},j6=({expiry:n,podcastName:t,pub:r,postId:i})=>{const f=Bn()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",f,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(aa.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,v.getSubscribeUrl)(r,{utm_source:"continue_your_support",utm_medium:"web",utm_content:i,simple:!0,next:document.location.href})},"Continue your support"))},W6=({freeSignupEmail:n,pub:t,source:r,user:i,onSuccess:f})=>{const x=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(Pr.Z,{user:i,pub:t,freeSignupEmail:n,source:r,onSuccess:f,hideLogin:!0,hideTerms:!0,useSubscribeLink:x,submitButtonText:(0,he.getSubscribeText)(t)}))},Lf="podcast_post_header",H6=({freeSignupEmail:n,isFreeSubscribed:t,pub:r,user:i})=>{const[f,x]=(0,o.eJ)(!1),[k,W]=(0,o.eJ)(!1),B=(0,o.sO)(null),q=r.section?r.section.description:r.podcast_description,ye=Re=>{if(r.plans){let ze=(0,v.getSubscribeUrl)(r,{just_signed_up:!0});Re.body.prompt_to_login&&(ze=`/account/login?redirect=${encodeURIComponent(ze)}&email=${encodeURIComponent(Re.body.email)}`),document.location.href=ze}else window.location.reload()},Me=(0,o.I4)(()=>{x(!f)},[x,f]);return(0,o.bt)(()=>{const Re=()=>{const et=B.current&&B.current.scrollHeight>B.current.clientHeight;W(f||et)};Re();const ze=(0,b.debounce)(Re);return window.addEventListener("resize",ze),()=>{window.removeEventListener("resize",ze)}},[W,B,f]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},q&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:B,"data-testid":"podcast-description",className:d()({"podcast-description--clamped":!f})},q),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:Me},!f&&(0,e.h)("span",null,"show more"),f&&(0,e.h)("span",null," show less"))),t?(0,e.h)(gt.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Lf}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,he.getSubscribeText)(r,{isFreeSubscribed:!0})):(0,b.isMobileBrowser)()?(0,e.h)(gt.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Lf,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,he.getSubscribeText)(r)):(0,e.h)(W6,{freeSignupEmail:n,pub:r,source:Lf,user:i,onSuccess:ye}))},V6={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou"},K6=({freeSignupEmail:n,isFreeSignup:t,isPaywall:r,post:i,pub:f,magicToken:x,user:k,onChange:W,onClickCommentButton:B,onTopReached:q})=>{var ye;const[Me,Re]=(0,o.eJ)((ye=i.podcast_duration)!=null?ye:0),ze=Bt=>{Re(Bt)},et=!!(k!=null&&k.is_subscribed),Je=!!(t||k!=null&&k.is_free_subscribed),dt=!Je||!et&&!!f.plans,Et=et&&(k==null?void 0:k.subscription_type)==="comp"&&Bn()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),wt=Je&&!et&&(k==null?void 0:k.comp_expired_recently),xt=(0,he.getBylineUsers)(i).sort((Bt,kt)=>Bt.id===f.author_id?-1:kt.id===f.author_id?1:Bt.is_guest&&!kt.is_guest?-1:!Bt.is_guest&&kt.is_guest?1:(Bt.name||"").localeCompare(kt.name||""));return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)("div",{className:"container"},(0,e.h)($6,{post:i,podcastDuration:Me}),(0,e.h)(Dv,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:x,pub:f,showDate:!0,showDatetime:!1,user:k,onChange:W,onCommentsClick:B,useWashBackground:!0}),(0,e.h)(oe,{onVisible:q}),r&&!(0,fa.podcastPostIsFreePreview)(i)?(0,e.h)(i6,{post:i}):(0,e.h)(F6,{isFreeSubscribed:Je,isSubscribed:et,post:i,pub:f,magicToken:x,onGetDuration:ze,isPreview:(0,fa.podcastPostIsFreePreview)(i)}),f.bylines_enabled&&xt&&xt.length?(0,e.h)(Ye.hs,{direction:"column",gap:24,paddingTop:24},(0,e.h)(rt.xv.H4,{color:"pub-primary-text"},"Appears in this episode"),xt.map(Bt=>(0,e.h)(Ye.hs,{direction:"column",gap:24},(0,e.h)(Ye.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(Ye.hs,null,(0,e.h)(Rl.ZP,{className:V6.facepile,maximum:1,hoverProfiles:!0,faces:[Bt],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(Ye.hs,{direction:"column"},(0,e.h)(Ye.gq,{gap:4,alignItems:"center"},(0,e.h)(rt.xv.B4,{color:"pub-primary-text",weight:"bold"},Bt.name),(0,e.h)(ai.s,{userId:Bt.id,tier:Bt.bestseller_tier,size:"sm"})),Bt.primaryPublicationName&&(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},Bt.primaryPublicationUrl?(0,e.h)(e.Fragment,null,"Writes ",(0,e.h)("a",{style:{textDecoration:"none"},href:Bt.primaryPublicationUrl},Bt.primaryPublicationName)," ",(0,e.h)("a",{href:`${Bt.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${Bt.primaryPublicationName}`)))))):null,Et||wt?(0,e.h)(j6,{expiry:k.subscription_expiry,postId:i.id,podcastName:f.podcast_title,pub:f}):dt?(0,e.h)(H6,{freeSignupEmail:n,isFreeSubscribed:Je,pub:f,user:k}):null))};function $6({post:n,podcastDuration:t}){return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,Ze.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?Bn()(n.post_date).standardDate():Bn()().standardDate(),t>0&&` \u2022 ${(0,he.formatPodcastDuration)(t)}`),n.title&&(0,e.h)("h1",{className:d()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:d()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function jH({post:n,pub:t,user:r,isPaywall:i}){const f=!!(r!=null&&r.is_subscribed),x=!!(r.is_subscribed||r.is_free_subscribed),k="";return i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:x,isSubscribed:f,post:n,pub:t,magicToken:k,isPreview:podcastPostIsFreePreview(n)})}const z6=(0,Po.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),G6=({label:n,icon:t,isActive:r=!1,onClick:i,padding:f="tw-py-6 tw-px-4",useSubstackTheme:x=!1,isDisabled:k=!1})=>(0,e.h)("div",{className:d()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",f,{"tw-cursor-pointer":!k||r,"tw-cursor-not-allowed tw-opacity-50":k&&!r,"tw-border-b-pub-primary-text tw-text-pub-primary-text":r&&!x,"tw-text-pub-secondary-text":!r&&!x,"tw-border-b-substack-primary tw-text-substack-primary":r&&x,"tw-text-substack-secondary":!r&&x,"hover:tw-bg-pub-wash":!x&&!r&&!k,"hover:tw-bg-substack-wash":x&&!r&&!k}),disabled:k,onClick:k?()=>{}:i,role:"button"},typeof t=="function"?t({active:r}):t,(0,e.h)("span",null,n)),Z6=({items:n,onSelect:t,activeTab:r,tabPadding:i,useSubstackTheme:f=!1,className:x})=>(0,e.h)("div",{className:d()("tw-flex",x)},n.map(({key:k,icon:W,label:B,isDisabled:q})=>(0,e.h)(G6,{isActive:k==r,icon:W,onClick:()=>{t(k)},padding:i,label:B,useSubstackTheme:f,isDisabled:q}))),Y6=({activeTab:n,commentCount:t,onClickTab:r,loadedWithHeaderLink:i})=>{const[f,x]=(0,o.eJ)(i);return(0,o.d4)(()=>{if(typeof window=="undefined"||f){x(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container"},(0,e.h)(Z6,{items:[{key:"details",icon:(0,e.h)(z6,{height:18}),label:"Episode details"},{key:"comments",icon:({active:k})=>(0,e.h)(td.Z,{className:d()("tw-fill-transparent",k?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?"Comments":t===1?"1 comment":`${t} comments`}],onSelect:r,activeTab:n})))},J6=({children:n,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),Q6=({post:n,compAlreadyExpired:t=!1})=>{const r=`${Ei.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ei.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(J6,{href:r},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var dc=St(43498);const Vl={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var X6=Object.defineProperty,q6=Object.defineProperties,eN=Object.getOwnPropertyDescriptors,$v=Object.getOwnPropertySymbols,tN=Object.prototype.hasOwnProperty,nN=Object.prototype.propertyIsEnumerable,zv=(n,t,r)=>t in n?X6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rN=(n,t)=>{for(var r in t||(t={}))tN.call(t,r)&&zv(n,r,t[r]);if($v)for(var r of $v(t))nN.call(t,r)&&zv(n,r,t[r]);return n},oN=(n,t)=>q6(n,eN(t));const iN=({postType:n,crossPostInfo:{introText:t,crossPostedPub:r,crossPostingByLine:i}})=>{const f=i[0];return(0,e.h)(Ye.tu,{className:d()(Vl.container,n==="podcast"&&Vl.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(Ye.hs,{className:Vl.attribution,gap:4,alignItems:"center"},(0,e.h)(dc.Z,{className:Vl.icon,height:16})," ",(0,e.h)(rt.xv.Meta,{color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:Vl.pub,href:(0,Ze.getBaseUrl)(r)},r.name))),(0,e.h)(rt.xv.B2,null,t," - ",(0,e.h)(md.default,oN(rN({},f),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var aN=Object.defineProperty,sN=Object.defineProperties,lN=Object.getOwnPropertyDescriptors,fc=Object.getOwnPropertySymbols,Gv=Object.prototype.hasOwnProperty,Zv=Object.prototype.propertyIsEnumerable,Yv=(n,t,r)=>t in n?aN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uN=(n,t)=>{for(var r in t||(t={}))Gv.call(t,r)&&Yv(n,r,t[r]);if(fc)for(var r of fc(t))Zv.call(t,r)&&Yv(n,r,t[r]);return n},cN=(n,t)=>sN(n,lN(t)),dN=(n,t)=>{var r={};for(var i in n)Gv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fc)for(var i of fc(n))t.indexOf(i)<0&&Zv.call(n,i)&&(r[i]=n[i]);return r};const Bf=n=>{var t=n,{stroke:r="black"}=t,i=dN(t,["stroke"]);return(0,e.h)(N.l,cN(uN({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:r,"stroke-linejoin":"round"}))};var fN=Object.defineProperty,pN=Object.defineProperties,hN=Object.getOwnPropertyDescriptors,pc=Object.getOwnPropertySymbols,Jv=Object.prototype.hasOwnProperty,Qv=Object.prototype.propertyIsEnumerable,Xv=(n,t,r)=>t in n?fN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mN=(n,t)=>{for(var r in t||(t={}))Jv.call(t,r)&&Xv(n,r,t[r]);if(pc)for(var r of pc(t))Qv.call(t,r)&&Xv(n,r,t[r]);return n},_N=(n,t)=>pN(n,hN(t)),gN=(n,t)=>{var r={};for(var i in n)Jv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&pc)for(var i of pc(n))t.indexOf(i)<0&&Qv.call(n,i)&&(r[i]=n[i]);return r};const qv=n=>{var t=n,{stroke:r="black",height:i=19,width:f=19}=t,x=gN(t,["stroke","height","width"]);return(0,e.h)(N.l,_N(mN({},x),{name:"VideoIcon",svgParams:{height:i,width:f,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:r}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:r}),(0,e.h)("path",{d:"M8 4L11 7",stroke:r}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:r})))};var kf=St(50615),vN=St(12297),yN=St.n(vN),bN=Object.defineProperty,PN=Object.defineProperties,EN=Object.getOwnPropertyDescriptors,e1=Object.getOwnPropertySymbols,wN=Object.prototype.hasOwnProperty,CN=Object.prototype.propertyIsEnumerable,t1=(n,t,r)=>t in n?bN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ON=(n,t)=>{for(var r in t||(t={}))wN.call(t,r)&&t1(n,r,t[r]);if(e1)for(var r of e1(t))CN.call(t,r)&&t1(n,r,t[r]);return n},SN=(n,t)=>PN(n,EN(t));const n1=n=>(0,e.h)(N.l,SN(ON({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var TN=Object.defineProperty,IN=Object.defineProperties,DN=Object.getOwnPropertyDescriptors,hc=Object.getOwnPropertySymbols,r1=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable,i1=(n,t,r)=>t in n?TN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xN=(n,t)=>{for(var r in t||(t={}))r1.call(t,r)&&i1(n,r,t[r]);if(hc)for(var r of hc(t))o1.call(t,r)&&i1(n,r,t[r]);return n},MN=(n,t)=>IN(n,DN(t)),AN=(n,t)=>{var r={};for(var i in n)r1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&hc)for(var i of hc(n))t.indexOf(i)<0&&o1.call(n,i)&&(r[i]=n[i]);return r};const NN=n=>{var t=n,{color:r="#B6B6B6",height:i=18}=t,f=AN(t,["color","height"]);return(0,e.h)(N.l,MN(xN({},f),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:r,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:r,stroke:r}))};var RN=St(15440);const a1=(0,Po.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var LN=Object.defineProperty,BN=Object.defineProperties,kN=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,UN=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable,l1=(n,t,r)=>t in n?LN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jN=(n,t)=>{for(var r in t||(t={}))UN.call(t,r)&&l1(n,r,t[r]);if(s1)for(var r of s1(t))FN.call(t,r)&&l1(n,r,t[r]);return n},WN=(n,t)=>BN(n,kN(t));const HN=n=>(0,e.h)(N.l,WN(jN({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(a1,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var VN=St(11762),KN=St(11628);class $N extends e.Component{onShare(t){this.props.position&&(0,M.j)(M.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:r,user:i,pub:f,post:x,reaction_token:k,height:W,onChange:B,isStatic:q,children:ye,sharedShareDialog:Me,noIcon:Re}){let ze;return x.share_url_override?ze=x.share_url_override:q?x?ze=Ei.Substitutions.SHARE_URL:ze=Ei.Substitutions.SHARE_PUB_URL:ze="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:ze,onClick:et=>this.onShare(et),className:r},!Re&&(0,e.h)(KN.Z,{className:"recommend-icon post-meta-icon",isStatic:q,height:W,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:q?1:1.5}),ye),!q&&!Me&&(0,e.h)(jl.ZP,{ref:et=>this.modal=et,user:i,pub:f,post:x,reaction_token:k,onChange:B}))}}const zN=({children:n,content:t,baseRef:r=void 0,portalClass:i="",className:f="",style:x=void 0})=>{const k=(0,o.sO)(null),W=(0,o.sO)(null);return t?(0,e.h)("div",{ref:k,className:f,style:x},n,(0,e.h)(Qg,{baseRef:r||k,hoverToggle:!0,onOpen:()=>{var B;return(B=W.current)==null?void 0:B.open()},onClose:()=>{var B;return(B=W.current)==null?void 0:B.close()},className:i},(0,e.h)(Fi.Fx,{ref:W,noList:!0,className:"explanation"},t))):n};var GN=St(73413),ZN=Object.defineProperty,YN=Object.defineProperties,JN=Object.getOwnPropertyDescriptors,u1=Object.getOwnPropertySymbols,QN=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable,Uf=(n,t,r)=>t in n?ZN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ff=(n,t)=>{for(var r in t||(t={}))QN.call(t,r)&&Uf(n,r,t[r]);if(u1)for(var r of u1(t))XN.call(t,r)&&Uf(n,r,t[r]);return n},c1=(n,t)=>YN(n,JN(t)),qN=(n,t,r)=>(Uf(n,typeof t!="symbol"?t+"":t,r),r);const{getPaidOrFoundingTierNameForPost:e8}=St(6378),t8=46438;class n8 extends e.Component{constructor(t,r){if(super(t,r),qN(this,"withAuthorLine",(i,f)=>{const{pub:x,post:k,showAuthor:W,showPhoto:B}=i,q=k.type==="adhoc_email",ye=(0,he.getBylineUsers)(k).length,Me=ye===1,Re=Me&&(0,he.getBylineUsers)(k)[0],ze=Me&&Re.is_guest&&!(0,xi.default)("dont_show_guest_byline")&&!q,et=i.showDate||i.showDatetime,Je=!k.is_published&&!i.inThreadHead&&et&&!q,dt=i.isFreePreview&&i.showAudience&&et&&!q,Et=(0,xe.isFoundingAudience)(k.audience)&&i.showAudience&&!dt&&et&&!q,wt=(0,xe.isPaidAudience)(k.audience)&&i.showAudience&&!Et&&!dt&&et&&!q,xt=(0,Ho.F6)({pub:x,post:k,showAuthor:W,showPhoto:B});return(0,e.h)(Xr.YF,{width:"100%",className:d()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(Xr.i$,null,(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,{color:"primary",className:f0.A.postAuthor},ye>0?(0,he.oxfordComma)((0,he.getBylineUsers)(k).map(Bt=>(0,e.h)(rt.xv.Meta,{as:"a",href:(0,v.getProfileUrl)(Bt,x,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},Bt.name))):(0,he.getPrintedByline)(x,k))),(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,(i.showDate||i.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:Bn()(k.post_date).toISOString()},Bn()(k.post_date).standardDate())),wt&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,"\u2219"),(0,e.h)(rt.xv.Meta,{color:"accent-purple"},"Paid")),Et&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,"\u2219"),(0,e.h)(rt.xv.Meta,{color:"accent-purple"},e8(x,k))),dt&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,"\u2219"),(0,e.h)(rt.xv.Meta,{color:"accent-purple"},"Preview")),ze&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,"\u2219"),(0,e.h)(rt.xv.Meta,null,"Guest post")),Je&&(0,e.h)(Xr.zK,{gap:4},(0,e.h)(rt.xv.Meta,null,"\u2219"),(0,e.h)(rt.xv.Meta,null,"Draft"))))),xt&&(0,e.h)("td",{align:"right"},(0,e.h)(Xr.zK,{gap:4},ye>0&&(0,he.getBylineUsers)(k).map((Bt,kt)=>kt<4&&(0,e.h)("a",{href:(0,v.getProfileUrl)(Bt,x,{base:i.isStatic})},(0,e.h)(Xr.NS,{src:Bt.photo_url,size:ye>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const f=x=>{this.unmounted||this.setState({isMobileWidth:x.matches})};i.addEventListener?i.addEventListener("change",f):i.addListener&&i.addListener(f)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:r,showAuthor:i,showPhoto:f,fromPostPage:x}){return(0,Ho.F6)({pub:t,post:r,showAuthor:i,showPhoto:f})||(0,Ho.Cz)({pub:t,post:r,showAuthor:i})||(0,Ho.z5)({pub:t,post:r,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(o8,c1(Ff({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:x?"post-header-compact":"post-preview"}))}}const r8=({shouldShowFullWidthUfi:n,isMobileWidth:t,children:r})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},r):t?r:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},r),YH=({additionalCommentCount:n,user:t,pub:r,post:i,showReactions:f,showComments:x,reaction_token:k,onChange:W,shareTooltipText:B,fromPostPage:q,onClickCommentButton:ye,reactors:Me,isStatic:Re,base_url:ze,className:et,showShare:Je})=>{f=f&&r.community_enabled&&i.slug&&!i.is_draft;const dt=useMediaQuery({maxWidth:540}),{getSettingFor:Et}=usePublicationSettings(),wt=!Re&&(i==null?void 0:i.id)&&r.community_enabled&&!i.is_draft&&i.slug,xt=sum(Object.values((i==null?void 0:i.reactions)||{})),Bt=wt&&!!xt&&f,kt=!i.is_draft&&canPostBeRestacked(t,{enable_restacking:!!Et("enable_restacking")},i,r,!1),on=kt;return h(r8,{shouldShowFullWidthUfi:on,isMobileWidth:dt},h(PostUfi,{style:"button",post:i,pub:r,user:t,postReactionToken:k,hideReactions:!f||dt&&kt,hideComments:!x||dt&&kt,hideSavePost:dt&&kt,hideShare:!Je||dt&&kt,useShareLabel:dt&&!on,labelStyle:dt&&!on?"labels":"counts-or-none",onChange:W,additionalCommentCount:n,showShare:Je,onCommentsClick:ye,position:on?"post-footer-full-width":"post-footer",showRestackButton:kt}),Bt&&h(Fragment,null,(on||dt)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(jf,{postId:i.id,totalLikes:xt,reactors:Hs(Me,t,!!i.reaction,r),loading:!Me,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled}))))};function d1({pub:n,post:t,user:r,reactors:i,secondaryFaces:f}){var x;return(0,e.h)(jf,{postId:t.id,totalLikes:Math.max((x=t.reactions["\u2764"])!=null?x:0,(i!=null?i:[]).length),reactors:Hs(i,r,!!t.reaction,n),secondaryFaces:Hs(f,r,!!t.restacked,n),totalRestacks:t.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function JH(n){const{post:t,user:r,pub:i}=n,{result:f,isLoading:x}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:k,isLoading:W}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(d1,Ff({reactors:Hs(f,r,!!t.reaction,i),secondaryFaces:Hs(k,r,!!t.restacked,i)},n))}function Hs(n,t,r,i){if(!n)return[];if(t){const f=n.findIndex(x=>x.id===t.id);r&&(t.subscription_visibility!=="private"||i.id===t8)&&t.activity_likes_enabled&&f<0?n.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!r&&f>=0&&n.splice(f,1)}return n}function o8({additionalCommentCount:n=0,className:t,user:r,pub:i,post:f,showAudience:x=!1,showDate:k=!1,showEmailSent:W=!1,showDatetime:B=!1,showReactions:q=!0,showComments:ye=!0,showShare:Me=!1,showRestack:Re=!1,showPublicationName:ze=!1,hidePinning:et=!1,reaction_token:Je,onClick:dt,onChange:Et,isStatic:wt=!1,isFreePreview:xt=!1,allowSendEmail:Bt=!1,allowEdit:kt=!1,shareTooltipText:on,showPins:pn,sharedShareDialog:En,showUpdatedIcons:vn,editOnRightSide:hn=!1,onClickCommentButton:qn,reactors:Yn,showAuthor:$n,showPhoto:yn,fromPostPage:mn,isMobileWidth:cr,actionBarStyle:Hn="post-header-compact"}){var Kn;const Zn=[i].concat(i.child_publications).find(gr=>gr.id===f.publication_id),tr=Hs(Yn,r,!!f.reaction,i),lr=Hn==="post-footer",Fn=lr?20:Hn==="post-preview"?14:18,zn=Hn==="post-header-large"?20:Hn==="post-preview"?16:Hn==="thread-head"||lr?14:18;let an;f.comment_url_override?an=f.comment_url_override:wt?an=`${Ei.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:an=(0,v.getPostUrl)(i,f,{comments:!0});const In=n+((Kn=f.comment_count)!=null?Kn:0),Yt=ye&&!xt&&(0,he.showCommentsOnPost)({publication:i,post:f})&&f.type!=="restack",ur=q&&!xt&&!["adhoc_email","restack"].includes(f.type),Ln=(k||B)&&f.post_date&&!f.is_draft,Ar=W?!!f.email_sent_at:null,mr=(0,lh.S)({user:r,noBase:!1}),Nr=gr=>{var Br;(Br=gr.post)!=null&&Br.reaction&&r&&mr({user:r}),Et(gr)},Qn=(0,e.h)(vs.dJ,{user:r,pub:i,post:f,token:Je,onChange:Nr,height:zn,isStatic:wt,isFreePreview:xt,alt:"Like",buttonStyle:lr,className:"post-meta-icon like-reaction-button",hideReactionCount:lr&&!wt}),Or=[W&&Ar&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(n1,{className:"post-meta-icon",height:Fn,isStatic:wt})},pn&&f.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(VN.Z,{className:"post-meta-icon",isStatic:wt})},f.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(Iv,{className:"post-meta-icon",isStatic:wt})}:x&&(0,xe.isPaidAudience)(f.audience)&&{className:"audience-lock",content:(0,e.h)(NN,{color:"#666666",height:Fn,isStatic:wt})},(0,Ho.Er)({pub:i,post:f,showAuthor:$n,showPhoto:yn,isMobileWidth:cr})&&{className:"author",content:(0,he.getBylineUsers)(f).length>0?(0,he.oxfordComma)((0,he.getBylineUsers)(f).map(gr=>(0,e.h)(sa.Ct,{disabled:wt,subject:gr,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(gr,i,{base:wt}),onClick:Br=>Br.stopPropagation()},gr.name)))):(0,he.getPrintedByline)(i,f)},ze&&{className:"post-publication-name",content:i.name},vn&&!hn&&kt&&!wt&&r&&r.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)(kf.l,{pub:i,post:f,iconHeight:Fn,hidePinning:et,user:r,emailSent:Ar,allowSendEmail:Bt,showUpdatedIcons:vn})},Ln&&{className:"post-date",title:Bn()(f.post_date).toISOString(),content:(0,e.h)(rt.xv.Meta,null,(0,e.h)("time",{dateTime:Bn()(f.post_date).toISOString()},(0,Ho.fh)({post:f,showDatetime:B,isStatic:wt,fromPostPage:mn,showReactions:ur})))},(Zn==null?void 0:Zn.community_enabled)&&f.slug&&ur&&!f.is_draft&&{className:"icon",onClick:gr=>gr.stopPropagation(),content:!lr&&!wt&&tr.length?(0,e.h)(zN,{portalClass:"facepile-tooltip",content:(0,e.h)(jf,{postId:f.id,totalLikes:yN()(Object.values(f.reactions)),reactors:tr,loading:!Yn})},Qn):Qn},r&&{className:"icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)(i8,{post:f,isPostFooter:lr,isStatic:wt,lucideIconHeight:zn,onChange:Et})},(Zn==null?void 0:Zn.community_enabled)&&f.slug&&Yt&&!f.is_draft&&{className:"icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)("a",{className:lr?"post-meta-button button":"",href:an,native:Zn&&(0,v.isPublishPath)(document.location.pathname,Zn),onClick:qn},(0,e.h)(td.Z,{className:"comment-icon post-meta-icon",isStatic:wt,height:zn,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:wt?1:1.5,ampProps:{layout:"fixed"}}),!In&&lr&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),In>0&&(0,e.h)("span",{className:"comment-count"},(0,he.numberToString)(In)))},Re&&!lr&&{className:"icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)("a",{href:Ei.Substitutions.RESTACK_URL,className:lr?"button post-meta-button":void 0},(0,e.h)(HN,{className:"recommend-icon post-meta-icon",isStatic:wt,height:zn,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:wt?1:1.5,ampProps:{layout:"fixed"}}),lr&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},Me&&f.audience!=="only_free"&&!f.is_draft&&!xt&&{className:"icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)($N,{user:r,pub:Zn,post:f,reaction_token:Je,height:zn,onChange:Et,isStatic:wt,sharedShareDialog:En,position:Hn==="post-footer"?"post-footer":"post-header",linkClassName:lr?"button post-meta-button":void 0},lr&&(0,e.h)("span",{className:"meta-button-label"},"Share"),on&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},on)))},(!vn||hn)&&kt&&!wt&&r&&r.is_contributor&&{className:"icon edit-icon",onClick:gr=>gr.stopPropagation(),content:(0,e.h)(kf.l,{pub:i,post:f,iconHeight:Fn,hidePinning:et,user:r,emailSent:Ar,allowSendEmail:Bt,showUpdatedIcons:vn})}].filter(gr=>!!gr);return wt?(0,e.h)("table",{className:d()("post-meta custom",{big:lr},t),cellpadding:"0",cellspacing:"0",onClick:dt},(0,e.h)("tr",null,Or.map(({className:gr,title:Br,onClick:wo,content:Gr})=>(0,e.h)("td",{className:d()("post-meta-item",gr),title:Br,onClick:wo},Gr)))):(0,e.h)("div",{className:d()("post-meta post-meta-actions-web custom",{big:lr},t),onClick:dt},Or.map(({className:gr,title:Br,onClick:wo,content:Gr})=>(0,e.h)("div",{className:d()("post-meta-item",gr),title:Br,onClick:wo},Gr)))}function jf({className:n,postId:t,reactors:r,secondaryFaces:i,totalLikes:f,totalRestacks:x,loading:k,hoverProfiles:W,enableModal:B,showFaces:q}){const ye=f>0?(0,he.pluralize)(f,"Like"):"";let Me="";return x>0&&(Me=`${(0,he.pluralize)(x,"Restack")}`),(0,e.h)(Rl.ZP,{className:n,loading:k,faces:r,secondaryFaces:i,pileLabel:ye,modalLabel:ye,secondaryLabel:Me,secondaryHref:(0,fv.Oi)(t,{noBase:GN.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:f,totalRestacks:x,hoverProfiles:W,enableModal:B,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,M.j)(M.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:q})}function i8({post:n,isPostFooter:t,isStatic:r,isSaved:i,lucideIconHeight:f,onChange:x}){const{onSave:k,isSaved:W}=(0,Ho.vk)({post:n,isSaved:n.is_saved}),B=()=>{const q=k();x({post:c1(Ff({},n),{is_saved:q})})};return(0,e.h)("a",{className:d()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:W}),href:r&&Ei.Substitutions.SAVE_POST_URL,onClick:B},(0,e.h)(RN.Z,{isStatic:r,height:f,stroke:"#757575",strokeWidth:r?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const a8=(0,Po.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var s8=Object.defineProperty,l8=Object.defineProperties,u8=Object.getOwnPropertyDescriptors,f1=Object.getOwnPropertySymbols,c8=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,p1=(n,t,r)=>t in n?s8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,f8=(n,t)=>{for(var r in t||(t={}))c8.call(t,r)&&p1(n,r,t[r]);if(f1)for(var r of f1(t))d8.call(t,r)&&p1(n,r,t[r]);return n},p8=(n,t)=>l8(n,u8(t));const h8=n=>(0,e.h)(N.l,p8(f8({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(a8,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var m8=Object.defineProperty,_8=Object.defineProperties,g8=Object.getOwnPropertyDescriptors,h1=Object.getOwnPropertySymbols,v8=Object.prototype.hasOwnProperty,y8=Object.prototype.propertyIsEnumerable,m1=(n,t,r)=>t in n?m8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,b8=(n,t)=>{for(var r in t||(t={}))v8.call(t,r)&&m1(n,r,t[r]);if(h1)for(var r of h1(t))y8.call(t,r)&&m1(n,r,t[r]);return n},P8=(n,t)=>_8(n,g8(t));const E8=n=>(0,e.h)(N.l,P8(b8({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(g0,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),_1=({post:n})=>{const t=(0,De.So)().getSettingFor("enable_prev_next_nav"),r=(0,vi.XA)();return!t||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(Ho.Ng,{icon:(0,e.h)(h8,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,M.j)(M.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(Ho.Ng,{icon:(0,e.h)(E8,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,M.j)(M.FP.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var w8=Object.defineProperty,C8=Object.defineProperties,O8=Object.getOwnPropertyDescriptors,mc=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,v1=Object.prototype.propertyIsEnumerable,y1=(n,t,r)=>t in n?w8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S8=(n,t)=>{for(var r in t||(t={}))g1.call(t,r)&&y1(n,r,t[r]);if(mc)for(var r of mc(t))v1.call(t,r)&&y1(n,r,t[r]);return n},T8=(n,t)=>C8(n,O8(t)),I8=(n,t)=>{var r={};for(var i in n)g1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&mc)for(var i of mc(n))t.indexOf(i)<0&&v1.call(n,i)&&(r[i]=n[i]);return r};const D8=n=>{var t=n,{stroke:r="black",height:i=19,width:f=19}=t,x=I8(t,["stroke","height","width"]);return(0,e.h)(N.l,T8(S8({},x),{name:"AdhocEmailIcon",svgParams:{height:i,width:f,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:r}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:r}))};var x8=Object.defineProperty,M8=Object.defineProperties,A8=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,P1=Object.prototype.propertyIsEnumerable,E1=(n,t,r)=>t in n?x8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,N8=(n,t)=>{for(var r in t||(t={}))b1.call(t,r)&&E1(n,r,t[r]);if(_c)for(var r of _c(t))P1.call(t,r)&&E1(n,r,t[r]);return n},R8=(n,t)=>M8(n,A8(t)),L8=(n,t)=>{var r={};for(var i in n)b1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&_c)for(var i of _c(n))t.indexOf(i)<0&&P1.call(n,i)&&(r[i]=n[i]);return r};const B8=n=>{var t=n,{stroke:r="black",height:i=19,width:f=19}=t,x=L8(t,["stroke","height","width"]);return(0,e.h)(N.l,R8(N8({},x),{name:"NewsletterIcon",svgParams:{height:i,width:f,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}))};var k8=Object.defineProperty,gc=Object.getOwnPropertySymbols,w1=Object.prototype.hasOwnProperty,C1=Object.prototype.propertyIsEnumerable,O1=(n,t,r)=>t in n?k8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vs=(n,t)=>{for(var r in t||(t={}))w1.call(t,r)&&O1(n,r,t[r]);if(gc)for(var r of gc(t))C1.call(t,r)&&O1(n,r,t[r]);return n},U8=(n,t)=>{var r={};for(var i in n)w1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&gc)for(var i of gc(n))t.indexOf(i)<0&&C1.call(n,i)&&(r[i]=n[i]);return r};const F8=n=>{var t=n,{postType:r}=t,i=U8(t,["postType"]);switch(r){case"newsletter":return(0,e.h)(B8,Vs({},i));case"adhoc_email":return(0,e.h)(D8,Vs({},i));case"thread":return(0,e.h)(Bf,Vs({},i));case"podcast":return(0,e.h)(ho,Vs({},i));case"video":return(0,e.h)(qv,Vs({},i));case"restack":return(0,e.h)(dc.Z,Vs({},i));default:return console.warn(`Unrecognized post type: [${r}]`),null}};var j8=Object.defineProperty,S1=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,H8=Object.prototype.propertyIsEnumerable,T1=(n,t,r)=>t in n?j8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,I1=(n,t)=>{for(var r in t||(t={}))W8.call(t,r)&&T1(n,r,t[r]);if(S1)for(var r of S1(t))H8.call(t,r)&&T1(n,r,t[r]);return n},V8=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const vc=500,K8={PUBLICATION:"publication",CHOOSE:"choose"},$8=({pubToRecommendBack:n,recommendingPub:t,recommendedPubs:r,setStep:i,close:f,setLoading:x,source:k})=>{const[W,B]=(0,o.eJ)(null);(0,o.d4)(()=>{var ye;W==null&&(r!=null&&r.find(({id:Me})=>Me===n.id))&&B((ye=r==null?void 0:r.find(({id:Me})=>Me===n.id))==null?void 0:ye.blurb)},[W,r,n.id]);const q=(0,he.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(fn.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,"Recommend ",n.name),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},q?`By ${q}`:null,q&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},"Why are you recommending ",n.name,"? (optional)"),(0,e.h)("textarea",I1({placeholder:"Share why your readers might enjoy it...",onChange:ye=>{B(ye.target.value)},value:W},Hg.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,M.j)(M.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,"Learn more"))),(0,e.h)("button",{className:d()("continue-button button primary",{disabled:((W==null?void 0:W.length)||0)>vc}),disabled:((W==null?void 0:W.length)||0)>vc,title:((W==null?void 0:W.length)||0)>vc?`Please enter a description shorter than ${vc} characters`:"",onClick:()=>V8(void 0,null,function*(){yield ie().put("/api/v1/recommendations").send(I1({recommended_publication_id:n.id,recommending_publication_id:t.id,source:k||"recommendation_notification_email",suggested:!1},!!W&&{description:W.length>=2?W:null})),r!=null&&r.filter(({id:ye})=>ye!==n.id).length?f():i(K8.CHOOSE),x?(x(!0),f()):((0,b.redirect)("/publish/settings/recommendations"),(0,ss.ZP)(`Started recommending ${n.name}`,{timeout:1500}))})},"Continue")))};var z8=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const G8=({pub:n})=>{const[t,r]=(0,o.eJ)(!0),[i,f]=(0,o.eJ)(null),[x,k]=(0,o.eJ)(!1),W=(0,o.sO)(null),B=()=>{W.current.close()};if((0,o.d4)(()=>{!i&&t&&(()=>z8(void 0,null,function*(){try{const Me=(yield ie().get("/api/v1/publication_user/default")).body;if(f(Me),!Me||Me.id===n.id){k(!0),r(!1);return}const Re=yield ie().get(`/api/v1/recommendations/from/${Me.id}/to/${n.id}`);k(!!Re.body),r(!1)}catch(ye){console.error("Failed to load recommend cta: ",ye)}}))()},[n,t,r,i,f]),!(t||x||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(fn.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(gt.Z,{className:d()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,M.j)(M.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),W.current.isOpen()?W.current.close():W.current.open()}},"Recommend")),(0,e.h)(Z8,{pubToRecommend:n,recommendingPub:i,setLoading:r,setStep:B,ref:W}))};class Z8 extends Gt.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)($8,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,ss.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var Y8=St(86804),D1=St(92630),J8=Object.defineProperty,Q8=Object.defineProperties,X8=Object.getOwnPropertyDescriptors,x1=Object.getOwnPropertySymbols,q8=Object.prototype.hasOwnProperty,eR=Object.prototype.propertyIsEnumerable,M1=(n,t,r)=>t in n?J8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tR=(n,t)=>{for(var r in t||(t={}))q8.call(t,r)&&M1(n,r,t[r]);if(x1)for(var r of x1(t))eR.call(t,r)&&M1(n,r,t[r]);return n},nR=(n,t)=>Q8(n,X8(t));const rR=n=>(0,e.h)(N.l,nR(tR({},n),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),Ks={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},nV=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:f,disableInput:x=!1,onChangeAmount:k})=>{const W=useRef(null),B=useCallback(Re=>{k(Re.toString().replace(/[^\d.]/g,""))},[k]),[q,ye]=useState(!1);useEffect(()=>{t&&(W.current.focus(),W.current.select())},[W,t]),useEffect(()=>{ye(i.metadata.minimum&&(isZeroDecimalCurrency(i.currency)?n:n*100)<=i.metadata.minimum&&t)},[n]);const Me=centsToPriceString(100,i.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},Me)),h("input",{disabled:x,ref:W,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Re=>{Re.key==="ArrowUp"?(B(Number(n||i.amount/100)+5),setTimeout(()=>{W.current.selectionStart=W.current.selectionEnd=W.current.value.length},0)):Re.key==="ArrowDown"&&(!n||n>=5)&&(B(Number(n||i.amount/100)-5),setTimeout(()=>{W.current.selectionStart=W.current.selectionEnd=W.current.value.length},0))},onInput:Re=>{const ze=Re.target;B(ze.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"secondary"},"/ year")),q&&h(Text,{size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},`Must be greater than ${Me}${isZeroDecimalCurrency(i.currency)?i.metadata.minimum:i.metadata.minimum/100}`))},oR=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:f,showDuration:x=!0,disableInput:k=!1,onChangeAmount:W})=>{const B=(0,o.sO)(null),q=(0,o.I4)(Me=>{W(Me.toString().replace(/[^\d.]/g,""))},[W]),ye=i.metadata.minimum&&((0,he.isZeroDecimalCurrency)(i.currency)?n:n*100)<i.metadata.minimum&&t;return(0,o.bt)(()=>{B.current&&(B.current.style.width="1px",B.current.style.width=`${B.current.scrollWidth}px`,B.current.scrollLeft=0)},[n,B]),(0,o.d4)(()=>{t&&(B.current.focus(),B.current.select())},[B,t]),(0,e.h)("span",{className:d()(Ks.outlineWrapper,{[Ks.outlineWrapperSelected]:r&&t,[Ks.outlineWrapperWithWarning]:ye})},(0,he.centsToPriceString)(100,i.currency).replace("1",""),(0,e.h)("input",{disabled:k,ref:B,className:d()(Ks.amountInput,{[Ks.amountInputDeselected]:!t}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Me=>{Me.key==="ArrowUp"?(q(Number(n||i.amount/100)+5),setTimeout(()=>{B.current.selectionStart=B.current.selectionEnd=B.current.value.length},0)):Me.key==="ArrowDown"&&(!n||n>=5)&&(q(Number(n||i.amount/100)-5),setTimeout(()=>{B.current.selectionStart=B.current.selectionEnd=B.current.value.length},0))},onInput:Me=>{const Re=Me.target;q(Re.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof n=="string"?(Number(n)||0)*100:i.amount}),x&&i.interval!=="forever"&&(f?` per ${i.interval}`:`/${i.interval}`),ye&&(0,e.h)("div",{className:Ks.warningContainer},(0,e.h)(D1.u,{text:`Amount must be greater than ${(0,he.centsToPriceString)(i.metadata.minimum,i.currency)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(rR,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var iR=Object.defineProperty,A1=Object.getOwnPropertySymbols,aR=Object.prototype.hasOwnProperty,sR=Object.prototype.propertyIsEnumerable,N1=(n,t,r)=>t in n?iR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lR=(n,t)=>{for(var r in t||(t={}))aR.call(t,r)&&N1(n,r,t[r]);if(A1)for(var r of A1(t))sR.call(t,r)&&N1(n,r,t[r]);return n};const uR=n=>(0,e.h)(N.l,lR({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var cR=Object.defineProperty,R1=Object.getOwnPropertySymbols,dR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,L1=(n,t,r)=>t in n?cR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pR=(n,t)=>{for(var r in t||(t={}))dR.call(t,r)&&L1(n,r,t[r]);if(R1)for(var r of R1(t))fR.call(t,r)&&L1(n,r,t[r]);return n};const hR=n=>(0,e.h)(N.l,pR({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var mR=Object.defineProperty,_R=Object.defineProperties,gR=Object.getOwnPropertyDescriptors,B1=Object.getOwnPropertySymbols,vR=Object.prototype.hasOwnProperty,yR=Object.prototype.propertyIsEnumerable,k1=(n,t,r)=>t in n?mR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bR=(n,t)=>{for(var r in t||(t={}))vR.call(t,r)&&k1(n,r,t[r]);if(B1)for(var r of B1(t))yR.call(t,r)&&k1(n,r,t[r]);return n},PR=(n,t)=>_R(n,gR(t));const U1=n=>(0,e.h)(N.l,PR(bR({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"}))))),F1=n=>{try{return n!=null&&n.text?JSON.parse(n==null?void 0:n.text).error:"Something went wrong"}catch(t){return"Something went wrong"}},Wf=n=>{var t;return((t=n==null?void 0:n.metadata)==null?void 0:t.founding)==="yes"||(n==null?void 0:n.id.includes("founding"))},si={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var ER=Object.defineProperty,wR=Object.defineProperties,CR=Object.getOwnPropertyDescriptors,j1=Object.getOwnPropertySymbols,OR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,W1=(n,t,r)=>t in n?ER(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Kl=(n,t)=>{for(var r in t||(t={}))OR.call(t,r)&&W1(n,r,t[r]);if(j1)for(var r of j1(t))SR.call(t,r)&&W1(n,r,t[r]);return n},yc=(n,t)=>wR(n,CR(t)),bc=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const H1=({selected:n})=>(0,e.h)("span",{className:d()(si.circle,n&&si.selectedPlan)}),TR=({pub:n,includeHeaderCloseButton:t,close:r})=>{const i=n.logo_url||n.author_photo_url,f=()=>{(0,b.redirect)((0,v.pathWithQuery)((0,Ze.getBaseUrl)(n),{utm_source:"suggest",utm_campaign:n.id}),{newTab:!0})};return(0,e.h)(Ye.tu,{justifyContent:"center",alignItems:"center",gap:16},t&&(0,e.h)(As.Z,{className:si.closeModal,onClick:r}),(0,e.h)("img",{src:(0,Ze.imginary)(i,40*2,{height:40*2,smartCrop:!0}),className:si.publicationIcon,onClick:f}),(0,e.h)("div",{onClick:f,className:si.clickable},(0,e.h)(rt.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",n.name||n.author_name)))},IR=({plan:n,selected:t,currentPrice:r,foundingOnChange:i,setSelected:f})=>(0,e.h)(Ye.gq,{as:"label",alignItems:"center",gap:8,className:si.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:f,className:si.radio}),(0,e.h)(H1,{selected:t}),(0,e.h)(rt.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},(0,he.getPlanTitle)(n)),(0,e.h)("span",null,(0,e.h)(rt.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:d()(si.inputWrapper,{[si.spacing]:t})},(0,e.h)(oR,{amount:r!=null?r:0,disableInput:!t,isSelected:t,outlineOnSelect:!0,plan:n,showDuration:!1,onChangeAmount:i}),(0,e.h)(rt.xv,null,"per year")))),V1=({plan:n,selected:t,isFreePlan:r,setSelected:i})=>{const f=r?"None":(0,he.getPlanTitle)(n),x=r?"":(0,b.planToString)(n);return(0,e.h)(Ye.gq,{as:"label",alignItems:"center",gap:8,className:si.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:i,className:si.radio}),(0,e.h)(H1,{selected:t}),(0,e.h)(rt.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},f),(0,e.h)(rt.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},x))},K1=({benefit:n,ineligible:t})=>(0,e.h)(Ye.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(Ye.gq,{className:si.benefitIcon},t?(0,e.h)(hR,{width:16,height:16}):(0,e.h)(uR,{width:16,height:16})),(0,e.h)(rt.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:t?"line-through":"none",overflow:"hidden"}},n)),DR=({plans:n,selectedPlan:t,paidBenefits:r,freeBenefits:i,foundingPlanPrice:f,setSelectedPlan:x,setFoundingPlanPrice:k})=>{const W=t==="free";return(0,e.h)(Ye.tu,{alignItems:"start",justifyContent:"start",gap:16,className:si.planOptions},n==null?void 0:n.map(B=>{const q=Wf(B),ye=B.id===t;return q?(0,e.h)(IR,{plan:B,currentPrice:f,selected:ye,foundingOnChange:k,setSelected:()=>x(B.id)}):(0,e.h)(V1,{plan:B,selected:ye,isFreePlan:!1,setSelected:()=>x(B.id)})}),(0,e.h)(V1,{plan:null,selected:t==="free",isFreePlan:!0,setSelected:()=>x("free")}),r.map(B=>(0,e.h)(K1,{benefit:B,ineligible:t==="free"})),W&&(i==null?void 0:i.map(B=>(0,e.h)(K1,{benefit:B,ineligible:!1}))))},xR=({stripeCard:n,cardLast4:t})=>(0,e.h)(Ye.tu,{gap:12,className:si.fullWidth},(0,e.h)(Ye.tu,{className:si.fancyStripe,alignItems:"center",justifyContent:"center"},t?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(Ye.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(U1,{className:si.cardOnFileIcon}),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},t?`**** **** **** ${t}`:"Use card on file"))):n&&(0,e.h)(yr.GP,{className:"input",card:n}))),MR=({pub:n})=>(0,e.h)(rt.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:si.tos_text,target:"_blank",rel:"noreferrer",href:(0,v.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:si.tos_text,target:"_blank",rel:"noreferrer",href:(0,v.getPrivacyUrl)({pub:n,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:si.tos_text,target:"_blank",rel:"noreferrer",href:(0,v.updateQuery)(`${(0,v.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),AR=({pub:n,isFreeSubscribed:t,loading:r,freePlanSelected:i,allowFreePlanReselection:f,onSuccess:x})=>{let k="Subscribe";return r?k="Subscribing...":i&&(k=t?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(Gn.zx,{priority:"primary-theme",className:si.subscribeButton,onClick:x,disabled:r||!f&&i&&t},k),(0,e.h)(MR,{pub:n}))},NR=({error:n})=>(0,e.h)(rt.xv.B4,{align:"center",color:"error"},n),RR=({isFreeSubscribed:n,pub:t,recommendingPubId:r,user:i,cardLast4:f,stripe_publishable_key:x,email:k,includeHeaderCloseButton:W=!1,source:B,sameDomain:q=!0,allowFreePlanReselection:ye=!0,onClose:Me,onSuccess:Re,subscribe_auth_token:ze})=>{const[et,Je]=(0,o.eJ)(""),[dt,Et]=(0,o.eJ)({}),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(null),[on,pn]=(0,o.eJ)(null),[En,vn]=(0,o.eJ)(""),[hn,qn]=(0,o.eJ)(0),[Yn,$n]=(0,o.eJ)(!1),yn=(0,o.sO)(null),mn={publication_id:t.id,source:B};r&&(mn.recommending_publication_id=r,mn.recommended_publication_id=t.id),(0,o.d4)(()=>{var an,In;const Yt=(0,yr.lQ)(x,t),ur=Yt&&(0,yr.UD)(Yt);kt(Yt),pn(ur);const Ln={};(an=t==null?void 0:t.plans)==null||an.forEach(Ar=>{Wf(Ar)?qn(Ar==null?void 0:Ar.amount):Ar.interval==="year"&&Je(Ar.id),Ln[Ar.id]=Ar}),Ln.free={id:"free"},et||Je((In=t==null?void 0:t.plans[0])==null?void 0:In.id),Et(Ln),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SEEN,Kl({},mn))},[t,i==null?void 0:i.has_saved_payment]);const cr=()=>bc(void 0,null,function*(){return Bt?yield Bt.createToken(on):{token:null,error:{message:""}}}),Hn=()=>bc(void 0,null,function*(){var an;const In=dt[et];let Yt;if(!f){const{token:Ar,error:mr}=yield cr();if(mr)return xt(!1),vn(mr&&mr.message),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:mr&&mr.type,code:mr&&mr.code,decline_code:mr&&mr.decline_code,reason:mr&&mr.message}),{subscription_id:null,error:mr};Yt=Ar}const ur={email:k,captcha_response:Yn&&((an=yn==null?void 0:yn.current)==null?void 0:an.getResponse()),amount:Wf(In)?hn*100:In.amount,stripe_token:Yt,plan:In.id};return q||(ur.subscribe_to_pub_id=t.id,ur.subscribe_auth_token=ze),{subscription_id:(yield ie().post(`/api/v1/subscription?utm_source=${B!=null?B:"plan-purchase-box"}`).send(ur)).body.subscription_id,error:null}}),Kn=()=>bc(void 0,null,function*(){try{return(yield ie().get("/api/v1/subscription/last4")).body.last4}catch(an){return""}}),Zn=an=>{qn(an.toString().replace(/[^\d.]/g,""))},tr=an=>{Je(an)},lr=()=>bc(void 0,null,function*(){if(et==="free"){(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SUBMITTED,yc(Kl({},mn),{plan_id:"free"})),Me();return}xt(!0);try{const{subscription_id:an,error:In}=yield Hn();if(In){xt(!1);return}(0,M.j)(M.FP.PLAN_PURCHASE_BOX_SUBMITTED,yc(Kl({},mn),{plan_id:et}));const Yt=f||(yield Kn());Re(Yt,an)}catch(an){if(an.response)switch(an.response.statusCode){case 400:vn(F1(an.response));break;case 401:$n(!0);break;default:vn("Something went wrong. Please try again."),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_ERROR,yc(Kl({},mn),{errorMessage:F1(an.response)}))}else vn("Something went wrong. Please try again."),(0,M.j)(M.FP.PLAN_PURCHASE_BOX_ERROR,yc(Kl({},mn),{errorMessage:an.message}))}xt(!1)}),Fn=()=>{Me()},zn=et==="free";return(0,e.h)(Ye.tu,{justifyContent:"center",alignItems:"center",gap:32,className:si.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(TR,{pub:t,close:Fn,includeHeaderCloseButton:W}),(0,e.h)(DR,{plans:t.plans,paidBenefits:t==null?void 0:t.paid_subscription_benefits,freeBenefits:t==null?void 0:t.free_subscription_benefits,selectedPlan:et,foundingPlanPrice:hn,setSelectedPlan:tr,setFoundingPlanPrice:Zn}),(0,e.h)(Ye.tu,{justifyContent:"center",alignItems:"center",gap:0},En&&(0,e.h)(NR,{error:En}),Yn&&(0,e.h)(Y8.Z,{ref:yn}),!zn&&(0,e.h)(xR,{cardLast4:f,stripeCard:on}),(0,e.h)(Hi.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)(AR,{pub:t,loading:wt,freePlanSelected:zn,isFreeSubscribed:n,allowFreePlanReselection:ye,onSuccess:lr})})))};var LR=St(55886);const ba={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var BR=Object.defineProperty,$1=Object.getOwnPropertySymbols,kR=Object.prototype.hasOwnProperty,UR=Object.prototype.propertyIsEnumerable,z1=(n,t,r)=>t in n?BR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FR=(n,t)=>{for(var r in t||(t={}))kR.call(t,r)&&z1(n,r,t[r]);if($1)for(var r of $1(t))UR.call(t,r)&&z1(n,r,t[r]);return n},jR=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const WR=300,HR=({pub:n,post:t,isTest:r,stripe_publishable_key:i})=>{const[f,x]=(0,o.eJ)(!1),[k,W]=(0,o.eJ)(!1),[B,q]=(0,o.eJ)(!1),[ye,Me]=(0,o.eJ)(""),[Re,ze]=(0,o.eJ)([]),[et,Je]=(0,o.eJ)(200),[dt,Et]=(0,o.eJ)(0),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(!1),on=(0,o.sO)(null),{exposeExperiment:pn,getExperimentVariant:En}=(0,Ue.jc)(),vn=(0,vi.XA)(),hn=!vn&&En("post_page_modal_subscription_upsell"),qn=hn&&n.payments_state==="enabled",Yn=qn&&hn==="treatment",$n=`pub-${n.id}-subscribe-prompt-next-shown-at`,yn=`pub-${n.id}-takeover-next-shown-at`,mn=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,cr=document.getElementsByClassName("available-content"),Hn=cr.length>0?cr[0].scrollHeight:0;let Kn=600;Kn=Math.max(Math.min(Kn,Hn-mn),600);const Zn=()=>{var Qn;const{height:Or,width:gr}=((Qn=on.current)==null?void 0:Qn.getBoundingClientRect())||{height:0,width:0};Je(typeof window!="undefined"&&window&&on.current?(window.innerHeight-Or)/2:200),Et(typeof window!="undefined"&&window&&on.current?(window.innerWidth-gr)/2:0)};Zn(),(0,o.d4)(()=>{typeof window!="undefined"&&Zn()},[wt]);const[tr,lr]=(0,o.eJ)(mn+Math.max(et,Kn)),[Fn,zn]=(0,o.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[an,In]=(0,o.eJ)("absolute"),[Yt,ur]=(0,o.eJ)(an==="fixed"||Fn>tr-mn),Ln=an==="fixed"?60:Math.min(Math.max((Fn-tr+mn)/(mn-et)*60,0),60),Ar=(0,o.I4)(()=>{!vn&&Fn>=tr-WR&&W(!0)},[Fn,vn,tr,et,W]);(0,o.d4)(()=>{if(r)return;let Qn=!0;Hn<=1.5*mn&&(x(!0),Qn=!1);let Or=null;if(document!=null&&document.referrer){try{Or=new URL(document.referrer)}catch(gr){}((Or==null?void 0:Or.hostname)==="news.ycombinator.com"||(Or==null?void 0:Or.hostname)==="hckrnews.com")&&(x(!0),Qn=!1)}(0,Ti.mM)($n)>Date.now()&&x(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&kt(!0)},[]),(0,o.d4)(()=>{Yt&&(f||((0,M.j)(M.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,Ti.ex)($n,Bn()().add(1,"hour").valueOf()),(0,Ti.ex)(yn,Bn()().add(1,"hour").valueOf())))},[Yt,f]),(0,o.d4)(()=>{k&&((0,M.j)(M.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,Ti.ex)($n,Bn()().add(1,"day").valueOf()),(0,Ti.ex)(yn,Bn()().add(1,"hour").valueOf()))},[k]);const mr=Qn=>{window.location.href=(0,v.getPostUrl)(n,t,{urlParams:{subscribe_prompt:Qn}})},Nr=(0,o.I4)(Qn=>jR(void 0,null,function*(){var Or,gr,Br,wo,Gr;if(!B){q(!0),ze([]),(0,M.j)(M.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const ro=yield ie().post("/api/v1/free").send({email:Qn,source:"post-subscribe-prompt"});qn&&pn("post_page_modal_subscription_upsell"),Yn?xt(!0):n.payments_state!=="enabled"&&!n.has_recommendations?mr("free"):document.location.href=(0,v.getSubscribeUrl)(n,FR({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,v.getPostUrl)(n,t),requires_confirmation:ro.body.requires_confirmation?"true":""},ro.body.subscription_id&&{subscription_id:ro.body.subscription_id}))}catch(ro){(gr=(Or=ro==null?void 0:ro.response)==null?void 0:Or.body)!=null&&gr.error&&typeof ro.response.body.error=="string"?ze([ro.response.body.error]):(wo=(Br=ro==null?void 0:ro.response)==null?void 0:Br.body)!=null&&wo.errors&&Array.isArray(ro.response.body.errors)&&ro.response.body.errors.length>0&&typeof((Gr=ro.response.body.errors[0])==null?void 0:Gr.msg)=="string"&&ze(ro.response.body.errors.map(la=>la.msg))}finally{q(!1)}}}),[t,n,B,q]);return(0,o.d4)(()=>{if(f||k)return;const Qn=()=>{const Or=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),gr=Or-Fn;gr>0&&an==="absolute"&&Or>tr-et&&In("fixed"),gr<0&&an==="fixed"&&(In("absolute"),lr(Fn+et)),gr<0&&an==="absolute"&&Or<tr-mn&&lr(mn+Math.max(et,Kn,Fn)),zn(Or),(an==="fixed"||gr>0&&Or>tr-mn)&&ur(!0)};return window.addEventListener("scroll",Qn),window.addEventListener("resize",Qn),()=>{window.removeEventListener("scroll",Qn),window.removeEventListener("resize",Qn)}},[an,tr,lr,Fn,zn,ur]),(0,o.d4)(()=>{if(f||k)return;const Qn=Or=>{Or.key==="Escape"&&W(!0)};return window.addEventListener("keydown",Qn),()=>{window.removeEventListener("keydown",Qn)}},[f,k,W]),f||k?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!Bt&&Yn&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(Ye.tu,{ref:on,className:ba.subscribeDialog,style:{top:an==="absolute"?`${tr}px`:`${et}px`,left:`${dt}px`,position:an},alignItems:"center"},wt?(0,e.h)(RR,{email:ye,pub:n,stripe_publishable_key:i,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>mr("free"),onSuccess:()=>mr("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(Ye.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:ba.pictureBox},(0,e.h)(fl.qE,{user:{photo_url:n.author_photo_url},size:64,className:ba.authorIcon}),n.logo_url&&(0,e.h)(LR.t,{src:n.logo_url,size:24,className:ba.childPublicationIcon,alt:n.name}))),(0,e.h)(rt.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",n.name),(0,e.h)(rt.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(rt.xv.Detail,{paddingBottom:24,color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:ba.form,onSubmit:Qn=>{Qn.preventDefault(),Nr(ye)}},(0,e.h)("input",{className:ba.emailInput,placeholder:"Type your email...",value:ye,disabled:B,onChange:Qn=>{Qn.stopPropagation(),Qn.preventDefault(),Me(Qn.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},Re&&Re.map(Qn=>(0,e.h)("div",{className:ba.error},Qn))),(0,e.h)(Gn.zx,{type:"submit",disabled:B,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(Ye.gq,{gap:8,alignItems:"center",justifyContent:"center",className:ba.dismissButton,onClick:()=>W(!0)},(0,e.h)(rt.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(ll.Z,null)),(0,e.h)(rt.xv.B4,{align:"center",className:ba.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,M.j)(M.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,b.redirect)((0,v.getSigninUrl)({for_pub:n.subdomain,redirect:(0,v.getPostUrl)(n,t)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),Ln>0&&(0,e.h)("div",{className:ba.background,onClick:Ar,style:{opacity:`${Ln}%`}}))};function VR({postId:n,onClose:t}){return(0,o.d4)(()=>{(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(Hi.u_,{isOpen:!0,onClose:t},(0,e.h)(Hi.xB,{includeClose:!0,onClose:t}),(0,e.h)(Hi.fe,null,(0,e.h)(Ye.tu,{alignItems:"center",gap:24},(0,e.h)(Ye.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(Hi.r6,null,"Listen to this post"),(0,e.h)(rt.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(KR,null))),(0,e.h)(Hi.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(aa.z,{variant:"primary",href:(0,v.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function KR(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from($R(1,4)).map(t=>`${n}/${t}x.png ${t}x`).join(", ")}))}function*$R(n,t){for(let r=n;r<t;r++)yield r}var zR=Object.defineProperty,GR=Object.defineProperties,ZR=Object.getOwnPropertyDescriptors,G1=Object.getOwnPropertySymbols,YR=Object.prototype.hasOwnProperty,JR=Object.prototype.propertyIsEnumerable,Hf=(n,t,r)=>t in n?zR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$l=(n,t)=>{for(var r in t||(t={}))YR.call(t,r)&&Hf(n,r,t[r]);if(G1)for(var r of G1(t))JR.call(t,r)&&Hf(n,r,t[r]);return n},Pc=(n,t)=>GR(n,ZR(t)),ha=(n,t,r)=>(Hf(n,typeof t!="symbol"?t+"":t,r),r),Vf=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Kf="focus-comment-input",QR=["details","comments"],XR=(n,t)=>n&&!n.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,Dg.P)(t,n),qR=(n,t,r,i)=>n.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&r&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class $f extends e.Component{constructor(t,r){var i,f;super(t,r),ha(this,"onTopReached",B=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,M.jJ)({post:this.props.post,hasPaywall:B,surface:"publication"}),this.props.user&&!this.props.noPageview&&Promise.resolve(ie().post(`/api/v1/posts/${this.props.post.id}/seen`)))}),ha(this,"onCommentButtonClicked",B=>{if(this.props.post.type==="podcast"){B.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var q;(q=this.podcastCommentInput.current)==null||q.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(B.stopPropagation(),B.preventDefault(),document.dispatchEvent(new CustomEvent(Kf)))}),ha(this,"handleClickTab",B=>{this.setState({activeTab:B}),B==="comments"&&!this.state.podcastComments&&this.loadComments()}),ha(this,"handleAddPodcastComment",B=>{this.setState({podcastComments:[B].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),ha(this,"handleUpdatePodcastComments",B=>{let q=0;const ye=(Re,ze)=>Re.map(et=>et.id===ze.id?(ze.status==="deleted"?q-=1:q+=ze.children.length-et.children.length,ze):Pc($l({},et),{children:ye(et.children,ze)})),Me=ye(this.state.podcastComments,B);this.setState({podcastComments:Me,addedPodcastComments:this.state.addedPodcastComments+q})}),ha(this,"handleUpdateSortPodcastComments",B=>{(0,M.j)(M.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:B}),this.setState({commentSort:B},()=>{this.loadComments()})});const x=(0,b.getUrlHash)();this.state={autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=t.post.default_comment_sort)!=null?i:"best_first",activeTab:QR.includes(x)?x:"details",loadedWithHeaderLink:typeof window!="undefined"&&((f=window.location.hash)==null?void 0:f.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=rL(t.post.body_html),this.state.truncated=t.truncateAt?nL(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,v.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,v.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.shouldShowRecommendCta=XR(t.pub,t.user),this.subscribeModalWrapper=(0,e.createRef)();const W=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&W&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!x&&!t.readerIsSearchCrawler}loadReactors(){return Vf(this,null,function*(){const[t,r]=yield Promise.all([ie().get(`/api/v1/post/${this.props.post.id}/reactors`),ie().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:r.body})})}componentDidMount(){return Vf(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,he.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,M.j)(M.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,M.K8)({post:this.props.post});const t=(0,v.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(r=>(0,e.h)(Jt.FN,Pc($l({},r),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(r=>(0,e.h)(Jt.FN,Pc($l({},r),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return Vf(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const r=yield ie().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:r.body.comments})}catch(r){alert((0,b.getNetworkErrorMessage)(r))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,M.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:r,pub:i,getSettingFor:f}=this.props,{canShowSubscribeFooterAfterPost:x}=this.state;return t&&x?qR(i,r,f("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const r=this.props.pub.post_preview_limit||he.DEFAULT_PREVIEW_LIMIT;let i="",f=!1;for(let x=t.childNodes.length-1;x>=0;x--){const k=t.childNodes[x];if(i+=k.textContent,i.length>r){f=!0;break}}return f}render({commentsEnabled:t,user:r,pub:i,post:f,freeSignup:x,freeSignupEmail:k,reaction_token:W,invisible:B,paywall:q,onChange:ye,hideTitle:Me,noTitleLink:Re,showComments:ze,fromPostPage:et,freeTrialCoupon:Je,showRestackModal:dt,stripe_publishable_key:Et,crossPostInfo:wt},{activeTab:xt,loadedWithHeaderLink:Bt,truncated:kt,coupon:on,autoPlay:pn,autoPlayVoiceOver:En,podcastComments:vn,commentSort:hn,addedPodcastComments:qn,reactors:Yn,restackers:$n}){var yn,mn,cr,Hn,Kn;const Zn=(0,xi.default)("like_posts_enabled");let tr=null;(r&&(r.is_subscribed||r.is_free_subscribed)||x||i.podcast_feed_url||(mn=(yn=f.section)==null?void 0:yn.podcastSettings)!=null&&mn.podcast_feed_url)&&(tr=(0,v.getPodcatcherSetupUrl)(i));const lr=!q||q&&this.shouldTrackPaywallPostSeen(),Fn=f.type==="video"&&(q?Sx:Cl),zn=f.type==="podcast"&&t,an=f.comment_count+qn,In=this.shouldShowUFI(),Yt=J1(f),ur=Yn?Yn.length>0:!1;let Ln="paid subscribers";return f.audience==="founding"&&(Ln=`subscribers in the ${(cr=(0,fa.getFoundingTierName)(i))!=null?cr:"Founding Member"} plan`),(0,e.h)("article",{className:d()(`typography ${f.type}-post post`,{"tw-p-0":f.type==="podcast"}),ref:this.containerRef},(r==null?void 0:r.is_contributor)&&(f==null?void 0:f.id)&&(f==null?void 0:f.type)==="page"&&(0,e.h)(aa.z,{variant:"themed-secondary",href:(0,Ze.getEditPostUrlById)(i,f.id,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},"Edit"),(0,e.h)(oL,{post:f,user:r,onChange:ye}),(0,e.h)(jl.ZP,{ref:this.shareDialogRef,user:r,pub:i,post:f,reaction_token:W,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(HR,{pub:i,post:f,stripe_publishable_key:Et}),f.videoUpload&&Fn&&(0,e.h)(Fn,{mediaUpload:f.videoUpload,pub:i,post:f,autoPlay:pn,restorePlaybackLocation:!0,reaction_token:W}),f.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(K6,{bylinesEnabled:i.bylines_enabled,commentCount:an,commentsEnabled:t,freeSignupEmail:k,isFreeSignup:x,isLikesEnabled:Zn,isPaywall:q,post:f,pub:i,magicToken:W,renderEditButton:()=>(0,e.h)(kf.l,{pub:i,post:f,iconHeight:18,user:r,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:r,onChange:ye,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached}),zn&&(0,e.h)(Y6,{activeTab:xt,loadedWithHeaderLink:Bt,commentCount:an,onClickTab:this.handleClickTab})):(0,e.h)(e.Fragment,null,(0,e.h)(Ec,{user:r,pub:i,post:f,isOnPostPage:!0,freeSignup:x,freeSignupEmail:k,reaction_token:W,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Me,noTitleLink:Re,onChange:ye,hideDate:f.type==="page",hideAudience:f.type==="page",showReactions:Zn,showComments:ze,showLabel:!0,showUpdatedIcons:!0,fromPostPage:et,onClickCommentButton:this.onCommentButtonClicked,reactors:Yn,showRestackModal:dt}),!B&&lr&&(0,e.h)(oe,{onVisible:()=>this.onTopReached(q)}),f.type==="podcast"&&(q&&!(0,fa.podcastPostIsFreePreview)(f)?(0,e.h)(Ox,{pub:i,post:f,duration:f.podcast_duration,paywallAudience:Ln}):(0,e.h)(ks,{feature:"Podcast",pub:i,src:f.podcast_url,duration:f.podcast_duration,autoPlay:pn||(0,b.getUrlHash)()==="play",metricsPost:f,addToPodcastLink:tr})),(f.has_voiceover||!!f.voiceoverUpload)&&(0,e.h)(sT,{pub:i,post:f,mediaUploadId:f.voiceover_upload_id,duration:(Hn=f.voiceoverUpload)==null?void 0:Hn.duration,autoPlay:En,href:f.canonical_url,isPaywalled:!f.voiceover_upload_id}),!f.voiceoverUpload&&En&&Yt&&(0,e.h)(VR,{postId:f.id,onClose:()=>{(0,M.j)(M.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:f.id}),this.setState({autoPlayVoiceOver:!1})}})),wt?(0,e.h)(iN,{postType:f.type,crossPostInfo:wt}):null,(f.type!=="podcast"||xt==="details"||!t)&&(0,e.h)("div",{className:d()({"container container--podcast-post container--podcast-post-with-ufi":f.type==="podcast"})},(0,e.h)("div",{className:"available-content"},(0,e.h)(Gu,{html:kt||f.body_html,pub:i,trackSelection:!0,user:r,freeSignup:x,freeSignupEmail:k,post:f,paywall:q,showing_behind_paywall:!!f.post_paywall_content_for_google})),f.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(Gu,{html:f.post_paywall_content_for_google,pub:i,trackSelection:!1,user:r,freeSignup:x,freeSignupEmail:k,post:f,paywall:q})),!B&&lr&&(0,e.h)(oe,{onVisible:()=>this.onBottomReached(q)}),q&&!f.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(qu,$l({user:r,freeSignupEmail:k,freeSignup:x,publication:i,post:f,fromPostPage:et,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Je:null},Object.assign({title:`${f.type==="video"&&((Kn=f.videoUpload)==null?void 0:Kn.preview_duration)>0?"The full":"This"} ${(0,he.getPrintedPostType)(f.type)} is for ${Ln}`,reauthenticationTitle:"To read this, please re-authenticate."},q))),(0,e.h)(_1,{post:f})):kt?(0,e.h)("p",null,(0,e.h)(gt.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",I`show full post`)):!["page"].includes(f==null?void 0:f.type)&&(0,e.h)(e.Fragment,null,In&&(0,e.h)(eL,{pub:i,post:f,user:r,freeSignup:x,freeSignupEmail:k}),!In&&this.shouldShowRecommendCta&&(0,e.h)(G8,{pub:i}),(0,xi.default)("like_posts_enabled")&&i.community_enabled&&ur&&(0,e.h)(Jt.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(d1,{post:f,pub:i,user:r,reactors:Yn,secondaryFaces:$n})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(Ho.Mp,{post:f,pub:i,user:r,onChange:ye})),(0,e.h)(_1,{post:f})),f.show_guest_bios&&f.type!=="podcast"&&(0,e.h)(tL,{user:r,pub:i,post:f})),f.type==="podcast"&&xt==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(JA,{comments:vn,expectedCommentCount:an,post:f,pub:i,sort:hn,token:W,user:r,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})))}}ha($f,"contextType",gi),ha($f,"displayName","Post");const zf=(0,Jt.dd)((0,De.us)($f)),eL=({pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:f,overridePledgesEnabled:x})=>{const{getSettingFor:k}=(0,De.So)(),W=n.payments_state==="disabled"&&!n.invite_only&&(k("payment_pledges_enabled")||x),B=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":W&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?"pledge_upsell":"free_upsell";(0,o.d4)(()=>{(0,M.j)(M.FP.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:t.id,type:B})},[n.id,t.id,B]);const q=(0,he.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(oe,{onVisible:()=>{(0,M.j)(M.FP.POST_END_CTA_SEEN,{pub_id:n.id,post_id:t.id,type:B})}}),(0,e.h)("h3",null,W&&(r!=null&&r.is_free_subscribed)?"Support ":"Subscribe to ",n.name),(0,e.h)("p",{className:"end-cta-author-subs"},q?`By ${q}`:null,q&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),W&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?(0,e.h)(Gn.zx,{priority:"primary-theme",onClick:()=>{(0,M.j)(M.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,b.redirect)((0,Ze.getSubscribeUrl)(n,{utm_source:"post-end-cta"}),{local_navigation:!1})}},"Pledge your support"):(0,e.h)(Fs,{pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:f,isStatic:!1,source:"post-end-cta"}))},Z1=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Ec=({allowEdit:n,allowSendEmail:t,allowTruncate:r,base_url:i,children:f,className:x,hideAudience:k,hideDate:W,hideTitle:B,hidePinning:q,noTitleLink:ye,isStatic:Me,isFreePreview:Re,is_draft:ze,onChange:et,post:Je,pub:dt,reaction_token:Et,showComments:wt,showDatetime:xt,showEmailSent:Bt,showReactions:kt,showShare:on,showSubtitle:pn,showPhoto:En,showLabel:vn,showRestack:hn,showCommentRestack:qn,hideAuthor:Yn,user:$n,utm_source:yn,showUpdatedIcons:mn,fromPostPage:cr,onClickCommentButton:Hn,reactors:Kn,inThreadHead:Zn,publishedPost:tr,compEndsSoon:lr,compEndedRecently:Fn,siteConfigValues:zn={},eligibleForTTS:an,showRestackModal:In,showIcon:Yt,isOnPostPage:ur})=>{const Ln=(0,P.isMobile)({checkFirst4:!0}),Ar=typeof r=="number"?r:45,mr=Je.title&&Je.title.length>Ar,Nr=ze?Je.draft_title:Je.title,Qn=[(Yt||Je.type==="thread")&&(0,e.h)(F8,{postType:Je.type,isStatic:Me,height:15,className:Je.type}),mr&&r?(0,he.truncateWords)(Nr,Ar):Nr],Or=ze?Je.draft_subtitle:Je.subtitle;Je.section_id&&dt.sections&&dt.sections.length&&(Je.section=dt.sections.find(oi=>oi.id===Je.section_id));const gr=!["page"].includes(Je==null?void 0:Je.type),Br=gr&&Me&&lr&&(zn==null?void 0:zn.continue_support_cta_in_newsletter_emails),wo=J1(Je)||an||Je.voiceoverUpload,Gr=gr&&Me;let ro;Je.post_url_override?ro=Je.post_url_override:Me?ro=Ei.Substitutions.POST_TITLE_URL:ro=`${(0,Ze.getPostUrl)(dt,Je)}${yn?`?utm_source=${yn}`:""}`;const la=`${dt.base_url+(Je.section?(0,Ze.getSectionUrl)(dt,{section:Je.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:d()("post-header",x)},vn&&(dt.parent_publication||Je.section)&&(0,e.h)(Jt.hs,{className:"post-label"},(0,e.h)(Jt.xv.Meta,{as:"a",size:14,href:la},dt.parent_publication?dt.name:Je.section.name)),Br&&(0,e.h)(Q6,{post:Je,compAlreadyExpired:Fn}),!B&&(0,e.h)("h1",{className:d()("post-title",Je.is_published?"published":Je.type==="restack"?"email-only-cross-post":Je.type==="adhoc_email"?"adhoc":"unpublished")},ye?Qn:(0,e.h)("a",{href:ro},Qn)),pn&&Or&&(0,e.h)("h3",{className:"subtitle"},Or),ur&&!Me?(0,e.h)(Jt.tu,{paddingBottom:16},(0,e.h)(Jt.tu,{paddingY:16},(0,e.h)(aL,{post:Je,pub:dt})),Ln?cr&&(0,e.h)(Ho.mt,{post:Je,pub:dt,user:$n,isStatic:Me,postReactionToken:Et,onChange:et,allowEdit:n,hidePinning:q,showEmailSent:Bt,allowSendEmail:t,hideComments:!wt,onCommentsClick:Hn,showRestackModal:In}):(0,e.h)(Ho.Mp,{post:Je,pub:dt,user:$n,onChange:et,showRestackModal:In})):(0,e.h)(e.Fragment,null,gr&&!Me&&!tr&&!Zn?(0,e.h)(Dv,{className:"meta-subheader",pub:dt,post:Je,user:$n,showDate:!W,showDatetime:xt,isStatic:Me,postReactionToken:Et,onChange:et,allowEdit:n,hidePinning:q,showEmailSent:Bt,allowSendEmail:t,allowMobileFooter:cr,reactors:Kn,onCommentsClick:Hn,showRestackModal:In}):gr&&!Me&&tr?(0,e.h)(Ho._2,{post:Je,pub:dt,user:$n,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Et,showEmailSent:Bt,hideShare:!on||Je.type==="restack",hideComments:Je.type==="restack",hideSavePost:Je.type==="restack",hideReactions:Je.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!W,showDatetime:xt,showAuthor:!Yn},position:"publisher-post-list"}):Zn&&!Me?(0,e.h)(Ho._2,{post:Je,pub:dt,user:$n,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Et,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,onChange:et,preambleConfig:{showAudience:!k,showDate:!W,showDatetime:xt,showAuthor:!Yn},position:"publisher-post-list"}):gr?(0,e.h)(n8,{user:$n,pub:dt,post:Je,showDate:!W,showDatetime:xt,showEmailSent:Bt,showAudience:!k,showReactions:!Gr&&kt,showComments:!Gr&&wt,showShare:!Gr&&on,showRestack:!Gr&&hn,reaction_token:Et,onChange:et,isStatic:Me,isFreePreview:Re,sharedShareDialog:!0,base_url:i,allowSendEmail:t,allowEdit:n,showAuthor:!Yn,showPhoto:En,hidePinning:q,showUpdatedIcons:mn,inThreadHead:Zn,fromPostPage:cr,onClickCommentButton:Hn,reactors:Kn}):(0,e.h)("div",{className:"spacer",style:{height:24}}),gr&&Gr&&(0,e.h)(Ho.yT,{customization:{showShare:on,showComments:wt,showReactions:kt,showListen:!hn&&!Re&&wo,showSave:!hn,showRestack:hn,showCommentRestack:qn}})),f)};class wc extends e.Component{constructor(){super(...arguments),ha(this,"onClick",t=>{const r=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,b.redirect)(r,{event:t})}),ha(this,"getLink",()=>{var t;return this.props.linkToComments?(0,Ze.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,v.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,Ze.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:r,pub:i,user:f,showDate:x,hideShare:k,authorInMeta:W,imageAssetSize:B,imageAspectRatio:q,onChange:ye,linkToComments:Me,showPublicationName:Re,isBigPost:ze,showPins:et,hideDescription:Je,hideAuthor:dt,isBelowTheFold:Et}){const wt=this.getLink(),xt=typeof window=="undefined"||(0,xi.default)("like_posts_enabled"),Bt=!dt&&!W&&(i==null?void 0:i.bylines_enabled)&&(0,he.getPrintedByline)(i,r),kt=this.props.showCoverImage&&((0,xe.getCoverImageUrl)(r)||!this.props.coverImageOptional);!B&&!q&&(q=1.32);const on=B||336,pn=(0,he.getBylineUsers)(r);return(0,e.h)("div",{className:d()("post-preview",t,{"has-image":kt,"has-author-line":!W}),onClick:this.onClick},(0,e.h)(Jt.tu,{className:"post-preview-container"},kt&&r.type==="restack"&&(0,e.h)(Jt.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(dc.Z,{height:ze?26:16,className:"restack"}),(0,e.h)(Jt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(Jt.hs,{className:"post-preview-content-container",gap:4},kt&&(0,e.h)(gs,{className:"post-preview-image",imageAspectRatio:q,post:r,imageWidth:on,isBelowTheFold:Et}),(0,e.h)("div",{className:"post-preview-content"},(i==null?void 0:i.parent_publication)&&ze&&(0,e.h)(Jt.hs,{className:"post-label"},(0,e.h)(Jt.xv.Meta,{as:"a",size:14,href:`${i.base_url}/?utm_source=substack&utm_medium=menu`},i.name)),!kt&&r.type==="restack"&&(0,e.h)(Jt.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(dc.Z,{height:ze?26:16,className:"restack"}),(0,e.h)(Jt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:wt,className:`post-preview-title ${r.type}`},r.type==="thread"&&(0,e.h)(Bf,{height:ze?26:17,className:"thread"}),r.type==="podcast"&&(0,e.h)(ho,{height:ze?26:17,className:"podcast"}),r.type==="video"&&(0,e.h)(qv,{height:ze?26:19,width:ze?26:19,className:"video"}),Me&&r.type!=="thread"&&"Comments on: ",(0,he.truncateWords)(r.title,this.getMaxTitleLength())),!Je&&(0,e.h)("a",{href:wt,className:"post-preview-description"},mi()((0,he.truncateWords)(r.description,this.getMaxDescriptionLength()))),Bt&&(0,e.h)("div",{className:"post-preview-author"},pn.length>0?(0,he.oxfordComma)(pn.map(En=>(0,e.h)(sa.Ct,{subject:En,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(En,i),onClick:vn=>vn.stopPropagation()},En.name)))):(0,he.getPrintedByline)(i,r)),i&&(0,e.h)(Ho._2,{pub:i,post:r,user:f,hideShare:r.type==="restack"||k,hideReactions:r.type==="restack"||!xt,hideComments:r.type==="restack"||!(0,he.showCommentsOnPost)({publication:i,post:r}),hideSavePost:r.type==="restack",showRestackButton:r.type!=="restack",hideFeedRestackButton:r.type==="restack",allowEdit:r.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:ye,showPreamble:!0,preambleConfig:{showPins:et,showAudience:!0,showDate:x,showAuthor:r.type!=="restack"&&!dt&&!Bt&&W,showPublicationName:Re,showCrossPostedPublicationName:!0},position:"post-list"})))))}}ha(wc,"contextType",Rt.QA);const Y1=({className:n,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${n||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),tL=({user:n,pub:t,post:r})=>{const i=(0,he.getBylineUsers)(r).filter(f=>f.is_guest);return i.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),i.map(f=>{const x=(0,he.guessFirstName)(f.name);let k=f.primaryPublicationSubscribeUrl;k&&(n!=null&&n.email)&&(k=(0,v.updateQuery)(k,{email:n.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const W=(0,v.updateQuery)((0,Ze.getReaderProfileUrl)(f),{utm_campaign:"guest_post_bio",utm_medium:"web"}),B=Cf.ZP.hasCustomProfilePhoto(f);return(0,e.h)("div",{className:d()("post-contributor-bio",{"post-contributor-bio-no-text":!f.bio}),"data-user-id":f.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},B&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(sa.Ct,{subject:f,utmSource:"byline"},(0,e.h)(Cf.ZP,{size:52,user:n,pub:t,subject:f}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},f.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!f.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)(Jt.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(sa.Ct,{subject:f,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:W,native:!0},f.name)),(0,e.h)(ai.s,{size:"sm",tier:f.bestseller_tier,userId:f.id})),f.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},f.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},k&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:k,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},"Subscribe to ",x)))))))))))}))};class aV extends null{render({renderPost:t,posts:r,hideFirstHeading:i,className:f,top:x,children:k}){return r=r.slice(0).sort((W,B)=>dayjs(B.post_date)-dayjs(W.post_date)),h("div",{className:`calendared-post-list ${f||""}`},x,flat(this.renderByHeading(r,"year",(W,B)=>[!B.isSameNow("year")&&h("h2",{date:B},B.year()),this.renderByHeading(W,"month",(q,ye)=>[!(ye.isSameNow("year")&&ye.isSameNow("month"))&&h("h3",{date:B},get_month_name(ye)," ",!ye.isSameNow("year")&&ye.year()),q.map(Me=>t(Me,r.indexOf(Me),r))])]),1/0).filter(W=>W).filter((W,B,q)=>!i||B>=q.findIndex(ye=>!ye.props||!ye.props.date)),k)}renderByHeading(t,r,i){return Array.from(group_by(t,f=>dayjs(f.post_date)[r]())).sort((f,x)=>x[0]-f[0]).map(([,f])=>i(f,dayjs(f[0].post_date)))}}function nL(n,t=1e4,r=t){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<t||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>r);return i.innerHTML}function rL(n,t=500){if(typeof window=="undefined")return!1;const r=document.createElement("div");r.innerHTML=n;let i="",f=!1;for(let x=r.childNodes.length-1;x>=0;x--){const k=r.childNodes[x];if((0,b.hasClass)(k,"button-wrapper")||(0,b.hasClass)(k,"subscription-widget-wrap")){f=!0;break}if(i+=k.textContent,i.length>t)break}return!f}function oL({post:n,user:t,onChange:r}){const{onSave:i}=(0,Ho.vk)({post:n,isSaved:!1});return(0,o.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,v.updateQuery)({action:null})),t)){const x=i();r({post:Pc($l({},n),{is_saved:x})})}},[]),null}function J1(n){var t;return(t=n.audio_items)==null?void 0:t.some(r=>r.type==="tts")}const iL=new Intl.DateTimeFormat(void 0,{dateStyle:"medium"});function aL({post:n,pub:t}){const{publishedBylines:r=[]}=n,i=t.bylines_enabled&&(0,he.getPrintedByline)(t,n)&&n.type!=="podcast",f=i&&t.byline_images_enabled&&r.some(({photo_url:k})=>!!k),x=n.type!=="page";return(0,e.h)(Jt.hs,{justifyContent:"start",gap:12,alignItems:"center"},f&&(0,e.h)(Jt.hs,null,(0,e.h)(Rl.ZP,{faces:r,hoverProfiles:!0,maximum:4,reverse:!0})),(0,e.h)(Jt.tu,null,i&&(0,e.h)(Jt.xv.Meta,{color:"pub-primary-text"},(0,e.h)(Vd.M,{array:r,formatter:k=>(0,e.h)(sa.Ct,{subject:k,utmSource:"byline"},(0,e.h)(Jt.xv,{as:"a",href:(0,Ze.getReaderProfileUrl)(k),decoration:"hover-underline"},k.name)),limit:4})),(0,e.h)(Jt.hs,{gap:4},(0,e.h)(Jt.xv.Meta,{color:"pub-secondary-text"},iL.format(Bn()(n.post_date).toDate())),x&&(0,xe.isPaidAudience)(n.audience)&&(0,e.h)(Jt.xv.Meta,{color:"pub-secondary-text"},"\u2219 Paid"))))}var sL=Object.defineProperty,Q1=Object.getOwnPropertySymbols,lL=Object.prototype.hasOwnProperty,uL=Object.prototype.propertyIsEnumerable,Gf=(n,t,r)=>t in n?sL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Zf=(n,t)=>{for(var r in t||(t={}))lL.call(t,r)&&Gf(n,r,t[r]);if(Q1)for(var r of Q1(t))uL.call(t,r)&&Gf(n,r,t[r]);return n},ys=(n,t,r)=>(Gf(n,typeof t!="symbol"?t+"":t,r),r),cL=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class $s extends e.Component{constructor(t,r){if(super(t,r),ys(this,"onTabClick",i=>f=>{f.preventDefault(),this.loadTab(i)}),ys(this,"onSearchInput",i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")}),ys(this,"onSearchKeyDown",i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))}),ys(this,"onPostClicked",(i,f,x,k)=>{(0,M.j)(M.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:f,tab:this.state.tab.id,rank_in_feed:x,source:k!=null?k:this.props.source})}),ys(this,"onSearchBlur",i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")}),ys(this,"loadTab",(i,f)=>cL(this,null,function*(){const x=this.state.tabs.find(ye=>ye.id===i);let k=!1;if(x.id==="search"&&typeof f=="string"&&x.query!==f&&(k=!0,x.query=f,x.posts=null,x.fullyLoaded=!1,x.loading=!1,x.loadingError=null),x.id!==this.state.tab.id?(this.setState({tab:x},()=>{x.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:x.id,search:x.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({search:x.query||null})),x.loading||x.fullyLoaded)return;if(x.id==="search"&&!x.query){x.posts=[],x.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const W=(0,he.randomString)();if(x.loading=W,x.loadingError=null,this.setState({tabs:this.state.tabs}),x.id==="search"&&x.query&&(yield new Promise(ye=>setTimeout(ye,300)),x.loading!==W))return;!this.state.tabs.find(ye=>ye.posts||ye.fullyLoaded||ye.loading||ye.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(ye=>setTimeout(ye,this.props.delayFirstLoad)));const q=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const ye=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),Me=(yield ie().get(q).query(Zf(Zf(Zf({sort:x.id==="search"?"new":x.id,search:x.id==="search"?x.query:"",offset:(x.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(x.loading!==W)return;x.posts=x.posts?x.posts.concat(Me):Me,x.fullyLoaded=Me.length<ye||this.props.maxPosts&&x.posts.length>=this.props.maxPosts}catch(ye){console.error("Failed to load tab:",ye),x.loadingError=ye}x.loading=!1,this.setState({tabs:this.state.tabs})})),ys(this,"onChange",({post:i})=>{i&&((0,b.stateTransaction)(this,f=>{let x=!1;const k=f.tabs.map(W=>W.posts).filter(W=>Array.isArray(W));for(const W of k){const B=W.findIndex(q=>q.id===i.id);B!==-1&&(W[B]=i,x=!0)}x&&this.setState({tabs:f.tabs})}),this.props.onChange&&this.props.onChange(i))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,r;let i=[];i.push({id:"new",title:this.props.newTitle||"New",posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||"Top",posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((r=this.props.pub)!=null&&r.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||"Community",posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:"Search",posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const f=i.find(x=>x.id===this.props.sort)||this.props.search&&i.find(x=>x.id==="search")||i[0];return{tabs:i,tab:f}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:r,disableInteractive:i,emptyMessage:f="No posts",filterPosts:x,hideAuthor:k,hideSearchTab:W,hideShare:B,isBelowTheFold:q,isPodcast:ye,maxPosts:Me,maxTitleLength:Re,pinnedPosts:ze,profile:et,pub:Je,renderLoading:dt,renderPosts:Et,renderTabs:wt,renderSeeAll:xt,showMonthDividers:Bt,showPins:kt,showPublicationName:on,source:pn,user:En},{tabs:vn,tab:hn}){const qn=Bt&&hn.id==="new",Yn=vn.find(an=>an.id==="search"),$n=vn.find(an=>an.id==="community");let yn=Array.isArray(hn.posts)?hn.posts.filter(an=>!(Je&&hn.id==="top"&&an.top_exclusions.includes(Je.id))).filter(an=>Je!=null&&Je.section&&(ze!=null&&ze.length)?!ze.find(In=>In.id===an.id):!0).filter(an=>!he.hidePaidPostsFor.includes(Je==null?void 0:Je.subdomain)||an.audience==="everyone"||(En==null?void 0:En.is_subscribed)).filter(x||(()=>!0)):[];Je!=null&&Je.section&&(ze!=null&&ze.length)&&["new","top"].includes(hn.id)&&(yn=[...ze,...yn]);const mn=yn.length===0,cr=!yn&&!hn.loadingError,Hn=yn.some&&yn.some(an=>an.cover_image);let Kn;et&&(Kn=new Map(et.publicationUsers.map(an=>[an.publication.id,an.publication])));const Zn=Me?yn.slice(0,Me):yn,tr=Et?Et({posts:Zn,linkToComments:hn===$n,onClickPost:({event:an,post:In,index:Yt,source:ur})=>this.onPostClicked(an,In.id,Yt,ur),postGroups:qn?dL(Zn):null}):[];if(!Et){let an;Zn.forEach((In,Yt)=>{if(qn){const ur=Ms()(In.post_date).format("MMMM YYYY");ur!==an&&(Yt!==0&&tr.push((0,e.h)("h3",null,ur)),an=ur)}tr.push((0,e.h)(wc,{key:In.id,className:"portable-archive-post",post:In,pub:Je||Kn&&Kn.get(In.publication_id),user:En,showDate:!0,showCoverImage:Hn,authorInMeta:(0,he.getBylineUsers)(In).length<=1&&t!==!1,linkToComments:hn===$n,onChange:this.onChange,disableInteractive:i,showPins:kt,showPublicationName:on,hideAuthor:k,onClick:ur=>this.onPostClicked(ur,In.id,Yt,pn),maxTitleLength:Re,hideShare:B,isBelowTheFold:q}))})}const lr=ye?(0,Ze.getPodcastArchiveUrl)({pub:Je,section:Je.section,params:{sort:hn.id,search:hn.query}}):(0,v.getArchiveUrl)(Je,{params:{sort:hn.id,search:hn.query}}),Fn=xt?xt({url:lr}):(0,e.h)("a",{className:"portable-archive-all",href:lr,native:!0},"See all ",(0,e.h)(ct,{height:12,width:12})),zn=dt?dt():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(Y1,{pub:Je}));return(0,e.h)("div",{className:d()("portable-archive",r,{"empty-list":mn})},wt&&wt({activeTabId:hn.id,isSearching:hn===Yn,showSearch:!!(Yn&&!W),searchInputProps:{value:Yn==null?void 0:Yn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:an=>{this.searchInput=an},tabs:vn.filter(an=>!an.hidden),onClick:an=>{this.loadTab(an)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(vn[0].id)}}),!wt&&(0,e.h)("div",{className:"portable-archive-tabs"},hn===Yn?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(Qu,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:an=>this.searchInput=an,className:"portable-archive-search-bar-input",type:"text",placeholder:"Search\u2026",value:hn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(D.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(vn[0].id)})):(0,e.h)(e.Fragment,null,vn.filter(an=>!an.hidden).map(({id:an,title:In})=>(0,e.h)("a",{className:`portable-archive-tab ${an}-tab ${hn.id===an?"active":""}`,onClick:this.onTabClick(an)},(0,e.h)("span",{className:"portable-archive-tab-content"},In))),Yn&&!W&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(Qu,null)))),(0,e.h)("div",{className:"portable-archive-list"},hn.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},"Failed to load posts"):yn.length===0&&!hn.loading?(0,e.h)("p",{className:"portable-archive-empty"},hn.id!=="search"?f:hn.query?"No results":`Search ${Je?Je.name:""}`):(0,e.h)(e.Fragment,null,tr,!Me&&!cr&&!hn.loading&&!hn.fullyLoaded&&(0,e.h)(oe,{threshold:640,onVisible:()=>this.loadTab(hn.id,hn.query)})),hn.loading||cr?zn:Me&&yn.length>=Me&&Fn))}}const dL=n=>{let t;const r=[];return n.forEach((i,f)=>{const x=Ms()(i.post_date).format("MMMM YYYY");x!==t?(f===0?r.push({label:"",posts:[i]}):r.push({label:x,posts:[i]}),t=x):r[r.length-1].posts.push(i)}),r},X1={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},fL=({tabs:n,activeTabId:t,onClick:r})=>(0,e.h)(Ye.gq,{gap:8},n.map(i=>(0,e.h)(pL,{onClick:()=>{r(i.id)},active:i.id===t},i.title))),pL=({active:n,onClick:t,children:r})=>(0,e.h)("div",{className:d()(X1.pillTab,{[X1.pillTabActive]:n}),role:"button",onClick:t},r),q1={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},bs=({width:n,height:t,aspectRatio:r})=>r?(0,e.h)("div",{style:`aspect-ratio:${r}`},(0,e.h)("div",{className:q1.container,style:{width:n,height:t!=null?t:"100%"}})):(0,e.h)("div",{className:q1.container,style:{width:n,height:t}}),Yf=(0,e.createContext)({url:"",linkToComments:!1}),zl=3/2,ey=16/9,hL=(0,tt.forwardRef)(({variant:n},t)=>["grid","grid-groups"].includes(n)?(0,e.h)(Jt.tu,{gap:12,ref:t},(0,e.h)(bs,{aspectRatio:zl}),(0,e.h)(Jt.tu,{gap:8},(0,e.h)(bs,{height:24,width:"70%"}),(0,e.h)(bs,{height:20,width:"90%"}),(0,e.h)(bs,{height:20,width:"50%"}))):n==="list"?(0,e.h)(Jt.tu,{gap:8,ref:t},(0,e.h)(bs,{height:28,width:"60%"}),(0,e.h)(bs,{height:24,width:"80%"}),(0,e.h)(bs,{height:20,width:"20%"})):null),ty={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},ny=(0,tt.forwardRef)(({postCount:n,variant:t},r)=>(0,e.h)("div",{className:d()({[ty.loadingContainerGrid]:["grid","grid-groups"].includes(t),[ty.loadingContainerList]:t==="list"}),ref:r},Array.from(new Array(n)).map(()=>(0,e.h)(hL,{variant:t})))),Gl={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var mL=Object.defineProperty,_L=Object.defineProperties,gL=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,yL=Object.prototype.propertyIsEnumerable,oy=(n,t,r)=>t in n?mL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bL=(n,t)=>{for(var r in t||(t={}))vL.call(t,r)&&oy(n,r,t[r]);if(ry)for(var r of ry(t))yL.call(t,r)&&oy(n,r,t[r]);return n},PL=(n,t)=>_L(n,gL(t));const Cc=({children:n,communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:f,isPodcast:x,maxPosts:k,pinnedPosts:W,newPosts:B,pub:q,search:ye,sectionId:Me,showMonthDividers:Re,sort:ze,sortTabs:et,source:Je,user:dt,variant:Et="list"})=>(0,e.h)($s,{communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:f,isPodcast:x,maxPosts:k,newPosts:B,pinnedPosts:W,pub:q,renderPosts:({posts:wt,linkToComments:xt,onClickPost:Bt,postGroups:kt})=>kt?kt.map(({label:on,posts:pn})=>(0,e.h)(e.Fragment,null,on&&(0,e.h)(e.Fragment,null,(0,e.h)(bf,{paddingTop:8,paddingBottom:8}),(0,e.h)(Jt.xv.Meta,{className:Gl.monthHeader,color:"pub-accent",paddingBottom:24},on)),n({posts:pn,linkToComments:xt,onClickPost:Bt}))):n({posts:wt,linkToComments:xt,onClickPost:Bt}),renderLoading:()=>(0,e.h)(ny,{variant:Et,postCount:k!=null?k:7}),renderSeeAll:({url:wt})=>Et==="grid-groups"?null:(0,e.h)(Jt.gq,{paddingTop:16},(0,e.h)(Jt.zx,{href:wt,rightIcon:(0,e.h)(ll.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},"See all")),renderTabs:({activeTabId:wt,isSearching:xt,tabs:Bt,searchInputProps:kt,searchRef:on,showSearch:pn,onClick:En,onClickSearch:vn,onClickSearchClose:hn})=>Et==="grid-groups"?null:xt?(0,e.h)(Jt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(Jt.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(Qu,{height:16,className:Gl.searchIcon}),(0,e.h)("input",PL(bL({},kt),{ref:on,type:"text",placeholder:"Search...",className:Gl.searchInput}))),(0,e.h)("div",{role:"button",onClick:hn,className:Gl.iconButton},(0,e.h)(D.Z,{height:20}))):(0,e.h)(Jt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(fL,{activeTabId:wt,tabs:Bt,onClick:En}),pn&&(0,e.h)("div",{role:"button",onClick:vn,className:Gl.iconButton},(0,e.h)(Qu,{height:20}))),sectionId:Me,search:ye,showMonthDividers:Re,sort:ze,sortTabs:et,source:Je,stateInUrl:!0,user:dt}),iy=(0,e.createContext)({alwaysShowActions:!1}),EL=({justified:n,post:t,pub:r,user:i,onChange:f})=>{const x=t.type==="restack";return(0,e.h)(Ho._2,{allowEdit:!x,editButtonIsLast:!0,hideComments:!(0,he.showCommentsOnPost)({publication:r,post:t})||x,hideReactions:!r.community_enabled||x,hideShare:x,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:t,pub:r,hideFeedRestackButton:x,showRestackButton:!x,style:"compressed",user:i,onChange:f,position:"pub-preview"})},Ga={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},zs=({clamp:n,post:t,pub:r,showPin:i})=>{const f=(0,he.getBylineUsers)(t);return(0,e.h)(Jt.xv.Meta,{className:Ga.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:Ga.icon},(0,e.h)(Bg,{size:12})),(0,xe.isPaidAudience)(t.audience)&&(0,e.h)("div",{className:d()(Ga.icon,n&&Ga.iconClamped)},(0,e.h)(Ov.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Ga.pub},"Published on ",t.restacked_pub_name),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:Ga.date,dateTime:Bn()(t.post_date).toISOString()},(0,Ho.fh)({post:t,showDatetime:!1})),t.type!=="restack"&&f.length>0&&r.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,he.oxfordComma)(f.map(x=>n?(0,e.h)("a",{className:Ga.link,href:(0,v.getProfileUrl)(x,r),onClick:k=>k.stopPropagation()},x.name):(0,e.h)(sa.Ct,{subject:x,utmSource:"byline"},(0,e.h)("a",{className:Ga.link,href:(0,v.getProfileUrl)(x,r),onClick:k=>k.stopPropagation()},x.name))),{noBreakSpace:!0})))},Zl=({align:n,clamp:t,lineHeight:r=20,maxLength:i=152,paddingBottom:f,post:x,size:k=14})=>{const{url:W}=(0,o.qp)(Yf);return(0,e.h)(Jt.tu,{paddingBottom:f},(0,e.h)(Jt.xv,{as:"a",align:n,href:W,clamp:t,color:"pub-secondary-text",font:"text",size:k,lineHeight:r},mi()((0,he.truncateWords)(x.description,i))))};var wL=St(98961);const Yl={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},Gs=({align:n,clamp:t,lineHeight:r=30,maxLength:i=140,paddingBottom:f,post:x,size:k=20})=>{const{url:W,linkToComments:B}=(0,o.qp)(Yf),q=k>=28;return(0,e.h)(Jt.tu,{paddingBottom:f},(0,e.h)(Jt.xv,{as:"a",href:W,align:n,clamp:t,font:"pub-headings",lineHeight:r,size:k,weight:"semibold","data-testid":"post-preview-title"},x.type==="thread"&&(0,e.h)(Bf,{height:q?26:17,className:Yl.icon}),x.type==="podcast"&&(0,e.h)(ho,{height:q?26:17,className:Yl.icon}),x.type==="video"&&(0,e.h)(wL.Z,{height:q?26:19,width:q?26:19,className:d()(Yl.icon,Yl.iconVideo,Yl[`iconVideo-${k}`]),strokeWidth:1.8}),B&&x.type!=="thread"&&"Comments on: ",(0,he.truncateWords)(x.title,i)))},Oc={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var CL=Object.defineProperty,OL=Object.defineProperties,SL=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,TL=Object.prototype.hasOwnProperty,IL=Object.prototype.propertyIsEnumerable,sy=(n,t,r)=>t in n?CL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DL=(n,t)=>{for(var r in t||(t={}))TL.call(t,r)&&sy(n,r,t[r]);if(ay)for(var r of ay(t))IL.call(t,r)&&sy(n,r,t[r]);return n},xL=(n,t)=>OL(n,SL(t));const ly=({actions:n,isSmall:t,post:r,pub:i})=>{const{isTablet:f}=da(),x=!!(0,xe.getCoverImageUrl)(r);return(0,e.h)("div",{className:d()(Oc.container,{[Oc.containerNoImage]:!x})},x&&(0,e.h)(gs,{className:Oc.image,imageAspectRatio:t?zl:ey,imageWidth:1280,isBelowTheFold:!1,post:r,squareImageSize:"large"}),(0,e.h)(Jt.tu,{className:Oc.content,alignItems:"center",justifyContent:"center",paddingX:x?32:64,paddingY:x?24:64},(0,e.h)(Gs,{post:r,align:"center",size:f?24:32,lineHeight:f?36:40,clamp:3,paddingBottom:8}),(0,e.h)(Zl,{post:r,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(zs,{post:r,pub:i}),(0,e.h)(Jt.tu,{paddingTop:20},n({justified:!1}))))},ML=n=>(0,e.h)(ly,xL(DL({},n),{isSmall:!0})),AL={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},NL=({actions:n,hideImage:t,post:r,pub:i})=>(0,e.h)(Jt.tu,null,!t&&(0,e.h)(gs,{post:r,className:AL.image,imageWidth:1250,imageAspectRatio:zl,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(Jt.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(Gs,{post:r,align:"center",size:32,lineHeight:40,clamp:4,paddingBottom:8}),(0,e.h)(Zl,{post:r,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(zs,{post:r,pub:i}),(0,e.h)(Jt.tu,{paddingTop:16},n({justified:!1})))),Jf={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--AXgbN",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},RL=({actions:n,hideImage:t,post:r,pub:i,showPin:f})=>{const{isMobile:x}=da();let k=!!i.community_enabled;return t&&!x&&(k=!1),(0,e.h)("div",{className:d()(Jf.container,{[Jf.containerNoImage]:t})},(0,e.h)(Jt.tu,{gap:8},(0,e.h)(Gs,{clamp:3,post:r,size:x?16:20,lineHeight:x?24:30}),(0,e.h)(Zl,{clamp:2,post:r,size:14,lineHeight:t?24:20}),(0,e.h)(zs,{post:r,pub:i,showPin:f})),!t&&(r.cover_image?(0,e.h)(gs,{className:Jf.image,post:r,imageWidth:x?150:320,imageAspectRatio:x?1:zl,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:k}))},LL={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},BL=({actions:n,post:t,pub:r})=>{const i=!!r.community_enabled;return(0,e.h)(Jt.tu,{padding:8},(0,e.h)(Jt.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(Jt.tu,{flex:"grow"},(0,e.h)(Gs,{post:t,clamp:2,size:14,lineHeight:20,paddingBottom:4}),(0,e.h)(zs,{clamp:1,post:t,pub:r})),(0,e.h)(gs,{className:LL.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),n({justified:i}))},kL={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},UL=({actions:n,hidePlaceholder:t,post:r,pub:i})=>{const f=!!i.community_enabled;return(0,e.h)(Jt.tu,null,r.cover_image&&(0,e.h)(gs,{post:r,className:kL.image,imageWidth:1250,imageAspectRatio:ey,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(Jt.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(Jt.tu,{gap:8,paddingBottom:12},(0,e.h)(Gs,{post:r,size:24,lineHeight:36,clamp:3}),(0,e.h)(Zl,{post:r,size:14,lineHeight:20,clamp:3}),(0,e.h)(zs,{post:r,pub:i})),n({justified:f})))},FL={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},jL=({actions:n,post:t,pub:r})=>{const{isMobile:i}=da(),f=!!r.community_enabled;return(0,e.h)(Jt.tu,{padding:i?0:8},(0,e.h)(gs,{post:t,className:FL.image,imageWidth:600,imageAspectRatio:zl,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(Jt.tu,{paddingTop:12,flex:"grow"},(0,e.h)(Jt.tu,{gap:8,flex:"grow",paddingBottom:12},(0,e.h)(Gs,{clamp:3,post:t,size:16,lineHeight:24}),(0,e.h)(Zl,{clamp:1,post:t}),(0,e.h)(zs,{post:t,pub:r})),n({justified:f})))},Sc={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu"},WL={jumbo:ly,"jumbo-small":ML,large:NL,listing:RL,mini:BL,"mobile-hero":UL,square:jL},Tc=({disableInteractive:n,hideImage:t,linkToComments:r,variant:i,post:f,pub:x,showPin:k,testid:W,user:B,utm:q,onChange:ye,onClick:Me})=>{const{alwaysShowActions:Re}=(0,o.qp)(iy),ze=WL[i];if(!ze)return(0,e.h)("div",null,"PostPreview: ",i," not implemented");const et=HL({linkToComments:!!r,post:f,pub:x,utm:q}),Je=dt=>{Me&&Me(dt),!n&&(0,b.redirect)(et,{event:dt})};return(0,e.h)(Yf.Provider,{value:{url:et,linkToComments:!!r}},(0,e.h)(Jt.tu,{className:d()(Sc.container,{[Sc.containerWithBackground]:["large","jumbo","jumbo-small"].includes(i)}),"data-testid":W,radius:4,onClick:Je},(0,e.h)(ze,{hideImage:t,post:f,pub:x,showPin:k,actions:({justified:dt})=>f.type==="restack"?null:(0,e.h)(Jt.tu,{className:d()(Sc.actions,{[Sc["actions--always-show"]]:Re})},(0,e.h)(EL,{justified:dt,post:f,pub:x,user:B,onChange:ye}))})))},HL=({linkToComments:n,post:t,pub:r,utm:i})=>n?(0,Ze.getPostUrl)(r,t,{comments:!0}):t.type==="video"?(0,v.updateQuery)(t.canonical_url,{autoPlay:!0}):i?(0,Ze.pathWithQuery)(t.canonical_url,i):t.canonical_url,Ma={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var VL=Object.defineProperty,KL=Object.defineProperties,$L=Object.getOwnPropertyDescriptors,Ic=Object.getOwnPropertySymbols,uy=Object.prototype.hasOwnProperty,cy=Object.prototype.propertyIsEnumerable,dy=(n,t,r)=>t in n?VL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Za=(n,t)=>{for(var r in t||(t={}))uy.call(t,r)&&dy(n,r,t[r]);if(Ic)for(var r of Ic(t))cy.call(t,r)&&dy(n,r,t[r]);return n},Jl=(n,t)=>KL(n,$L(t)),fy=(n,t)=>{var r={};for(var i in n)uy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ic)for(var i of Ic(n))t.indexOf(i)<0&&cy.call(n,i)&&(r[i]=n[i]);return r};const wi=n=>{const{flex:t,hideImages:r,linkToComments:i,posts:f,pub:x,showSectionPins:k,source:W,user:B,utm:q,variant:ye,onChange:Me,onClickPost:Re}=n;return ye==="two-three-two"?(0,e.h)(GL,Za({},n)):ye==="two-small-three-medium"?(0,e.h)(zL,Za({},n)):["mini-row","three-column-mini-row"].includes(ye)?(0,e.h)(ZL,Za({},n)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:d()(Ma.container,Ma[ye])},f.map((ze,et)=>(0,e.h)(e.Fragment,null,et>0&&["one-column-list","two-column-list","three-column-grid","large-listing-listing-column","square-square-column"].includes(ye)&&(0,e.h)(Jt.gq,{className:Ma.divider,borderBottom:"detail-themed"}),[2,4].includes(et)&&ye==="five-up"&&(0,e.h)(Jt.gq,{className:Ma.divider,borderBottom:"detail-themed"}),et%3===0&&et>0&&["three-column-grid"].includes(ye)&&(0,e.h)(Jt.gq,{className:Ma["long-divider"],borderBottom:"detail-themed"}),et>0&&["mini-row","three-column-mini-row"].includes(ye)&&(0,e.h)(Jt.gq,{className:Ma.divider,paddingY:16,alignItems:"center"},(0,e.h)(Jt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Tc,{testid:["large-listing-listing-column","two-small-one-large"].includes(ye)?`magazine-spot-${et+1}`:void 0,hideImage:r,linkToComments:i,post:ze,pub:x,showPin:k&&ze.is_section_pinned,user:B,utm:q,variant:py(ye,et),onChange:Me,onClick:Re&&W?Je=>{Re({event:Je,post:ze,index:et,source:W})}:void 0}))),ye==="two-small-one-large"&&(0,e.h)(Jt.gq,{borderBottom:"detail-themed"})))},zL=n=>{const t=n,{posts:r}=t,i=fy(t,["posts"]),f=r.slice(0,3),x=r.slice(3);return(0,e.h)(za,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(wi,Jl(Za({},i),{flex:"grow",variant:"large-listing-listing-column",posts:f,hideImages:!0})),(0,e.h)(wi,Jl(Za({},i),{flex:"grow",variant:"square-square-column",posts:x,hideImages:!1})))},GL=n=>{const t=n,{posts:r}=t,i=fy(t,["posts"]),f=r.slice(0,3),x=r.slice(3,5),k=r.slice(5);return(0,e.h)(za,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(wi,Jl(Za({},i),{flex:"grow",variant:"large-listing-listing-column",posts:f,hideImages:!0})),(0,e.h)(wi,Jl(Za({},i),{flex:"grow",variant:"square-square-column",posts:x,hideImages:!1})),(0,e.h)(wi,Jl(Za({},i),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},ZL=n=>{const{linkToComments:t,posts:r,pub:i,source:f,user:x,utm:k,variant:W,onChange:B,onClickPost:q}=n,ye=W==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:d()(Ma.container,Ma[W])},r.slice(0,ye).map((Me,Re)=>(0,e.h)(e.Fragment,null,Re>0&&(0,e.h)(Jt.gq,{className:Ma.divider,paddingY:16,alignItems:"center"},(0,e.h)(Jt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Tc,{linkToComments:t,post:Me,pub:i,user:x,utm:k,variant:py(W,Re),onChange:B,onClick:q&&f?ze=>{q({event:ze,post:Me,index:Re,source:f})}:void 0}))),W==="two-small-one-large"&&(0,e.h)(Jt.gq,{borderBottom:"detail-themed"})))},py=(n,t)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?t===0?"large":"listing":n==="two-small-one-large"?t===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",YL={container:"frontend-main-archive_page-module__container--Brctc"};function Ql({children:n,title:t,pub:r,user:i,freeSignup:f,freeSignupEmail:x,sort:k,search:W,newPosts:B,topPosts:q,communityPosts:ye,searchPosts:Me,sectionId:Re,isPodcast:ze,metadata:et}){const{getConfigFor:Je}=(0,Rt.xR)(),dt=!!Je("updated_archives"),Et=!!(r!=null&&r.theme);return(0,e.h)(S.ze,{value:{hasThemedBackground:Et}},et&&(0,b.setMetaData)(et),(0,e.h)("div",{className:d()("archive-page typography",{"use-theme-bg":Et,[YL.container]:dt})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),dt?(0,e.h)(Cc,{communityPosts:ye,communityTitle:"Discussion",freeSignup:f,freeSignupEmail:x,isPodcast:ze,newPosts:B,pub:r,search:W,searchPosts:Me,sectionId:Re,showMonthDividers:!0,sort:k,source:"archive",topPosts:q,user:i,variant:"list"},({posts:wt,linkToComments:xt,onClickPost:Bt})=>(0,e.h)(wi,{hideImages:r.theme.hide_images_from_list,linkToComments:xt,posts:wt,pub:r,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:Bt})):(0,e.h)($s,{communityTitle:"Discussion",user:i,freeSignup:f,freeSignupEmail:x,pub:r,sort:k,search:W,newPosts:B,topPosts:q,communityPosts:ye,searchPosts:Me,stateInUrl:!0,sectionId:Re,source:"archive",isPodcast:ze,showMonthDividers:!0}),n)))}var JL=Object.defineProperty,QL=(n,t,r)=>t in n?JL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,XL=(n,t,r)=>(QL(n,typeof t!="symbol"?t+"":t,r),r),Qf=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class qL extends e.Component{constructor(t,r){super(t,r),XL(this,"likesEnabled",(0,xi.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,ss.ZP)(this.props.notify_user)}componentDidMount(){return Qf(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return Qf(this,null,function*(){if(!this.state.hasMore)return;(yield(0,b.stateLock)(this,"loading",r=>Qf(this,[r],function*({hasMore:i,posts:f}){if(i){f=f||[];try{const k=(yield ie().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:f.length})).body;f=f.concat(k),i=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:f,hasMore:i})}catch(x){console.error(x)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(f=>(0,xe.isPaidAudience)(f.audience)&&!f.hidden).length===0)return;const r="__cookie_checked",i=(0,v.parseQuery)(window.location.search);i[r]||(i[r]="true",window.location.search=`?${(0,v.serializeQuery)(i)}`)}onChange({post:t}){if(t){const r=(this.state.posts||[]).map(i=>i.id).indexOf(t&&t.id);r!==-1&&(this.state.posts[r]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:r,freeSignup:i,freeSignupEmail:f,preloadedPosts:x,hide_intro_popup:k,children:W,blurbs:B,noBalanceHeroText:q},{posts:ye,hasMore:Me,share_on_load:Re}){const ze=[];for(const et of ye||x||[])et.hidden?Array.isArray(ze[ze.length-1])?ze[ze.length-1].push(et):ze.push([et]):ze.push(et);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(jl.ZP,{ref:et=>this.shareDialog=et,user:t,pub:r}),(0,e.h)(ot,{freeSignup:i,freeSignupEmail:f,user:t,post:null,publication:r,hidden:k||Re,blurbs:B,noBalance:q}),r&&r.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},ze.length===0&&!Me&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),ze.map((et,Je)=>Array.isArray(et)?this.renderHiddenPosts(et,Je):this.renderPost(et,Je)),Me?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(oe,{ref:et=>this.loader=et,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):r.has_posts&&ye&&ye.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,v.getBaseArchiveUrl)(r)},"View archive"))),W)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(xf,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(zf,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:r=>this.onChange(r),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,r){let i,f;return r===0?(i=t.slice(0,1),f=t.slice(1)):t.length<=3?(i=t,f=[]):(i=t.slice(0,2),f=t.slice(2)),(0,e.h)(e7,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:f,onChange:x=>this.onChange(x)})}}class e7 extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,M.j)(M.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:r,posts:i,collapsedPosts:f,onChange:x},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(W=>(0,e.h)(Ec,{user:t,pub:r,post:W,onChange:x})),f.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${f.length} more`),f.map(W=>(0,e.h)(Ec,{className:"collapsed",user:t,pub:r,post:W,utm_source:"home",onChange:x}))))}}var t7=St(2405);function Xf(){const n=t=>{var r,i;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(x=>{const k=x.querySelector(".tiktok-iframe");k.classList.add("visible"),x.querySelector(".tiktok-wrap.static").classList.add("hidden");const W=x.querySelector(".fallback-failure");W.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&W.classList.add("visible")}catch(B){}k.onload=()=>{W.classList.add("visible")},k.onerror=()=>{W.classList.add("visible")},k.onabort=()=>{W.classList.add("visible")}}),(i=(r=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:r.forEach)==null||i.call(r,f=>f.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function sV(){useEffect(Xf,[])}var qf=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class n7 extends e.Component{constructor(t,r){super(t,r),this.onVisible=f=>{const x=`${f} Seen`;this.state.post&&(this.state[x]||(this.setState({[x]:!0}),(0,M.j)(x,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var f;const x=document.querySelectorAll('article.post input[type="email"]'),k=((f=this.state.user)==null?void 0:f.email)||this.props.freeSignupEmail;k&&x.forEach(W=>W.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=t;t.post?this.state={post:t.post,user:i,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return qf(this,null,function*(){(0,b.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Xf(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return qf(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return qf(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,b.scrollToHash)());else try{const t=yield ie().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,b.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,b.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,b.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:r,publication:i},{post:f,user:x,introText:k,crossPostedPub:W,crossPostingByLine:B,userWithCrossPostedPubContext:q,crossPostedPublicationSettings:ye,crossPostedSiteConfig:Me}){const Re=(f==null?void 0:f.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:d()("single-post-container")},(0,e.h)("div",{className:d()({container:!Re})},(0,e.h)("div",{className:"single-post"},(0,e.h)(If,{post:f,publication:i}),f&&ye&&Me?(0,e.h)(De.Iz,{settings:ye},(0,e.h)(Rt.vC,{siteConfigs:Me},(0,e.h)(t7.uL,{crossPost:{crossPostedPub:W}},(0,e.h)(zf,{ref:ze=>{this.post=ze},user:q,post:f,pub:W,freeSignup:t,freeSignupEmail:r,paywall:!1,noTitleLink:!0,onChange:ze=>this.setState(ze),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:W,crossPostingByLine:B,userWithCrossPostedPubContext:q}})))):(0,e.h)(Z1,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(oe,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)($s,{user:x,freeSignup:t,freeSignupEmail:r,pub:i,maxPosts:3,filterPosts:ze=>ze.id!==(f==null?void 0:f.id),stateInUrl:!0,sortTabs:ze=>{const et=ze.findIndex(Je=>Je.id==="top");if(et!==-1)return[ze[et]].concat(ze.filter((Je,dt)=>dt!==et))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class r7 extends e.Component{constructor(t,r){super(t,r),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){(0,b.preloadImage)((0,v.imginary)("/img/substack_wordmark.png",200));const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}onPrepareData(t){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(r){console.error("Failed to close subscribe window:",r)}this.subscribeWindow=null}}render({pub:t,user:r,no_border:i},{freeSignup:f,freeSignupEmail:x,loading:k,success:W}){const B=x||r&&r.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,v.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(Cn,{text:t.name}))),(0,e.h)("p",{className:"publication-tagline"},!!t.hero_text&&(0,e.h)(Cn,{text:t.hero_text})),t.invite_only?(0,e.h)(yr.ZP,{className:"subscription-request-form",ref:q=>this.form=q,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:q=>{this.setState({loading:!1}),alert((0,b.getNetworkErrorMessage)(q,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:s.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:s.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:s.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:s.xU}),!!B&&(0,b.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:d()(W?"secondary":"primary"),type:"email",name:"email",ref:q=>this.emailInput=q,readOnly:!!(B||k),disabled:!!(k||W||B),autoFocus:!B&&!(0,b.isMobileBrowser)(),placeholder:I`Type your email`}),(0,e.h)(gt.Z,{className:d()("rightButton",W?"secondary":"primary"),type:"submit",disabled:!!(k||W),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},W?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Fs,{source:"embed",pub:t,user:r,freeSignup:f,freeSignupEmail:x,forceEmailInput:!0,onPrepareData:q=>this.onPrepareData(q),onSignup:q=>this.onSignup(q),onError:q=>this.onError(q)}),(r||f)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,v.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:q=>this.img=q,className:"substack-watermark",src:(0,v.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var o7=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const i7=({pub:n,slug:t})=>{var r;const[i,f]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return o7(this,null,function*(){try{const W=yield ie().get(`/api/v1/posts/${t}`);f(W.body)}catch(W){console.error("Failed to load post:",W),W.status===404?alert("Post not found"):alert((0,b.getNetworkErrorMessage)(W))}})}k()},[t]);let x=!1;return typeof window!="undefined"&&(x=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)(ks,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:x,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};class a7 extends e.Component{render(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var s7=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const l7=({pub:n,slug:t})=>{var r;const[i,f]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return s7(this,null,function*(){try{const W=yield ie().get(`/api/v1/posts/${t}`);f(W.body)}catch(W){console.error("Failed to load post:",W),W.status===404?alert("Post not found"):alert((0,b.getNetworkErrorMessage)(W))}})}k()},[t]);let x=!1;return typeof window!="undefined"&&(x=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(Cl,{mediaUpload:i.videoUpload,pub:n,post:i,autoPlay:x})):(0,e.h)("div",{className:"loading-container"})};var u7=Object.defineProperty,c7=Object.defineProperties,d7=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,f7=Object.prototype.hasOwnProperty,p7=Object.prototype.propertyIsEnumerable,my=(n,t,r)=>t in n?u7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,h7=(n,t)=>{for(var r in t||(t={}))f7.call(t,r)&&my(n,r,t[r]);if(hy)for(var r of hy(t))p7.call(t,r)&&my(n,r,t[r]);return n},m7=(n,t)=>c7(n,d7(t));const _y=n=>(0,e.h)(N.l,m7(h7({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var _7=Object.defineProperty,g7=Object.defineProperties,v7=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,y7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable,vy=(n,t,r)=>t in n?_7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,P7=(n,t)=>{for(var r in t||(t={}))y7.call(t,r)&&vy(n,r,t[r]);if(gy)for(var r of gy(t))b7.call(t,r)&&vy(n,r,t[r]);return n},E7=(n,t)=>g7(n,v7(t));const w7=n=>(0,e.h)(N.l,E7(P7({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var C7=Object.defineProperty,O7=Object.defineProperties,S7=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,T7=Object.prototype.hasOwnProperty,I7=Object.prototype.propertyIsEnumerable,by=(n,t,r)=>t in n?C7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,D7=(n,t)=>{for(var r in t||(t={}))T7.call(t,r)&&by(n,r,t[r]);if(yy)for(var r of yy(t))I7.call(t,r)&&by(n,r,t[r]);return n},x7=(n,t)=>O7(n,S7(t));const M7=n=>(0,e.h)(N.l,x7(D7({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var A7=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function N7(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function R7(n,t){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function L7({file:n=N7(),pub:t}){const[r,i]=(0,o.eJ)(null);return(0,o.d4)(()=>(()=>A7(this,null,function*(){if(!n.fileKey){const f=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);f.redirected&&(window.location.href=f.url);const x=yield f.json();i(x)}}))(),[n.fileKey]),(0,e.h)(B7,{file:r||n,pub:t})}function B7({file:n,pub:t}){var r;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(r=n.file_key)==null?void 0:r.split(".").pop().toUpperCase(),f=(0,he.numberToHumanFileSize)(n.num_bytes),x=R7(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,v.getBaseUrl)(t)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,v.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},f," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,v.getBaseUrl)(t)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(M7,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(_y,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:x,href:`${(0,v.getBaseUrl)(t)}/api/v1/file/${n.file_key}`},(0,e.h)(w7,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},x)),(0,e.h)(_y,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var k7=Object.defineProperty,U7=(n,t,r)=>t in n?k7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Py=(n,t,r)=>(U7(n,typeof t!="symbol"?t+"":t,r),r),F7=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class ep extends e.Component{constructor(){super(...arguments),Py(this,"acceptInvite",()=>F7(this,null,function*(){var t,r;try{const i=yield ie().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=i.body)!=null&&t.postUrl?location.href=(r=i.body)==null?void 0:r.postUrl:(0,b.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const f=(0,b.getNetworkErrorMessage)(i);this.setState({error:f})}}))}componentDidMount(){this.props.user||(0,b.redirectToLogin)()}render({pub:t,post:r,user:i,freeSignup:f,freeSignupEmail:x,inviteToPost:k,primaryEligiblePublications:W,switchAccountRedirectUrl:B},{error:q}){if(q)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,q));const ye=k&&r&&r.type==="podcast",Me=ye&&i?"Fill out your profile for your podcast appearance":ye&&!i?"Set up your profile for your podcast appearance":k&&i?"Set up your profile":k&&!i?"Fill out your profile":`Your invite to ${t.name}`,Re=ye?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",ze=k?"Update Profile & Accept Invite":"Accept Invite",et=i?"Already a writer?":"Already have an account?",Je=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,Me),(0,e.h)("p",null,Re),(0,e.h)(Of._0,{pageTitle:"",user:i,freeSignup:f,freeSignupEmail:x,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:W,onSuccess:this.acceptInvite,text:ze}),k&&B&&(0,e.h)("div",{className:"invite-switch-account"},et," ",(0,e.h)("a",{href:B},Je)))}}Py(ep,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class j7 extends e.Component{renderNotAvailable(t,{time:r=!1}={}){const i=r?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(Pr.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,W7(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:r,user:i,freeSignupEmail:f,viral_gift_data:x}){const{sender_name:k,count_remaining:W,sender_id:B}=x,q=(0,he.getGiftValueText)(t.plans),ye=q?` (value: ${q})`:"",Me=`Accept ${k||"your friend"}'s gift`,Re=`A three-month subscription to ${t.name}${ye}`,ze=(0,b.setMetaData)({title:Me,description:Re,image:t.logo_url});if(!r||!W)return this.renderNotAvailable(ze);let et=null;i&&i.id==B&&(et=this.renderForSender());let Je="",dt=f||"";i&&!et&&(Je=i.name,dt=i.email);const Et=`${W} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},et,ze,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",ye),(0,e.h)("p",null,(0,e.h)("b",null,Et)),(0,e.h)(yr.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Je}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:dt}),(0,e.h)("input",{type:"hidden",value:r,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(gt.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function W7(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var H7=St(39693),V7=St.n(H7);const Ey=({pub:n,section:t,isPodcast:r})=>{let i,f;return r&&n.podcast_title?({title:i}=ac(n,n.podcast_title),f=n.podcast_description):t?{title:i,description:f}=ac(n,`${t.name} | ${n.name}`,t.description):{title:i,description:f}=ac(n),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:dd()((0,fd.hd)(n),{json:!0,isScriptContext:!0})}}),(0,b.setMetaData)({title:i,description:f}))},wy=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:f,noBalanceHeroText:x,pub:k,referralCode:W,showWelcome:B,user:q})=>{const ye=(0,o.sO)(!1),Me=(0,o.sO)(null);return(0,o.d4)(()=>{(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),ye.current=!0),ye.current&&Me.current&&Me.current.open(),typeof window!="undefined"&&B&&(0,b.removeQueryParam)("showWelcome")},[B]),(0,e.h)(e.Fragment,null,(0,e.h)(jl.ZP,{ref:Re=>Me.current=Re,pub:k,user:q}),(0,e.h)(ot,{blurbs:n,freeSignup:t,freeSignupEmail:r,hidden:i||ye.current,isAudio:f,noBalance:x,post:null,publication:k,referralCode:W,showOnMount:B,user:q}))};var K7=St(78718),Cy=St.n(K7),$7=Object.defineProperty,z7=Object.defineProperties,G7=Object.getOwnPropertyDescriptors,Oy=Object.getOwnPropertySymbols,Z7=Object.prototype.hasOwnProperty,Y7=Object.prototype.propertyIsEnumerable,Sy=(n,t,r)=>t in n?$7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ty=(n,t)=>{for(var r in t||(t={}))Z7.call(t,r)&&Sy(n,r,t[r]);if(Oy)for(var r of Oy(t))Y7.call(t,r)&&Sy(n,r,t[r]);return n},Iy=(n,t)=>z7(n,G7(t));const pV=null,Dy=["newspaper","magaziney","magazine-5"],hV={editorial:{id:"editorial",label:"Editorial",defaultHeroID:"newspaper"}},tp={newspaper:{id:"newspaper",label:"Feature",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1},presetID:"editorial"},magaziney:{id:"magaziney",label:"Newspaper",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1},presetID:"editorial"},"magazine-5":{id:"magazine-5",label:"Magazine",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1},presetID:"editorial"}},J7=Dy.map(n=>({value:n,label:tp[n].label})),mV=({presetID:n})=>J7.filter(t=>!n||tp[t.value].presetID===n),Q7=Dy.reduce((n,t)=>Iy(Ty({},n),{[t]:tp[t].postCount}),{}),xy=["list","grid","grid-groups"],My={list:{id:"list",label:"List",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:"Groups (sections or tags)",postCount:{desktop:9,tablet:9,mobile:7}}},X7=xy.reduce((n,t)=>Iy(Ty({},n),{[t]:My[t].postCount}),{}),_V=()=>xy.map(n=>({value:n,label:My[n].label}));var q7=Object.defineProperty,eB=Object.defineProperties,tB=Object.getOwnPropertyDescriptors,Ay=Object.getOwnPropertySymbols,nB=Object.prototype.hasOwnProperty,rB=Object.prototype.propertyIsEnumerable,Ny=(n,t,r)=>t in n?q7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ry=(n,t)=>{for(var r in t||(t={}))nB.call(t,r)&&Ny(n,r,t[r]);if(Ay)for(var r of Ay(t))rB.call(t,r)&&Ny(n,r,t[r]);return n},Ly=(n,t)=>eB(n,tB(t));const By=({noFirstImage:n,posts:t,pub:r,user:i,utm:f,onChange:x})=>{const k={pub:r,user:i,utm:f,onChange:x};return(0,e.h)(wi,Ly(Ry({},k),{variant:n?"two-three-two":"five-up",posts:t}))},oB=n=>(0,e.h)(By,Ly(Ry({},n),{noFirstImage:!0})),iB={link:"frontend-main-home-MetaLink-module__link--b9iM0"},Dc=({children:n,href:t,testid:r})=>(0,e.h)(Jt.xv.Meta,{className:iB.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":r},n),ky=({pub:n})=>(0,e.h)(Jt.gq,{justifyContent:"space-between"},(0,e.h)(Jt.xv.Meta,{size:12,color:"pub-primary-text"},"Most Popular"),(0,e.h)(Dc,{href:(0,v.getArchiveUrl)(n,{params:{sort:"top"}})},"View all"));var aB=Object.defineProperty,sB=Object.defineProperties,lB=Object.getOwnPropertyDescriptors,Uy=Object.getOwnPropertySymbols,uB=Object.prototype.hasOwnProperty,cB=Object.prototype.propertyIsEnumerable,Fy=(n,t,r)=>t in n?aB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,np=(n,t)=>{for(var r in t||(t={}))uB.call(t,r)&&Fy(n,r,t[r]);if(Uy)for(var r of Uy(t))cB.call(t,r)&&Fy(n,r,t[r]);return n},rp=(n,t)=>sB(n,lB(t));const jy=({noFirstImage:n,posts:t,topPosts:r,pub:i,user:f,utm:x,onChange:k})=>{const W={pub:i,user:f,utm:x,onChange:k},{isTablet:B,isMobile:q}=da();return q?null:(0,e.h)(za,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(wi,rp(np({},W),{variant:n?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),r&&(0,e.h)(Jt.tu,{gap:12},(0,e.h)(ky,{pub:i}),(0,e.h)(wi,rp(np({},W),{flex:"grow",variant:B?"mini-row":"one-column-list",posts:r.slice(0,B?3:5)}))))},dB=n=>(0,e.h)(jy,rp(np({},n),{noFirstImage:!0})),fB=({posts:n,pub:t,user:r,utm:i,onChange:f})=>n.length?(0,e.h)(Tc,{pub:t,user:r,utm:i,onChange:f,variant:"mobile-hero",post:n[0]}):null;var pB=Object.defineProperty,hB=Object.defineProperties,mB=Object.getOwnPropertyDescriptors,Wy=Object.getOwnPropertySymbols,_B=Object.prototype.hasOwnProperty,gB=Object.prototype.propertyIsEnumerable,Hy=(n,t,r)=>t in n?pB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vB=(n,t)=>{for(var r in t||(t={}))_B.call(t,r)&&Hy(n,r,t[r]);if(Wy)for(var r of Wy(t))gB.call(t,r)&&Hy(n,r,t[r]);return n},yB=(n,t)=>hB(n,mB(t));const Vy=({isSmall:n,posts:t,pub:r,user:i,utm:f,onChange:x})=>t.length?(0,e.h)(za,{variant:n?"three-column-width":"full-width"},(0,e.h)(Tc,{pub:r,user:i,utm:f,onChange:x,variant:n?"jumbo-small":"jumbo",post:t[0]})):null,bB=n=>(0,e.h)(Vy,yB(vB({},n),{isSmall:!0}));var PB=Object.defineProperty,xc=Object.getOwnPropertySymbols,Ky=Object.prototype.hasOwnProperty,$y=Object.prototype.propertyIsEnumerable,zy=(n,t,r)=>t in n?PB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EB=(n,t)=>{for(var r in t||(t={}))Ky.call(t,r)&&zy(n,r,t[r]);if(xc)for(var r of xc(t))$y.call(t,r)&&zy(n,r,t[r]);return n},wB=(n,t)=>{var r={};for(var i in n)Ky.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&xc)for(var i of xc(n))t.indexOf(i)<0&&$y.call(n,i)&&(r[i]=n[i]);return r};const CB={magaziney:jy,"magazine-5":By,newspaper:Vy},OB=n=>{var t=n,{firstPostMissingImage:r,bodyVariant:i,isMobile:f,variant:x}=t,k=wB(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let W=CB[x];return f?W=fB:x==="newspaper"&&i==="list"?W=bB:x==="magaziney"&&r?W=dB:x==="magazine-5"&&r&&(W=oB),W?(0,e.h)(W,EB({},k)):(console.error("Component not found, add one to HomeHero"),null)};var SB=Object.defineProperty,TB=Object.defineProperties,IB=Object.getOwnPropertyDescriptors,Gy=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,xB=Object.prototype.propertyIsEnumerable,Zy=(n,t,r)=>t in n?SB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,MB=(n,t)=>{for(var r in t||(t={}))DB.call(t,r)&&Zy(n,r,t[r]);if(Gy)for(var r of Gy(t))xB.call(t,r)&&Zy(n,r,t[r]);return n},AB=(n,t)=>TB(n,IB(t));function NB({pub:n,user:t,freeSignup:r,freeSignupEmail:i,className:f=""}){return(0,e.h)("div",{className:d()("home-sitemap",f)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),r||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,v.getSubscribeUrl)(n,{utm_source:"home-sitemap"}),native:!0},(0,he.getSubscribeText)(n)):null:(0,e.h)(Pr.Z,{className:"home-sitemap-signup-form",source:"home-sitemap",user:t,pub:n,freeSignup:r,freeSignupEmail:i,onSuccess:x=>{x.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:document.location.href,email:x.body.email})},30):n.plans?document.location.href=(0,v.pathWithQuery)("/subscribe",AB(MB({next:document.location.href,later:!0,just_signed_up:!0},x.body.subscription_id&&{subscription_id:x.body.subscription_id}),{requires_confirmation:x.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0,hideLogin:!0,hideTerms:!0}),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,v.getAboutUrl)(n),native:!!n.parent_publication_id},"About"),(0,e.h)("a",{href:(0,v.getBaseArchiveUrl)(n)},"Archive"),n.has_recommendations&&(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(n),native:!0},"Recommendations"),n.can_have_sitemap&&(0,e.h)("a",{href:(0,v.getSitemapUrl)(n),native:!0},"Sitemap")))}var RB=Object.defineProperty,LB=Object.defineProperties,BB=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,kB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,Jy=(n,t,r)=>t in n?RB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FB=(n,t)=>{for(var r in t||(t={}))kB.call(t,r)&&Jy(n,r,t[r]);if(Yy)for(var r of Yy(t))UB.call(t,r)&&Jy(n,r,t[r]);return n},jB=(n,t)=>LB(n,BB(t)),Qy=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const WB=(n,t,r,i,{trackOnly:f=!1}={})=>()=>Qy(void 0,null,function*(){if((0,M.j)(M.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!f)try{yield ie().post("/api/v1/free").send({email:r.email,source:"recommendations_page",other_publication_id:n.id}),i(n)}catch(x){alert("Something went wrong")}}),HB=(n,t,r,{trackOnly:i=!1}={})=>()=>Qy(void 0,null,function*(){if((0,M.j)(M.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!i)try{yield ie().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),r(n)}catch(f){alert("Something went wrong")}}),Xy=({recommendations:n})=>{if(!n||Object.keys(n).length<=1)return n;const t=JSON.parse(JSON.stringify(n));for(let r=Object.keys(t).length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),f=t[r];t[r]=t[i],t[i]=f}return t},VB=({pub:n,recommendations:t,allSubscribedPubs:r,fullySubscribedPubs:i,user:f})=>{const x=n.author_photo_url,k=n.author_name,[W,B]=(0,o.eJ)(r),q=Re=>{B([...W,Re])},ye=Re=>{B(W.filter(({id:ze})=>ze!==Re.id))},Me=(0,tt.useMemo)(()=>Xy({recommendations:t}),[t]);return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,"Recommended by ",(0,he.getByLine)(n)||n.name),(0,e.h)("div",{className:"recommended-publications-container"},Me.map((Re,ze)=>{const et=Re.recommendedPublication;if(!et)return;const Je=`${(0,v.getBaseUrl)(et)}/?utm_source=recommendations_page&utm_campaign=${n.id}`,dt=(0,v.getSubscribeUrl)(et,{addBase:!0,utm_source:"recommendations_page"}),Et=(0,he.getByLine)(et),wt=i.map(({id:xt})=>xt).includes(et.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Je,onClick:()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:et.id,recommending_publication_id:n.id})}},(0,e.h)(fn.Z,{pub:et,size:48,logo_url:et.logo_url||et.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},et.name),!!Et&&(0,e.h)("div",{className:"publication-author"},"By ",Et))),W.map(({id:xt})=>xt).includes(et.id)?(0,e.h)(gt.Z,{onClick:HB(et,n,ye,{trackOnly:wt}),href:wt?(0,v.getPubAccountSettingsUrl)(et,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):(0,e.h)(gt.Z,{onClick:WB(et,n,f,q,{trackOnly:!(f!=null&&f.email)}),href:f!=null&&f.email?null:dt},"Subscribe")),(0,e.h)("div",{className:"publication-suggestion-text-area"},(et.editorial_bio||et.hero_text)&&(0,e.h)("div",{className:"publication-description"},et.editorial_bio||et.hero_text)),Re.description&&(0,e.h)(KB,{content:Re.description,author:(0,he.getByLine)(n)||n.name}))))}))))},KB=({author:n,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",n)),$B=({recommendations:n,numRecommendations:t,pub:r,user:i,render:f,renderRecommendation:x})=>{const W=(0,tt.useMemo)(()=>Xy({recommendations:n}),[n]).map(B=>(0,e.h)(zB,{recommendation:B,pub:r,signedIn:!!i,render:x}));return(0,o.d4)(()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:B})=>B.id)})},[n]),f?f({recommendations:W,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,v.getPublishSettingsRecommendationsUrl)(r),hasMore:t>n.length,hasMoreUrl:(0,v.getRecommendationsPageUrl)(r),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,v.getPublishSettingsRecommendationsUrl)(r),native:!0},"Manage"):t>n.length?(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r),native:!0},"View all ",t):null),W)},zB=({recommendation:n,pub:t,signedIn:r,render:i})=>{const{recommendedPublication:f}=n,x=(0,v.getPubUrl)(f,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:r}),k=()=>{(0,M.j)(M.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:f.id,source:"homepage-recommendations"})},W={pub:f,logo_url:f.logo_url,href:x,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:W,pubName:f.name,pubAuthor:f.author.name,url:x,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(fn.Z,jB(FB({},W),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:x,target:"_blank",onClick:k},f.name),(0,e.h)("div",{className:"pub-author"},f.author.name)))))},qy=$B;var GB=St(7739),ZB=St.n(GB),YB=Object.defineProperty,JB=Object.defineProperties,QB=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,XB=Object.prototype.hasOwnProperty,qB=Object.prototype.propertyIsEnumerable,tb=(n,t,r)=>t in n?YB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ek=(n,t)=>{for(var r in t||(t={}))XB.call(t,r)&&tb(n,r,t[r]);if(eb)for(var r of eb(t))qB.call(t,r)&&tb(n,r,t[r]);return n},tk=(n,t)=>JB(n,QB(t));const nk=n=>(0,e.h)(N.l,tk(ek({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var rk=Object.defineProperty,nb=Object.getOwnPropertySymbols,ok=Object.prototype.hasOwnProperty,ik=Object.prototype.propertyIsEnumerable,rb=(n,t,r)=>t in n?rk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ob=(n,t)=>{for(var r in t||(t={}))ok.call(t,r)&&rb(n,r,t[r]);if(nb)for(var r of nb(t))ik.call(t,r)&&rb(n,r,t[r]);return n};const ib=({homepageLinks:n,pub:t,renderGroup:r,renderLink:i})=>{const f=ZB()(n,"group"),x=sr()(Object.keys(f),k=>f[k][0].rank);return(0,e.h)(e.Fragment,null,x.map(k=>(0,e.h)(ak,{group:k,items:f[k],pub:t,newTab:!0,renderGroup:r,renderLink:i})))},ak=({group:n,items:t,newTab:r,pub:i,renderGroup:f,renderLink:x})=>{const k=[];let W=null;r&&(W="_blank",k.push("noopener noreferrer")),(!i||i!=null&&i.no_follow)&&k.push("ugc nofollow");const B={rel:k.join(" "),target:W},q=(0,e.h)(e.Fragment,null,t.map(({title:ye,url:Me,subtitle:Re,subtitleUrl:ze,edit:et,className:Je})=>x?x({title:ye,url:Me,subtitle:Re,linkProps:B}):(0,e.h)("div",{className:d()("home-right-col",Je)},et?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:Me,native:!0},ye),(0,e.h)(gt.Z,{className:"button secondary show-on-hover",href:et,title:"edit"},(0,e.h)(nk,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",ob({className:"home-right-col-title",href:Me,native:!0},B),ye),Re&&(0,e.h)("a",ob({className:"home-right-col-sub",href:ze||Me,native:!0},B),Re))));return f?f({title:n,links:q}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),q)},ab={pubLogo:"frontend-main-home-BodySidebar-module__pubLogo--ylrSp",container:"frontend-main-home-BodySidebar-module__container--u_pp1"};var sk=Object.defineProperty,lk=Object.defineProperties,uk=Object.getOwnPropertyDescriptors,sb=Object.getOwnPropertySymbols,ck=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,lb=(n,t,r)=>t in n?sk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xl=(n,t)=>{for(var r in t||(t={}))ck.call(t,r)&&lb(n,r,t[r]);if(sb)for(var r of sb(t))dk.call(t,r)&&lb(n,r,t[r]);return n},ql=(n,t)=>lk(n,uk(t));const fk=({freeSignup:n,freeSignupEmail:t,homepageLinks:r,numRecommendations:i,pub:f,recommendations:x,user:k})=>{const{isMobile:W}=da();return(0,e.h)(Jt.tu,{gap:40,className:ab.container},!W&&(0,e.h)(Jt.tu,{gap:24},(0,e.h)(Jt.tu,{gap:8},f.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:ab.pubLogo,src:(0,v.imginary)(f.logo_url,88),alt:f.name}),(0,e.h)(op,null,f.name),f.hero_text&&(0,e.h)(Jt.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},f.hero_text)),!(k!=null&&k.is_subscribed)&&(0,e.h)(Fs,{pub:f,user:k,freeSignup:n,freeSignupEmail:t,isStatic:!1,source:"magaziney-home-page"})),!!(x!=null&&x.length)&&f.show_recs_on_homepage&&(0,e.h)(pk,{numRecommendations:i,pub:f,recommendations:x,user:k}),r&&(0,e.h)(hk,{homepageLinks:r,pub:f}))},op=({children:n})=>(0,e.h)(Jt.xv,{size:16,lineHeight:24,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n),pk=({recommendations:n,numRecommendations:t,pub:r,user:i})=>(0,e.h)(qy,{recommendations:n,numRecommendations:t,pub:r,user:i,render:({recommendations:f,canManage:x,manageUrl:k,hasMore:W,hasMoreUrl:B,recommendationsCount:q})=>(0,e.h)(Jt.tu,{gap:16},(0,e.h)(Jt.gq,{alignItems:"center",borderBottom:"detail-themed",justifyContent:"space-between",paddingBottom:8},(0,e.h)(op,null,"Recommendations"),x?(0,e.h)(Dc,{href:k},"Manage"):W?(0,e.h)(Dc,{href:B,testid:"homepage-recommendations-view-all"},"View all ",q):null),(0,e.h)(Jt.tu,{gap:24,"data-testid":"homepage-recommendations"},f)),renderRecommendation:({url:f,onClick:x,pubIconProps:k,pubName:W,pubAuthor:B})=>{const q={href:f,onClick:x,target:"_blank",rel:"noopener noreferrer"};return(0,e.h)(Jt.gq,{gap:16,alignItems:"center","data-testid":"homepage-recommendation"},(0,e.h)(fn.Z,ql(Xl({},k),{size:40,noMargin:!0})),(0,e.h)(Jt.tu,null,(0,e.h)(Jt.xv,ql(Xl({},q),{as:"a",color:"pub-primary-text",font:"pub-headings",lineHeight:20,size:14,weight:"semibold"}),W),(0,e.h)(Jt.xv.B4,ql(Xl({},q),{as:"a",color:"pub-secondary-text",size:12}),B)))}}),hk=({homepageLinks:n,pub:t})=>(0,e.h)(Jt.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(ib,{homepageLinks:n,pub:t,renderGroup:({title:r,links:i})=>(0,e.h)(Jt.tu,{gap:16},(0,e.h)(Jt.gq,{alignItems:"center",borderBottom:"detail-themed",paddingBottom:8},(0,e.h)(op,null,r)),(0,e.h)(Jt.tu,{gap:8},i)),renderLink:({title:r,url:i,subtitle:f,linkProps:x})=>(0,e.h)(Jt.tu,null,(0,e.h)(Jt.xv.B4,ql(Xl({},x),{as:"a",href:i,color:"pub-secondary-text"}),r),f&&(0,e.h)(Jt.xv.B4,ql(Xl({},x),{as:"a",href:i,color:"pub-secondary-text"}),f))})),mk=(0,Po.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var _k=St(71708);const eu={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var gk=Object.defineProperty,vk=Object.defineProperties,yk=Object.getOwnPropertyDescriptors,Mc=Object.getOwnPropertySymbols,ub=Object.prototype.hasOwnProperty,cb=Object.prototype.propertyIsEnumerable,db=(n,t,r)=>t in n?gk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ya=(n,t)=>{for(var r in t||(t={}))ub.call(t,r)&&db(n,r,t[r]);if(Mc)for(var r of Mc(t))cb.call(t,r)&&db(n,r,t[r]);return n},Zs=(n,t)=>vk(n,yk(t)),fb=(n,t)=>{var r={};for(var i in n)ub.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Mc)for(var i of Mc(n))t.indexOf(i)<0&&cb.call(n,i)&&(r[i]=n[i]);return r},bk=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const Ac=n=>"email_from_name"in n,Pk=n=>{var t;const[r,i]=(0,o.eJ)((t=n.postsByGroupId)!=null?t:{}),[f,x]=(0,o.eJ)(!1),k=n,{posts:W,bodyPostGroups:B,hasEmptyGroupOptions:q,setHasInvalidGroupSelection:ye}=k,Me=fb(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,o.d4)(()=>{const Je=dt=>bk(void 0,null,function*(){const Et=Ya({},r);for(const wt of dt){const xt={limit:6};if(Ac(wt)?xt.section_id=wt.id:xt.post_tag_id=wt.id,!Et[wt.id]){const{body:Bt}=yield ie().get("/api/v1/archive").query(xt);Et[wt.id]=Bt}}kl()(Et,r)||(i(Et),x(!1))});Object.keys(r).length===0&&B&&(B==null?void 0:B.length)>0&&(x(!0),Je(B))},[B,i,r]);const Re=(0,o.I4)(Je=>{var dt;const Et=(dt=Je.post_tag_id)!=null?dt:Je.section_id;if(!Et)throw new Error("Must supply section_id or post_tag_id");r&&r[Et]||ie().get("/api/v1/archive").query(Ya({limit:3},Je)).then(({body:wt})=>{i(Zs(Ya({},r),{[Et]:wt}))})},[r,i]),ze=[W.slice(0,3),W.slice(3,6),W.slice(6)],et=(0,o.I4)(Je=>!r||r&&Object.keys(r).length===0||!r[Je]?null:r[Je].slice(0,3),[r]);return q||!B||(B==null?void 0:B.length)===0?ye?(ye(!0),(0,e.h)(pb,{message:"No groups selected"})):(0,e.h)(Jt.tu,null,(0,e.h)(ip,{pub:n.pub}),(0,e.h)(wi,Zs(Ya({},Me),{variant:"three-column-grid",posts:ze.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):(0,e.h)("div",{className:eu.homePageGroupsGrid},B.map(Je=>{const dt=et(Je.id);return(0,e.h)(Jt.tu,{paddingBottom:24},(0,e.h)(ip,{pub:n.pub,row:Je}),(0,e.h)(Ek,Zs(Ya({},Me),{posts:W,loadingSync:f,groupModel:Je,postsForId:dt,setHasInvalidGroupSelection:ye,onIntersectCallback:()=>{const Et=Ac(Je)?{section_id:Je.id}:{post_tag_id:Je.id};Re(Et)}})))}),B.length<3?(0,e.h)(Jt.tu,null,(0,e.h)(ip,{pub:n.pub}),(0,e.h)(wi,Zs(Ya({},Me),{variant:"three-column-grid",posts:ze.slice(B!=null&&B.length?B==null?void 0:B.length:0).flat()}))):null)},pb=({groupModel:n,message:t})=>(0,e.h)(Jt.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(Jt.tu,{alignItems:"center",justifyContent:"center",className:d()(eu.homePageGroupsGrid,n?eu.emptyGroupView:eu.emptyRowsView)},(0,e.h)(mk,{className:eu.emptyContentIcon}),t&&(0,e.h)(Jt.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),n&&(0,e.h)(Jt.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Ac(n)?"section":"tag"," to include it on your homepage."))),ip=({row:n,pub:t})=>{var r;const{isMobile:i}=da();let f="/archive";return n&&(f=Ac(n)?(0,Ze.getSectionUrl)(t,{section:n}):(0,Ze.getPostTagUrl)(t,n)),(0,e.h)(Jt.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(Jt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Jt.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(r=n==null?void 0:n.name)!=null?r:"Recent posts"),(0,e.h)(Dc,{href:f},"See all")))},Ek=n=>{const t=n,{onIntersectCallback:r,groupModel:i,loadingSync:f,postsForId:x,setHasInvalidGroupSelection:k}=t,W=fb(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[B,q]=(0,_k.Z)();return(0,o.d4)(()=>{q!=null&&q.isIntersecting&&!f&&r()},[q==null?void 0:q.isIntersecting,r,f]),x?x.length===0?k?(k(!0),(0,e.h)(pb,{groupModel:i})):(0,e.h)(wi,Zs(Ya({},W),{variant:"three-column-grid",posts:W.posts.slice(0,3)})):(0,e.h)(wi,Zs(Ya({},W),{variant:"three-column-grid",posts:x})):(0,e.h)(ny,{postCount:3,variant:"grid-groups",ref:B})};var wk=Object.defineProperty,Ck=Object.defineProperties,Ok=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,_b=(n,t,r)=>t in n?wk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ap=(n,t)=>{for(var r in t||(t={}))hb.call(t,r)&&_b(n,r,t[r]);if(Nc)for(var r of Nc(t))mb.call(t,r)&&_b(n,r,t[r]);return n},sp=(n,t)=>Ck(n,Ok(t)),Sk=(n,t)=>{var r={};for(var i in n)hb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Nc)for(var i of Nc(n))t.indexOf(i)<0&&mb.call(n,i)&&(r[i]=n[i]);return r};const Tk={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},Ik={grid:"three-column-grid",list:"two-column-list"},Dk={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},xk=n=>{var t=n,{freeSignup:r,freeSignupEmail:i,hideImagesFromList:f,homepageLinks:x,numRecommendations:k,posts:W,pub:B,recommendations:q,showSiteMap:ye,source:Me,user:Re,utm:ze,variant:et,onChange:Je,bodyPostGroups:dt,postsByGroupId:Et}=t,wt=Sk(t,["freeSignup","freeSignupEmail","hideImagesFromList","homepageLinks","numRecommendations","posts","pub","recommendations","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:xt}=da(),Bt=X7[et][xt],kt=et==="list"&&(f||W.slice(0,Bt).every(on=>!on.cover_image));return(0,e.h)("div",null,(0,e.h)(za,{variant:Tk[et],showContentBelowOnMobile:!0},(0,e.h)(Cc,sp(ap({},wt),{maxPosts:Bt,newPosts:W,pub:B,user:Re,variant:et}),({posts:on,linkToComments:pn,onClickPost:En})=>{const vn={hideImages:kt,linkToComments:pn,posts:on,pub:B,source:Me,user:Re,utm:ze,onChange:Je,onClickPost:En};return et==="grid-groups"?(0,e.h)(Pk,sp(ap({},vn),{bodyPostGroups:dt,postsByGroupId:Et,setHasInvalidGroupSelection:wt.setHasInvalidGroupSelection,hasEmptyGroupOptions:wt.hasEmptyGroupOptions})):(0,e.h)(wi,sp(ap({},vn),{variant:Ik[et]}))}),(0,e.h)(fk,{freeSignup:r,freeSignupEmail:i,homepageLinks:x,numRecommendations:k,pub:B,recommendations:q,user:Re})),ye&&(0,e.h)(za,{variant:Dk[et]},(0,e.h)(NB,{pub:B,user:Re,freeSignup:r,freeSignupEmail:i})))};var Mk=Object.defineProperty,Ak=Object.defineProperties,Nk=Object.getOwnPropertyDescriptors,Rc=Object.getOwnPropertySymbols,gb=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable,yb=(n,t,r)=>t in n?Mk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Rk=(n,t)=>{for(var r in t||(t={}))gb.call(t,r)&&yb(n,r,t[r]);if(Rc)for(var r of Rc(t))vb.call(t,r)&&yb(n,r,t[r]);return n},Lk=(n,t)=>Ak(n,Nk(t)),Bk=(n,t)=>{var r={};for(var i in n)gb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Rc)for(var i of Rc(n))t.indexOf(i)<0&&vb.call(n,i)&&(r[i]=n[i]);return r};const kk=n=>{var t=n,{columns:r=4,posts:i,pub:f}=t,x=Bk(t,["columns","posts","pub"]);const{isMobile:k}=da();return k?null:(0,e.h)(za,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(Jt.tu,{gap:12},(0,e.h)(ky,{pub:f}),(0,e.h)(wi,Lk(Rk({},x),{pub:f,posts:i,variant:r===3?"three-column-mini-row":"mini-row"}))))},Lc={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var Uk=Object.defineProperty,Fk=Object.defineProperties,jk=Object.getOwnPropertyDescriptors,Bc=Object.getOwnPropertySymbols,bb=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,Eb=(n,t,r)=>t in n?Uk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Wk=(n,t)=>{for(var r in t||(t={}))bb.call(t,r)&&Eb(n,r,t[r]);if(Bc)for(var r of Bc(t))Pb.call(t,r)&&Eb(n,r,t[r]);return n},Hk=(n,t)=>Fk(n,jk(t)),Vk=(n,t)=>{var r={};for(var i in n)bb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bc)for(var i of Bc(n))t.indexOf(i)<0&&Pb.call(n,i)&&(r[i]=n[i]);return r};const Kk="modular-home-posts",$k=n=>{var t;const r=n,{alwaysShowActions:i,bodyPostGroups:f,postsByGroupId:x,pub:k,showSiteMap:W,theme:B,user:q,utm:ye}=r,Me=Vk(r,["alwaysShowActions","bodyPostGroups","postsByGroupId","pub","showSiteMap","theme","user","utm"]),{posts:Re,topPosts:ze,onChange:et}=h2(Cy()(n,["newPosts","pinnedPosts","topPosts"])),{breakpoint:Je,isMobile:dt}=da();if(Re.length===0)return(0,e.h)(zk,null);const Et=Re[0],wt=ze==null?void 0:ze.filter(En=>!Et||En.id!==Et.id),xt=!((t=Re[0])!=null&&t.cover_image);let Bt=Q7[B.home_hero][Je];xt&&["magaziney","magazine-5"].includes(B.home_hero)&&["desktop","tablet"].includes(Je)&&(Bt+=2);let kt=B.home_hero;Re.length<Bt+1&&(kt="newspaper",Bt=1);const on=Re.length>=Bt+1,pn=["newspaper","feature"].includes(kt)&&B.home_posts==="list";return(0,e.h)(iy.Provider,{value:{alwaysShowActions:i}},(0,e.h)(Jt.tu,{className:Lc.container},(0,e.h)(Jt.tu,{gap:32,paddingTop:!on&&dt?24:0},on&&(0,e.h)(OB,{firstPostMissingImage:xt,bodyVariant:B.home_posts,isMobile:dt,posts:Re.slice(0,Bt),pub:k,topPosts:wt,user:q,utm:ye,variant:kt,onChange:et}),B.home_show_top_posts&&wt&&kt!=="magaziney"&&on&&(0,e.h)(kk,{columns:pn?3:4,posts:wt,pub:k,user:q,utm:ye,onChange:et})),(0,e.h)(Jt.tu,{className:Lc.bodyContainer,id:Kk},on&&(0,e.h)(bf,{numColumns:pn?3:4}),(0,e.h)(xk,Hk(Wk({},Me),{hideImagesFromList:B.hide_images_from_list,posts:on?Re.slice(Bt):Re,pub:k,showSiteMap:W,source:`${B.home_hero}-${B.home_posts}-home`,user:q,utm:ye,variant:B.home_posts,onChange:et,bodyPostGroups:f,postsByGroupId:x,hasEmptyGroupOptions:n.hasEmptyGroupOptions})))))},zk=()=>(0,e.h)(Jt.tu,{className:d()(Lc.container,Lc["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var Gk=Object.defineProperty,Zk=Object.defineProperties,Yk=Object.getOwnPropertyDescriptors,kc=Object.getOwnPropertySymbols,wb=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,Ob=(n,t,r)=>t in n?Gk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Jk=(n,t)=>{for(var r in t||(t={}))wb.call(t,r)&&Ob(n,r,t[r]);if(kc)for(var r of kc(t))Cb.call(t,r)&&Ob(n,r,t[r]);return n},Qk=(n,t)=>Zk(n,Yk(t)),Xk=(n,t)=>{var r={};for(var i in n)wb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&kc)for(var i of kc(n))t.indexOf(i)<0&&Cb.call(n,i)&&(r[i]=n[i]);return r};const qk=n=>{var t=n,{blurbs:r,freeSignup:i,freeSignupEmail:f,hide_intro_popup:x,noBalanceHeroText:k,notify_user:W,pinnedPosts:B,pub:q,referralCode:ye,showWelcome:Me,user:Re,postTags:ze,sections:et,hasEmptyGroupOptions:Je,postsByGroupId:dt}=t,Et=Xk(t,["blurbs","freeSignup","freeSignupEmail","hide_intro_popup","noBalanceHeroText","notify_user","pinnedPosts","pub","referralCode","showWelcome","user","postTags","sections","hasEmptyGroupOptions","postsByGroupId"]),wt;(0,o.d4)(()=>{W&&typeof window!="undefined"&&(0,ss.ZP)(W)},[W]);const xt=!!(B&&B.length>0),Bt=V7()((wt=q.theme.body_post_groups)==null?void 0:wt.map(kt=>{var on,pn,En,vn;return kt.tag_id?(pn=(on=kt.post_tag)!=null?on:ze==null?void 0:ze.find(hn=>hn.id===kt.tag_id))!=null?pn:null:kt.section_id&&(vn=(En=kt.section)!=null?En:et==null?void 0:et.find(hn=>hn.id===kt.section_id))!=null?vn:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Ey,{pub:q}),(0,e.h)($k,Qk(Jk({},Et),{alwaysShowActions:!1,bodyPostGroups:Bt,freeSignup:i,freeSignupEmail:f,hasEmptyGroupOptions:Je,pinnedPosts:B,postsByGroupId:dt,pub:q,showSiteMap:xt,theme:q.theme,user:Re})),(0,e.h)(wy,{blurbs:r,freeSignup:i,freeSignupEmail:f,hide_intro_popup:x,noBalanceHeroText:k,pub:q,referralCode:ye,showWelcome:Me,user:Re}))};var eU=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function tU({showModal:n,onClose:t,existingPub:r,pub:i}){return(0,e.h)(Hi.u_,{isOpen:n,onClose:t,className:"twitter-quitter-modal"},(0,e.h)(rt.xv.H2,{weight:"bold"},r?"Tell your followers they can find you on Substack.":"Your Substack is live! Tell your followers about it."),(0,e.h)("div",{className:"subtext"},(0,e.h)(rt.xv.B3,{className:"body",color:"secondary"},"Let your followers on Twitter know you are now writing on Substack.")),(0,e.h)("div",{className:"modal-done"},(0,e.h)(Gn.zx,{onClick:()=>eU(this,null,function*(){(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:"twitter",source:"twitter-quitter"});const f=r?"I'm writing on @substackinc. Subscribe to me there.":"I've started a @substackinc. Subscribe to me there.",x=(0,v.getBaseUrl)(i),k=(0,v.pathWithQuery)("https://twitter.com/share",{url:x,text:f});window.open(k,"_blank"),t()}),priority:"primary",style:{backgroundColor:"#1da1f2",width:"100%"},leftIcon:(0,e.h)(ln.Z,{fill:"white"})},"Share")))}const nU=tU,Sb=({podcastSettings:n})=>{var t,r;return(0,e.h)("div",{className:"section-header"},(0,e.h)("div",{className:"section-logo-and-name"},n.artUrl&&(0,e.h)(e.Fragment,null,(0,e.h)("img",{className:"logo desktop-only",src:(0,v.imginary)(n.artUrl,72*2),alt:(t=n.title)!=null?t:void 0}),(0,e.h)("img",{className:"logo mobile-only",src:(0,v.imginary)(n.artUrl,48*2),alt:(r=n.title)!=null?r:void 0})),(0,e.h)("h2",null,n.title)),(0,e.h)("p",null,n.description))},rU=({section:n})=>(0,e.h)("div",{className:"section-header"},(0,e.h)("div",{className:"section-logo-and-name"},n.logo_url&&(0,e.h)(e.Fragment,null,(0,e.h)("img",{className:"logo desktop-only",src:(0,v.imginary)(n.logo_url,72*2),alt:n.name}),(0,e.h)("img",{className:"logo mobile-only",src:(0,v.imginary)(n.logo_url,48*2),alt:n.name})),(0,e.h)("h2",null,n.name)),(0,e.h)("p",null,n.description));var oU=Object.defineProperty,Tb=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,aU=Object.prototype.propertyIsEnumerable,lp=(n,t,r)=>t in n?oU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sU=(n,t)=>{for(var r in t||(t={}))iU.call(t,r)&&lp(n,r,t[r]);if(Tb)for(var r of Tb(t))aU.call(t,r)&&lp(n,r,t[r]);return n},tu=(n,t,r)=>(lp(n,typeof t!="symbol"?t+"":t,r),r),up=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class lU extends e.Component{constructor(t,r){super(t,r),tu(this,"loadPinnedPosts",()=>(0,b.stateTransaction)(this,i=>up(this,null,function*(){var f;if(i.pinnedPosts)return;let x=ie().get("/api/v1/archive").query(sU({sort:"pinned",sectionId:(f=this.props.pub.section)==null?void 0:f.id},this.props.pub.multiple_pins?{}:{limit:1})).then(k=>k.body);this.setState({pinnedPosts:x});try{x=yield x,x.length===0&&(x=null)}catch(k){console.error("Failed to fetch pinned posts:",k),x=null}this.setState({pinnedPosts:x})}))),tu(this,"loadLatestChildPosts",()=>(0,b.stateTransaction)(this,(i,f)=>up(this,null,function*(){if(f.pub.child_publications.length===0||i.latestChildPosts)return;let x=ie().get("/api/v1/posts/latest_child_posts").then(k=>k.body);try{x=yield x,x.length===0&&(x=null)}catch(k){console.error("Failed to fetch child publications:",k),x=null}this.setState({latestChildPosts:x})}))),tu(this,"loadHomepageLinks",()=>(0,b.stateTransaction)(this,(i,f)=>up(this,null,function*(){if(!(i.homepageLinks||f.pub.section))try{const x=yield ie().get("/api/v1/homepage_links").then(k=>k.body);this.setState({homepageLinks:x})}catch(x){console.error("Failed to fetch homepage links:",x)}}))),tu(this,"onChange",({post:i})=>{i&&(0,b.stateTransaction)(this,f=>{let x=!1;const k=[f.pinnedPosts,f.latestChildPosts].filter(W=>Array.isArray(W));for(const W of k){const B=W.findIndex(q=>q.id===i.id);B!==-1&&(W[B]=i,x=!0)}x&&this.setState({pinnedPosts:f.pinnedPosts,latestChildPosts:f.latestChildPosts})})}),tu(this,"_hidePrivatePosts",()=>{const{user:i,pub:f}=this.props;return!(i&&i.is_subscribed)&&he.hidePaidPostsFor.includes(f==null?void 0:f.subdomain)}),this.state={pinnedPosts:this.props.pinnedPosts,latestChildPosts:this.props.latestChildPosts,homepageLinks:this.props.homepageLinks}}componentDidMount(){this.triggerTwitterQuitterOnLoad(),this.loadPinnedPosts(),this.loadLatestChildPosts(),this.loadHomepageLinks(),this.setShowWelcome()}setShowWelcome(){typeof window!="undefined"&&this.props.showWelcome&&(this.setState({showWelcome:!0}),(0,b.removeQueryParam)("showWelcome"))}triggerTwitterQuitterOnLoad(){let t=!1,r=!1;(0,v.getQueryItem)("twitter_quitter")&&(window.history.replaceState({},document.title,(0,v.updateQuery)({twitter_quitter:null})),t=!0),(0,v.getQueryItem)("existing_pub")&&(window.history.replaceState({},document.title,(0,v.updateQuery)({existing_pub:null})),r=!0),this.setState({showTwitterQuitterModal:t,existingPubTwitterQuitterModal:r})}render({children:t,disableInteractive:r,freeSignup:i,freeSignupEmail:f,includePinnedPosts:x,isPodcast:k,newPosts:W,numRecommendations:B,pub:q,recommendations:ye,search:Me,sort:Re,user:ze},{pinnedPosts:et,homepageLinks:Je,showTwitterQuitterModal:dt,existingPubTwitterQuitterModal:Et}){var wt;const{section:xt}=q;if(xt&&k&&!xt.is_podcast)return(0,e.h)(Jt.xv.H1,null,"Podcast not found");const Bt=!Array.isArray(et);let kt,on;const pn=et;Bt||(on=new Set(et.map(qn=>qn.id)),[kt,...et]=et);const En=!xt&&Je&&Je.length>0,vn=!!(ye!=null&&ye.length)&&q.show_recs_on_homepage,hn=En||vn;return(0,e.h)(e.Fragment,null,t,(0,e.h)(nU,{showModal:!!dt,existingPub:!!Et,onClose:()=>this.setState({showTwitterQuitterModal:!1}),pub:q}),Bt?(0,e.h)(Y1,{className:"home-big-post",pub:q}):!kt&&!xt?(0,e.h)("div",{className:"container"},(0,e.h)("p",{className:"home-coming-soon"},"Coming soon")):[xt&&k?(0,e.h)(Sb,{podcastSettings:(0,ls.getSectionPodcastSettings)({pub:q,section:xt})}):xt?(0,e.h)(rU,{section:xt}):k?(0,e.h)(Sb,{podcastSettings:(0,ls.getPubPodcastSettings)({pub:q})}):(0,e.h)(wc,{className:"home-big-post",post:kt,pub:q,user:ze,showDate:!0,showCoverImage:!0,coverImageOptional:!0,authorInMeta:(0,he.getBylineUsers)(kt).length<=1,maxTitleLength:q.subdomain==="sinocism"?69:92,maxDescriptionLength:q.subdomain==="sinocism"?240:280,imageAssetSize:900,onChange:this.onChange,disableInteractive:r,isBigPost:!0}),(0,e.h)("div",{className:d()("container home-container",{"has-right-column":hn})},(0,e.h)("div",{className:"home-posts"},Array.isArray(et)&&et.length>0&&!k&&(0,e.h)("div",{className:"home-posts-pinned"},et.map(qn=>(0,e.h)(wc,{className:"home-posts-post",post:qn,pub:q,user:ze,showDate:!0,showCoverImage:!0,onChange:this.onChange,disableInteractive:r}))),(0,e.h)("div",{className:"home-posts-columns"},(0,e.h)($s,{className:"home-posts-column-left",disableInteractive:r,emptyMessage:k&&"No episodes",filterPosts:qn=>xt?!0:this._hidePrivatePosts()&&qn.audience!=="everyone"?!1:x?!0:(0,he.shouldHidePostFromArchive)(qn)?!1:!on.has(qn.id),freeSignup:i,freeSignupEmail:f,isBelowTheFold:!0,isPodcast:k,maxPosts:7,newPosts:W,onChange:this.onChange,pinnedPosts:pn,pub:q,search:Me,sectionId:(wt=q==null?void 0:q.section)==null?void 0:wt.id,showPins:!!xt,sort:Re,source:"homepage",stateInUrl:!0,user:ze}),hn&&(0,e.h)("div",{className:"home-right-column"},vn&&(0,e.h)(qy,{recommendations:ye,numRecommendations:B,pub:q,user:ze}),(0,e.h)(ib,{homepageLinks:Je,pub:q}))))),(0,e.h)("div",{className:"full-container-border mobile-only"})])}}const Ib={container:"frontend-main-home-SectionPage-module__container--W1M1c",logo:"frontend-main-home-SectionPage-module__logo--pPmSx"},Db=({logoUrl:n,name:t,description:r})=>(0,e.h)(Jt.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:Ib.logo,src:(0,v.imginary)(n,72*2),alt:t}),(0,e.h)(Jt.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(Jt.xv.B3,{color:"pub-secondary-text"},r));var uU=Object.defineProperty,cU=Object.defineProperties,dU=Object.getOwnPropertyDescriptors,Uc=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Mb=Object.prototype.propertyIsEnumerable,Ab=(n,t,r)=>t in n?uU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Nb=(n,t)=>{for(var r in t||(t={}))xb.call(t,r)&&Ab(n,r,t[r]);if(Uc)for(var r of Uc(t))Mb.call(t,r)&&Ab(n,r,t[r]);return n},Rb=(n,t)=>cU(n,dU(t)),fU=(n,t)=>{var r={};for(var i in n)xb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Uc)for(var i of Uc(n))t.indexOf(i)<0&&Mb.call(n,i)&&(r[i]=n[i]);return r};const cp=n=>{var t=n,{blurbs:r,disableInteractive:i,freeSignup:f,freeSignupEmail:x,hide_intro_popup:k,isPodcast:W,newPosts:B,noBalanceHeroText:q,notify_user:ye,pinnedPosts:Me,pub:Re,referralCode:ze,search:et,section:Je,sort:dt,showWelcome:Et,user:wt,utm:xt}=t,Bt=fU(t,["blurbs","disableInteractive","freeSignup","freeSignupEmail","hide_intro_popup","isPodcast","newPosts","noBalanceHeroText","notify_user","pinnedPosts","pub","referralCode","search","section","sort","showWelcome","user","utm"]),kt,on;const{getConfigFor:pn}=(0,Rt.xR)(),En=!!pn("updated_archives");if((0,o.d4)(()=>{ye&&typeof window!="undefined"&&(0,ss.ZP)(ye)},[ye]),!Je&&!W)return console.warn("Should be either a section or podcast or both"),null;const vn=Rb(Nb({},Bt),{disableInteractive:i,freeSignup:f,freeSignupEmail:x,pinnedPosts:Me,newPosts:B,pub:Re,user:wt});let hn=null;return W&&(hn=Je?(0,ls.getSectionPodcastSettings)({pub:Re,section:Je}):(0,ls.getPubPodcastSettings)({pub:Re})),(0,e.h)("div",{className:d()("home-page",{[Ib.container]:En})},(0,e.h)(Ey,{pub:Re,section:Je,isPodcast:W}),En?(0,e.h)(e.Fragment,null,hn?(0,e.h)(Db,{name:(kt=hn.title)!=null?kt:"",description:(on=hn.description)!=null?on:"",logoUrl:hn.artUrl}):Je&&(0,e.h)(Db,{name:Je.name,description:Je.description,logoUrl:Je.logo_url}),(0,e.h)(bf,null),(0,e.h)(Cc,{isPodcast:W,maxPosts:7,newPosts:B,pinnedPosts:Me,pub:Re,search:et,sectionId:Je==null?void 0:Je.id,sort:dt,user:wt,variant:"list"},({posts:qn,linkToComments:Yn,onClickPost:$n})=>(0,e.h)(wi,{hideImages:Re.theme.hide_images_from_list,linkToComments:Yn,posts:qn,pub:Re,showSectionPins:!0,user:wt,utm:xt,variant:"two-column-list",onChange:()=>{},onClickPost:$n}))):(0,e.h)(lU,Rb(Nb({},vn),{isPodcast:W,section:Je})),(0,e.h)(wy,{blurbs:r,freeSignup:f,freeSignupEmail:x,hide_intro_popup:k,isPodcast:W,noBalanceHeroText:q,pub:Re,referralCode:ze,showWelcome:Et,user:wt}))};var pU=Object.defineProperty,hU=(n,t,r)=>t in n?pU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Lb=(n,t,r)=>(hU(n,typeof t!="symbol"?t+"":t,r),r),Bb=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class mU extends e.Component{constructor(){super(...arguments),Lb(this,"state",{loading:!0,invites:[]}),Lb(this,"onSuccess",()=>Bb(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,b.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:r}=this.props;return t.invite_only?r&&r.is_contributor?!0:!(!(t.subscriber_invites>0)||!(r&&r.is_subscribed)):!1}loadInvites(){return Bb(this,null,function*(){try{const t=yield ie().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,b.getNetworkErrorMessage)(t))}})}render({pub:t,user:r},{loading:i,invites:f}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const x=r&&r.is_contributor,k=Math.max(r&&r.invites,f.length),W=Math.max(k,t.subscriber_invites),B=W-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",x?"an infinite number of invites":(0,he.pluralize)(W,"invite")," to give out."),(B>0||x)&&[!x&&(0,e.h)("h5",null,"You have ",(0,he.pluralize)(B,"invite")," left"),(0,e.h)(yr.ZP,{ref:q=>this.form=q,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(gt.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):f.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,f.sort((q,ye)=>new Date(ye.created_at)-new Date(q.created_at)).map(q=>(0,e.h)("li",null,q.inviteeUser&&q.inviteeUser.name||""," on"," ",Bn()(q.created_at).standardDate())))]:null))}}function _U({pub:n,post:t}){return(0,e.h)(Ye.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Ye.tu,{alignItems:"center",gap:4},(0,e.h)(Ye.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(rt.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(rt.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(rt.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,v.getPostUrl)(n,t)},t.title)):null),(0,e.h)(Gn.zx,{href:n.base_url},`Go to ${n.name}`))}function gU({pub:n,user:t,post:r,freeSignup:i,freeSignupEmail:f}){const x=(0,o.sO)(null),k=()=>x.current&&x.current.open();if(!r)return(0,e.h)(Ye.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(qt.Z,{onClick:k},"profile is up to date")),(0,e.h)(Of.EB,{ref:x,user:t,freeSignup:i,freeSignupEmail:f,needsPhoto:!0})));const W=r.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",B="Your profile is set up and good to go!";return(0,e.h)(Ye.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Ye.tu,{alignItems:"center",gap:4},(0,e.h)(Ye.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(rt.xv.H1,null,W)),(0,e.h)(rt.xv.B3,null,B)),(0,e.h)(Gn.zx,{href:n.base_url},`Go to ${n.name}`))}const vU=(0,Po.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var yU=St(78041),bU=(n=>(n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n))(bU||{}),PU=(n=>(n.post="post",n))(PU||{});const qi={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",introText:"frontend-main-leaderboard-module__introText--omqio",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",rewardBox:"frontend-main-leaderboard-module__rewardBox--xxpgK",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var EU=Object.defineProperty,wU=Object.defineProperties,CU=Object.getOwnPropertyDescriptors,kb=Object.getOwnPropertySymbols,OU=Object.prototype.hasOwnProperty,SU=Object.prototype.propertyIsEnumerable,Ub=(n,t,r)=>t in n?EU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,TU=(n,t)=>{for(var r in t||(t={}))OU.call(t,r)&&Ub(n,r,t[r]);if(kb)for(var r of kb(t))SU.call(t,r)&&Ub(n,r,t[r]);return n},IU=(n,t)=>wU(n,CU(t));const dp=(n,t)=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},DU=({isSelected:n,tier:t})=>(0,e.h)(Ye.tu,{className:qi.rewardBox,border:"detail-themed",radius:8,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(Ye.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(a1,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(rt.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:I0[t.reward_type]),(0,e.h)(rt.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?"You're here!":`${t.num_referrals_required} Referrals`)),Fb=({user:n,rank:t,referrals:r,isSelf:i,isHighlighted:f})=>(0,e.h)("a",{href:(0,Ze.getProfileUrlById)(n.id,n.name),className:qi.referrerLink},(0,e.h)(Ye.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||f?"detail-themed":"transparent",radius:8,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:d()(qi.referrerRow,{[qi.referrerRowInverted]:!i})},(0,e.h)(Ye.gq,{gap:8,alignItems:"center"},(0,e.h)(rt.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),(0,e.h)(sa.Ct,{subject:n,dontStopPropagation:!1},(0,e.h)(fl.qE,{size:36,user:n})),(0,e.h)(rt.xv.B4,{color:"primary-themed",weight:"semibold"},n.name)),(0,e.h)(rt.xv.B4,{color:"primary-themed",weight:"semibold"},r))),xU=({pub:n,user:t})=>{const r=(0,ni.pm)(),{result:i,isLoading:f}=(0,io.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0});if((0,o.d4)(()=>{!f&&!i&&(0,b.redirect)((0,Ze.getBaseUrl)(n))},[i,f,n]),f||!i)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:x,tiers:k,top_referrers:W}=i,B=(0,Ze.pathWithQuery)((0,Ze.getBaseUrl)(n),{r:t==null?void 0:t.id.toString(36)}),q=t&&!t.is_admin&&(t.is_subscribed||t.is_free_subscribed);let ye,Me;k.find((ze,et)=>{const Je=(x==null?void 0:x.referrals)||0,dt=k[et+1];Je>=ze.num_referrals_required&&(!dt||Je<dt.num_referrals_required)&&(ye=ze,Me=dt)});let Re="";return!ye&&x?Re=`You have ${x.referrals} referrals \u2014 only ${k[0].num_referrals_required-x.referrals} more referrals to earn your first reward!`:ye&&Me&&x?Re=`You\u2019ve referred ${x.referrals} readers! You\u2019ve qualified for the Tier ${ye.display_order} reward. Invite ${Me.num_referrals_required-x.referrals} more readers to earn the Tier ${Me.display_order} reward!`:ye&&!Me&&x&&(Re=`You\u2019ve referred ${x.referrals} readers! You\u2019re number #${x.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(Ye.tu,{gap:64,className:qi.wrapper},(0,e.h)(Ye.tu,{alignItems:"center",style:{width:"100%"}},(0,e.h)(Pl.x,{paddingBottom:24},(0,e.h)(gd.F,{pub:n,size:64})),(0,e.h)(Ye.tu,{gap:48,alignItems:"center",style:{width:"100%"}},(0,e.h)(Ye.tu,{alignItems:"center",gap:4},(0,e.h)(rt.xv,{className:qi.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},"Refer friends to ",n.name),(0,e.h)(rt.xv.B3,{color:"pub-secondary-text",textAlign:"center",className:qi.introText},"Show your support by sharing ",n.name," and earn rewards for your referrals. Learn more about referrals"," ",(0,e.h)("a",{target:"_blank",rel:"noreferrer",href:"https://support.substack.com/hc/en-us/articles/16142857300372"},"here"),".")),q&&(0,e.h)(Ye.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(Ye.gq,{style:{width:"100%"}},(0,e.h)(Jt.oi,{className:qi.copyLinkInput,readOnly:!0,value:B}),(0,e.h)(Gn.zx,{className:qi.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,b.copyToClipboard)(B),r.popToast(ze=>(0,e.h)(ni.FN,IU(TU({},ze),{Icon:Dl.Z,text:"Link copied to clipboard"})))}},"Copy link")),(0,e.h)(Ye.hs,{className:qi.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(Gn.zx,{className:qi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(ln.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>dp((0,Ze.pathWithQuery)("https://twitter.com/share",{url:B,text:n.name}),"twitter")},"Twitter"),(0,e.h)(Gn.zx,{className:qi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(yU.Z,{height:20,width:20}),onClick:()=>dp((0,Ze.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:B}),"facebook")},"Facebook"),(0,e.h)(Gn.zx,{className:qi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(n1,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>dp((0,Ze.pathWithQuery)("mailto:",{subject:n.name,body:B}),"email")},"Email"))))),(0,e.h)(Ye.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(rt.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(Ye.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},k.map(ze=>(0,e.h)(DU,{key:ze.display_order,tier:ze,isSelected:ze.display_order===(ye==null?void 0:ye.display_order)}))),q&&x&&(0,e.h)(Ye.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(Fb,{user:t,isSelf:!0,referrals:x.referrals,rank:x.rank}),(0,e.h)(rt.xv.B3,{color:"pub-secondary-text"},Re))),(0,e.h)(Ye.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(rt.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(W==null?void 0:W.length)===0&&(0,e.h)(Ye.tu,{alignItems:"center",justifyContent:"center",gap:4,radius:8,bg:"secondary",textAlign:"center",paddingX:12,sizing:"border-box",style:{width:"100%",minHeight:400}},(0,e.h)(vU,{size:22,stroke:"var(--color-secondary)"}),(0,e.h)(rt.xv.B4,{color:"secondary",weight:"semibold",paddingTop:8},"No referrals yet"),(0,e.h)(rt.xv.B4,{color:"secondary"}," ",t!=null&&t.is_admin?`When a reader refers ${n.name} they\u2019ll show up here.`:`Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(W==null?void 0:W.length)>0&&(0,e.h)(Ye.tu,{gap:8,style:{width:"100%"}},(0,e.h)(Ye.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(rt.xv.Meta,{weight:"semibold"},"Referrer"),(0,e.h)(rt.xv.Meta,{weight:"semibold"},"Referrals")),W==null?void 0:W.map(ze=>(0,e.h)(Fb,{key:ze.user.id,user:ze.user,isHighlighted:ze.user.id===(t==null?void 0:t.id),rank:ze.rank,referrals:ze.referrals})))))))},MU=(0,Po.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),AU=(0,Po.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),zi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},jb=({pub:n})=>{const t=()=>{const r=(0,v.getQueryItem)("referrer"),i=r!=null?r:(0,v.getPubUrl)(n);(0,b.redirect)(i,{local_navigation:!1})};return(0,e.h)(Gn.hU,{onClick:t,className:zi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(As.Z,{className:zi.closeIcon}))},Ys=({pub:n,user_id:t,user_profile_photo_url:r,children:i})=>(0,xi.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(Ye.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(gd.F,{className:zi.pubLogo,pub:n,size:112}),i):(0,e.h)(Ye.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:zi.avatarWithPubLogo},(0,e.h)(fl.qE,{className:zi.avatar,user:{id:t,photo_url:r},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(gd.F,{className:zi.pubIcon,pub:n,size:40})),i),NU=({pub:n,user:t,settings:r})=>{var i;const{selected_event_type:{price:f,subscriber_price:x,founding_price:k,currency:W,description_html:B,duration:q,num_availabilities:ye},user_name:Me}=r;let Re=f,ze=null;t!=null&&t.is_subscribed&&x&&(Re=x,ze="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&k&&(Re=k,ze=`${(0,fa.getFoundingTierName)(n).toUpperCase()} DISCOUNT`),(0,o.d4)(()=>{var wt,xt;(0,M.j)(M.FP.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:t.id,referrer:(wt=(0,v.getQueryItem)("referrer"))!=null?wt:null,source:(xt=(0,v.getQueryItem)("source"))!=null?xt:null})},[]);const et=(i=(0,v.getQueryItem)("referrer"))!=null?i:void 0,Je=(0,v.updateQuery)("/meetings/book",{referrer:et}),dt=ye>0,Et=B?{__html:B.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(jb,{pub:n}),(0,e.h)(Ye.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Ye.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(Ys,{pub:n,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(rt.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(rt.xv.H2,{align:"center",paddingTop:4},(0,xi.getConfigFor)("meetings_embed_publication_name")?n.name:Me))),(0,e.h)(Ye.tu,{bg:"primary",className:d()(zi.offer,{[zi.unavailable]:!dt}),radius:8,shadow:"xl",padding:20},ze&&(0,e.h)("div",{className:zi.displayedBadge},ze),(0,e.h)(Ye.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(Ye.tu,null,Re&&W&&q&&(0,e.h)(e.Fragment,null,(0,e.h)(rt.xv.H3,{color:dt?"primary":"secondary"},q,"-minute meeting"),(0,e.h)(rt.xv.B4,{color:dt?"primary":"secondary",paddingTop:4},Re<f&&(0,e.h)("span",{className:zi.originalPrice},(0,he.centsToPriceString)(f,W)),(0,he.centsToPriceString)(Re,W)," \xB7"," ",dt?ye>50?"Many availabilities":`${(0,he.pluralize)(ye,"slot")} available this month`:"No slots available in the next week"))),dt?(0,e.h)(MU,{className:zi.check,size:28}):(0,e.h)(AU,{size:28,className:zi.disabledCheck})),(0,e.h)(rt.xv.B4,{color:"secondary"},(0,e.h)("div",{className:zi.description,dangerouslySetInnerHTML:Et}))),(0,e.h)(Gn.zx,{className:zi.button,disabled:!dt,grow:!0,localNavigation:!1,href:Je},dt?"Continue to book":"No meetings available"))))},Wb={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var RU=Object.defineProperty,LU=Object.defineProperties,BU=Object.getOwnPropertyDescriptors,Hb=Object.getOwnPropertySymbols,kU=Object.prototype.hasOwnProperty,UU=Object.prototype.propertyIsEnumerable,Vb=(n,t,r)=>t in n?RU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FU=(n,t)=>{for(var r in t||(t={}))kU.call(t,r)&&Vb(n,r,t[r]);if(Hb)for(var r of Hb(t))UU.call(t,r)&&Vb(n,r,t[r]);return n},jU=(n,t)=>LU(n,BU(t));const WU=(n,t,r)=>{var i,f,x,k,W,B,q,ye,Me,Re,ze,et,Je,dt,Et,wt,xt,Bt,kt,on,pn,En,vn,hn,qn,Yn,$n,yn,mn,cr,Hn,Kn,Zn;return!((i=n.location)!=null&&i.location)&&!((f=n.location)!=null&&f.join_url)?t&&r?{href:(0,Ze.getMeetingOrderUrl)(r,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(x=n.location)==null?void 0:x.join_url,copyContent:(k=n.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(W=n.location)==null?void 0:W.join_url,copyContent:(B=n.location)==null?void 0:B.join_url,label:"Join Zoom"},google:{href:(q=n.location)==null?void 0:q.join_url,copyContent:(ye=n.location)==null?void 0:ye.join_url,label:"Join Meet"},google_conference:{href:(Me=n.location)==null?void 0:Me.join_url,copyContent:(Re=n.location)==null?void 0:Re.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(ze=n.location)==null?void 0:ze.location}`,copyContent:(et=n.location)==null?void 0:et.location,label:(Je=n.location)==null?void 0:Je.location},outbound_call:{href:null,label:`${(0,he.guessFirstName)(n.user_name)} will call you at ${(dt=n.location)==null?void 0:dt.location}`},microsoft_teams:{href:(Et=n.location)==null?void 0:Et.join_url,copyContent:(wt=n.location)==null?void 0:wt.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(xt=n.location)==null?void 0:xt.join_url,copyContent:(Bt=n.location)==null?void 0:Bt.join_url,label:"Join Teams"},webex:{href:(kt=n.location)==null?void 0:kt.join_url,copyContent:(on=n.location)==null?void 0:on.join_url,label:"Join Webex"},webex_conference:{href:(pn=n.location)==null?void 0:pn.join_url,copyContent:(En=n.location)==null?void 0:En.join_url,label:"Join Webex"},gotomeeting:{href:(vn=n.location)==null?void 0:vn.join_url,copyContent:(hn=n.location)==null?void 0:hn.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(qn=n.location)==null?void 0:qn.join_url,copyContent:(Yn=n.location)==null?void 0:Yn.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(yn=($n=n.location)==null?void 0:$n.location)!=null?yn:"Unknown"},ask_invitee:{href:null,label:(cr=(mn=n.location)==null?void 0:mn.location)!=null?cr:"Unknown"},custom:{href:null,label:(Kn=(Hn=n.location)==null?void 0:Hn.location)!=null?Kn:"Unknown"}}[(Zn=n.location)==null?void 0:Zn.type]||{}},HU=({order:n,isStatic:t=!1,pub:r=null})=>{const i=(0,ni.pm)(),{href:f,label:x,copyContent:k}=WU(n,t,r),W=(0,e.h)(rt.xv.B3,{align:"right"},f?(0,e.h)("a",{href:f},x):x);return t||!k?W:(0,e.h)(Ye.gq,{gap:4,alignItems:"center"},W,(0,e.h)(Gn.hU,{size:24,onClick:()=>{(0,b.copyToClipboard)(k),i.popToast(B=>(0,e.h)(ni.FN,jU(FU({},B),{Icon:dl.Z,text:"Invite link copied"})))}},(0,e.h)(pd,{height:20})))},VU=({order:n,pub:t})=>{const r=Bn()(n.start_time),i=Bn()(n.end_time),f=`${r.format("MMMM D, YYYY")} at ${r.format("h:mm A z")}`,x=i.diff(r,"minute");return(0,e.h)(Ye.tu,{gap:8,className:Wb.meetingDetails},(0,e.h)(Ye.gq,{justifyContent:"space-between",gap:8},(0,e.h)(rt.xv.B3,{weight:"bold"},"Time"),(0,e.h)(rt.xv.B3,null,f)),(0,e.h)(Ye.gq,{justifyContent:"space-between",gap:8},(0,e.h)(rt.xv.B3,{weight:"bold"},"Length"),(0,e.h)(rt.xv.B3,null,x," minutes")),(0,e.h)(Ye.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(rt.xv.B3,{weight:"bold"},"Location"),(0,e.h)(HU,{order:n,pub:t})),(0,e.h)(rt.xv.B3,{align:"center",className:Wb.description,paddingTop:16},(0,e.h)("i",null,n.description)))},KU=({booking:n,settings:t,pub:r})=>{const i=(0,xi.getConfigFor)("meetings_embed_publication_name")?r.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(rt.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(rt.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(rt.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(rt.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(rt.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,Ze.getMeetingsUrl)(r,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(rt.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(Ye.tu,{gap:16,alignItems:"center"},(0,e.h)(VU,{order:n,pub:r}),(0,e.h)(rt.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(rt.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(Gn.zx,{onClick:()=>{const f=(0,v.getQueryItem)("referrer"),x=f!=null?f:(0,v.getPubUrl)(r);(0,b.redirect)(x,{local_navigation:!1})}},"Done")))};var fp=St(44043);const $U=(0,Po.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),zU=(0,Po.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ps={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var Kb=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const GU=({onFileSelected:n,dragCTA:t="Drag file here",dropCTA:r=(0,e.h)("a",{className:Ps.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:i,dropEvent:f,pickEvent:x,loading:k,className:W,multiple:B=!1,addMode:q=!1})=>{const[ye,Me]=(0,o.eJ)(!1),Re=(0,o.sO)(),ze=dt=>{dt.preventDefault(),Me(!0)},et=dt=>{dt.preventDefault(),Me(!1)},Je=dt=>Kb(void 0,null,function*(){var Et,wt,xt,Bt;dt.preventDefault(),f&&(0,M.j)(f),Me(!1);let kt,on;if(((wt=(Et=dt.dataTransfer)==null?void 0:Et.items)==null?void 0:wt.length)>0){const pn=Array.from(dt.dataTransfer.items);for(const En of pn)if(En.kind!=="file"){alert("Please only drag files!");return}kt=dt.dataTransfer.items[0].getAsFile(),on=pn.map(En=>En.getAsFile())}else if(((Bt=(xt=dt.dataTransfer)==null?void 0:xt.files)==null?void 0:Bt.length)>0)kt=dt.dataTransfer.files[0],on=dt.dataTransfer.files;else{alert("Something went wrong!");return}B?yield n(on):yield n(kt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:d()(Ps.dragArea,W,{[Ps.dragActive]:ye,"test-drag-active":ye}),onDragEnter:ze,onDragOver:ze,onDragLeave:et,onDrop:Je,onClick:()=>Re.current.click(),"aria-label":"File Picker"},q?(0,e.h)($U,{size:20,className:Ps.icon}):(0,e.h)(zU,{size:32,className:Ps.icon}),(0,e.h)("p",{className:Ps.text},k?"Loading...":ye?"Release to upload":q?"Add another image":(0,e.h)(e.Fragment,null,t," or ",r))),(0,e.h)("input",{className:d()(Ps.file,"file-picker-input"),ref:Re,type:"file",name:"file",accept:i,multiple:B,onInput:dt=>Kb(void 0,null,function*(){x&&(0,M.j)(x);const Et=dt.target.files;Et&&Et[0]&&(B?yield n(Et):yield n(Et[0]))})}))},ZU={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},$b=({className:n,children:t,detail:r,label:i,alignment:f="vertical",error:x=!1})=>{const k=f==="vertical"?YU:JU;return(0,e.h)(k,{className:n,detail:r,error:x,label:i},tt.Children.map(t,W=>(0,tt.isValidElement)(W)?(0,e.cloneElement)(W,{error:x}):W))},YU=({children:n,className:t,detail:r,error:i,label:f})=>(0,e.h)(Ye.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(rt.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},f),n),r&&(0,e.h)(zb,{detail:r,error:i})),JU=({children:n,className:t,detail:r,error:i,label:f})=>(0,e.h)(Ye.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(Ye.tu,{gap:4},f&&(0,e.h)(QU,{label:f,error:i}),r&&(0,e.h)(zb,{detail:r,error:i})),n),QU=({label:n,error:t})=>(0,e.h)(rt.xv.B4,{weight:"semibold",className:ZU.label,color:t?"error":"primary"},n),zb=({detail:n,error:t})=>(0,e.h)(rt.xv.B4,{color:t?"error":"secondary"},n),ea={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var pp=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const XU=({stripe_publishable_key:n,onComplete:t,user:r,pub:i,booking:f,settings:x})=>{const[k,W]=(0,o.eJ)(f.name),[B,q]=(0,o.eJ)(f.description),[ye,Me]=(0,o.eJ)(null),[Re,ze]=(0,o.eJ)(null),[et,Je]=(0,o.eJ)(null),[dt,Et]=(0,o.eJ)(null),[wt,xt]=(0,o.eJ)(!1),[Bt,kt]=(0,o.eJ)(null);(0,o.d4)(()=>{const Hn=(0,yr.lQ)(n,i),Kn=Hn&&(0,yr.UD)(Hn);ze(Hn),Je(Kn)},[i,n,ze,Je]),(0,o.d4)(()=>{(0,M.j)(fp.F.MEETING_ORDER_PAGE_VIEWED,{user_id:r.id,publication_id:i.id})},[]),(0,o.d4)(()=>{(()=>pp(void 0,null,function*(){var Kn;const Zn=yield ie().get("/api/v1/subscription/last4");(Kn=Zn.body)!=null&&Kn.last4&&Et(Zn.body.last4)}))()},[i]);const on=x.selected_event_type,{price:pn,duration:En,subscriber_price:vn,founding_price:hn,currency:qn}=on;let Yn=pn;r.is_subscribed&&vn&&(Yn=vn),r.is_founding&&hn&&(Yn=hn);const $n=!!(r!=null&&r.has_saved_payment),yn=(0,o.I4)(()=>pp(void 0,null,function*(){return Re?yield Re.createToken(et):{token:null,error:{message:""}}}),[Re,et]),mn=(0,o.I4)(()=>pp(void 0,null,function*(){var Hn,Kn,Zn,tr;xt(!0),kt(null);let lr;if(!$n){const{token:an,error:In}=yield yn();if(In){xt(!1),kt(In&&In.message),(0,M.j)(fp.F.MEETING_MISSING_PAYMENT,{type:In&&In.type,code:In&&In.code,decline_code:In&&In.decline_code,reason:In&&In.message});return}lr=an}const Fn=new FormData;Fn.append("name",k),Fn.append("description",B),lr&&Fn.append("stripe_token",JSON.stringify(lr)),ye&&Fn.append("attachment",ye);const zn=Intl.DateTimeFormat().resolvedOptions().timeZone;zn&&Fn.append("timezone",zn),(0,M.j)(fp.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:r.id});try{const an=yield ie().post("/api/v1/meetings/book").send(Fn);history.pushState({},"",`/meetings/book/${an.body.order_id}`),t("schedule",Cy()(an.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(an){(Kn=(Hn=an.response)==null?void 0:Hn.body)!=null&&Kn.error?kt((tr=(Zn=an.response)==null?void 0:Zn.body)==null?void 0:tr.error):kt("Something went wrong.")}xt(!1)}),[k,B,yn,ye,xt,kt]),cr=!!k&&!!B;return(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:i,user_id:x.user_id,user_profile_photo_url:x.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(Jt.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(Jt.xv.H2,{align:"center",paddingTop:4},(0,xi.getConfigFor)("meetings_embed_publication_name")?i.name:x.user_name),(0,e.h)(Jt.xv.B3,{align:"center",paddingTop:8},Yn<pn&&(0,e.h)("span",{className:ea.originalPrice},(0,he.centsToPriceString)(pn,qn)),(0,he.centsToPriceString)(Yn,qn)," \xB7 ",En,"-minute meeting"))),(0,e.h)(Jt.tu,{gap:32},(0,e.h)($b,{alignment:"vertical",label:"Your name"},(0,e.h)(Jt.oi,{name:"name",value:k,onChange:Hn=>W(Hn.target.value),placeholder:"Name...",disabled:wt,maxLength:500})),(0,e.h)($b,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(Jt.gx,{name:"description",value:B,onChange:Hn=>q(Hn.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:wt})),ye?(0,e.h)("div",null,(0,e.h)(Jt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(Jt.gq,{className:ea.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(As.Z,{onClick:()=>Me(null),className:ea.fileRemoveIcon,height:24}),(0,e.h)(Jt.xv.B3,{className:ea.fileName},ye.name))):(0,e.h)("div",null,(0,e.h)(Jt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(GU,{className:ea.filePicker,onFileSelected:Hn=>Me(Hn),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:ea.checkoutBox},$n&&(0,e.h)(Jt.gq,{className:ea.savedCard,padding:12,gap:12},(0,e.h)(U1,{className:ea.cardOnFileIcon}),(0,e.h)(Jt.xv.B4,null,dt?`**** **** **** ${dt}`:"Use card on file")),!$n&&et&&(0,e.h)(yr.GP,{className:ea.input,card:et}),Bt&&(0,e.h)(Jt.xv.B4,{paddingTop:12,className:ea.errorContainer},Bt),(0,e.h)(Jt.hs,{paddingTop:12},(0,e.h)(D1.u,{text:x.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:wt||cr&&x.enabled,preferPlacement:"top-center",className:ea.errorTooltip},(0,e.h)(Jt.zx,{className:ea.button,grow:!0,type:"submit",onClick:mn,disabled:wt||!cr||!x.enabled},wt?"Loading...":"Book meeting"))))),(0,e.h)(Jt.xv,{className:ea.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hp=function(n,t){return hp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var f in i)i.hasOwnProperty(f)&&(r[f]=i[f])},hp(n,t)};function nu(n,t){hp(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ru=function(){return ru=Object.assign||function(t){for(var r,i=1,f=arguments.length;i<f;i++){r=arguments[i];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(t[x]=r[x])}return t},ru.apply(this,arguments)};function qU(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",r==="top"&&i.firstChild?i.insertBefore(f,i.firstChild):i.appendChild(f),f.styleSheet?f.styleSheet.cssText=n:f.appendChild(document.createTextNode(n))}}var eF=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;qU(eF);var Js;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(Js||(Js={}));var Gb=function(n){var t=n.url,r=n.prefill,i=r===void 0?{}:r,f=n.pageSettings,x=f===void 0?{}:f,k=n.utm,W=k===void 0?{}:k,B=n.embedType,q=x.backgroundColor,ye=x.hideEventTypeDetails,Me=x.hideLandingPageDetails,Re=x.primaryColor,ze=x.textColor,et=x.hideGdprBanner,Je=i.customAnswers,dt=i.date,Et=i.email,wt=i.firstName,xt=i.guests,Bt=i.lastName,kt=i.location,on=i.name,pn=W.utmCampaign,En=W.utmContent,vn=W.utmMedium,hn=W.utmSource,qn=W.utmTerm,Yn=W.salesforce_uuid,$n=t.indexOf("?"),yn=$n>-1,mn=t.slice($n+1),cr=yn?t.slice(0,$n):t,Hn=[yn?mn:null,q?"background_color="+q:null,ye?"hide_event_type_details=1":null,Me?"hide_landing_page_details=1":null,Re?"primary_color="+Re:null,ze?"text_color="+ze:null,et?"hide_gdpr_banner=1":null,on?"name="+encodeURIComponent(on):null,kt?"location="+encodeURIComponent(kt):null,wt?"first_name="+encodeURIComponent(wt):null,Bt?"last_name="+encodeURIComponent(Bt):null,xt?"guests="+xt.map(encodeURIComponent).join(","):null,Et?"email="+encodeURIComponent(Et):null,dt&&dt instanceof Date?"date="+tF(dt):null,pn?"utm_campaign="+encodeURIComponent(pn):null,En?"utm_content="+encodeURIComponent(En):null,vn?"utm_medium="+encodeURIComponent(vn):null,hn?"utm_source="+encodeURIComponent(hn):null,qn?"utm_term="+encodeURIComponent(qn):null,Yn?"salesforce_uuid="+encodeURIComponent(Yn):null,B?"embed_type="+B:null,"embed_domain=1"].concat(Je?rF(Je):[]).filter(function(Kn){return Kn!==null}).join("&");return cr+"?"+Hn},tF=function(n){var t=n.getMonth()+1,r=n.getDate(),i=n.getFullYear();return[i,t<10?"0"+t:t,r<10?"0"+r:r].join("-")},nF=/^a\d{1,2}$/,rF=function(n){var t=Object.keys(n).filter(function(r){return r.match(nF)});return t.length?t.map(function(r){return r+"="+encodeURIComponent(n[r])}):[]},Zb=function(n){nu(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return(0,tt.createElement)("div",{className:"calendly-spinner"},(0,tt.createElement)("div",{className:"calendly-bounce1"}),(0,tt.createElement)("div",{className:"calendly-bounce2"}),(0,tt.createElement)("div",{className:"calendly-bounce3"}))},t}(tt.Component),oF={minWidth:"320px",height:"630px"},iF=function(n){nu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=Gb({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,tt.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||oF},this.state.isLoading&&(0,tt.createElement)(Zb,null),(0,tt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(tt.Component),aF=function(n){nu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=Gb({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,tt.createElement)(tt.Fragment,null,this.state.isLoading&&(0,tt.createElement)(Zb,null),(0,tt.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(tt.Component),Yb=function(n){return n.open?(0,tt.createPortal)((0,tt.createElement)("div",{className:"calendly-overlay"},(0,tt.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,tt.createElement)("div",{className:"calendly-popup"},(0,tt.createElement)("div",{className:"calendly-popup-content"},(0,tt.createElement)(aF,ru({},n)))),(0,tt.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},bV=function(n){nu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(r){r.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,tt.createElement)(tt.Fragment,null,(0,tt.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,tt.createElement)(Yb,ru({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(tt.Component),PV=function(n){nu(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,tt.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,tt.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,tt.createElement)("span",null,"powered by Calendly")),(0,tt.createElement)(Yb,ru({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(tt.Component),Jb="message";function sF(n){var t=n||{},r=t.onDateAndTimeSelected,i=t.onEventScheduled,f=t.onEventTypeViewed,x=t.onProfilePageViewed;(0,tt.useEffect)(function(){var k=function(W){var B=W.data.event;B===Js.DATE_AND_TIME_SELECTED?r&&r(W):B===Js.EVENT_SCHEDULED?i&&i(W):B===Js.EVENT_TYPE_VIEWED?f&&f(W):B===Js.PROFILE_PAGE_VIEWED&&x&&x(W)};return window.addEventListener(Jb,k),function(){window.removeEventListener(Jb,k)}},[n])}var lF=St(56288),uF=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const cF=({booking:n,onComplete:t,settings:r,pub:i})=>{const f="calendly",[x,k]=(0,o.eJ)(!1),[W,B]=(0,o.eJ)(!1),{duration:q}=r.selected_event_type,ye=(0,xi.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,Me=(0,$t.useMediaQuery)({maxWidth:698});return sF({onEventScheduled:Re=>uF(void 0,null,function*(){var ze,et,Je;const dt=(Je=(et=(ze=Re.data)==null?void 0:ze.payload)==null?void 0:et.event)==null?void 0:Je.uri;k(!0);try{const Et=yield ie().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:dt});yield new Promise(wt=>setTimeout(wt,2e3)),t("confirmation",Et.body)}catch(Et){B(!0)}})}),W?(0,e.h)(Ys,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(rt.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):x?(0,e.h)(Ye.hs,{justifyContent:"center"},(0,e.h)(lF.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(Ys,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(rt.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",ye),(0,e.h)(rt.xv.B3,{align:"center",paddingTop:8},"Schedule your ",q,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(iF,{iframeTitle:f,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name,email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:Me?"0px":"-66px"}}))};var dF=Object.defineProperty,Fc=Object.getOwnPropertySymbols,Qb=Object.prototype.hasOwnProperty,Xb=Object.prototype.propertyIsEnumerable,qb=(n,t,r)=>t in n?dF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qs=(n,t)=>{for(var r in t||(t={}))Qb.call(t,r)&&qb(n,r,t[r]);if(Fc)for(var r of Fc(t))Xb.call(t,r)&&qb(n,r,t[r]);return n},fF=(n,t)=>{var r={};for(var i in n)Qb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Fc)for(var i of Fc(n))t.indexOf(i)<0&&Xb.call(n,i)&&(r[i]=n[i]);return r};const pF=n=>{var t=n,{step:r}=t,i=fF(t,["step"]);switch(r){case"order":return(0,e.h)(XU,Qs({},i));case"schedule":return(0,e.h)(cF,Qs({},i));case"confirmation":return(0,e.h)(KU,Qs({},i))}},eP=({stripe_publishable_key:n,pub:t,user:r,order:i,order_id:f,settings:x})=>{const k=f?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[W,B]=(0,o.eJ)(k),[q,ye]=(0,o.eJ)(Qs({name:r.name,email:r.email,description:""},i)),Me=pF({step:W,booking:q,settings:x,order:i,onComplete:(Re,ze)=>{ye(Qs(Qs({},q),ze)),B(Re)},pub:t,stripe_publishable_key:n,user:r,orderId:f});return(0,e.h)(e.Fragment,null,(0,e.h)(jb,{pub:t}),(0,e.h)(Ye.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Ye.tu,{paddingX:24,gap:32,style:{width:W==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},Me)))},hF=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,b.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var mF=St(66141),tP=St(19696);function _F(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function EV({user:n,pathname:t="/inbox"}){const[r,i]=_F(),f=aP();if(r||!f||n!=null&&n.reader_installed_at&&f==="ios"&&(t.startsWith("/notes")||t.includes("/note/")))return null;const x=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},k=B=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})},W=n!=null&&n.reader_installed_at?`substack:/${t}`:f==="android"?getPlayStoreUrl():getAppStoreUrl();return h(rP,{className:"app-banner-fixed"},h(nP,{surface:"reader"}),h(iP,null),h(oP,null,h("div",null,"Get the full experience")),h("a",{href:W,className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:x},h(X,{size:16,className:"app-banner-x-out"})))}function gF({post:n,subdomain:t}){const r=aP();if(!(0,P.isMobile)({checkFirst4:!0})||!r)return null;const i=(0,v.getPostAppLinkUrl)(t,n.slug,{redirect:"app-store",source:"post-banner"}),f=()=>{(0,M.j)(M.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(rP,null,(0,e.h)(nP,{surface:"post"}),(0,e.h)(iP,null),(0,e.h)(oP,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:f},"Open app"))}function nP({surface:n}){return(0,o.d4)(()=>{(0,M.j)(M.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const rP=(0,tP.L)("app-banner"),oP=(0,tP.L)("app-banner-text");function iP(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(ae.Z,{height:16}))}function aP(){return(0,P.isIos)()?"ios":(0,P.isAndroid)()?"android":null}var vF=Object.defineProperty,yF=Object.defineProperties,bF=Object.getOwnPropertyDescriptors,sP=Object.getOwnPropertySymbols,PF=Object.prototype.hasOwnProperty,EF=Object.prototype.propertyIsEnumerable,lP=(n,t,r)=>t in n?vF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wF=(n,t)=>{for(var r in t||(t={}))PF.call(t,r)&&lP(n,r,t[r]);if(sP)for(var r of sP(t))EF.call(t,r)&&lP(n,r,t[r]);return n},CF=(n,t)=>yF(n,bF(t));const wV=n=>h(SvgIcon,CF(wF({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),CV=null,jc=({children:n,dismissKey:t,dismissDurationInSeconds:r,beforeDismiss:i,className:f,level:x="info"}={})=>{const[k,W]=(0,mF.Z)(t,r,i);if(!k)return(0,e.h)("div",{className:d()("banner",x,f)},n,(0,e.h)(D.Z,{width:12,height:12,className:"banner-close",onClick:B=>{B.preventDefault(),B.stopPropagation(),W()}}))},OV=null,SV=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(jc,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),TV=({action:n="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[r,i]=useState(!1);return r||!t("twitter_connect_flows_enabled")?null:h(jc,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},OF=()=>(0,e.h)(jc,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{ie().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),IV=({children:n,className:t,level:r="info",onClose:i}={})=>{const[f,x]=useState(!1);if(!(f&&r!=="error"))return h("div",{className:classnames("banner",r,t)},n,r!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),i&&i(),x(!0)}}))},DV=({featureName:n,featureLink:t,preText:r,linkedText:i,postText:f,children:x})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const k=isMobileBrowser();return h(jc,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&x,h("p",{className:"new-feature-banner-text"},r," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",f))};var SF=St(65207),TF=Object.defineProperty,IF=Object.defineProperties,DF=Object.getOwnPropertyDescriptors,uP=Object.getOwnPropertySymbols,xF=Object.prototype.hasOwnProperty,MF=Object.prototype.propertyIsEnumerable,cP=(n,t,r)=>t in n?TF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AF=(n,t)=>{for(var r in t||(t={}))xF.call(t,r)&&cP(n,r,t[r]);if(uP)for(var r of uP(t))MF.call(t,r)&&cP(n,r,t[r]);return n},NF=(n,t)=>IF(n,DF(t));const RF=n=>(0,e.h)(N.l,NF(AF({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(SF.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var LF=Object.defineProperty,BF=Object.defineProperties,kF=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,UF=Object.prototype.hasOwnProperty,FF=Object.prototype.propertyIsEnumerable,fP=(n,t,r)=>t in n?LF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,jF=(n,t)=>{for(var r in t||(t={}))UF.call(t,r)&&fP(n,r,t[r]);if(dP)for(var r of dP(t))FF.call(t,r)&&fP(n,r,t[r]);return n},WF=(n,t)=>BF(n,kF(t));const HF=n=>(0,e.h)(N.l,WF(jF({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var VF=St(7775),KF=St(74957);const mp={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var $F=Object.defineProperty,zF=Object.defineProperties,GF=Object.getOwnPropertyDescriptors,pP=Object.getOwnPropertySymbols,ZF=Object.prototype.hasOwnProperty,YF=Object.prototype.propertyIsEnumerable,hP=(n,t,r)=>t in n?$F(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ou=(n,t)=>{for(var r in t||(t={}))ZF.call(t,r)&&hP(n,r,t[r]);if(pP)for(var r of pP(t))YF.call(t,r)&&hP(n,r,t[r]);return n},mP=(n,t)=>zF(n,GF(t));const _P="https://twitter.com",gP=()=>{const n=(0,ni.pm)();return(t,r=null)=>n.popToast(i=>(0,e.h)(ni.FN,mP(ou({},i),{className:mp.toast,text:t,cta:r})))},JF=({post:n,publication:t,autoSharedOnTwitter:r,showAfter:i,publicationTwitterScreenName:f,authorVersion:x})=>{const k=(0,o.sO)(null),[W,B]=(0,o.eJ)(!0),q=gP();(0,o.d4)(()=>{r&&q("Post shared to Twitter",f?(0,e.h)("a",{className:mp.cta,href:`${_P}/${f}`,target:"_blank",rel:"noreferrer"},"View"):null)},[]);const ye=()=>{B(!1)};return!W&&i?i:(0,e.h)(Gt.Z,{testID:"share-modal",openByDefault:!0,className:d()("force-light-theme",mp.modal),ref:k,variant:"structured",modalTitle:`Share your ${x?"substack:":"post:"}`,modalFooter:(0,e.h)(aa.z,{variant:x?"primary":"secondary",look:"button",onClick:Me=>{Me.preventDefault(),k.current.close()}},x?"View Dashboard":"View post"),onBeforeClose:ye},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Dl.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,x?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!x&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(XF,{modalRef:k})),(0,e.h)(QF,{post:n,publication:t,hideEmailOption:!x,trackingParams:{sd:"pf"},autoSharedOnTwitter:r,authorVersion:x})))},QF=({post:n,publication:t,hideEmailOption:r=!1,trackingParams:i,autoSharedOnTwitter:f,authorVersion:x})=>{const k=x?(0,v.getBaseUrl)(t):n.canonical_url,W=q=>{(0,M.j)(M.FP.SHARE_LINK_CLICKED,{name:q,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},B=gP();return(0,e.h)(e.Fragment,null,(0,e.h)(iu,{onClick:()=>{W("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,v.serializeQuery)({u:(0,v.updateQuery)(k,ou({utm_source:"facebook"},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(HF,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!f&&(0,e.h)(iu,{onClick:()=>{W("twitter"),window.open(`${_P}/share?${(0,v.serializeQuery)({url:(0,v.updateQuery)(k,ou({utm_source:"twitter"},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(ln.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(iu,{onClick:()=>{(0,b.copyToClipboard)((0,v.updateQuery)(k,i)),W("copy"),B("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(VF.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!r&&(0,e.h)(iu,{onClick:()=>{W("email"),window.open(`mailto:?${(0,v.serializeQuery)({subject:x?`Check out ${t.name}`:n.title,body:(0,v.updateQuery)(k,ou({utm_source:"email"},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(KF.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!x&&(0,e.h)(iu,{onClick:()=>{W("media-assets"),window.open(`${(0,v.getPostUrl)(t,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(RF,{stroke:"#404040",fill:"white"}),"View media assets")))},iu=n=>(0,e.h)("a",mP(ou({},n),{native:!0})),XF=({modalRef:n})=>{var t,r,i;let f="";typeof window!="undefined"&&(f=window.location.host);const x=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,k=(r=document.head.querySelector('meta[property="og:title"]'))==null?void 0:r.content,W=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},x&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:x,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},f),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},W)))},qF=JF;var ej=Object.defineProperty,tj=Object.defineProperties,nj=Object.getOwnPropertyDescriptors,vP=Object.getOwnPropertySymbols,rj=Object.prototype.hasOwnProperty,oj=Object.prototype.propertyIsEnumerable,yP=(n,t,r)=>t in n?ej(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bP=(n,t)=>{for(var r in t||(t={}))rj.call(t,r)&&yP(n,r,t[r]);if(vP)for(var r of vP(t))oj.call(t,r)&&yP(n,r,t[r]);return n},ij=(n,t)=>tj(n,nj(t)),aj=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});const sj=({pub:n,pubsToRecommend:t})=>{const[r,i]=(0,o.eJ)(!0),[f,x]=(0,o.eJ)(!0),[k,W]=(0,o.eJ)((t||[]).reduce((ze,et)=>ij(bP({},ze),{[et.id]:!0}),{})),B=()=>{i(!r),x(!1)},q=ze=>{const et=bP({},k);et[ze]=!et[ze],W(et)},ye=()=>aj(void 0,null,function*(){try{const ze=Object.keys(k).filter(et=>k[et]===!0).map(et=>Number(et));yield ie().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:ze,source:"post_publish_cta",suggested:ze.map(()=>!0)}),ze.length&&(0,ss.ZP)(`Recommended ${(0,he.pluralize)(ze.length,"publication")}`,{timeout:1500}),B()}catch(ze){console.error("Failed to add recommendations: ",ze),B()}});let Me,Re;return t!=null&&t.length&&(Me=(Object.values(k).filter(ze=>ze===!0)||[]).length,Re=`Do you want to recommend ${t[0].name}${t.length>1?` and ${t.length-1} other ${(0,he.pluralize)(t.length-1,"publication",{just_word:!0})}`:""}?`),(0,e.h)(e.Fragment,null,f?(0,e.h)(Hi.u_,{isOpen:r,onClose:B},(0,e.h)(Hi.xB,{onClose:B,title:Re}),(0,e.h)(Hi.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},"Since you embedded"," ",t.length>1?`${t.length} publications`:t[0].name," on your post, we thought you might want to recommend them to your readers"),t&&t.length&&t.map((ze,et)=>(0,e.h)("div",{className:d()("recommend-publication-container",{last:et===t.length-1}),onClick:()=>q(ze.id)},(0,e.h)(fn.Z,{pub:ze,size:40,logo_url:ze.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,v.getBaseUrl)(ze),target:"_blank"},ze.name),(0,e.h)("p",{className:"author-name"},(0,he.getByLine)(ze))),(0,e.h)(K0.p,{checked:k[ze.id]?k[ze.id]:!1}))))),(0,e.h)(Hi.mz,{alignment:"center",primaryButton:(0,e.h)(aa.z,{onClick:ye,variant:"primary"},Me===0?"Continue":`Recommend ${(0,he.pluralize)(Me,"publication")}`),secondaryButton:(0,e.h)(aa.z,{onClick:B,variant:"secondary"},"Maybe later")})):null)};class lj extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:r}=this.props;return t||r&&r.is_free_subscribed&&!r.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let r=(0,v.getSubscribeUrl)(this.props.publication,{just_signed_up:!0});t.body.prompt_to_login&&(r=`/account/login?redirect=${encodeURIComponent(r)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=r}else window.location.reload()}render({publication:t,user:r,freeSignupEmail:i,features:f}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Ready for more?"),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,v.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(gt.Z,{className:"primary"},(0,e.h)("b",null,(0,he.getSubscribeText)(t))))):(0,e.h)(Pr.Z,{user:r,pub:t,freeSignupEmail:i,source:"subscribe_footer",onSuccess:this.onFreeSubscribe.bind(this),hideLogin:!0,hideTerms:!0,submitButtonText:(0,he.getSubscribeText)(t)})))}}var uj=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});function AV(n,t={}){n=n||getQueryItem("selection");const{isLoading:r,error:i,result:f}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:r,error:i,postSelection:f!=null?f:null,highlightSelection:()=>{f&&PP(f,t)}}}function cj(n){return uj(this,arguments,function*(t,r={}){t=t||(0,v.getQueryItem)("selection");let i=null;try{i=yield(0,io.rd)(`/api/v1/post_selection/${t}`,{})}catch(f){}i&&PP(i,r)})}function PP(n,t={}){var r,i;if(t.ignoreSafari&&(0,b.isSafari)()||!n.text)return;const f=(i=(r=/^[^.]+\./.exec(n.text))==null?void 0:r[0])!=null?i:n.text;if(!f)return;const x=`#:~:text=${encodeURIComponent(f)}`;history.replaceState({},document.title,x),document.location.hash=x}var dj=Object.defineProperty,EP=Object.getOwnPropertySymbols,fj=Object.prototype.hasOwnProperty,pj=Object.prototype.propertyIsEnumerable,wP=(n,t,r)=>t in n?dj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hj=(n,t)=>{for(var r in t||(t={}))fj.call(t,r)&&wP(n,r,t[r]);if(EP)for(var r of EP(t))pj.call(t,r)&&wP(n,r,t[r]);return n};const mj=n=>{const{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:f,pub:x,search:k,sort:W,sortTabs:B,source:q,user:ye}=n,{getConfigFor:Me}=(0,Rt.xR)();return Me("updated_archives")?(0,e.h)(Jt.xu,{paddingY:24},(0,e.h)(Cc,{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:f,pub:x,search:k,sort:W,sortTabs:B,source:q,user:ye},({posts:ze,linkToComments:et,onClickPost:Je})=>(0,e.h)(wi,{hideImages:x.theme.hide_images_from_list,linkToComments:et,posts:ze,pub:x,user:ye,variant:"two-column-list",onChange:()=>{},onClickPost:Je}))):(0,e.h)($s,hj({},n))};var _j=Object.defineProperty,gj=Object.defineProperties,vj=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertySymbols,yj=Object.prototype.hasOwnProperty,bj=Object.prototype.propertyIsEnumerable,_p=(n,t,r)=>t in n?_j(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Pj=(n,t)=>{for(var r in t||(t={}))yj.call(t,r)&&_p(n,r,t[r]);if(CP)for(var r of CP(t))bj.call(t,r)&&_p(n,r,t[r]);return n},Ej=(n,t)=>gj(n,vj(t)),Xs=(n,t,r)=>(_p(n,typeof t!="symbol"?t+"":t,r),r),Wc=(n,t,r)=>new Promise((i,f)=>{var x=B=>{try{W(r.next(B))}catch(q){f(q)}},k=B=>{try{W(r.throw(B))}catch(q){f(q)}},W=B=>B.done?i(B.value):Promise.resolve(B.value).then(x,k);W((r=r.apply(n,t)).next())});class OP extends e.Component{constructor(t,r){super(t,r),Xs(this,"updateSubscribeTakeover",()=>{const f=this.props.publication.id,x=`pub-${f}-subscribe-prompt-next-shown-at`,k=`pub-${f}-takeover-next-shown-at`,W=(0,Ti.mM)(k),B=!W||Date.now()>=W;(0,b.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(B&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,Ti.ex)(x,Bn()().add(1,"hour").valueOf()),(0,Ti.ex)(k,Bn()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),Xs(this,"onChangeComment",f=>{this.setState({comments:Ll(this.state.comments,f)})}),Xs(this,"onVisible",f=>{const x=`${f} Seen`;this.state.post&&(this.state[x]||(this.setState({[x]:!0}),(0,M.j)(x,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),Xs(this,"_inlineComments",()=>{const{inlineComments:f,publication:x}=this.props;return f||(0,he.shouldUseInlineComments)(x,this.state.post||this.props.post)}),Xs(this,"fillEmbeddedEmailInputs",()=>{var f;const x=document.querySelectorAll('article.post input[type="email"]'),k=((f=this.state.user)==null?void 0:f.email)||this.props.freeSignupEmail;if(k)for(const W of x)W.value=k;this.setState({embeddedEmailInputsFilled:!0})});let{user:i}=t;t.postPreview&&(i=Ej(Pj({},i),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(f=>f).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return Wc(this,null,function*(){(0,b.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Xf();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,b.removeQueryParam)("justPublished"),(0,b.preloadImage)(Df(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,b.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,b.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,b.removeQueryParam)("showRestackModal"),this.props.action&&(0,b.removeQueryParam)("action"),this.props.showWelcome||(0,b.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&cj(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,b.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return Wc(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,y.route)((0,v.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return Wc(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,b.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield ie().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,b.setState)(this,{post:t.body,comments:t.body.comments}),(0,b.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,b.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:t,freeSignup:r,freeSignupEmail:i,publication:f,reaction_token:x,hide_intro_popup:k,freewallVariant:W,unlock:B,sort:q,search:ye,children:Me,showWelcome:Re,justPublished:ze,autoSharedOnTwitter:et,readerIsSearchCrawler:Je,postPreview:dt,truncatedPost:Et,selectionFromQuery:wt,embeddedPublications:xt,siteConfigs:Bt={},freeTrialCoupon:kt,showRestackModal:on,action:pn,publicationSettings:En,show_reaction_upsell:vn,stripe_publishable_key:hn,bannedFromNotes:qn},{comments:Yn,notFound:$n,post:yn,user:mn,showSubscribeTakeover:cr}){const Hn=this._inlineComments(),Kn=yn!=null&&yn.audience?(0,xe.userHasFullAccessToPost)(mn,yn):!0,Zn=(mn==null?void 0:mn.is_subscribed)&&Kn,tr=yn&&yn.slug&&yn.slug!=="coming-soon"&&yn.type!=="page",lr=(0,he.commentsEnabledForPost)({publication:f,post:yn}),Fn=(0,he.showCommentsOnPost)({publication:f,post:yn}),zn=Zn||(mn==null?void 0:mn.is_free_subscriber)||r,In=(B||(yn==null?void 0:yn.free_unlock_required))&&!zn&&["treatment_short","treatment_long"].includes(W),Yt=mn&&mn.is_contributor&&(yn==null?void 0:yn.slug)=="coming-soon"&&!(En!=null&&En.seen_coming_soon_explainer);In&&(Et?yn.body_html=Et.body_html:yn.truncatedBody&&(yn.body_html=yn.truncatedBody));const ur=(yn==null?void 0:yn.type)==="podcast",Ln=!(yn!=null&&yn.hidden)&&((0,he.isUUID)(t)||Zn||Je||yn&&!(0,xe.isPaidAudience)(yn.audience)&&!In||yn&&!yn.slug&&!In),Ar=!Ln||(mn==null?void 0:mn.is_contributor)&&yn&&(0,xe.isPaidAudience)(yn.audience),mr=ze&&(mn==null?void 0:mn.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(yn.type);return(0,e.h)("div",null,pn==="restack-comment"&&(0,e.h)(Oj,{post:yn,pub:f}),(0,e.h)(Cj,{pub:f,post:yn}),(Re||cr)&&(0,e.h)(ot,{freeSignup:r,freeSignupEmail:i,user:mn,post:yn,publication:f,hidden:k||In}),yn&&f&&(0,e.h)(gF,{user:mn,subdomain:f.subdomain,post:yn}),Yt&&(0,e.h)(OF,null),(0,e.h)("div",{className:d()("single-post-container")},(0,e.h)("div",{className:d()({container:!ur})},(0,e.h)("div",{className:"single-post"},(0,e.h)(If,{post:yn,publication:f,selection:wt,siteConfigs:Bt}),yn?(0,e.h)(zf,{ref:Nr=>{this.post=Nr},commentsEnabled:lr,postPreview:dt,showComments:Fn,user:mn,post:yn,pub:f,freeSignup:r,freeSignupEmail:i,reaction_token:x,disableSubscribePrompt:Re&&!(k||In),paywall:Ln?!1:In?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${f.name} to unlock this ${yn.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:Nr=>this.setState(Nr),fromPostPage:!0,freeTrialCoupon:kt,showRestackModal:!!on,stripe_publishable_key:hn,readerIsSearchCrawler:Je}):$n?(0,e.h)("p",{className:"main-loader"},"Post not found"):(0,e.h)(Z1,{pub:f}),Me)),tr&&Ln&&[Fn&&!ur&&(0,e.h)(wj,{commentsEnabled:lr,comments:Yn,post:yn,slug:t,user:mn,freeSignup:r,freeSignupEmail:i,publication:f,reaction_token:x,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Hn,selectionFromQuery:wt,onChange:Nr=>this.setState(Nr),bannedFromNotes:qn}),f.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(oe,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(mj,{user:mn,freeSignup:r,freeSignupEmail:i,pub:f,maxPosts:!Ar&&!Zn&&!(zn&&!f.plans)?3:10,filterPosts:Nr=>Nr.id!==yn.id,sort:q,search:ye,stateInUrl:!0,sortTabs:Nr=>{const Qn=Nr.findIndex(Or=>Or.id==="top");if(Qn!==-1)return[Nr[Qn]].concat(Nr.filter((Or,gr)=>gr!==Qn))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!Ar&&[(0,e.h)(oe,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(lj,{publication:f,user:mn,freeSignupEmail:i,freeSignup:r})]],mr?(0,e.h)(qF,{post:yn,autoSharedOnTwitter:et==="true",publicationTwitterScreenName:f.twitter_screen_name,publication:f,showAfter:xt!=null&&xt.length?(0,e.h)(sj,{pub:f,pubsToRecommend:xt}):null}):null,vn?(0,e.h)(gv.hF,{pub:f}):null))}}class wj extends e.Component{constructor(t,r){super(t,r),Xs(this,"modalRef",(0,e.createRef)(null)),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(Kf,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(Kf,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:r,post:i,user:f,freeSignup:x,freeSignupEmail:k,publication:W,reaction_token:B,onVisible:q,onChangeComment:ye,selectionFromQuery:Me,slug:Re,onChange:ze,bannedFromNotes:et},{comments:Je,reactionSigninComment:dt}){if(r)return(0,e.h)("div",null,(0,e.h)("div",{className:"full-container-border"}),(0,e.h)(Rf,{slug:Re,user:f,freeSignupEmail:k,freeSignup:x,post:i,publication:W,post_reaction_token:B,selectionFromQuery:Me,initialComments:Je,inline:!0,onChange:ze}));const Et=(wt,xt)=>Wc(this,null,function*(){return Cv({user:f,reactionToken:B,comments:Je,id:wt,reacted:xt,setComments:Bt=>this.setState({comments:Bt}),onNeedsSignin:Bt=>new Promise(kt=>this.setState({reactionSigninComment:Bt},()=>this.modalRef.current.open(kt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?(0,he.pluralize)(i.comment_count,"Comment"):"Comments"),(0,e.h)(oe,{onVisible:()=>q("Post Comments Footer")}),t&&(0,e.h)(Fl,{user:f,freeSignup:x,freeSignupEmail:k,pub:W,post:i,token:B,ref:this.inputRef,bannedFromNotes:et}),Je.length>0&&!t&&(0,e.h)(wv,{post:i}),Je&&Je.length>0&&W.community_enabled&&(0,e.h)(oc,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:f,freeSignup:x,freeSignupEmail:k,pub:W,post:i,comments:Je,reaction_token:B,onChange:ye,updateCommentReacted:Et,noRestack:!0}),t&&i.comment_count>(Je||[]).length&&(0,e.h)("a",{className:"more-comments",href:Bl(i,W)},(0,he.pluralize)(i.comment_count-(Je||[]).length,"more comment"),"\u2026"),dt&&(0,e.h)(vs.oq,{comment:dt,pub:W,user:f,react:()=>Et(dt.id,!0),modalRef:this.modalRef})))}}const Cj=({pub:n,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:dd()((0,fd.Rg)(n,t),{json:!0,isScriptContext:!0})}})};function Oj({pub:n,post:t}){const r=(0,vu.i3)();return(0,o.d4)(()=>{r.open({restackUrl:(0,v.getPostUrl)(n,t)})},[]),null}var Sj=Object.defineProperty,Tj=Object.defineProperties,Ij=Object.getOwnPropertyDescriptors,SP=Object.getOwnPropertySymbols,Dj=Object.prototype.hasOwnProperty,xj=Object.prototype.propertyIsEnumerable,TP=(n,t,r)=>t in n?Sj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Mj=(n,t)=>{for(var r in t||(t={}))Dj.call(t,r)&&TP(n,r,t[r]);if(SP)for(var r of SP(t))xj.call(t,r)&&TP(n,r,t[r]);return n},Aj=(n,t)=>Tj(n,Ij(t));const Nj=n=>(0,e.h)(N.l,Aj(Mj({},n),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"})),qs={root:"frontend-components-PressKitImage-module__root--ERwr7",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"},Rj=({pub:n,post:t,style:r,text:i})=>{const[f,x]=(0,o.eJ)("");(0,o.d4)(()=>{const W=(0,v.getPressKitUrl)(n,t,r);(0,b.preloadImage)((0,v.getPressKitUrl)(n,t,r),()=>{x(W)})},[x,n,t,r]);const k=(0,tt.useCallback)(()=>{(0,M.j)(M.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:t.id,type:i})},[t,i]);return(0,e.h)("a",{onClick:k,href:f,alt:"Download Image",download:!0,className:qs.link,target:"_blank"},(0,e.h)("div",{className:qs.root},(0,e.h)("div",{className:qs.download},(0,e.h)(Nj,{stroke:"#404040",fill:"white"})),!f&&(0,e.h)("div",{className:`${qs.image} ${qs.imageLoading}`,alt:"Loading"},(0,e.h)(Ba.Sv,null)),f&&(0,e.h)("img",{src:f,className:qs.image})))},RV=({pub:n,post:t,style:r,text:i,downloadUrl:f})=>h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:f||getPressKitUrl(n,t,r),alt:"Download Image",download:!0,target:"_blank",className:PressKitCss.link},h("img",{src:getPressKitUrl(n,t,r),className:PressKitCss.imageEmail})))),h("tr",null,h("td",null,h(EmailButton,{aClassName:"button download",alt:"Download Image",download:!0,target:"_blank",href:f||getPressKitUrl(n,t,r)},h("span",null,"Download"))))),Hc=Rj,Es={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",postTitle:"frontend-main-PressKitPage-module__postTitle--ftake",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH"},Lj=n=>{const t=n.themeVariables,r=t.web_bg_color||t.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url;return(0,o.d4)(()=>{(0,M.j)(M.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:Es.root},(0,e.h)(rt.xv.H2,{color:"pub-primary-text",className:Es.pageTitle},"Media Assets"),(0,e.h)(rt.xv.B3,{color:"pub-primary-text",className:Es.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(Ye.tu,{justifyContent:"center",className:Es.container},(0,e.h)("div",{className:Es.postTitle},(0,e.h)(rt.xv.H4,{color:"pub-primary-text"},n.post.title)),(0,e.h)("div",{className:Es.divider}),(0,e.h)(Ye.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(Hc,{pub:n.publication,post:n.post,style:{bgColor:r,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a"},text:"Background Color"}),t.background_pop&&(0,e.h)(Hc,{pub:n.publication,post:n.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop},text:"Accent Color"}),i&&(0,e.h)(Hc,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff"},text:"Image"}),r.toLowerCase()!=="#ffffff"?(0,e.h)(Hc,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040"},text:"Black and White"}):null)),(0,e.h)("div",{className:Es.textFooter},(0,e.h)(rt.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,v.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},IP=({sitemapHeader:n,sitemapDescription:t,sitemapLinks:r})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,b.setMetaData)({title:n,description:t}),(0,e.h)("h1",null,n),(0,e.h)("div",null,r.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),DP={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},el=St(6378),Bj=({})=>(0,e.h)("div",{className:DP.noPodcasts},"No podcasts."),gp=(n,t,r)=>{let i=n[t.id];return i||(i=(0,v.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),i},kj=({pub:n,user:t,idToMagicLink:r,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(rt.xv.B3,{paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:gp(r!=null?r:{},n,t),target:i?"_blank":void 0,rel:"noreferrer"},"Click here")," ","to set up your podcast app for everything in one feed."),Uj=({pub:n,user:t,idToMagicLink:r={},openInNewTab:i=!1,newFormatting:f=!1})=>{const x=[];el.isMultiPub(n)?el.getMultiPubChildPodcasts(n).forEach(ye=>{const Me=Nl(ye,gp(r,ye,t));x.push(Me)}):el.getSectionPodcasts(n)&&el.getSectionPodcasts(n).forEach(ye=>{var Me,Re;if(!o2({pub:n,section:ye}))return;const ze=(0,ls.getSectionPodcastSettings)({pub:n,section:ye});if(!ze.title)return;const et={logoUrl:(Me=ze.artUrl)!=null?Me:void 0,mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:ye,addBase:!0}),buttonClickUrl:r[ye.id]||(0,v.getPodcatcherSetupUrl)(n,{section:ye,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:ze.title,description:(Re=ze.description)!=null?Re:"",buttonText:"Set up podcast"};x.push(et)}),r2(n)&&x.push(Nl(n,gp(r,n,t)));const k=Object.keys(r).length>0||!!(t!=null&&t.is_free_subscribed);let W=x.length>1?"Podcast feeds":"Podcast feed";k&&(W=el.hasMultiplePodcasts(n)?"Private podcast feeds":"Private podcast feed");const B=(0,e.h)(Ye.tu,{radius:12,border:"detail",padding:16},el.hasPodcast(n)?(0,e.h)(e.Fragment,null,(0,e.h)(Zu,{showButton:!0,items:x,openInNewTab:i,buttonText:"Set up podcast"}),(0,e.h)(kj,{pub:n,user:t,idToMagicLink:r,openInNewTab:i})):(0,e.h)(Bj,null));return f?(0,e.h)(e.Fragment,null,(0,e.h)(rt.xv.H4,{paddingTop:20,paddingBottom:8},W),B):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(rt.xv.H3,{paddingTop:16,paddingBottom:16},W),B))},Fj=({pub:n,user:t,idToMagicLink:r,openInNewTab:i=!1})=>(0,e.h)("div",{className:d()("page","typography",DP.container)},(0,e.h)(Uj,{pub:n,user:t,idToMagicLink:r,openInNewTab:i}));function jj({slug:n,pub:t,user:r,freeSignup:i,freeSignupEmail:f,tagPagePreloads:x}){var k,W;const B=!!(t!=null&&t.theme),q=(0,io.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(x==null?void 0:x.slug)!==n,initialResult:(x==null?void 0:x.slug)===n?x.postTag:null,deps:[x,n]});return(0,e.h)(S.ze,{value:{hasThemedBackground:B}},(0,e.h)("div",{className:d()("archive-page typography",{"use-theme-bg":B})},(0,e.h)("div",{className:"container"},q.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((k=q.result)==null?void 0:k.name)||"Page not found"),(0,e.h)($s,{user:r,freeSignup:i,freeSignupEmail:f,pub:t,sort:"new",postTagId:(W=q.result)==null?void 0:W.id,newPosts:(x==null?void 0:x.slug)===n?x.posts:null,source:"tag-archive"})))))}var Wj=Object.defineProperty,Vc=Object.getOwnPropertySymbols,xP=Object.prototype.hasOwnProperty,MP=Object.prototype.propertyIsEnumerable,AP=(n,t,r)=>t in n?Wj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tl=(n,t)=>{for(var r in t||(t={}))xP.call(t,r)&&AP(n,r,t[r]);if(Vc)for(var r of Vc(t))MP.call(t,r)&&AP(n,r,t[r]);return n},Hj=(n,t)=>{var r={};for(var i in n)xP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Vc)for(var i of Vc(n))t.indexOf(i)<0&&MP.call(n,i)&&(r[i]=n[i]);return r};const Vj=1e3*60*60*24,NP="domain-redirect-time";class Kj extends e.Component{constructor(t,r){super(t,r),this.state=t.initialData||{}}componentDidUpdate(t,r){var i,f,x,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(tl({},this.props.initialData));const W=(f=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:f.web_bg_color,B=document.documentElement;B&&W&&((k=(x=r==null?void 0:r.pub)==null?void 0:x.theme)==null?void 0:k.web_bg_color)!==W&&(B.style.background=W)}componentDidMount(){var t,r,i,f;const x=(f=(i=(r=(t=this.props)==null?void 0:t.initialData)==null?void 0:r.pub)==null?void 0:i.theme)==null?void 0:f.web_bg_color,k=document.documentElement;k&&x&&(k.style.background=x);const W=this.loadedWithLikelyLoggedInParam()?"param":null;W&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:W}):this.useIframe()&&window.addEventListener("message",B=>this.handleFrameMessage(B))}shouldBlockLoginRedirect(){var t;const r=parseInt((0,Ti.mM)(NP,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-r<=Vj||(0,v.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(t){var r,i,f;if(((r=t.data)==null?void 0:r.type)!=="frame-state")return;const x=!this.shouldBlockLoginRedirect()&&((i=t.data)==null?void 0:i.loggedInAtSubstack);(0,M.j)(M.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(f=t.data)==null?void 0:f.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:x}),x&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,M.j)(M.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,Ti.ex)(NP,`${Date.now()}`),location.href=(0,b.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,v.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var t,r;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,v.urlIsRegularlyShownInIframe)((r=window==null?void 0:window.location)==null?void 0:r.href))}render({coupon:t},{pub:r,section:i,user:f,userProfile:x,freeSignup:k,freeSignupEmail:W,posts:B,post:q,truncatedPost:ye,pinnedPosts:Me,newPosts:Re,topPosts:ze,communityPosts:et,communityAction:Je,searchPosts:dt,postsByGroupId:Et,inlineComments:wt,latestChildPosts:xt,latestSectionPosts:Bt,subscribeContent:kt,homepageLinks:on,recommendations:pn,numRecommendations:En,allSubscribedPubs:vn,fullySubscribedPubs:hn,sitemapHeader:qn,sitemapDescription:Yn,sitemapLinks:$n,referralCode:yn,hide_intro_popup:mn,post_reaction_token:cr,stripe_publishable_key:Hn,viral_gift_data:Kn,campaign:Zn,referralCampaign:tr,file:lr,primaryEligiblePublications:Fn,flagged_as_spam:zn,switchAccountRedirectUrl:an,readerIsSearchCrawler:In,commentId:Yt,selectionFromQuery:ur,siteConfigs:Ln={},blurbs:Ar,noBalanceHeroText:mr,embeddedPublications:Nr,themeVariables:Qn,subdomainNotFound:Or,freeTrialCoupon:gr,signupForFreeVariant:Br,people:wo,useNewSubscribePage:Gr,idToMagicLink:ro,token:la,podcast_rss_url:oi,publicationSettings:Pa,pledgePlans:Ja,isChatActive:Ri,isMeetingsActive:Fr,optOutLegacyTheming:Uo,meetingsOrder:Aa,meetingsSettings:Na,appModalOpenByDefault:ua,twitterCardUrl:vp,tagPagePreloads:qr,initialComments:lo,bannedFromNotes:Ao,intro_text:qo,crossPostedPub:Jo,crossPostingByLine:ma,userWithCrossPostedPubContext:Ea,crossPostedPublicationSettings:Qa,crossPostedSiteConfig:nl}){var ta;const ca=g()(this.state.comments)?this.state.comments:[];if(Or)return(0,e.h)(hF,{subdomain:Or});if(zn&&!(f!=null&&f.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,b.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,v.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Kc=!!(r!=null&&r.theme&&!Uo),$c=(0,y.getCurrentUrl)().startsWith("/chat");return(0,e.h)($j,{pub:r,user:f,siteConfigs:Ln,hasThemedBackground:Kc,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Pa},(0,e.h)(yA,{publication:r,twitterCardUrl:vp}),(0,e.h)(zj,{user:f}),(0,e.h)(Gj,{user:f,pub:r}),(0,e.h)(Zj,null),(0,e.h)("div",{className:d()("main typography",{"use-theme-bg":Kc,"should-flex":$c}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,v.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(w.qE,{path:"/"},({path:go})=>{var zc,RP;let Gi="/home";/^\/about\b/.test(go)?Gi="/about":/^\/notes\b/.test(go)?Gi="/notes":/^\/leaderboard\b/.test(go)?Gi="/leaderboard":/^\/chat\b/.test(go)?Gi="/chat":/^\/podcast\b/.test(go)?Gi="/podcast":/^\/archive\b/.test(go)?Gi="/archive":/^\/newsletters\b/.test(go)?Gi="/newsletters":/^\/recommendations\b/.test(go)?Gi="/recommendations":/^\/listen\b/.test(go)?Gi="/listen":i?Gi=i.id:/^\/p\//.test(go)?Gi=((zc=/^\/p\/([^/?#]+)/.exec(go))==null?void 0:zc[0])||"/p":/^\/t\//.test(go)&&(Gi=((RP=/^\/t\/([^/?#]+)/.exec(go))==null?void 0:RP[0])||"/p");let au;typeof window!="undefined"&&window.location.search&&(au=(0,v.parseQuery)(window.location.search));const LP=/^\/p\/([^/?#]*)/.exec(go),BP=LP&&!((q==null?void 0:q.type)==="page"&&q.slug===LP[1]),kP=go.startsWith("/subscribe")||go.startsWith("/finish-invite")||go.startsWith("/meetings"),Yj=go.startsWith("/chat/posts/");return i?(0,e.h)(gu,{pub:r,user:f,freeSignup:k,freeSignupEmail:W,hide_subscribe_cta:go.startsWith("/subscribe"),selectedSectionId:Gi,isPostView:BP,showCustomerSupportModeModal:!!(au!=null&&au.showCustomerSupportModeModal),lowChrome:kP,numRecommendations:En,isChatActive:Ri,isMeetingsActive:Fr,signupForFreeVariant:Br}):!["welcome","embed","meetings"].some(Jj=>go.startsWith(`/${Jj}`))&&!(go.startsWith("/subscribe")&&(Gr||Ja))&&(0,e.h)(gu,{pub:r,user:f,freeSignup:k,freeSignupEmail:W,hide_subscribe_cta:go.startsWith("/subscribe"),isPostView:BP,selectedSectionId:Gi,showCustomerSupportModeModal:!!(au!=null&&au.showCustomerSupportModeModal),lowChrome:kP,numRecommendations:En,isChatActive:Ri,isMeetingsActive:Fr,signupForFreeVariant:Br,hideSections:Yj})}),(0,e.h)(ss.g1,{pub:r,user:f}),(0,e.h)(y.Router,{onChange:K2},["newspaper","magaziney"].includes(r.homepage_type)?(0,e.h)(qk,{path:"/",blurbs:Ar,bodyPostGroups:(ta=r.theme)==null?void 0:ta.body_post_groups,postsByGroupId:Et,freeSignup:k,freeSignupEmail:W,hide_intro_popup:mn,homepageLinks:on,latestChildPosts:xt,latestSectionPosts:Bt,newPosts:Re,noBalanceHeroText:mr,numRecommendations:En,pinnedPosts:Me,pub:r,recommendations:pn,referralCampaign:tr,referralCode:yn,topPosts:ze,user:f}):(0,e.h)(qL,{path:"/",user:f,freeSignupEmail:W,freeSignup:k,hide_intro_popup:mn,preloadedPosts:B,pub:r,blurbs:Ar,noBalanceHeroText:mr}),(0,e.h)(cp,{path:"/listen/:sectionSlug",blurbs:Ar,user:f,freeSignupEmail:W,freeSignup:k,hide_intro_popup:mn,pub:r,pinnedPosts:Me,newPosts:Re,latestChildPosts:xt,latestSectionPosts:Bt,section:r.section,referralCampaign:tr,isPodcast:!0}),(0,e.h)(cp,{path:"/podcast",blurbs:Ar,user:f,freeSignupEmail:W,freeSignup:k,hide_intro_popup:mn,pub:r,pinnedPosts:Me,newPosts:Re,latestChildPosts:xt,latestSectionPosts:Bt,recommendations:pn,numRecommendations:En,referralCampaign:tr,isPodcast:!0,includePinnedPosts:!0}),(0,e.h)(Ql,{path:"/podcast/archive",blurbs:Ar,user:f,newPosts:Re,topPosts:ze,communityPosts:et,searchPosts:dt,pub:r,freeSignupEmail:W,freeSignup:k,isPodcast:!0,metadata:tl({title:`Podcast Archive - ${r.name}`,description:`Full archive of all the episodes from ${r.name}.`},!!(dt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(cp,{path:"/s/:slug",blurbs:Ar,user:f,freeSignupEmail:W,freeSignup:k,hide_intro_popup:mn,pub:r,pinnedPosts:Me,newPosts:Re,latestChildPosts:xt,latestSectionPosts:Bt,section:r.section,referralCampaign:tr}),(0,e.h)(Ql,{path:"/archive",user:f,newPosts:Re,topPosts:ze,communityPosts:et,searchPosts:dt,pub:r,freeSignupEmail:W,freeSignup:k,metadata:tl({title:`Archive - ${r.name}`,description:`Full archive of all the posts from ${r.name}.`},!!(dt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Ql,{path:"/s/:slug/archive",user:f,newPosts:Re,topPosts:ze,communityPosts:et,searchPosts:dt,pub:r,freeSignupEmail:W,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:tl({title:`Archive - ${i==null?void 0:i.name} of ${r.name}`,description:`Full archive of all the posts from ${i==null?void 0:i.name} of ${r.name}.`},!!(dt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Ql,{path:"/listen/:sectionSlug/archive/",user:f,newPosts:Re,topPosts:ze,communityPosts:et,searchPosts:dt,pub:r,freeSignupEmail:W,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:tl({title:`Podcast Archive - ${(0,ls.getSectionPodcastSettings)({pub:r,section:r.section}).title}`,description:`Full archive of all the episodes from ${(0,ls.getSectionPodcastSettings)({pub:r,section:r.section}).title}.`},!!(dt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(jj,{path:"/t/:slug",user:f,freeSignupEmail:W,freeSignup:k,pub:r,tagPagePreloads:qr}),(0,e.h)(Ql,{default:!0,title:"Page not found",user:f,newPosts:Re,topPosts:ze,communityPosts:et,searchPosts:dt,pub:r,freeSignupEmail:W,freeSignup:k}),(0,e.h)(pe,{path:"/tos",html:r.tos_content_html||"Terms of Service",metadata:{title:"Terms of Service"}},(0,e.h)("p",null,"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(pe,{path:"/privacy",html:r.privacy_content_html||"Privacy Policy",metadata:{title:"Privacy Policy"}},(0,e.h)("p",null,"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,v.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(pe,{path:"/disclosures",html:r.disclosures_content_html||"Disclosures",metadata:{title:"Disclosures"}}),(0,e.h)(ot,{path:"/welcome",publication:r,post:null,user:f,freeSignup:k,freeSignupEmail:W,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(ot,{path:"/podcast",publication:r,post:null,referralCode:yn,user:f,freeSignup:k,freeSignupEmail:W,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(mU,{pub:r,path:"/invite",user:f,freeSignup:k,freeSignupEmail:W}),(0,e.h)(gU,{path:"/invite-success/:id",pub:r,user:f,post:q,freeSignup:k,freeSignupEmail:W}),(0,e.h)(_U,{path:"/invite-reject-success/:id",pub:r,user:f,post:q}),(0,e.h)(ep,{path:"/finish-invite/:id",pub:r,user:f,freeSignup:k,freeSignupEmail:W}),(0,e.h)(ep,{path:"/finish-post-invite/:id",pub:r,post:q,user:f,freeSignup:k,freeSignupEmail:W,inviteToPost:!0,primaryEligiblePublications:Fn||[],switchAccountRedirectUrl:an}),(0,e.h)(VB,{path:"/recommendations",pub:r,user:f,recommendations:pn,allSubscribedPubs:vn,fullySubscribedPubs:hn}),(0,e.h)(IP,{path:"/sitemap",pub:r,sitemapHeader:qn,sitemapDescription:Yn,sitemapLinks:$n}),(0,e.h)(IP,{path:"/sitemap/:year",pub:r,sitemapHeader:qn,sitemapDescription:Yn,sitemapLinks:$n}),(0,e.h)(lx,{path:"/about",pub:r,user:f,freeSignup:k,freeSignupEmail:W,subscribeContent:kt,people:wo,metadata:{title:`About - ${r.name}`}}),(0,e.h)(OP,{path:"/p/:slug",user:f,freeSignupEmail:W,freeSignup:k,referralCode:yn,post:q,truncatedPost:ye,publication:r,renderedComments:ca,inlineComments:wt,reaction_token:cr,hide_intro_popup:mn,stripe_publishable_key:Hn,readerIsSearchCrawler:In,selectionFromQuery:ur,embeddedPublications:Nr,siteConfigs:Ln,freeTrialCoupon:gr,publicationSettings:Pa,bannedFromNotes:Ao}),(0,e.h)(n7,{path:"/cp/:post_id",user:f,freeSignupEmail:W,freeSignup:k,post:q,publication:r,introText:qo,crossPostedPub:Jo,crossPostingByLine:ma,userWithCrossPostedPubContext:Ea,crossPostedPublicationSettings:Qa,crossPostedSiteConfig:nl}),(0,e.h)(Fj,{path:"/listen",pub:r,user:f||null,openInNewTab:!0,idToMagicLink:ro}),(0,e.h)(S2,{path:"/newsletters",pub:r,user:f!=null?f:null}),(0,e.h)(Lj,{path:"/p/:slug/media-assets",post:q,publication:r,themeVariables:Qn}),wt?(0,e.h)(OP,{path:"/p/:slug/comments",user:f,freeSignupEmail:W,freeSignup:k,referralCode:yn,post:q,truncatedPost:ye,publication:r,renderedComments:ca,inlineComments:wt,reaction_token:cr,hide_intro_popup:mn,stripe_publishable_key:Hn,readerIsSearchCrawler:In,selectionFromQuery:ur,siteConfigs:Ln,freeTrialCoupon:gr,bannedFromNotes:Ao}):(0,e.h)(Rf,{path:"/p/:slug/comments",user:f,freeSignupEmail:W,freeSignup:k,post:q,publication:r,post_reaction_token:cr,commentId:Yt,freeTrialCoupon:gr,initialComments:lo,bannedFromNotes:Ao}),!wt&&(0,e.h)(Rf,{path:"/p/:slug/comment/:comment_id",user:f,freeSignupEmail:W,freeSignup:k,post:q,publication:r,post_reaction_token:cr,commentId:Yt,freeTrialCoupon:gr,initialComments:lo,bannedFromNotes:Ao}),(0,e.h)(j7,{path:"/rewards/receive",pub:r,user:f,freeSignupEmail:W,viral_gift_data:Kn}),(0,e.h)(r7,{path:"/embed",pub:r,user:f,freeSignup:k,freeSignupEmail:W}),(0,e.h)(a7,{path:"/embed/test",pub:r,user:f,freeSignup:k,freeSignupEmail:W}),(0,e.h)(i7,{path:"/embed/podcast/:slug",pub:r}),(0,e.h)(l7,{path:"/embed/video/:slug",pub:r}),(0,e.h)(L7,{path:"/f/:fileId",pub:r,user:f,hide_subscribe_cta:!0,file:lr}),Ln.live_events&&(0,e.h)(sl.cr,{module:"../live_events",onRequest:()=>Promise.all([St.e(968),St.e(829)]).then(St.bind(St,20829)),resolve:go=>go.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:r,user:f}),(0,e.h)(ZO,{path:"/chat",publication:r,user:f}),(0,e.h)(YO,{path:"/chat/posts/:postId",publication:r,communityAction:Je,user:f,appModalOpenByDefault:ua}),Ln.meetings_v1&&(Fr||(f==null?void 0:f.is_author))&&(0,e.h)(NU,{path:"/meetings",exact:!0,pub:r,user:f,settings:Na}),Ln.meetings_v1&&(Fr||(f==null?void 0:f.is_author))&&(0,e.h)(eP,{path:"/meetings/book",pub:r,user:f,stripe_publishable_key:Hn,order:Aa,settings:Na}),Ln.meetings_v1&&(Aa||Fr||(f==null?void 0:f.is_author))&&(0,e.h)(eP,{path:"/meetings/book/:order_id?",pub:r,user:f,stripe_publishable_key:Hn,order:Aa,settings:Na}),Ln.subscriber_referrals_enabled&&(0,e.h)(xU,{pub:r,user:f,path:"/leaderboard"}),(0,e.h)(D2,{path:"/notes"})),(0,e.h)(w.qE,{path:"/"},({path:go})=>!go.startsWith("/welcome")&&!go.startsWith("/embed")&&!go.startsWith("/subscribe")&&!go.startsWith("/meetings")&&!go.startsWith("/chat")&&(0,e.h)(ce,{publication:r,user:f,showIntrinioAttrib:q&&q.hasCashtag,path:go})),(0,e.h)(l,{pub:r,user:f})))}}function $j(n){var t=n,{pub:r}=t,i=Hj(t,["pub"]);return(0,e.h)(ud.G.Provider,{value:r},(0,e.h)(I2,tl({},i)))}function zj({user:n}){const t=(0,lh.S)({user:n});return(0,o.d4)(()=>{const r=new URLSearchParams(location.search);if(r.get("reaction")==="\u2764"){t(),r.delete("reaction");const i=r.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function Gj({user:n,pub:t}){return W2({user:n,pub:t}),null}function Zj(){return U2(),null}(0,z.Z)(Kj)})()})()});tW();})();

//# sourceMappingURL=main.3e79a3dcaf8d683c99ce.bundle.js.map